/**
 *
 * Backbone.DeepModel v0.10.4
 *
 * Copyright (c) 2013 Charles Davison, Pow Media Ltd
 *
 * https://github.com/powmedia/backbone-deep-model
 * Licensed under the MIT License
 */

/*
 * Copyright (C) 2011 by Yehuda Katz
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */

// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>

/** @license
 * RequireJS plugin for async dependency load like JSONP and Google Maps
 * Author: Miller Medeiros
 * Version: 0.1.2 (2014/02/24)
 * Released under the MIT license
 */

/**
     * JavaScript libary by github.com/iamcal/js-emoji and adapted for plug.dj | The MIT License (MIT)
     * Emoji data pulled from github.com/iamcal/emoji-data and adapted for plug.dj.
     * Apple Emoji: Copyright � Apple Inc. - OS X 10.10.3
     */

/* Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */

/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */

/**
 * Owl Carousel v2.2.1
 * Copyright 2013-2017 David Deutsch
 * Licensed under MIT (https://github.com/OwlCarousel2/OwlCarousel2/blob/master/LICENSE)
 */

/**
 * Owl carousel
 * @version 2.1.6
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 * @todo Lazy Load Icon
 * @todo prevent animationend bubling
 * @todo itemsScaleUp
 * @todo Test Zepto
 * @todo stagePadding calculate wrong active classes
 *
 * Owl carousel 4 custom changes list:
 * 1. Fixed the last item space to the right when set autoWith with true;
 * 2. Fixed the pagination nav could not scroll to next page when set autoWidth with true and slideBy with 'page';
 * 3. Fixed with the case of iterator(this._items.length) == 0;
 * 4. Fixed items scrolled left even when items width small than container width;
 * 5. Add owlOnClick function(file bottom): fix drag end trigger click on item;
 */

/**
 * AutoRefresh Plugin
 * @version 2.1.0
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/**
 * Lazy Plugin
 * @version 2.1.0
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/**
 * AutoHeight Plugin
 * @version 2.1.0
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/**
 * Video Plugin
 * @version 2.1.0
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/**
 * Animate Plugin
 * @version 2.1.0
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/**
 * Autoplay Plugin
 * @version 2.1.0
 * @author Bartosz Wojciechowski
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/**
 * Navigation Plugin
 * @version 2.1.0
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/**
 * Hash Plugin
 * @version 2.1.0
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/**
 * Support Plugin
 *
 * @version 2.1.0
 * @author Vivid Planet Software GmbH
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */

/*!
 * Cropper.js v1.4.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-07-15T09:55:31.170Z
 */

/*! remarkable 1.7.1 https://github.com/jonschlinkert/remarkable @license MIT */

/*!
 * Autolinker.js
 * 0.15.3
 *
 * Copyright(c) 2015 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 *
 * https://github.com/gregjacobs/Autolinker.js
 */

/*!
 * perfect-scrollbar v1.4.0
 * (c) 2018 Hyunje Jun
 * @license MIT
 */

/*! Copyright (c) 2018 plug.dj (Plug Technologies, Inc.)
 *
 * Requires: jQuery 2.1.1+
 */

/*!
 * jScrollPane - v2.0.19 - 2013-11-16
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2013 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */

// Script: jScrollPane - cross browser customisable scrollbars
//
// *Version: 2.0.19, Last updated: 2013-11-16*
//
// Project Home - http://jscrollpane.kelvinluck.com/
// GitHub       - http://github.com/vitch/jScrollPane
// Source       - http://github.com/vitch/jScrollPane/raw/master/script/jquery.jscrollpane.js
// (Minified)   - http://github.com/vitch/jScrollPane/raw/master/script/jquery.jscrollpane.min.js
//
// About: License
//
// Copyright (c) 2013 Kelvin Luck
// Dual licensed under the MIT or GPL Version 2 licenses.
// http://jscrollpane.kelvinluck.com/MIT-LICENSE.txt
// http://jscrollpane.kelvinluck.com/GPL-LICENSE.txt
//
// About: Examples
//
// All examples and demos are available through the jScrollPane example site at:
// http://jscrollpane.kelvinluck.com/
//
// About: Support and Testing
//
// This plugin is tested on the browsers below and has been found to work reliably on them. If you run
// into a problem on one of the supported browsers then please visit the support section on the jScrollPane
// website (http://jscrollpane.kelvinluck.com/) for more information on getting support. You are also
// welcome to fork the project on GitHub if you can contribute a fix for a given issue.
//
// jQuery Versions - tested in 1.4.2+ - reported to work in 1.3.x
// Browsers Tested - Firefox 3.6.8, Safari 5, Opera 10.6, Chrome 5.0, IE 6, 7, 8
//
// About: Release History
//
// 2.0.19 - (2013-11-16) Changes for more reliable scroll amount with latest mousewheel plugin (thanks @brandonaaron)
// 2.0.18 - (2013-10-23) Fix for issue with gutters and scrollToElement (thanks @Dubiy)
// 2.0.17 - (2013-08-17) Working correctly when box-sizing is set to border-box (thanks @pieht)
// 2.0.16 - (2013-07-30) Resetting left position when scroll is removed. Fixes #189
// 2.0.15 - (2013-07-29) Fixed issue with scrollToElement where the destX and destY are undefined.
// 2.0.14 - (2013-05-01) Updated to most recent mouse wheel plugin (see #106) and related changes for sensible scroll speed
// 2.0.13 - (2013-05-01) Switched to semver compatible version name
// 2.0.0beta12 - (2012-09-27) fix for jQuery 1.8+
// 2.0.0beta11 - (2012-05-14)
// 2.0.0beta10 - (2011-04-17) cleaner required size calculation, improved keyboard support, stickToBottom/Left, other small fixes
// 2.0.0beta9 - (2011-01-31) new API methods, bug fixes and correct keyboard support for FF/OSX
// 2.0.0beta8 - (2011-01-29) touchscreen support, improved keyboard support
// 2.0.0beta7 - (2011-01-23) scroll speed consistent (thanks Aivo Paas)
// 2.0.0beta6 - (2010-12-07) scrollToElement horizontal support
// 2.0.0beta5 - (2010-10-18) jQuery 1.4.3 support, various bug fixes
// 2.0.0beta4 - (2010-09-17) clickOnTrack support, bug fixes
// 2.0.0beta3 - (2010-08-27) Horizontal mousewheel, mwheelIntent, keyboard support, bug fixes
// 2.0.0beta2 - (2010-08-21) Bug fixes
// 2.0.0beta1 - (2010-08-17) Rewrite to follow modern best practices and enable horizontal scrolling, initially hidden
//							 elements and dynamically sized elements.
// 1.x - (2006-12-31 - 2010-07-31) Initial version, hosted at googlecode, deprecated

/*!
 * Copyright (C) 2016 by Plug DJ, Inc.
 */

function owlOnClick(e, t, i) {
     function s(e) {
         $(e.target).on("mouseup touchend", n).on("mousemove touchmove", n)
     }
     function n(e) {
         ("mouseup" === e.type && e.which <= 1 || "touchend" === e.type) && i(e),
         $(e.target).off("mouseup touchend", n).off("mousemove touchmove", n)
     }
     e.on("mousedown touchstart", t, s)
 }
 define("backboneSuper", ["backbone"], function(e) {
     e.Model.extend = e.Collection.extend = e.Router.extend = e.View.extend = function(e, t) {
         var s = i(this, e, t);
         return s.extend = this.extend,
         s
     }
     ;
     var t = function() {}
       , i = function(e, i, s) {
         var n, a = e.prototype, o = /xyz/.test(function() {
             xyz
         }) ? /\b_super\b/ : /.*/;
         if (n = i && i.hasOwnProperty("constructor") ? i.constructor : function() {
             e.apply(this, arguments)
         }
         ,
         _.extend(n, e),
         t.prototype = e.prototype,
         n.prototype = new t,
         i) {
             _.extend(n.prototype, i);
             for (var r in i)
                 "function" == typeof i[r] && "function" == typeof a[r] && o.test(i[r]) && (n.prototype[r] = function(e, t) {
                     return function() {
                         var i = this._super;
                         this._super = a[e];
                         var s = t.apply(this, arguments);
                         return this._super = i,
                         s
                     }
                 }(r, i[r]))
         }
         return s && _.extend(n, s),
         n.prototype.constructor = n,
         n.__super__ = e.prototype,
         n
     };
     e.View = function(e) {
         return e.extend({
             destroy: function() {
                 this.$el && (this.$el.empty(),
                 this.$el.off()),
                 this.off(),
                 this.remove(),
                 this.$el = void 0,
                 this.el = void 0,
                 delete this.$el,
                 delete this.el
             }
         })
     }(e.View),
     e.View = function(e) {
         return e.extend({
             constructor: function(t) {
                 this.options = t || {},
                 e.apply(this, arguments)
             }
         })
     }(e.View)
 }),
 define("f1e1d/e718c/b5ee0", [], function() {
     var e = !1
       , t = /xyz/.test(function() {
         xyz
     }) ? /\b_super\b/ : /.*/
       , i = function() {};
     return i.extend = function(i) {
         function s() {
             !e && this.init && this.init.apply(this, arguments)
         }
         var n = this.prototype;
         e = !0;
         var a = new this;
         e = !1;
         for (var o in i)
             a[o] = "function" == typeof i[o] && "function" == typeof n[o] && t.test(i[o]) ? function(e, t) {
                 return function() {
                     var i = this._super;
                     this._super = n[e];
                     var s = t.apply(this, arguments);
                     return this._super = i,
                     s
                 }
             }(o, i[o]) : i[o];
         return s.prototype = a,
         s.prototype.constructor = s,
         s.extend = arguments.callee,
         s
     }
     ,
     i
 }),
 function() {
     var e, t, i, s, n, a, o = [].slice;
     i = function(e) {
         var t, s;
         return !_.isObject(e) || _.isFunction(e) ? e : e instanceof Backbone.Collection || e instanceof Backbone.Model ? e : _.isDate(e) ? new Date(e.getTime()) : _.isRegExp(e) ? new RegExp(e.source,e.toString().replace(/.*\//, "")) : (s = _.isArray(e || _.isArguments(e)),
         t = function(e, t, n) {
             return s ? e.push(i(t)) : e[n] = i(t),
             e
         }
         ,
         _.reduce(e, t, s ? [] : {}))
     }
     ,
     a = function(e) {
         return null != e && ((e.prototype === {}.prototype || e.prototype === Object.prototype) && _.isObject(e) && !_.isArray(e) && !_.isFunction(e) && !_.isDate(e) && !_.isRegExp(e) && !_.isArguments(e))
     }
     ,
     t = function(e) {
         return _.filter(_.keys(e), function(t) {
             return a(e[t])
         })
     }
     ,
     e = function(e) {
         return _.filter(_.keys(e), function(t) {
             return _.isArray(e[t])
         })
     }
     ,
     n = function(i, s, a) {
         var o, r, l, h, c, p, d, u, f, m;
         if (null == a && (a = 20),
         a <= 0)
             return console.warn("_.deepExtend(): Maximum depth of recursion hit."),
             _.extend(i, s);
         for (p = _.intersection(t(i), t(s)),
         r = function(e) {
             return s[e] = n(i[e], s[e], a - 1)
         }
         ,
         d = 0,
         f = p.length; d < f; d++)
             c = p[d],
             r(c);
         for (h = _.intersection(e(i), e(s)),
         o = function(e) {
             return s[e] = _.union(i[e], s[e])
         }
         ,
         u = 0,
         m = h.length; u < m; u++)
             l = h[u],
             o(l);
         return _.extend(i, s)
     }
     ,
     s = function() {
         var e, t, s, a;
         if (s = 2 <= arguments.length ? o.call(arguments, 0, a = arguments.length - 1) : (a = 0,
         []),
         t = arguments[a++],
         _.isNumber(t) || (s.push(t),
         t = 20),
         s.length <= 1)
             return s[0];
         if (t <= 0)
             return _.extend.apply(this, s);
         for (e = s.shift(); s.length > 0; )
             e = n(e, i(s.shift()), t);
         return e
     }
     ,
     _.mixin({
         deepClone: i,
         isBasicObject: a,
         basicObjects: t,
         arrays: e,
         deepExtend: s
     })
 }
 .call(this),
 function(e) {
     "function" == typeof define && define.amd ? define("backboneDeepModel", ["underscore", "backbone"], e) : e(_, Backbone)
 }(function(e, t) {
     function i(t) {
         var s = {}
           , n = o.keyPathSeparator;
         for (var a in t) {
             var r = t[a];
             if (r && r.constructor === Object && !e.isEmpty(r)) {
                 var l = i(r);
                 for (var h in l) {
                     var c = l[h];
                     s[a + n + h] = c
                 }
             } else
                 s[a] = r
         }
         return s
     }
     function s(t, i, s) {
         for (var n = o.keyPathSeparator, a = i.split(n), r = t, l = 0, h = a.length; l < h; l++) {
             if (s && !e.has(r, a[l]))
                 return !1;
             if (r = r[a[l]],
             null == r && l < h - 1 && (r = {}),
             "undefined" == typeof r)
                 return !!s || r
         }
         return !!s || r
     }
     function n(t, i, s, n) {
         n = n || {};
         for (var a = o.keyPathSeparator, r = i.split(a), l = t, h = 0, c = r.length; h < c && void 0 !== l; h++) {
             var p = r[h];
             h === c - 1 ? n.unset ? delete l[p] : l[p] = s : ("undefined" != typeof l[p] && e.isObject(l[p]) || (l[p] = {}),
             l = l[p])
         }
     }
     function a(e, t) {
         n(e, t, null, {
             unset: !0
         })
     }
     var o = t.Model.extend({
         constructor: function(t, i) {
             var s, n = t || {};
             this.cid = e.uniqueId("c"),
             this.attributes = {},
             i && i.collection && (this.collection = i.collection),
             i && i.parse && (n = this.parse(n, i) || {}),
             (s = e.result(this, "defaults")) && (n = e.deepExtend({}, s, n)),
             this.set(n, i),
             this.changed = {},
             this.initialize.apply(this, arguments)
         },
         toJSON: function(t) {
             return e.deepClone(this.attributes)
         },
         get: function(e) {
             return s(this.attributes, e)
         },
         set: function(t, r, l) {
             var h, c, p, d, u, f, m, g;
             if (null == t)
                 return this;
             if ("object" == typeof t ? (c = t,
             l = r || {}) : (c = {})[t] = r,
             l || (l = {}),
             !this._validate(c, l))
                 return !1;
             p = l.unset,
             u = l.silent,
             d = [],
             f = this._changing,
             this._changing = !0,
             f || (this._previousAttributes = e.deepClone(this.attributes),
             this.changed = {}),
             g = this.attributes,
             m = this._previousAttributes,
             this.idAttribute in c && (this.id = c[this.idAttribute]),
             c = i(c);
             for (h in c)
                 r = c[h],
                 e.isEqual(s(g, h), r) || d.push(h),
                 e.isEqual(s(m, h), r) ? a(this.changed, h) : n(this.changed, h, r),
                 p ? a(g, h) : n(g, h, r);
             if (!u) {
                 d.length && (this._pending = !0);
                 for (var v = o.keyPathSeparator, b = 0, w = d.length; b < w; b++) {
                     var t = d[b];
                     this.trigger("change:" + t, this, s(g, t), l);
                     for (var y = t.split(v), C = y.length - 1; C > 0; C--) {
                         var k = e.first(y, C).join(v)
                           , _ = k + v + "*";
                         this.trigger("change:" + _, this, s(g, k), l)
                     }
                 }
             }
             if (f)
                 return this;
             if (!u)
                 for (; this._pending; )
                     this._pending = !1,
                     this.trigger("change", this, l);
             return this._pending = !1,
             this._changing = !1,
             this
         },
         clear: function(t) {
             var s = {}
               , n = i(this.attributes);
             for (var a in n)
                 s[a] = void 0;
             return this.set(s, e.extend({}, t, {
                 unset: !0
             }))
         },
         hasChanged: function(t) {
             return null == t ? !e.isEmpty(this.changed) : void 0 !== s(this.changed, t)
         },
         changedAttributes: function(t) {
             if (!t)
                 return !!this.hasChanged() && i(this.changed);
             var s = this._changing ? this._previousAttributes : this.attributes;
             t = i(t),
             s = i(s);
             var n, a = !1;
             for (var o in t)
                 e.isEqual(s[o], n = t[o]) || ((a || (a = {}))[o] = n);
             return a
         },
         previous: function(e) {
             return null != e && this._previousAttributes ? s(this._previousAttributes, e) : null
         },
         previousAttributes: function() {
             return e.deepClone(this._previousAttributes)
         }
     });
     return o.keyPathSeparator = ".",
     t.DeepModel = o,
     "undefined" != typeof module && (module.exports = o),
     t
 }),
 define("f1e1d/d8478/e70c0", ["underscore", "backbone", "backboneDeepModel"], function(e, t) {
     var i = t.DeepModel.extend({
         defaults: {
             id: 0,
             slug: void 0,
             name: void 0,
             description: "",
             short_description: "",
             long_description: "",
             hostID: 0,
             hostName: void 0,
             welcome: "",
             favorite: !1,
             population: 0,
             guests: 0,
             custom: void 0,
             staffAvatar: void 0,
             joined: !1,
             joinTime: void 0,
             minChatLevel: void 0,
             background: void 0,
             fx: [],
             genres: [],
             subgenres: [],
             language: void 0,
             links: [],
             profile_picture_in_search: !1,
             thumbnail: null,
             banner: null,
             short_description: "",
             long_description: ""
         },
         getProfileUrl: function() {
             var e = this.get("thumbnail");
             return [null, void 0, "", "default"].indexOf(e) !== -1 ? null : e
         },
         getEmptyProfileUrl: function() {
             return "https://cdn-prod.plug.dj/_/static/images/community/upload/placeholder-community-image.b96e02032326b022bd4962cbf7a5837fe70271ce.png"
         },
         getBackgroundUrl: function() {
             var e = this.get("banner");
             return [null, void 0, "", "default"].indexOf(e) !== -1 ? null : e
         },
         getEmptyBackgroundUrl: function() {
             return "https://cdn-prod.plug.dj/_/static/images/community/upload/placeholder-community-background.0e94ea37dba40e784a3b4b86eec173bfea1b0c90.png"
         }
     });
     return new i
 }),
 define("lang/Lang", [], function() {
     var e = window.Lang;
     return window.Lang = void 0,
     delete window.Lang,
     e
 }),
 define("f1e1d/d8478/edecb", ["underscore", "backbone", "f1e1d/d8478/e70c0", "lang/Lang"], function(e, t, i, s) {
     var n = t.Model.extend({
         defaults: {
             id: 0,
             username: "",
             avatarID: "",
             language: "en",
             joined: void 0,
             level: 1,
             role: 0,
             gRole: 0,
             status: 1,
             badge: void 0,
             vote: 0,
             grab: !1,
             priority: 0,
             uIndex: void 0,
             guest: !0,
             _position: {
                 c: 0,
                 r: 0
             }
         },
         initialize: function() {
             this.on("change:avatarID change:role", this.checkStaffAvatar, this)
         },
         hasPermission: function(e, t) {
             return t ? this.get("gRole") >= e : this.get("role") >= e || this.get("gRole") >= e
         },
         checkStaffAvatar: function() {
             i.get("staffAvatar") && this.get("role") > 0 ? this.get("avatarID") !== i.get("staffAvatar") && 0 === this.get("avatarID").indexOf("base") && this.set("oldAvatarID", this.get("avatarID"), {
                 silent: !0
             }).set("avatarID", i.get("staffAvatar")) : this.get("oldAvatarID") && this.set("avatarID", this.get("oldAvatarID")).set("oldAvatarID", void 0, {
                 silent: !0
             })
         },
         canEditRoom: function() {
             return this.get("role") >= n.MANAGER || this.get("gRole") >= n.SITEMOD
         },
         getRoleClass: function() {
             var e = this.get("role")
               , t = "";
             return e === n.HOST ? t = "host" : e === n.COHOST ? t = "cohost" : e === n.MANAGER ? t = "manager" : e === n.BOUNCER ? t = "bouncer" : e === n.DJ && (t = "dj"),
             t
         },
         getGlobalRoleClass: function() {
             var e = this.get("gRole")
               , t = "";
             return e === n.ADMIN ? t = "admin" : e === n.AMBASSADOR ? t = "ambassador" : e === n.SITEMOD ? t = "sitemod" : e === n.PLOT ? t = "plot" : e === n.PROMOTER && (t = "promoter"),
             t
         }
     });
     return n.HOST = 5e3,
     n.COHOST = 4e3,
     n.MANAGER = 3e3,
     n.BOUNCER = 2e3,
     n.DJ = 1e3,
     n.ADMIN = n.HOST,
     n.AMBASSADOR = n.MANAGER,
     n.SITEMOD = 2500,
     n.PLOT = 750,
     n.PROMOTER = 500,
     n.NONE = 0,
     n.STATUSES = [s.userStatus.offline, s.userStatus.online],
     n
 }),
 define("f1e1d/d8478/b885e", ["f1e1d/d8478/edecb"], function(e) {
     var t = e.extend({
         canModChat: function(t) {
             return this.get("gRole") === e.HOST || !(t.get("gRole") > e.MANAGER) && (this.get("role") > e.DJ || this.get("gRole") > e.DJ)
         },
         canModMute: function(t) {
             return !(t.get("role") > e.DJ || t.get("gRole") > e.DJ)
         },
         canModBan: function(t) {
             return !(t.get("gRole") > e.BOUNCER) && (!(this.get("gRole") > e.BOUNCER && this.get("gRole") < e.HOST && (t.get("gRole") > e.BOUNCER || t.get("role") > e.BOUNCER)) && (this.get("gRole") > e.BOUNCER || this.get("role") > t.get("role")))
         },
         canModStaff: function(t) {
             return this.get("gRole") === e.HOST || t.get("gRole") !== e.HOST && (!(this.get("gRole") === e.SITEMOD && this.get("role") < e.BOUNCER) && Math.max(this.get("role"), this.get("gRole")) > Math.max(t.get("role"), t.get("gRole")))
         },
         checkFirstTime: function() {
             var e = localStorage.getItem("firstTime");
             null === e || void 0 === e ? this.setFirstTime("true") : e !== !0 && "true" !== e || this.setFirstTime("false")
         },
         isFirstTime: function() {
             var e = localStorage.getItem("firstTime");
             return null === e || void 0 === e || e === !0 || "true" === e
         },
         isGuestFirstTime: function() {
             return this.isGuest() && this.isFirstTime()
         },
         setFirstTime: function(e) {
             return localStorage.setItem("firstTime", e.toString())
         },
         getCurrentExp: function() {
             return this.get("gRole") !== e.HOST ? this.get("xp") - this._x[this.get("level") - 1] : "∞"
         },
         getNextExp: function() {
             return this.get("gRole") !== e.HOST ? this._x[this.get("level")] - (this.get("level") > 1 ? this._x[this.get("level") - 1] : 0) : "∞"
         },
         getExperienceProgress: function() {
             var t = this.getCurrentExp()
               , i = this.getNextExp();
             return this.get("gRole") !== e.HOST ? t > 0 ? ~~(100 * Math.max(.01, t / i)) : 0 : 100
         },
         isGuest: function() {
             return this.get("guest") === !0
         },
         hasSubscription: function() {
             return this.get("sub") > 0 || this.get("silver")
         },
         getAviClass: function() {
             return this.aviClass(this.get("avatarID"))
         },
         aviClass: function(e) {
             return e.indexOf("-s") > -1 ? e += " s" : e.indexOf("-t") > -1 ? e += " t" : e.indexOf("-e") > -1 && (e += " e"),
             e
         },
         _l: ["ep", "ep", "community", "avatar", "profile", "avatar", "ep", "avatar", "ep", "avatar", "ep", "avatar", "ep", "avatar", "ep", "ep", "ep", "ep", "ep", "ep", "ep", "ep", "ep"],
         _x: [0, 12, 45, 180, 1350, 3e3, 8400, 12500, 18900, 26150, 34875, 44e3, 55500, 69225, 85575, 110550, 139290, 173450, 212e3, 261575, 315e3, 370925, 426942, 482959, 538976, 594993, 651010, 707027, 763044, 819061]
     });
     return new t
 }),
 define("f1e1d/e718c/b7acd", ["underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb"], function(e, t, i, s) {
     var n;
     return n = e.clone(t.Events),
     n.dispatch = function(e) {
         if (i.get("gRole") === s.HOST)
             this.trigger(e.type, e);
         else
             try {
                 this.trigger(e.type, e)
             } catch (e) {
                 console.error(e)
             }
         return this
     }
     ,
     n
 }),
 define("f1e1d/e718c/f325a", ["f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd"], function(e, t) {
     var i = e.extend({
         init: function(e) {
             this.event = e
         },
         dispatch: function(e) {
             return t.dispatch(e),
             this
         },
         trigger: function() {
             return t.trigger.apply(t, arguments),
             this
         },
         execute: function() {
             this.event = void 0,
             delete this.event
         }
     });
     return i
 }),
 define("f1e1d/af752/b1e26", [], function() {
     function e(e) {
         this._map = [],
         this.adopt(e)
     }
     var t = function(e, t) {
         this.key = e,
         this.value = t
     };
     return t.prototype.key = null,
     t.prototype.value = null,
     t.prototype.is = function(e) {
         return this.key === e
     }
     ,
     t.prototype.toString = function() {
         return this.key.toString() + ":" + this.value.toString()
     }
     ,
     e.prototype._map = null,
     e.prototype.adopt = function(t) {
         if (t)
             if (t instanceof e)
                 t.each(this.addItem, this);
             else if ("object" == typeof t)
                 for (var i in t)
                     this.addItem(i, t[i]);
         return this
     }
     ,
     e.prototype.addItem = function(e, i) {
         for (var s, n = 0, a = this._map.length; n < a; n++)
             if (s = this._map[n],
             s.is(e))
                 return s.value = i;
         return this._map.push(new t(e,i)),
         i
     }
     ,
     e.prototype.contains = function(e) {
         for (var t = 0, i = this._map.length; t < i; t++) {
             var s = this._map[t];
             if (s.is(e))
                 return !0
         }
         return !1
     }
     ,
     e.prototype.getItem = function(e) {
         for (var t = 0, i = this._map.length; t < i; t++) {
             var s = this._map[t];
             if (s.is(e))
                 return s.value
         }
         return null
     }
     ,
     e.prototype.removeItem = function(e) {
         for (var t = 0, i = this._map.length; t < i; t++) {
             var s = this._map[t];
             if (s.is(e)) {
                 this._map.splice(t, 1);
                 break
             }
         }
     }
     ,
     e.prototype.removeAll = function() {
         this._map.length = 0
     }
     ,
     e.prototype.count = e.prototype.length = function() {
         return this._map.length
     }
     ,
     e.prototype.clone = function() {
         return (new e).copy(this)
     }
     ,
     e.prototype.copy = function(t) {
         if (!(t instanceof e))
             throw new Error("Source must be a Dictionary object");
         return this._map = t._map.slice(),
         this
     }
     ,
     e.prototype.each = function(e, t) {
         for (var i = 0, s = this._map.length; i < s; i++) {
             var n = this._map[i];
             e.call(t, n.value, n.key, i, this)
         }
     }
     ,
     e.prototype.sort = e.prototype.sortOnKeys = function(e) {
         return "function" != typeof e && (e = function(e, t) {
             return e > t ? 1 : t > e ? -1 : 0
         }
         ),
         this._map.sort(function(t, i) {
             return e(t.key, i.key)
         }),
         this
     }
     ,
     e.prototype.sortOnValues = function(e) {
         return "function" != typeof e && (e = function(e, t) {
             return e > t ? 1 : t > e ? -1 : 0
         }
         ),
         this._map.sort(function(t, i) {
             return e(t.value, i.value)
         }),
         this
     }
     ,
     e.prototype.map = function(t, i) {
         for (var s = new e, n = 0, a = this._map.length; n < a; n++) {
             var o = this._map[n];
             s.addItem(o.key, t.call(i, o.value, o.key, n, this))
         }
         return s
     }
     ,
     e.prototype.filter = function(t, i) {
         for (var s = new e, n = 0, a = this._map.length; n < a; n++) {
             var o = this._map[n]
               , r = t.call(i, o.value, o.key, n, this);
             r && s.addItem(o.key, o.value)
         }
         return s
     }
     ,
     e.prototype.keys = function() {
         for (var e = [], t = 0, i = this._map.length; t < i; t++) {
             var s = this._map[t];
             e[t] = s.key
         }
         return e
     }
     ,
     e.prototype.values = function() {
         for (var e = [], t = 0, i = this._map.length; t < i; t++) {
             var s = this._map[t];
             e[t] = s.value
         }
         return e
     }
     ,
     e.prototype.all = function(e, t) {
         for (var i = 0, s = this._map.length; i < s; i++) {
             var n = this._map[i];
             if (!e.call(t, n.value, n.key, this))
                 return !1
         }
         return !0
     }
     ,
     e.prototype.any = function(e, t) {
         for (var i = 0, s = this._map.length; i < s; i++) {
             var n = this._map[i];
             if (e.call(t, n.value, n.key, this))
                 return !0
         }
         return !1
     }
     ,
     e.prototype.subset = function() {
         for (var t = new e, i = Array.apply(null, arguments), s = 0, n = i.length; s < n; s++) {
             var a = i[s];
             if (this.contains(a)) {
                 var o = this.getItem(a);
                 o && t.addItem(a, o)
             }
         }
         return t
     }
     ,
     e.prototype.toString = function() {
         for (var e = [], t = 0, i = this._map.length; t < i; t++) {
             var s = this._map[t];
             e.push(s.toString())
         }
         return "{" + e.join(",") + "}"
     }
     ,
     e
 }),
 define("f1e1d/e718c/c2878", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/af752/b1e26", "f1e1d/e718c/b7acd"], function(e, t, i, s) {
     var n = t.extend({
         init: function() {
             this.eventTypeMap = {},
             this.commandClassMap = new i
         },
         mapEvent: function(t, i, n) {
             t && i && n && (this.eventTypeMap[t] || (this.eventTypeMap[t] = []),
             e.contains(this.eventTypeMap[t], i) || (this.eventTypeMap[t].push(i),
             this.commandClassMap.addItem(i, n),
             1 === this.eventTypeMap[t].length && s.on(t, this.execute, this)))
         },
         unmapEvent: function(t, i, n) {
             this.eventTypeMap[t] && (this.eventTypeMap[t] = e.without(this.eventTypeMap[t], i),
             0 === this.eventTypeMap[t].length && (this.eventTypeMap[t] = void 0,
             this.commandClassMap.removeItem(i, n),
             s.off(t, this.execute, this)))
         },
         execute: function(t) {
             var i = this;
             this.eventTypeMap[t.type] && e.each(this.eventTypeMap[t.type], function(e) {
                 t instanceof i.commandClassMap.getItem(e) && new e(t).execute()
             })
         }
     });
     return new n
 }),
 function() {
     define("f1e1d/e8300/bef7f", ["f1e1d/e718c/b5ee0"], function(e) {
         var t = e.extend({
             init: function(e) {
                 this.type = e
             }
         });
         return t.prototype.toString = function() {
             var e = "";
             for (var t in this)
                 "toString" != t && "init" != t && "constructor" != t && "_super" != t && "_name" != t && (e += t + "=" + this[t] + ", ");
             for (var i = this.__proto__; !i.constructor._name; )
                 i = i.__proto__;
             return "[" + i.constructor._name + ": " + e.substr(0, e.length - 2) + "]"
         }
         ,
         t._name = "Event",
         t
     })
 }(),
 define("f1e1d/e8300/a815f", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i, s, n) {
             this._super(e),
             this.title = t,
             this.message = i,
             this.action = s,
             this.forceAction = n
         }
     });
     return t._name = "AlertEvent",
     t.ALERT = "AlertEvent:alert",
     t.CONFIRM = "AlertEvent:confirm",
     t.SOS = "AlertEvent:sos",
     t
 }),
 define("f1e1d/e8300/dcb95", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.dialog = t
         }
     });
     return t._name = "ShowDialogEvent",
     t.SHOW = "ShowDialogEvent:show",
     t
 }),
 function() {
     var e = {};
     !function(e, t) {
         e.VERSION = "1.0.0",
         e.COMPILER_REVISION = 4,
         e.REVISION_CHANGES = {
             1: "<= 1.0.rc.2",
             2: "== 1.0.0-rc.3",
             3: "== 1.0.0-rc.4",
             4: ">= 1.0.0"
         },
         e.helpers = {},
         e.partials = {};
         var i = Object.prototype.toString
           , s = "[object Function]"
           , n = "[object Object]";
         e.registerHelper = function(t, s, a) {
             if (i.call(t) === n) {
                 if (a || s)
                     throw new e.Exception("Arg not supported with multiple helpers");
                 e.Utils.extend(this.helpers, t)
             } else
                 a && (s.not = a),
                 this.helpers[t] = s
         }
         ,
         e.registerPartial = function(t, s) {
             i.call(t) === n ? e.Utils.extend(this.partials, t) : this.partials[t] = s
         }
         ,
         e.registerHelper("helperMissing", function(e) {
             if (2 === arguments.length)
                 return t;
             throw new Error("Missing helper: '" + e + "'")
         }),
         e.registerHelper("blockHelperMissing", function(t, n) {
             var a = n.inverse || function() {}
               , o = n.fn
               , r = i.call(t);
             return r === s && (t = t.call(this)),
             t === !0 ? o(this) : t === !1 || null == t ? a(this) : "[object Array]" === r ? t.length > 0 ? e.helpers.each(t, n) : a(this) : o(t)
         }),
         e.K = function() {}
         ,
         e.createFrame = Object.create || function(t) {
             e.K.prototype = t;
             var i = new e.K;
             return e.K.prototype = null,
             i
         }
         ,
         e.logger = {
             DEBUG: 0,
             INFO: 1,
             WARN: 2,
             ERROR: 3,
             level: 3,
             methodMap: {
                 0: "debug",
                 1: "info",
                 2: "warn",
                 3: "error"
             },
             log: function(t, i) {
                 if (e.logger.level <= t) {
                     var s = e.logger.methodMap[t];
                     "undefined" != typeof console && console[s] && console[s].call(console, i)
                 }
             }
         },
         e.log = function(t, i) {
             e.logger.log(t, i)
         }
         ,
         e.registerHelper("each", function(t, n) {
             var a, o = n.fn, r = n.inverse, l = 0, h = "", c = i.call(t);
             if (c === s && (t = t.call(this)),
             n.data && (a = e.createFrame(n.data)),
             t && "object" == typeof t)
                 if (t instanceof Array)
                     for (var p = t.length; l < p; l++)
                         a && (a.index = l),
                         h += o(t[l], {
                             data: a
                         });
                 else
                     for (var d in t)
                         t.hasOwnProperty(d) && (a && (a.key = d),
                         h += o(t[d], {
                             data: a
                         }),
                         l++);
             return 0 === l && (h = r(this)),
             h
         }),
         e.registerHelper("if", function(t, n) {
             var a = i.call(t);
             return a === s && (t = t.call(this)),
             !t || e.Utils.isEmpty(t) ? n.inverse(this) : n.fn(this)
         }),
         e.registerHelper("unless", function(t, i) {
             return e.helpers.if.call(this, t, {
                 fn: i.inverse,
                 inverse: i.fn
             })
         }),
         e.registerHelper("with", function(t, n) {
             var a = i.call(t);
             if (a === s && (t = t.call(this)),
             !e.Utils.isEmpty(t))
                 return n.fn(t)
         }),
         e.registerHelper("log", function(t, i) {
             var s = i.data && null != i.data.level ? parseInt(i.data.level, 10) : 1;
             e.log(s, t)
         });
         var a = function() {
             function e() {
                 this.yy = {}
             }
             var t = {
                 trace: function() {},
                 yy: {},
                 symbols_: {
                     error: 2,
                     root: 3,
                     program: 4,
                     EOF: 5,
                     simpleInverse: 6,
                     statements: 7,
                     statement: 8,
                     openInverse: 9,
                     closeBlock: 10,
                     openBlock: 11,
                     mustache: 12,
                     partial: 13,
                     CONTENT: 14,
                     COMMENT: 15,
                     OPEN_BLOCK: 16,
                     inMustache: 17,
                     CLOSE: 18,
                     OPEN_INVERSE: 19,
                     OPEN_ENDBLOCK: 20,
                     path: 21,
                     OPEN: 22,
                     OPEN_UNESCAPED: 23,
                     CLOSE_UNESCAPED: 24,
                     OPEN_PARTIAL: 25,
                     partialName: 26,
                     params: 27,
                     hash: 28,
                     dataName: 29,
                     param: 30,
                     STRING: 31,
                     INTEGER: 32,
                     BOOLEAN: 33,
                     hashSegments: 34,
                     hashSegment: 35,
                     ID: 36,
                     EQUALS: 37,
                     DATA: 38,
                     pathSegments: 39,
                     SEP: 40,
                     $accept: 0,
                     $end: 1
                 },
                 terminals_: {
                     2: "error",
                     5: "EOF",
                     14: "CONTENT",
                     15: "COMMENT",
                     16: "OPEN_BLOCK",
                     18: "CLOSE",
                     19: "OPEN_INVERSE",
                     20: "OPEN_ENDBLOCK",
                     22: "OPEN",
                     23: "OPEN_UNESCAPED",
                     24: "CLOSE_UNESCAPED",
                     25: "OPEN_PARTIAL",
                     31: "STRING",
                     32: "INTEGER",
                     33: "BOOLEAN",
                     36: "ID",
                     37: "EQUALS",
                     38: "DATA",
                     40: "SEP"
                 },
                 productions_: [0, [3, 2], [4, 2], [4, 3], [4, 2], [4, 1], [4, 1], [4, 0], [7, 1], [7, 2], [8, 3], [8, 3], [8, 1], [8, 1], [8, 1], [8, 1], [11, 3], [9, 3], [10, 3], [12, 3], [12, 3], [13, 3], [13, 4], [6, 2], [17, 3], [17, 2], [17, 2], [17, 1], [17, 1], [27, 2], [27, 1], [30, 1], [30, 1], [30, 1], [30, 1], [30, 1], [28, 1], [34, 2], [34, 1], [35, 3], [35, 3], [35, 3], [35, 3], [35, 3], [26, 1], [26, 1], [26, 1], [29, 2], [21, 1], [39, 3], [39, 1]],
                 performAction: function(e, t, i, s, n, a, o) {
                     var r = a.length - 1;
                     switch (n) {
                     case 1:
                         return a[r - 1];
                     case 2:
                         this.$ = new s.ProgramNode([],a[r]);
                         break;
                     case 3:
                         this.$ = new s.ProgramNode(a[r - 2],a[r]);
                         break;
                     case 4:
                         this.$ = new s.ProgramNode(a[r - 1],[]);
                         break;
                     case 5:
                         this.$ = new s.ProgramNode(a[r]);
                         break;
                     case 6:
                         this.$ = new s.ProgramNode([],[]);
                         break;
                     case 7:
                         this.$ = new s.ProgramNode([]);
                         break;
                     case 8:
                         this.$ = [a[r]];
                         break;
                     case 9:
                         a[r - 1].push(a[r]),
                         this.$ = a[r - 1];
                         break;
                     case 10:
                         this.$ = new s.BlockNode(a[r - 2],a[r - 1].inverse,a[r - 1],a[r]);
                         break;
                     case 11:
                         this.$ = new s.BlockNode(a[r - 2],a[r - 1],a[r - 1].inverse,a[r]);
                         break;
                     case 12:
                         this.$ = a[r];
                         break;
                     case 13:
                         this.$ = a[r];
                         break;
                     case 14:
                         this.$ = new s.ContentNode(a[r]);
                         break;
                     case 15:
                         this.$ = new s.CommentNode(a[r]);
                         break;
                     case 16:
                         this.$ = new s.MustacheNode(a[r - 1][0],a[r - 1][1]);
                         break;
                     case 17:
                         this.$ = new s.MustacheNode(a[r - 1][0],a[r - 1][1]);
                         break;
                     case 18:
                         this.$ = a[r - 1];
                         break;
                     case 19:
                         this.$ = new s.MustacheNode(a[r - 1][0],a[r - 1][1],"&" === a[r - 2][2]);
                         break;
                     case 20:
                         this.$ = new s.MustacheNode(a[r - 1][0],a[r - 1][1],!0);
                         break;
                     case 21:
                         this.$ = new s.PartialNode(a[r - 1]);
                         break;
                     case 22:
                         this.$ = new s.PartialNode(a[r - 2],a[r - 1]);
                         break;
                     case 23:
                         break;
                     case 24:
                         this.$ = [[a[r - 2]].concat(a[r - 1]), a[r]];
                         break;
                     case 25:
                         this.$ = [[a[r - 1]].concat(a[r]), null];
                         break;
                     case 26:
                         this.$ = [[a[r - 1]], a[r]];
                         break;
                     case 27:
                         this.$ = [[a[r]], null];
                         break;
                     case 28:
                         this.$ = [[a[r]], null];
                         break;
                     case 29:
                         a[r - 1].push(a[r]),
                         this.$ = a[r - 1];
                         break;
                     case 30:
                         this.$ = [a[r]];
                         break;
                     case 31:
                         this.$ = a[r];
                         break;
                     case 32:
                         this.$ = new s.StringNode(a[r]);
                         break;
                     case 33:
                         this.$ = new s.IntegerNode(a[r]);
                         break;
                     case 34:
                         this.$ = new s.BooleanNode(a[r]);
                         break;
                     case 35:
                         this.$ = a[r];
                         break;
                     case 36:
                         this.$ = new s.HashNode(a[r]);
                         break;
                     case 37:
                         a[r - 1].push(a[r]),
                         this.$ = a[r - 1];
                         break;
                     case 38:
                         this.$ = [a[r]];
                         break;
                     case 39:
                         this.$ = [a[r - 2], a[r]];
                         break;
                     case 40:
                         this.$ = [a[r - 2], new s.StringNode(a[r])];
                         break;
                     case 41:
                         this.$ = [a[r - 2], new s.IntegerNode(a[r])];
                         break;
                     case 42:
                         this.$ = [a[r - 2], new s.BooleanNode(a[r])];
                         break;
                     case 43:
                         this.$ = [a[r - 2], a[r]];
                         break;
                     case 44:
                         this.$ = new s.PartialNameNode(a[r]);
                         break;
                     case 45:
                         this.$ = new s.PartialNameNode(new s.StringNode(a[r]));
                         break;
                     case 46:
                         this.$ = new s.PartialNameNode(new s.IntegerNode(a[r]));
                         break;
                     case 47:
                         this.$ = new s.DataNode(a[r]);
                         break;
                     case 48:
                         this.$ = new s.IdNode(a[r]);
                         break;
                     case 49:
                         a[r - 2].push({
                             part: a[r],
                             separator: a[r - 1]
                         }),
                         this.$ = a[r - 2];
                         break;
                     case 50:
                         this.$ = [{
                             part: a[r]
                         }]
                     }
                 },
                 table: [{
                     3: 1,
                     4: 2,
                     5: [2, 7],
                     6: 3,
                     7: 4,
                     8: 6,
                     9: 7,
                     11: 8,
                     12: 9,
                     13: 10,
                     14: [1, 11],
                     15: [1, 12],
                     16: [1, 13],
                     19: [1, 5],
                     22: [1, 14],
                     23: [1, 15],
                     25: [1, 16]
                 }, {
                     1: [3]
                 }, {
                     5: [1, 17]
                 }, {
                     5: [2, 6],
                     7: 18,
                     8: 6,
                     9: 7,
                     11: 8,
                     12: 9,
                     13: 10,
                     14: [1, 11],
                     15: [1, 12],
                     16: [1, 13],
                     19: [1, 19],
                     20: [2, 6],
                     22: [1, 14],
                     23: [1, 15],
                     25: [1, 16]
                 }, {
                     5: [2, 5],
                     6: 20,
                     8: 21,
                     9: 7,
                     11: 8,
                     12: 9,
                     13: 10,
                     14: [1, 11],
                     15: [1, 12],
                     16: [1, 13],
                     19: [1, 5],
                     20: [2, 5],
                     22: [1, 14],
                     23: [1, 15],
                     25: [1, 16]
                 }, {
                     17: 23,
                     18: [1, 22],
                     21: 24,
                     29: 25,
                     36: [1, 28],
                     38: [1, 27],
                     39: 26
                 }, {
                     5: [2, 8],
                     14: [2, 8],
                     15: [2, 8],
                     16: [2, 8],
                     19: [2, 8],
                     20: [2, 8],
                     22: [2, 8],
                     23: [2, 8],
                     25: [2, 8]
                 }, {
                     4: 29,
                     6: 3,
                     7: 4,
                     8: 6,
                     9: 7,
                     11: 8,
                     12: 9,
                     13: 10,
                     14: [1, 11],
                     15: [1, 12],
                     16: [1, 13],
                     19: [1, 5],
                     20: [2, 7],
                     22: [1, 14],
                     23: [1, 15],
                     25: [1, 16]
                 }, {
                     4: 30,
                     6: 3,
                     7: 4,
                     8: 6,
                     9: 7,
                     11: 8,
                     12: 9,
                     13: 10,
                     14: [1, 11],
                     15: [1, 12],
                     16: [1, 13],
                     19: [1, 5],
                     20: [2, 7],
                     22: [1, 14],
                     23: [1, 15],
                     25: [1, 16]
                 }, {
                     5: [2, 12],
                     14: [2, 12],
                     15: [2, 12],
                     16: [2, 12],
                     19: [2, 12],
                     20: [2, 12],
                     22: [2, 12],
                     23: [2, 12],
                     25: [2, 12]
                 }, {
                     5: [2, 13],
                     14: [2, 13],
                     15: [2, 13],
                     16: [2, 13],
                     19: [2, 13],
                     20: [2, 13],
                     22: [2, 13],
                     23: [2, 13],
                     25: [2, 13]
                 }, {
                     5: [2, 14],
                     14: [2, 14],
                     15: [2, 14],
                     16: [2, 14],
                     19: [2, 14],
                     20: [2, 14],
                     22: [2, 14],
                     23: [2, 14],
                     25: [2, 14]
                 }, {
                     5: [2, 15],
                     14: [2, 15],
                     15: [2, 15],
                     16: [2, 15],
                     19: [2, 15],
                     20: [2, 15],
                     22: [2, 15],
                     23: [2, 15],
                     25: [2, 15]
                 }, {
                     17: 31,
                     21: 24,
                     29: 25,
                     36: [1, 28],
                     38: [1, 27],
                     39: 26
                 }, {
                     17: 32,
                     21: 24,
                     29: 25,
                     36: [1, 28],
                     38: [1, 27],
                     39: 26
                 }, {
                     17: 33,
                     21: 24,
                     29: 25,
                     36: [1, 28],
                     38: [1, 27],
                     39: 26
                 }, {
                     21: 35,
                     26: 34,
                     31: [1, 36],
                     32: [1, 37],
                     36: [1, 28],
                     39: 26
                 }, {
                     1: [2, 1]
                 }, {
                     5: [2, 2],
                     8: 21,
                     9: 7,
                     11: 8,
                     12: 9,
                     13: 10,
                     14: [1, 11],
                     15: [1, 12],
                     16: [1, 13],
                     19: [1, 19],
                     20: [2, 2],
                     22: [1, 14],
                     23: [1, 15],
                     25: [1, 16]
                 }, {
                     17: 23,
                     21: 24,
                     29: 25,
                     36: [1, 28],
                     38: [1, 27],
                     39: 26
                 }, {
                     5: [2, 4],
                     7: 38,
                     8: 6,
                     9: 7,
                     11: 8,
                     12: 9,
                     13: 10,
                     14: [1, 11],
                     15: [1, 12],
                     16: [1, 13],
                     19: [1, 19],
                     20: [2, 4],
                     22: [1, 14],
                     23: [1, 15],
                     25: [1, 16]
                 }, {
                     5: [2, 9],
                     14: [2, 9],
                     15: [2, 9],
                     16: [2, 9],
                     19: [2, 9],
                     20: [2, 9],
                     22: [2, 9],
                     23: [2, 9],
                     25: [2, 9]
                 }, {
                     5: [2, 23],
                     14: [2, 23],
                     15: [2, 23],
                     16: [2, 23],
                     19: [2, 23],
                     20: [2, 23],
                     22: [2, 23],
                     23: [2, 23],
                     25: [2, 23]
                 }, {
                     18: [1, 39]
                 }, {
                     18: [2, 27],
                     21: 44,
                     24: [2, 27],
                     27: 40,
                     28: 41,
                     29: 48,
                     30: 42,
                     31: [1, 45],
                     32: [1, 46],
                     33: [1, 47],
                     34: 43,
                     35: 49,
                     36: [1, 50],
                     38: [1, 27],
                     39: 26
                 }, {
                     18: [2, 28],
                     24: [2, 28]
                 }, {
                     18: [2, 48],
                     24: [2, 48],
                     31: [2, 48],
                     32: [2, 48],
                     33: [2, 48],
                     36: [2, 48],
                     38: [2, 48],
                     40: [1, 51]
                 }, {
                     21: 52,
                     36: [1, 28],
                     39: 26
                 }, {
                     18: [2, 50],
                     24: [2, 50],
                     31: [2, 50],
                     32: [2, 50],
                     33: [2, 50],
                     36: [2, 50],
                     38: [2, 50],
                     40: [2, 50]
                 }, {
                     10: 53,
                     20: [1, 54]
                 }, {
                     10: 55,
                     20: [1, 54]
                 }, {
                     18: [1, 56]
                 }, {
                     18: [1, 57]
                 }, {
                     24: [1, 58]
                 }, {
                     18: [1, 59],
                     21: 60,
                     36: [1, 28],
                     39: 26
                 }, {
                     18: [2, 44],
                     36: [2, 44]
                 }, {
                     18: [2, 45],
                     36: [2, 45]
                 }, {
                     18: [2, 46],
                     36: [2, 46]
                 }, {
                     5: [2, 3],
                     8: 21,
                     9: 7,
                     11: 8,
                     12: 9,
                     13: 10,
                     14: [1, 11],
                     15: [1, 12],
                     16: [1, 13],
                     19: [1, 19],
                     20: [2, 3],
                     22: [1, 14],
                     23: [1, 15],
                     25: [1, 16]
                 }, {
                     14: [2, 17],
                     15: [2, 17],
                     16: [2, 17],
                     19: [2, 17],
                     20: [2, 17],
                     22: [2, 17],
                     23: [2, 17],
                     25: [2, 17]
                 }, {
                     18: [2, 25],
                     21: 44,
                     24: [2, 25],
                     28: 61,
                     29: 48,
                     30: 62,
                     31: [1, 45],
                     32: [1, 46],
                     33: [1, 47],
                     34: 43,
                     35: 49,
                     36: [1, 50],
                     38: [1, 27],
                     39: 26
                 }, {
                     18: [2, 26],
                     24: [2, 26]
                 }, {
                     18: [2, 30],
                     24: [2, 30],
                     31: [2, 30],
                     32: [2, 30],
                     33: [2, 30],
                     36: [2, 30],
                     38: [2, 30]
                 }, {
                     18: [2, 36],
                     24: [2, 36],
                     35: 63,
                     36: [1, 64]
                 }, {
                     18: [2, 31],
                     24: [2, 31],
                     31: [2, 31],
                     32: [2, 31],
                     33: [2, 31],
                     36: [2, 31],
                     38: [2, 31]
                 }, {
                     18: [2, 32],
                     24: [2, 32],
                     31: [2, 32],
                     32: [2, 32],
                     33: [2, 32],
                     36: [2, 32],
                     38: [2, 32]
                 }, {
                     18: [2, 33],
                     24: [2, 33],
                     31: [2, 33],
                     32: [2, 33],
                     33: [2, 33],
                     36: [2, 33],
                     38: [2, 33]
                 }, {
                     18: [2, 34],
                     24: [2, 34],
                     31: [2, 34],
                     32: [2, 34],
                     33: [2, 34],
                     36: [2, 34],
                     38: [2, 34]
                 }, {
                     18: [2, 35],
                     24: [2, 35],
                     31: [2, 35],
                     32: [2, 35],
                     33: [2, 35],
                     36: [2, 35],
                     38: [2, 35]
                 }, {
                     18: [2, 38],
                     24: [2, 38],
                     36: [2, 38]
                 }, {
                     18: [2, 50],
                     24: [2, 50],
                     31: [2, 50],
                     32: [2, 50],
                     33: [2, 50],
                     36: [2, 50],
                     37: [1, 65],
                     38: [2, 50],
                     40: [2, 50]
                 }, {
                     36: [1, 66]
                 }, {
                     18: [2, 47],
                     24: [2, 47],
                     31: [2, 47],
                     32: [2, 47],
                     33: [2, 47],
                     36: [2, 47],
                     38: [2, 47]
                 }, {
                     5: [2, 10],
                     14: [2, 10],
                     15: [2, 10],
                     16: [2, 10],
                     19: [2, 10],
                     20: [2, 10],
                     22: [2, 10],
                     23: [2, 10],
                     25: [2, 10]
                 }, {
                     21: 67,
                     36: [1, 28],
                     39: 26
                 }, {
                     5: [2, 11],
                     14: [2, 11],
                     15: [2, 11],
                     16: [2, 11],
                     19: [2, 11],
                     20: [2, 11],
                     22: [2, 11],
                     23: [2, 11],
                     25: [2, 11]
                 }, {
                     14: [2, 16],
                     15: [2, 16],
                     16: [2, 16],
                     19: [2, 16],
                     20: [2, 16],
                     22: [2, 16],
                     23: [2, 16],
                     25: [2, 16]
                 }, {
                     5: [2, 19],
                     14: [2, 19],
                     15: [2, 19],
                     16: [2, 19],
                     19: [2, 19],
                     20: [2, 19],
                     22: [2, 19],
                     23: [2, 19],
                     25: [2, 19]
                 }, {
                     5: [2, 20],
                     14: [2, 20],
                     15: [2, 20],
                     16: [2, 20],
                     19: [2, 20],
                     20: [2, 20],
                     22: [2, 20],
                     23: [2, 20],
                     25: [2, 20]
                 }, {
                     5: [2, 21],
                     14: [2, 21],
                     15: [2, 21],
                     16: [2, 21],
                     19: [2, 21],
                     20: [2, 21],
                     22: [2, 21],
                     23: [2, 21],
                     25: [2, 21]
                 }, {
                     18: [1, 68]
                 }, {
                     18: [2, 24],
                     24: [2, 24]
                 }, {
                     18: [2, 29],
                     24: [2, 29],
                     31: [2, 29],
                     32: [2, 29],
                     33: [2, 29],
                     36: [2, 29],
                     38: [2, 29]
                 }, {
                     18: [2, 37],
                     24: [2, 37],
                     36: [2, 37]
                 }, {
                     37: [1, 65]
                 }, {
                     21: 69,
                     29: 73,
                     31: [1, 70],
                     32: [1, 71],
                     33: [1, 72],
                     36: [1, 28],
                     38: [1, 27],
                     39: 26
                 }, {
                     18: [2, 49],
                     24: [2, 49],
                     31: [2, 49],
                     32: [2, 49],
                     33: [2, 49],
                     36: [2, 49],
                     38: [2, 49],
                     40: [2, 49]
                 }, {
                     18: [1, 74]
                 }, {
                     5: [2, 22],
                     14: [2, 22],
                     15: [2, 22],
                     16: [2, 22],
                     19: [2, 22],
                     20: [2, 22],
                     22: [2, 22],
                     23: [2, 22],
                     25: [2, 22]
                 }, {
                     18: [2, 39],
                     24: [2, 39],
                     36: [2, 39]
                 }, {
                     18: [2, 40],
                     24: [2, 40],
                     36: [2, 40]
                 }, {
                     18: [2, 41],
                     24: [2, 41],
                     36: [2, 41]
                 }, {
                     18: [2, 42],
                     24: [2, 42],
                     36: [2, 42]
                 }, {
                     18: [2, 43],
                     24: [2, 43],
                     36: [2, 43]
                 }, {
                     5: [2, 18],
                     14: [2, 18],
                     15: [2, 18],
                     16: [2, 18],
                     19: [2, 18],
                     20: [2, 18],
                     22: [2, 18],
                     23: [2, 18],
                     25: [2, 18]
                 }],
                 defaultActions: {
                     17: [2, 1]
                 },
                 parseError: function(e, t) {
                     throw new Error(e)
                 },
                 parse: function(e) {
                     function t() {
                         var e;
                         return e = i.lexer.lex() || 1,
                         "number" != typeof e && (e = i.symbols_[e] || e),
                         e
                     }
                     var i = this
                       , s = [0]
                       , n = [null]
                       , a = []
                       , o = this.table
                       , r = ""
                       , l = 0
                       , h = 0
                       , c = 0;
                     this.lexer.setInput(e),
                     this.lexer.yy = this.yy,
                     this.yy.lexer = this.lexer,
                     this.yy.parser = this,
                     "undefined" == typeof this.lexer.yylloc && (this.lexer.yylloc = {});
                     var p = this.lexer.yylloc;
                     a.push(p);
                     var d = this.lexer.options && this.lexer.options.ranges;
                     "function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError);
                     for (var u, f, m, g, v, b, w, y, C, k = {}; ; ) {
                         if (m = s[s.length - 1],
                         this.defaultActions[m] ? g = this.defaultActions[m] : (null !== u && "undefined" != typeof u || (u = t()),
                         g = o[m] && o[m][u]),
                         "undefined" == typeof g || !g.length || !g[0]) {
                             var _ = "";
                             if (!c) {
                                 C = [];
                                 for (b in o[m])
                                     this.terminals_[b] && b > 2 && C.push("'" + this.terminals_[b] + "'");
                                 _ = this.lexer.showPosition ? "Parse error on line " + (l + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + C.join(", ") + ", got '" + (this.terminals_[u] || u) + "'" : "Parse error on line " + (l + 1) + ": Unexpected " + (1 == u ? "end of input" : "'" + (this.terminals_[u] || u) + "'"),
                                 this.parseError(_, {
                                     text: this.lexer.match,
                                     token: this.terminals_[u] || u,
                                     line: this.lexer.yylineno,
                                     loc: p,
                                     expected: C
                                 })
                             }
                         }
                         if (g[0]instanceof Array && g.length > 1)
                             throw new Error("Parse Error: multiple actions possible at state: " + m + ", token: " + u);
                         switch (g[0]) {
                         case 1:
                             s.push(u),
                             n.push(this.lexer.yytext),
                             a.push(this.lexer.yylloc),
                             s.push(g[1]),
                             u = null,
                             f ? (u = f,
                             f = null) : (h = this.lexer.yyleng,
                             r = this.lexer.yytext,
                             l = this.lexer.yylineno,
                             p = this.lexer.yylloc,
                             c > 0 && c--);
                             break;
                         case 2:
                             if (w = this.productions_[g[1]][1],
                             k.$ = n[n.length - w],
                             k._$ = {
                                 first_line: a[a.length - (w || 1)].first_line,
                                 last_line: a[a.length - 1].last_line,
                                 first_column: a[a.length - (w || 1)].first_column,
                                 last_column: a[a.length - 1].last_column
                             },
                             d && (k._$.range = [a[a.length - (w || 1)].range[0], a[a.length - 1].range[1]]),
                             v = this.performAction.call(k, r, h, l, this.yy, g[1], n, a),
                             "undefined" != typeof v)
                                 return v;
                             w && (s = s.slice(0, -1 * w * 2),
                             n = n.slice(0, -1 * w),
                             a = a.slice(0, -1 * w)),
                             s.push(this.productions_[g[1]][0]),
                             n.push(k.$),
                             a.push(k._$),
                             y = o[s[s.length - 2]][s[s.length - 1]],
                             s.push(y);
                             break;
                         case 3:
                             return !0
                         }
                     }
                     return !0
                 }
             }
               , i = function() {
                 var e = {
                     EOF: 1,
                     parseError: function(e, t) {
                         if (!this.yy.parser)
                             throw new Error(e);
                         this.yy.parser.parseError(e, t)
                     },
                     setInput: function(e) {
                         return this._input = e,
                         this._more = this._less = this.done = !1,
                         this.yylineno = this.yyleng = 0,
                         this.yytext = this.matched = this.match = "",
                         this.conditionStack = ["INITIAL"],
                         this.yylloc = {
                             first_line: 1,
                             first_column: 0,
                             last_line: 1,
                             last_column: 0
                         },
                         this.options.ranges && (this.yylloc.range = [0, 0]),
                         this.offset = 0,
                         this
                     },
                     input: function() {
                         var e = this._input[0];
                         this.yytext += e,
                         this.yyleng++,
                         this.offset++,
                         this.match += e,
                         this.matched += e;
                         var t = e.match(/(?:\r\n?|\n).*/g);
                         return t ? (this.yylineno++,
                         this.yylloc.last_line++) : this.yylloc.last_column++,
                         this.options.ranges && this.yylloc.range[1]++,
                         this._input = this._input.slice(1),
                         e
                     },
                     unput: function(e) {
                         var t = e.length
                           , i = e.split(/(?:\r\n?|\n)/g);
                         this._input = e + this._input,
                         this.yytext = this.yytext.substr(0, this.yytext.length - t - 1),
                         this.offset -= t;
                         var s = this.match.split(/(?:\r\n?|\n)/g);
                         this.match = this.match.substr(0, this.match.length - 1),
                         this.matched = this.matched.substr(0, this.matched.length - 1),
                         i.length - 1 && (this.yylineno -= i.length - 1);
                         var n = this.yylloc.range;
                         return this.yylloc = {
                             first_line: this.yylloc.first_line,
                             last_line: this.yylineno + 1,
                             first_column: this.yylloc.first_column,
                             last_column: i ? (i.length === s.length ? this.yylloc.first_column : 0) + s[s.length - i.length].length - i[0].length : this.yylloc.first_column - t
                         },
                         this.options.ranges && (this.yylloc.range = [n[0], n[0] + this.yyleng - t]),
                         this
                     },
                     more: function() {
                         return this._more = !0,
                         this
                     },
                     less: function(e) {
                         this.unput(this.match.slice(e))
                     },
                     pastInput: function() {
                         var e = this.matched.substr(0, this.matched.length - this.match.length);
                         return (e.length > 20 ? "..." : "") + e.substr(-20).replace(/\n/g, "")
                     },
                     upcomingInput: function() {
                         var e = this.match;
                         return e.length < 20 && (e += this._input.substr(0, 20 - e.length)),
                         (e.substr(0, 20) + (e.length > 20 ? "..." : "")).replace(/\n/g, "")
                     },
                     showPosition: function() {
                         var e = this.pastInput()
                           , t = new Array(e.length + 1).join("-");
                         return e + this.upcomingInput() + "\n" + t + "^"
                     },
                     next: function() {
                         if (this.done)
                             return this.EOF;
                         this._input || (this.done = !0);
                         var e, t, i, s, n;
                         this._more || (this.yytext = "",
                         this.match = "");
                         for (var a = this._currentRules(), o = 0; o < a.length && (i = this._input.match(this.rules[a[o]]),
                         !i || t && !(i[0].length > t[0].length) || (t = i,
                         s = o,
                         this.options.flex)); o++)
                             ;
                         return t ? (n = t[0].match(/(?:\r\n?|\n).*/g),
                         n && (this.yylineno += n.length),
                         this.yylloc = {
                             first_line: this.yylloc.last_line,
                             last_line: this.yylineno + 1,
                             first_column: this.yylloc.last_column,
                             last_column: n ? n[n.length - 1].length - n[n.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + t[0].length
                         },
                         this.yytext += t[0],
                         this.match += t[0],
                         this.matches = t,
                         this.yyleng = this.yytext.length,
                         this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]),
                         this._more = !1,
                         this._input = this._input.slice(t[0].length),
                         this.matched += t[0],
                         e = this.performAction.call(this, this.yy, this, a[s], this.conditionStack[this.conditionStack.length - 1]),
                         this.done && this._input && (this.done = !1),
                         e ? e : void 0) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                             text: "",
                             token: null,
                             line: this.yylineno
                         })
                     },
                     lex: function() {
                         var e = this.next();
                         return "undefined" != typeof e ? e : this.lex()
                     },
                     begin: function(e) {
                         this.conditionStack.push(e)
                     },
                     popState: function() {
                         return this.conditionStack.pop()
                     },
                     _currentRules: function() {
                         return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules
                     },
                     topState: function() {
                         return this.conditionStack[this.conditionStack.length - 2]
                     },
                     pushState: function(e) {
                         this.begin(e)
                     }
                 };
                 return e.options = {},
                 e.performAction = function(e, t, i, s) {
                     switch (i) {
                     case 0:
                         return t.yytext = "\\",
                         14;
                     case 1:
                         if ("\\" !== t.yytext.slice(-1) && this.begin("mu"),
                         "\\" === t.yytext.slice(-1) && (t.yytext = t.yytext.substr(0, t.yyleng - 1),
                         this.begin("emu")),
                         t.yytext)
                             return 14;
                         break;
                     case 2:
                         return 14;
                     case 3:
                         return "\\" !== t.yytext.slice(-1) && this.popState(),
                         "\\" === t.yytext.slice(-1) && (t.yytext = t.yytext.substr(0, t.yyleng - 1)),
                         14;
                     case 4:
                         return t.yytext = t.yytext.substr(0, t.yyleng - 4),
                         this.popState(),
                         15;
                     case 5:
                         return 25;
                     case 6:
                         return 16;
                     case 7:
                         return 20;
                     case 8:
                         return 19;
                     case 9:
                         return 19;
                     case 10:
                         return 23;
                     case 11:
                         return 22;
                     case 12:
                         this.popState(),
                         this.begin("com");
                         break;
                     case 13:
                         return t.yytext = t.yytext.substr(3, t.yyleng - 5),
                         this.popState(),
                         15;
                     case 14:
                         return 22;
                     case 15:
                         return 37;
                     case 16:
                         return 36;
                     case 17:
                         return 36;
                     case 18:
                         return 40;
                     case 19:
                         break;
                     case 20:
                         return this.popState(),
                         24;
                     case 21:
                         return this.popState(),
                         18;
                     case 22:
                         return t.yytext = t.yytext.substr(1, t.yyleng - 2).replace(/\\"/g, '"'),
                         31;
                     case 23:
                         return t.yytext = t.yytext.substr(1, t.yyleng - 2).replace(/\\'/g, "'"),
                         31;
                     case 24:
                         return 38;
                     case 25:
                         return 33;
                     case 26:
                         return 33;
                     case 27:
                         return 32;
                     case 28:
                         return 36;
                     case 29:
                         return t.yytext = t.yytext.substr(1, t.yyleng - 2),
                         36;
                     case 30:
                         return "INVALID";
                     case 31:
                         return 5
                     }
                 }
                 ,
                 e.rules = [/^(?:\\\\(?=(\{\{)))/, /^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|$)))/, /^(?:[\s\S]*?--\}\})/, /^(?:\{\{>)/, /^(?:\{\{#)/, /^(?:\{\{\/)/, /^(?:\{\{\^)/, /^(?:\{\{\s*else\b)/, /^(?:\{\{\{)/, /^(?:\{\{&)/, /^(?:\{\{!--)/, /^(?:\{\{![\s\S]*?\}\})/, /^(?:\{\{)/, /^(?:=)/, /^(?:\.(?=[}\/ ]))/, /^(?:\.\.)/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}\}\})/, /^(?:\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=[}\s]))/, /^(?:false(?=[}\s]))/, /^(?:-?[0-9]+(?=[}\s]))/, /^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/, /^(?:\[[^\]]*\])/, /^(?:.)/, /^(?:$)/],
                 e.conditions = {
                     mu: {
                         rules: [5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31],
                         inclusive: !1
                     },
                     emu: {
                         rules: [3],
                         inclusive: !1
                     },
                     com: {
                         rules: [4],
                         inclusive: !1
                     },
                     INITIAL: {
                         rules: [0, 1, 2, 31],
                         inclusive: !0
                     }
                 },
                 e
             }();
             return t.lexer = i,
             e.prototype = t,
             t.Parser = e,
             new e
         }();
         e.Parser = a,
         e.parse = function(t) {
             return t.constructor === e.AST.ProgramNode ? t : (e.Parser.yy = e.AST,
             e.Parser.parse(t))
         }
         ,
         function() {
             e.AST = {},
             e.AST.ProgramNode = function(t, i) {
                 this.type = "program",
                 this.statements = t,
                 i && (this.inverse = new e.AST.ProgramNode(i))
             }
             ,
             e.AST.MustacheNode = function(e, t, i) {
                 this.type = "mustache",
                 this.escaped = !i,
                 this.hash = t;
                 var s = this.id = e[0]
                   , n = this.params = e.slice(1)
                   , a = this.eligibleHelper = s.isSimple;
                 this.isHelper = a && (n.length || t)
             }
             ,
             e.AST.PartialNode = function(e, t) {
                 this.type = "partial",
                 this.partialName = e,
                 this.context = t
             }
             ,
             e.AST.BlockNode = function(t, i, s, n) {
                 var a = function(t, i) {
                     if (t.original !== i.original)
                         throw new e.Exception(t.original + " doesn't match " + i.original)
                 };
                 a(t.id, n),
                 this.type = "block",
                 this.mustache = t,
                 this.program = i,
                 this.inverse = s,
                 this.inverse && !this.program && (this.isInverse = !0)
             }
             ,
             e.AST.ContentNode = function(e) {
                 this.type = "content",
                 this.string = e
             }
             ,
             e.AST.HashNode = function(e) {
                 this.type = "hash",
                 this.pairs = e
             }
             ,
             e.AST.IdNode = function(t) {
                 this.type = "ID";
                 for (var i = "", s = [], n = 0, a = 0, o = t.length; a < o; a++) {
                     var r = t[a].part;
                     if (i += (t[a].separator || "") + r,
                     ".." === r || "." === r || "this" === r) {
                         if (s.length > 0)
                             throw new e.Exception("Invalid path: " + i);
                         ".." === r ? n++ : this.isScoped = !0
                     } else
                         s.push(r)
                 }
                 this.original = i,
                 this.parts = s,
                 this.string = s.join("."),
                 this.depth = n,
                 this.isSimple = 1 === t.length && !this.isScoped && 0 === n,
                 this.stringModeValue = this.string
             }
             ,
             e.AST.PartialNameNode = function(e) {
                 this.type = "PARTIAL_NAME",
                 this.name = e.original
             }
             ,
             e.AST.DataNode = function(e) {
                 this.type = "DATA",
                 this.id = e
             }
             ,
             e.AST.StringNode = function(e) {
                 this.type = "STRING",
                 this.original = this.string = this.stringModeValue = e
             }
             ,
             e.AST.IntegerNode = function(e) {
                 this.type = "INTEGER",
                 this.original = this.integer = e,
                 this.stringModeValue = Number(e)
             }
             ,
             e.AST.BooleanNode = function(e) {
                 this.type = "BOOLEAN",
                 this.bool = e,
                 this.stringModeValue = "true" === e
             }
             ,
             e.AST.CommentNode = function(e) {
                 this.type = "comment",
                 this.comment = e
             }
         }();
         var o = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"];
         e.Exception = function(e) {
             for (var t = Error.prototype.constructor.apply(this, arguments), i = 0; i < o.length; i++)
                 this[o[i]] = t[o[i]]
         }
         ,
         e.Exception.prototype = new Error,
         e.SafeString = function(e) {
             this.string = e
         }
         ,
         e.SafeString.prototype.toString = function() {
             return this.string.toString()
         }
         ,
         function() {
             var t = {
                 "&": "&amp;",
                 "<": "&lt;",
                 ">": "&gt;",
                 '"': "&quot;",
                 "'": "&#x27;",
                 "`": "&#x60;"
             }
               , s = /[&<>"'`]/g
               , n = /[&<>"'`]/
               , a = function(e) {
                 return t[e] || "&amp;"
             };
             e.Utils = {
                 extend: function(e, t) {
                     for (var i in t)
                         t.hasOwnProperty(i) && (e[i] = t[i])
                 },
                 escapeExpression: function(t) {
                     return t instanceof e.SafeString ? t.toString() : null == t || t === !1 ? "" : (t = t.toString(),
                     n.test(t) ? t.replace(s, a) : t)
                 },
                 isEmpty: function(e) {
                     return !e && 0 !== e || "[object Array]" === i.call(e) && 0 === e.length
                 }
             }
         }();
         var r = e.Compiler = function() {}
           , l = e.JavaScriptCompiler = function() {}
         ;
         r.prototype = {
             compiler: r,
             disassemble: function() {
                 for (var e, t, i, s = this.opcodes, n = [], a = 0, o = s.length; a < o; a++)
                     if (e = s[a],
                     "DECLARE" === e.opcode)
                         n.push("DECLARE " + e.name + "=" + e.value);
                     else {
                         t = [];
                         for (var r = 0; r < e.args.length; r++)
                             i = e.args[r],
                             "string" == typeof i && (i = '"' + i.replace("\n", "\\n") + '"'),
                             t.push(i);
                         n.push(e.opcode + " " + t.join(" "))
                     }
                 return n.join("\n")
             },
             equals: function(e) {
                 var t = this.opcodes.length;
                 if (e.opcodes.length !== t)
                     return !1;
                 for (var i = 0; i < t; i++) {
                     var s = this.opcodes[i]
                       , n = e.opcodes[i];
                     if (s.opcode !== n.opcode || s.args.length !== n.args.length)
                         return !1;
                     for (var a = 0; a < s.args.length; a++)
                         if (s.args[a] !== n.args[a])
                             return !1
                 }
                 if (t = this.children.length,
                 e.children.length !== t)
                     return !1;
                 for (i = 0; i < t; i++)
                     if (!this.children[i].equals(e.children[i]))
                         return !1;
                 return !0
             },
             guid: 0,
             compile: function(e, t) {
                 this.children = [],
                 this.depths = {
                     list: []
                 },
                 this.options = t;
                 var i = this.options.knownHelpers;
                 if (this.options.knownHelpers = {
                     helperMissing: !0,
                     blockHelperMissing: !0,
                     each: !0,
                     if: !0,
                     unless: !0,
                     with: !0,
                     log: !0
                 },
                 i)
                     for (var s in i)
                         this.options.knownHelpers[s] = i[s];
                 return this.program(e)
             },
             accept: function(e) {
                 return this[e.type](e)
             },
             program: function(e) {
                 var t, i = e.statements;
                 this.opcodes = [];
                 for (var s = 0, n = i.length; s < n; s++)
                     t = i[s],
                     this[t.type](t);
                 return this.isSimple = 1 === n,
                 this.depths.list = this.depths.list.sort(function(e, t) {
                     return e - t
                 }),
                 this
             },
             compileProgram: function(e) {
                 var t, i = (new this.compiler).compile(e, this.options), s = this.guid++;
                 this.usePartial = this.usePartial || i.usePartial,
                 this.children[s] = i;
                 for (var n = 0, a = i.depths.list.length; n < a; n++)
                     t = i.depths.list[n],
                     t < 2 || this.addDepth(t - 1);
                 return s
             },
             block: function(e) {
                 var t = e.mustache
                   , i = e.program
                   , s = e.inverse;
                 i && (i = this.compileProgram(i)),
                 s && (s = this.compileProgram(s));
                 var n = this.classifyMustache(t);
                 "helper" === n ? this.helperMustache(t, i, s) : "simple" === n ? (this.simpleMustache(t),
                 this.opcode("pushProgram", i),
                 this.opcode("pushProgram", s),
                 this.opcode("emptyHash"),
                 this.opcode("blockValue")) : (this.ambiguousMustache(t, i, s),
                 this.opcode("pushProgram", i),
                 this.opcode("pushProgram", s),
                 this.opcode("emptyHash"),
                 this.opcode("ambiguousBlockValue")),
                 this.opcode("append")
             },
             hash: function(e) {
                 var t, i, s = e.pairs;
                 this.opcode("pushHash");
                 for (var n = 0, a = s.length; n < a; n++)
                     t = s[n],
                     i = t[1],
                     this.options.stringParams ? (i.depth && this.addDepth(i.depth),
                     this.opcode("getContext", i.depth || 0),
                     this.opcode("pushStringParam", i.stringModeValue, i.type)) : this.accept(i),
                     this.opcode("assignToHash", t[0]);
                 this.opcode("popHash")
             },
             partial: function(e) {
                 var t = e.partialName;
                 this.usePartial = !0,
                 e.context ? this.ID(e.context) : this.opcode("push", "depth0"),
                 this.opcode("invokePartial", t.name),
                 this.opcode("append")
             },
             content: function(e) {
                 this.opcode("appendContent", e.string)
             },
             mustache: function(e) {
                 var t = this.options
                   , i = this.classifyMustache(e);
                 "simple" === i ? this.simpleMustache(e) : "helper" === i ? this.helperMustache(e) : this.ambiguousMustache(e),
                 e.escaped && !t.noEscape ? this.opcode("appendEscaped") : this.opcode("append")
             },
             ambiguousMustache: function(e, t, i) {
                 var s = e.id
                   , n = s.parts[0]
                   , a = null != t || null != i;
                 this.opcode("getContext", s.depth),
                 this.opcode("pushProgram", t),
                 this.opcode("pushProgram", i),
                 this.opcode("invokeAmbiguous", n, a)
             },
             simpleMustache: function(e) {
                 var t = e.id;
                 "DATA" === t.type ? this.DATA(t) : t.parts.length ? this.ID(t) : (this.addDepth(t.depth),
                 this.opcode("getContext", t.depth),
                 this.opcode("pushContext")),
                 this.opcode("resolvePossibleLambda")
             },
             helperMustache: function(e, t, i) {
                 var s = this.setupFullMustacheParams(e, t, i)
                   , n = e.id.parts[0];
                 if (this.options.knownHelpers[n])
                     this.opcode("invokeKnownHelper", s.length, n);
                 else {
                     if (this.options.knownHelpersOnly)
                         throw new Error("You specified knownHelpersOnly, but used the unknown helper " + n);
                     this.opcode("invokeHelper", s.length, n)
                 }
             },
             ID: function(e) {
                 this.addDepth(e.depth),
                 this.opcode("getContext", e.depth);
                 var t = e.parts[0];
                 t ? this.opcode("lookupOnContext", e.parts[0]) : this.opcode("pushContext");
                 for (var i = 1, s = e.parts.length; i < s; i++)
                     this.opcode("lookup", e.parts[i])
             },
             DATA: function(t) {
                 if (this.options.data = !0,
                 t.id.isScoped || t.id.depth)
                     throw new e.Exception("Scoped data references are not supported: " + t.original);
                 this.opcode("lookupData");
                 for (var i = t.id.parts, s = 0, n = i.length; s < n; s++)
                     this.opcode("lookup", i[s])
             },
             STRING: function(e) {
                 this.opcode("pushString", e.string)
             },
             INTEGER: function(e) {
                 this.opcode("pushLiteral", e.integer)
             },
             BOOLEAN: function(e) {
                 this.opcode("pushLiteral", e.bool)
             },
             comment: function() {},
             opcode: function(e) {
                 this.opcodes.push({
                     opcode: e,
                     args: [].slice.call(arguments, 1)
                 })
             },
             declare: function(e, t) {
                 this.opcodes.push({
                     opcode: "DECLARE",
                     name: e,
                     value: t
                 })
             },
             addDepth: function(e) {
                 if (isNaN(e))
                     throw new Error("EWOT");
                 0 !== e && (this.depths[e] || (this.depths[e] = !0,
                 this.depths.list.push(e)))
             },
             classifyMustache: function(e) {
                 var t = e.isHelper
                   , i = e.eligibleHelper
                   , s = this.options;
                 if (i && !t) {
                     var n = e.id.parts[0];
                     s.knownHelpers[n] ? t = !0 : s.knownHelpersOnly && (i = !1)
                 }
                 return t ? "helper" : i ? "ambiguous" : "simple"
             },
             pushParams: function(e) {
                 for (var t, i = e.length; i--; )
                     t = e[i],
                     this.options.stringParams ? (t.depth && this.addDepth(t.depth),
                     this.opcode("getContext", t.depth || 0),
                     this.opcode("pushStringParam", t.stringModeValue, t.type)) : this[t.type](t)
             },
             setupMustacheParams: function(e) {
                 var t = e.params;
                 return this.pushParams(t),
                 e.hash ? this.hash(e.hash) : this.opcode("emptyHash"),
                 t
             },
             setupFullMustacheParams: function(e, t, i) {
                 var s = e.params;
                 return this.pushParams(s),
                 this.opcode("pushProgram", t),
                 this.opcode("pushProgram", i),
                 e.hash ? this.hash(e.hash) : this.opcode("emptyHash"),
                 s
             }
         };
         var h = function(e) {
             this.value = e
         };
         l.prototype = {
             nameLookup: function(e, t) {
                 return /^[0-9]+$/.test(t) ? e + "[" + t + "]" : l.isValidJavaScriptVariableName(t) ? e + "." + t : e + "['" + t + "']"
             },
             appendToBuffer: function(e) {
                 return this.environment.isSimple ? "return " + e + ";" : {
                     appendToBuffer: !0,
                     content: e,
                     toString: function() {
                         return "buffer += " + e + ";"
                     }
                 }
             },
             initializeBuffer: function() {
                 return this.quotedString("")
             },
             namespace: "Handlebars",
             compile: function(t, i, s, n) {
                 this.environment = t,
                 this.options = i || {},
                 e.log(e.logger.DEBUG, this.environment.disassemble() + "\n\n"),
                 this.name = this.environment.name,
                 this.isChild = !!s,
                 this.context = s || {
                     programs: [],
                     environments: [],
                     aliases: {}
                 },
                 this.preamble(),
                 this.stackSlot = 0,
                 this.stackVars = [],
                 this.registers = {
                     list: []
                 },
                 this.compileStack = [],
                 this.inlineStack = [],
                 this.compileChildren(t, i);
                 var a, o = t.opcodes;
                 for (this.i = 0,
                 u = o.length; this.i < u; this.i++)
                     a = o[this.i],
                     "DECLARE" === a.opcode ? this[a.name] = a.value : this[a.opcode].apply(this, a.args);
                 return this.createFunctionContext(n)
             },
             nextOpcode: function() {
                 var e = this.environment.opcodes;
                 return e[this.i + 1]
             },
             eat: function() {
                 this.i = this.i + 1
             },
             preamble: function() {
                 var e = [];
                 if (this.isChild)
                     e.push("");
                 else {
                     var t = this.namespace
                       , i = "helpers = this.merge(helpers, " + t + ".helpers);";
                     this.environment.usePartial && (i = i + " partials = this.merge(partials, " + t + ".partials);"),
                     this.options.data && (i += " data = data || {};"),
                     e.push(i)
                 }
                 this.environment.isSimple ? e.push("") : e.push(", buffer = " + this.initializeBuffer()),
                 this.lastContext = 0,
                 this.source = e
             },
             createFunctionContext: function(t) {
                 var i = this.stackVars.concat(this.registers.list);
                 if (i.length > 0 && (this.source[1] = this.source[1] + ", " + i.join(", ")),
                 !this.isChild)
                     for (var s in this.context.aliases)
                         this.context.aliases.hasOwnProperty(s) && (this.source[1] = this.source[1] + ", " + s + "=" + this.context.aliases[s]);
                 this.source[1] && (this.source[1] = "var " + this.source[1].substring(2) + ";"),
                 this.isChild || (this.source[1] += "\n" + this.context.programs.join("\n") + "\n"),
                 this.environment.isSimple || this.source.push("return buffer;");
                 for (var n = this.isChild ? ["depth0", "data"] : ["Handlebars", "depth0", "helpers", "partials", "data"], a = 0, o = this.environment.depths.list.length; a < o; a++)
                     n.push("depth" + this.environment.depths.list[a]);
                 var r = this.mergeSource();
                 if (!this.isChild) {
                     var l = e.COMPILER_REVISION
                       , h = e.REVISION_CHANGES[l];
                     r = "this.compilerInfo = [" + l + ",'" + h + "'];\n" + r
                 }
                 if (t)
                     return n.push(r),
                     Function.apply(this, n);
                 var c = "function " + (this.name || "") + "(" + n.join(",") + ") {\n  " + r + "}";
                 return e.log(e.logger.DEBUG, c + "\n\n"),
                 c
             },
             mergeSource: function() {
                 for (var e, i = "", s = 0, n = this.source.length; s < n; s++) {
                     var a = this.source[s];
                     a.appendToBuffer ? e = e ? e + "\n    + " + a.content : a.content : (e && (i += "buffer += " + e + ";\n  ",
                     e = t),
                     i += a + "\n  ")
                 }
                 return i
             },
             blockValue: function() {
                 this.context.aliases.blockHelperMissing = "helpers.blockHelperMissing";
                 var e = ["depth0"];
                 this.setupParams(0, e),
                 this.replaceStack(function(t) {
                     return e.splice(1, 0, t),
                     "blockHelperMissing.call(" + e.join(", ") + ")"
                 })
             },
             ambiguousBlockValue: function() {
                 this.context.aliases.blockHelperMissing = "helpers.blockHelperMissing";
                 var e = ["depth0"];
                 this.setupParams(0, e);
                 var t = this.topStack();
                 e.splice(1, 0, t),
                 e[e.length - 1] = "options",
                 this.source.push("if (!" + this.lastHelper + ") { " + t + " = blockHelperMissing.call(" + e.join(", ") + "); }")
             },
             appendContent: function(e) {
                 this.source.push(this.appendToBuffer(this.quotedString(e)))
             },
             append: function() {
                 this.flushInline();
                 var e = this.popStack();
                 this.source.push("if(" + e + " || " + e + " === 0) { " + this.appendToBuffer(e) + " }"),
                 this.environment.isSimple && this.source.push("else { " + this.appendToBuffer("''") + " }")
             },
             appendEscaped: function() {
                 this.context.aliases.escapeExpression = "this.escapeExpression",
                 this.source.push(this.appendToBuffer("escapeExpression(" + this.popStack() + ")"))
             },
             getContext: function(e) {
                 this.lastContext !== e && (this.lastContext = e)
             },
             lookupOnContext: function(e) {
                 this.push(this.nameLookup("depth" + this.lastContext, e, "context"))
             },
             pushContext: function() {
                 this.pushStackLiteral("depth" + this.lastContext)
             },
             resolvePossibleLambda: function() {
                 this.context.aliases.functionType = '"function"',
                 this.replaceStack(function(e) {
                     return "typeof " + e + " === functionType ? " + e + ".apply(depth0) : " + e
                 })
             },
             lookup: function(e) {
                 this.replaceStack(function(t) {
                     return t + " == null || " + t + " === false ? " + t + " : " + this.nameLookup(t, e, "context")
                 })
             },
             lookupData: function(e) {
                 this.push("data")
             },
             pushStringParam: function(e, t) {
                 this.pushStackLiteral("depth" + this.lastContext),
                 this.pushString(t),
                 "string" == typeof e ? this.pushString(e) : this.pushStackLiteral(e)
             },
             emptyHash: function() {
                 this.pushStackLiteral("{}"),
                 this.options.stringParams && (this.register("hashTypes", "{}"),
                 this.register("hashContexts", "{}"))
             },
             pushHash: function() {
                 this.hash = {
                     values: [],
                     types: [],
                     contexts: []
                 }
             },
             popHash: function() {
                 var e = this.hash;
                 this.hash = t,
                 this.options.stringParams && (this.register("hashContexts", "{" + e.contexts.join(",") + "}"),
                 this.register("hashTypes", "{" + e.types.join(",") + "}")),
                 this.push("{\n    " + e.values.join(",\n    ") + "\n  }")
             },
             pushString: function(e) {
                 this.pushStackLiteral(this.quotedString(e))
             },
             push: function(e) {
                 return this.inlineStack.push(e),
                 e
             },
             pushLiteral: function(e) {
                 this.pushStackLiteral(e)
             },
             pushProgram: function(e) {
                 null != e ? this.pushStackLiteral(this.programExpression(e)) : this.pushStackLiteral(null)
             },
             invokeHelper: function(e, t) {
                 this.context.aliases.helperMissing = "helpers.helperMissing";
                 var i = this.lastHelper = this.setupHelper(e, t, !0)
                   , s = this.nameLookup("depth" + this.lastContext, t, "context");
                 this.push(i.name + " || " + s),
                 this.replaceStack(function(e) {
                     return e + " ? " + e + ".call(" + i.callParams + ") : helperMissing.call(" + i.helperMissingParams + ")"
                 })
             },
             invokeKnownHelper: function(e, t) {
                 var i = this.setupHelper(e, t);
                 this.push(i.name + ".call(" + i.callParams + ")")
             },
             invokeAmbiguous: function(e, t) {
                 this.context.aliases.functionType = '"function"',
                 this.pushStackLiteral("{}");
                 var i = this.setupHelper(0, e, t)
                   , s = this.lastHelper = this.nameLookup("helpers", e, "helper")
                   , n = this.nameLookup("depth" + this.lastContext, e, "context")
                   , a = this.nextStack();
                 this.source.push("if (" + a + " = " + s + ") { " + a + " = " + a + ".call(" + i.callParams + "); }"),
                 this.source.push("else { " + a + " = " + n + "; " + a + " = typeof " + a + " === functionType ? " + a + ".apply(depth0) : " + a + "; }")
             },
             invokePartial: function(e) {
                 var t = [this.nameLookup("partials", e, "partial"), "'" + e + "'", this.popStack(), "helpers", "partials"];
                 this.options.data && t.push("data"),
                 this.context.aliases.self = "this",
                 this.push("self.invokePartial(" + t.join(", ") + ")")
             },
             assignToHash: function(e) {
                 var t, i, s = this.popStack();
                 this.options.stringParams && (i = this.popStack(),
                 t = this.popStack());
                 var n = this.hash;
                 t && n.contexts.push("'" + e + "': " + t),
                 i && n.types.push("'" + e + "': " + i),
                 n.values.push("'" + e + "': (" + s + ")")
             },
             compiler: l,
             compileChildren: function(e, t) {
                 for (var i, s, n = e.children, a = 0, o = n.length; a < o; a++) {
                     i = n[a],
                     s = new this.compiler;
                     var r = this.matchExistingProgram(i);
                     null == r ? (this.context.programs.push(""),
                     r = this.context.programs.length,
                     i.index = r,
                     i.name = "program" + r,
                     this.context.programs[r] = s.compile(i, t, this.context),
                     this.context.environments[r] = i) : (i.index = r,
                     i.name = "program" + r)
                 }
             },
             matchExistingProgram: function(e) {
                 for (var t = 0, i = this.context.environments.length; t < i; t++) {
                     var s = this.context.environments[t];
                     if (s && s.equals(e))
                         return t
                 }
             },
             programExpression: function(e) {
                 if (this.context.aliases.self = "this",
                 null == e)
                     return "self.noop";
                 for (var t, i = this.environment.children[e], s = i.depths.list, n = [i.index, i.name, "data"], a = 0, o = s.length; a < o; a++)
                     t = s[a],
                     1 === t ? n.push("depth0") : n.push("depth" + (t - 1));
                 return (0 === s.length ? "self.program(" : "self.programWithDepth(") + n.join(", ") + ")"
             },
             register: function(e, t) {
                 this.useRegister(e),
                 this.source.push(e + " = " + t + ";")
             },
             useRegister: function(e) {
                 this.registers[e] || (this.registers[e] = !0,
                 this.registers.list.push(e))
             },
             pushStackLiteral: function(e) {
                 return this.push(new h(e))
             },
             pushStack: function(e) {
                 this.flushInline();
                 var t = this.incrStack();
                 return e && this.source.push(t + " = " + e + ";"),
                 this.compileStack.push(t),
                 t
             },
             replaceStack: function(e) {
                 var t, i = "", s = this.isInline();
                 if (s) {
                     var n = this.popStack(!0);
                     if (n instanceof h)
                         t = n.value;
                     else {
                         var a = this.stackSlot ? this.topStackName() : this.incrStack();
                         i = "(" + this.push(a) + " = " + n + "),",
                         t = this.topStack()
                     }
                 } else
                     t = this.topStack();
                 var o = e.call(this, t);
                 return s ? ((this.inlineStack.length || this.compileStack.length) && this.popStack(),
                 this.push("(" + i + o + ")")) : (/^stack/.test(t) || (t = this.nextStack()),
                 this.source.push(t + " = (" + i + o + ");")),
                 t
             },
             nextStack: function() {
                 return this.pushStack()
             },
             incrStack: function() {
                 return this.stackSlot++,
                 this.stackSlot > this.stackVars.length && this.stackVars.push("stack" + this.stackSlot),
                 this.topStackName()
             },
             topStackName: function() {
                 return "stack" + this.stackSlot
             },
             flushInline: function() {
                 var e = this.inlineStack;
                 if (e.length) {
                     this.inlineStack = [];
                     for (var t = 0, i = e.length; t < i; t++) {
                         var s = e[t];
                         s instanceof h ? this.compileStack.push(s) : this.pushStack(s)
                     }
                 }
             },
             isInline: function() {
                 return this.inlineStack.length
             },
             popStack: function(e) {
                 var t = this.isInline()
                   , i = (t ? this.inlineStack : this.compileStack).pop();
                 return !e && i instanceof h ? i.value : (t || this.stackSlot--,
                 i)
             },
             topStack: function(e) {
                 var t = this.isInline() ? this.inlineStack : this.compileStack
                   , i = t[t.length - 1];
                 return !e && i instanceof h ? i.value : i
             },
             quotedString: function(e) {
                 return '"' + e.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"'
             },
             setupHelper: function(e, t, i) {
                 var s = [];
                 this.setupParams(e, s, i);
                 var n = this.nameLookup("helpers", t, "helper");
                 return {
                     params: s,
                     name: n,
                     callParams: ["depth0"].concat(s).join(", "),
                     helperMissingParams: i && ["depth0", this.quotedString(t)].concat(s).join(", ")
                 }
             },
             setupParams: function(e, t, i) {
                 var s, n, a, o = [], r = [], l = [];
                 o.push("hash:" + this.popStack()),
                 n = this.popStack(),
                 a = this.popStack(),
                 (a || n) && (a || (this.context.aliases.self = "this",
                 a = "self.noop"),
                 n || (this.context.aliases.self = "this",
                 n = "self.noop"),
                 o.push("inverse:" + n),
                 o.push("fn:" + a));
                 for (var h = 0; h < e; h++)
                     s = this.popStack(),
                     t.push(s),
                     this.options.stringParams && (l.push(this.popStack()),
                     r.push(this.popStack()));
                 return this.options.stringParams && (o.push("contexts:[" + r.join(",") + "]"),
                 o.push("types:[" + l.join(",") + "]"),
                 o.push("hashContexts:hashContexts"),
                 o.push("hashTypes:hashTypes")),
                 this.options.data && o.push("data:data"),
                 o = "{" + o.join(",") + "}",
                 i ? (this.register("options", o),
                 t.push("options")) : t.push(o),
                 t.join(", ")
             }
         };
         for (var c = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "), p = l.RESERVED_WORDS = {}, d = 0, u = c.length; d < u; d++)
             p[c[d]] = !0;
         l.isValidJavaScriptVariableName = function(e) {
             return !(l.RESERVED_WORDS[e] || !/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e))
         }
         ,
         e.precompile = function(t, i) {
             if (null == t || "string" != typeof t && t.constructor !== e.AST.ProgramNode)
                 throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + t);
             i = i || {},
             "data"in i || (i.data = !0);
             var s = e.parse(t)
               , n = (new r).compile(s, i);
             return (new l).compile(n, i)
         }
         ,
         e.compile = function(i, s) {
             function n() {
                 var n = e.parse(i)
                   , a = (new r).compile(n, s)
                   , o = (new l).compile(a, s, t, !0);
                 return e.template(o)
             }
             if (null == i || "string" != typeof i && i.constructor !== e.AST.ProgramNode)
                 throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + i);
             s = s || {},
             "data"in s || (s.data = !0);
             var a;
             return function(e, t) {
                 return a || (a = n()),
                 a.call(this, e, t)
             }
         }
         ,
         e.VM = {
             template: function(t) {
                 var i = {
                     escapeExpression: e.Utils.escapeExpression,
                     invokePartial: e.VM.invokePartial,
                     programs: [],
                     program: function(t, i, s) {
                         var n = this.programs[t];
                         return s ? n = e.VM.program(t, i, s) : n || (n = this.programs[t] = e.VM.program(t, i)),
                         n
                     },
                     merge: function(t, i) {
                         var s = t || i;
                         return t && i && (s = {},
                         e.Utils.extend(s, i),
                         e.Utils.extend(s, t)),
                         s
                     },
                     programWithDepth: e.VM.programWithDepth,
                     noop: e.VM.noop,
                     compilerInfo: null
                 };
                 return function(s, n) {
                     n = n || {};
                     var a = t.call(i, e, s, n.helpers, n.partials, n.data)
                       , o = i.compilerInfo || []
                       , r = o[0] || 1
                       , l = e.COMPILER_REVISION;
                     if (r !== l) {
                         if (r < l) {
                             var h = e.REVISION_CHANGES[l]
                               , c = e.REVISION_CHANGES[r];
                             throw "Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + h + ") or downgrade your runtime to an older version (" + c + ")."
                         }
                         throw "Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + o[1] + ")."
                     }
                     return a
                 }
             },
             programWithDepth: function(e, t, i) {
                 var s = Array.prototype.slice.call(arguments, 3)
                   , n = function(e, n) {
                     return n = n || {},
                     t.apply(this, [e, n.data || i].concat(s))
                 };
                 return n.program = e,
                 n.depth = s.length,
                 n
             },
             program: function(e, t, i) {
                 var s = function(e, s) {
                     return s = s || {},
                     t(e, s.data || i)
                 };
                 return s.program = e,
                 s.depth = 0,
                 s
             },
             noop: function() {
                 return ""
             },
             invokePartial: function(i, s, n, a, o, r) {
                 var l = {
                     helpers: a,
                     partials: o,
                     data: r
                 };
                 if (i === t)
                     throw new e.Exception("The partial " + s + " could not be found");
                 if (i instanceof Function)
                     return i(n, l);
                 if (e.compile)
                     return o[s] = e.compile(i, {
                         data: r !== t
                     }),
                     o[s](n, l);
                 throw new e.Exception("The partial " + s + " could not be compiled when running in runtime-only mode")
             }
         },
         e.template = e.VM.template
     }(e),
     define("handlebars", [], function() {
         return e
     })
 }(),
 define("hbs!templates/dialogs/DialogCancel", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="button cancel">\n    <span>',
         (a = i.label) ? a = a.call(t, {
             hash: {}
         }) : (a = t.label,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogCancel", i),
     i
 }),
 define("hbs!templates/dialogs/DialogCheckBox", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             return 'checked="yes"'
         }
         function o(e, t) {
             return 'disabled="disabled"'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var r, l = "", h = "function", c = this.escapeExpression, p = this;
         return l += '<div class="dialog-checkbox-container dialog-checkbox-container-',
         (r = i.name) ? r = r.call(t, {
             hash: {}
         }) : (r = t.name,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '">\r\n    <label for="dialog-checkbox-',
         (r = i.name) ? r = r.call(t, {
             hash: {}
         }) : (r = t.name,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '">',
         (r = i.label) ? r = r.call(t, {
             hash: {}
         }) : (r = t.label,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '</label>\r\n    <input id="dialog-checkbox-',
         (r = i.name) ? r = r.call(t, {
             hash: {}
         }) : (r = t.name,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '" type="checkbox" name="',
         (r = i.name) ? r = r.call(t, {
             hash: {}
         }) : (r = t.name,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '" class="checkbox" ',
         r = i.if.call(t, t.checked, {
             hash: {},
             inverse: p.noop,
             fn: p.program(1, a, n)
         }),
         (r || 0 === r) && (l += r),
         l += " ",
         r = i.if.call(t, t.disabled, {
             hash: {},
             inverse: p.noop,
             fn: p.program(3, o, n)
         }),
         (r || 0 === r) && (l += r),
         l += "/>\r\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogCheckBox", i),
     i
 }),
 define("hbs!templates/dialogs/DialogHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="dialog-frame">\r\n    <span class="title">',
         (a = i.title) ? a = a.call(t, {
             hash: {}
         }) : (a = t.title,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\r\n    <i class="icon icon-dialog-close"></i>\r\n</div>'
     });
     return t.registerPartial("templates_dialogs_DialogHeader", i),
     i
 }),
 define("hbs!templates/dialogs/DialogInputContainer", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="dialog-input-container">\r\n    <span class="dialog-input-label">',
         (a = i.label) ? a = a.call(t, {
             hash: {}
         }) : (a = t.label,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\r\n    <div class="dialog-input-background">\r\n        <input type="text" maxlength="',
         (a = i.maxlength) ? a = a.call(t, {
             hash: {}
         }) : (a = t.maxlength,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" placeholder="',
         (a = i.placeholder) ? a = a.call(t, {
             hash: {}
         }) : (a = t.placeholder,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" name="',
         (a = i.name) ? a = a.call(t, {
             hash: {}
         }) : (a = t.name,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" value="',
         (a = i.value) ? a = a.call(t, {
             hash: {}
         }) : (a = t.value,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"/>\r\n    </div>\r\n</div>'
     });
     return t.registerPartial("templates_dialogs_DialogInputContainer", i),
     i
 }),
 define("hbs!templates/dialogs/DialogMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             return 'disabled="disabled"'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = "function", h = this.escapeExpression, c = this;
         return r += '<div class="dialog-menu-container dialog-menu-container-',
         (o = i.name) ? o = o.call(t, {
             hash: {}
         }) : (o = t.name,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '">\r\n    <label for="dialog-menu-',
         (o = i.name) ? o = o.call(t, {
             hash: {}
         }) : (o = t.name,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '">',
         (o = i.label) ? o = o.call(t, {
             hash: {}
         }) : (o = t.label,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '</label>\r\n    <select id="dialog-menu-',
         (o = i.name) ? o = o.call(t, {
             hash: {}
         }) : (o = t.name,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '" ',
         o = i.if.call(t, t.disabled, {
             hash: {},
             inverse: c.noop,
             fn: c.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += "></select>\r\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogMenu", i),
     i
 }),
 define("hbs!templates/dialogs/DialogMenuOption", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             return 'selected="selected"'
         }
         function o(e, t) {
             var s, n = "";
             return n += 'value="',
             (s = i.value) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.value,
             s = typeof s === h ? s.apply(e) : s),
             n += c(s) + '"'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var r, l = "", h = "function", c = this.escapeExpression, p = this;
         return l += "<option ",
         r = i.if.call(t, t.selected, {
             hash: {},
             inverse: p.noop,
             fn: p.program(1, a, n)
         }),
         (r || 0 === r) && (l += r),
         l += " ",
         r = i.if.call(t, t.value, {
             hash: {},
             inverse: p.noop,
             fn: p.program(3, o, n)
         }),
         (r || 0 === r) && (l += r),
         l += ">",
         (r = i.label) ? r = r.call(t, {
             hash: {}
         }) : (r = t.label,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + "</option>"
     });
     return t.registerPartial("templates_dialogs_DialogMenuOption", i),
     i
 }),
 define("hbs!templates/dialogs/DialogSubmit", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             return " subscribe"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = this, h = "function", c = this.escapeExpression;
         return r += '<div class="button submit',
         o = i.if.call(t, t.subscribe, {
             hash: {},
             inverse: l.noop,
             fn: l.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += '">\n    <span>',
         (o = i.label) ? o = o.call(t, {
             hash: {}
         }) : (o = t.label,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + "</span>\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogSubmit", i),
     i
 }),
 define("hbs!templates/dialogs/DialogTextArea", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="dialog-text-area-container">\r\n    <span class="dialog-text-area-label">',
         (a = i.label) ? a = a.call(t, {
             hash: {}
         }) : (a = t.label,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\r\n    <textarea rows="',
         (a = i.rows) ? a = a.call(t, {
             hash: {}
         }) : (a = t.rows,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" cols="',
         (a = i.cols) ? a = a.call(t, {
             hash: {}
         }) : (a = t.cols,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" maxlength="',
         (a = i.maxlength) ? a = a.call(t, {
             hash: {}
         }) : (a = t.maxlength,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '">',
         (a = i.value) ? a = a.call(t, {
             hash: {}
         }) : (a = t.value,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</textarea>\r\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogTextArea", i),
     i
 }),
 define("f1e1d/af752/fa88e", [], function() {
     var e = window.Environment;
     return window.Environment = void 0,
     delete window.Environment,
     e
 }),
 define("f1e1d/af752/c506b", ["jquery", "underscore", "backbone", "f1e1d/af752/fa88e"], function(e, t, i, s) {
     var n = t.clone(i.Events);
     return n.currentDialog = void 0,
     n.$window = e(window),
     n.PLAYLIST_OFFSET = 108,
     n.MIN_WIDTH = 1150,
     n.MIN_HEIGHT = 638,
     n.CHAT_WIDTH = 345,
     n.BAR_HEIGHT = 54,
     n.BAR_WIDTH = n.CHAT_WIDTH + n.BAR_HEIGHT,
     n.isRoom = !1,
     n.resize = function(e) {
         this.on("resize", e),
         this.onResize()
     }
     ,
     n.onResize = function() {
         this.trigger("resize", n.getSize())
     }
     ,
     n.getSize = function() {
         var e = Math.max(n.MIN_WIDTH, n.$window.width())
           , t = Math.max(n.MIN_HEIGHT, n.$window.height())
           , i = t - n.BAR_HEIGHT - 800;
         return i > n.BAR_HEIGHT && (i = t - n.BAR_HEIGHT - 800 + Math.min(i, 100)),
         {
             width: e,
             height: t,
             availWidth: e - n.CHAT_WIDTH,
             barHeight: n.BAR_HEIGHT,
             barWidth: e - n.BAR_WIDTH,
             bgTop: Math.min(n.BAR_HEIGHT, i)
         }
     }
     ,
     e(window).resize(t.bind(n.onResize, n)),
     n
 }),
 define("f1e1d/af752/abc02", ["f1e1d/e718c/b5ee0"], function(e) {
     var t = e.extend({
         init: function() {
             this.MONTHS = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
             this.SERVER_TIME = null,
             this.OFFSET = 0
         },
         setServerTime: function(e) {
             this.SERVER_TIME = e,
             this.OFFSET = this.SERVER_TIME.getTime() - Date.now()
         },
         yearsSince: function(e) {
             return this.ServerDate().getFullYear() - e.getFullYear()
         },
         monthsSince: function(e) {
             var t = this.ServerDate();
             return 12 * (t.getFullYear() - e.getFullYear()) + (t.getMonth() - e.getMonth())
         },
         daysSince: function(e) {
             var t = this.ServerDate()
               , i = t.getTime()
               , s = e.getTime()
               , n = 864e5
               , a = (i - s) / n
               , o = (i - s) % n / n;
             return o > 0 && o * n > 1e3 * this.secondsSinceMidnight(t) && a++,
             ~~a
         },
         hoursSince: function(e) {
             return ~~((this.ServerDate().getTime() - e.getTime()) / 36e5)
         },
         minutesSince: function(e) {
             return ~~((this.ServerDate().getTime() - e.getTime()) / 6e4)
         },
         secondsSince: function(e) {
             return ~~((this.ServerDate().getTime() - e.getTime()) / 1e3)
         },
         monthName: function(e, t) {
             var i = this.MONTHS[e.getMonth()];
             return t ? i : i.substr(0, 3)
         },
         secondsSinceMidnight: function(e) {
             var t = new Date(e.getTime());
             return this.midnight(t),
             ~~((e.getTime() - t.getTime()) / 1e3)
         },
         midnight: function(e) {
             e.setHours(0),
             e.setMinutes(0),
             e.setSeconds(0),
             e.setMilliseconds(0)
         },
         minutesUntil: function(e) {
             return ~~((e.getTime() - this.ServerDate().getTime()) / 6e4)
         },
         secondsUntil: function(e) {
             return ~~((e.getTime() - this.ServerDate().getTime()) / 1e3)
         },
         millisecondsUntil: function(e) {
             return e.getTime() - this.ServerDate().getTime()
         },
         ServerDate: function() {
             return new Date(Date.now() + this.OFFSET)
         }
     });
     return new t
 }),
 define("f1e1d/d8478/d23b4", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             id: 0,
             cid: "",
             author: "",
             title: "",
             image: "",
             format: 0,
             duration: 0
         }
     });
     return t
 }),
 define("f1e1d/af752/e6c91", ["f1e1d/e718c/b5ee0"], function(e) {
     var t = e.extend({
         init: function() {
             this.newSeed()
         },
         newSeed: function() {
             this.seed = ~~(2147483646 * Math.random())
         },
         double: function() {
             return this.gen() / 2147483647
         },
         integer: function(e, t) {
             return e -= .4999,
             t += .4999,
             Math.round(e + (t - e) * this.double())
         },
         float: function(e, t) {
             return e + (t - e) * this.double()
         },
         gen: function() {
             return this.seed = 16807 * this.seed % 2147483647
         }
     });
     return t.MASTER = new t,
     t
 }),
 define("f1e1d/af752/fd6ec", [], function() {
     var e = {};
     return e.background = "https://cdn-prod.plug.dj/_/static/images/community/background.892bc86f530eb3f7a53a2cc60f0c0be481798175.jpg",
     e.videoframe = "https://cdn-prod.plug.dj/_/static/images/community/videoframe.e7ab48fd1cf6af66e4d39c52714494beb35787a2.png",
     e.tastycat = "https://cdn-prod.plug.dj/_/static/js/custom/tastycat.9be380cdbcedcd15d0d7fd3fd5b54bad4866c8c0.js",
     e.tasty = "https://cdn-prod.plug.dj/_/static/js/custom/tasty.f348b9574295c25a9711a38c9ec422dc1e63a14e.js",
     e.minecraft = "https://cdn-prod.plug.dj/_/static/js/custom/minecraft.d3496b23df7cfa25a1b5bed76e52605cdf19b954.js",
     e.monstercat = "https://cdn-prod.plug.dj/_/static/js/custom/monstercat.f616089d13010f541099a331e6b3c5ef96595285.js",
     e.nightcore = "https://cdn-prod.plug.dj/_/static/js/custom/nightcore.076c0e095bd9facde46fcc28951bbc6ec0ac0124.js",
     e.thenation = "https://cdn-prod.plug.dj/_/static/js/custom/thenation.7eda2d55f3b560eee4ae60ff532c3920b3edfe06.js",
     e.rtreesmusic = "https://cdn-prod.plug.dj/_/static/js/custom/rtreesmusic.59e18ba3b67e6610fa02355dff718e8fd2c3477e.js",
     e.scThumbnail = "https://cdn-prod.plug.dj/_/static/images/soundcloud_thumbnail.c6d6487d52fe2e928a3a45514aa1340f4fed3032.png",
     e.sfx = "https://cdn-prod.plug.dj/_/static/sfx/badoop.801a12ca13864e90203193b2c83c019c03a447d1.mp3",
     e.fb = "/_/static/images/fbimage.png",
     e.wbundle = "/_/static/images/2014winterbundle.jpg",
     e.gifLoading = "https://cdn-prod.plug.dj/_/static/images/loading.998f0c92d48a164132b0275ea87e5634a0f87a3f.gif",
     e.cssbase = "https://cdn-prod.plug.dj/_/static/css/base.4703cb8796ecdc3b7b6b4482538a5038dc949fd6.css",
     e.csspopout = "https://cdn-prod.plug.dj/_/static/css/popout.db4c6fdada9da9e0466cf65e04d67589dc42fb7a.css",
     e.cssroboto = "https://cdn-prod.plug.dj/_/static/css/roboto.fd2c7ff69d15f59da1c2c37af3aa248a0a0eed42.css",
     e.css_bg = "https://cdn-prod.plug.dj/_/static/css/lang/bg.c772da3bccca7b26c89ed13f44d005d808651945.css",
     e.css_bs = "https://cdn-prod.plug.dj/_/static/css/lang/bs.ba5fce3c44666ad6cf98cb7d1b0141f101a5c0e5.css",
     e.css_cs = "https://cdn-prod.plug.dj/_/static/css/lang/cs.2bfce24c80166a02e2b2da64cb73a8c93f3bb0b6.css",
     e.css_da = "https://cdn-prod.plug.dj/_/static/css/lang/da.30de12c44db4c39ce91c246ad254a250f2317146.css",
     e.css_de = "https://cdn-prod.plug.dj/_/static/css/lang/de.cf6248da207c684d0e2bd32d48dd560cb1d526f9.css",
     e.css_en = "https://cdn-prod.plug.dj/_/static/css/lang/en.4dc5a508b3bb1c37d7d9f14b98120ac5c691f72a.css",
     e.css_es = "https://cdn-prod.plug.dj/_/static/css/lang/es.b5c624b0563f241f16deb3b190478f33333fe687.css",
     e.css_et = "https://cdn-prod.plug.dj/_/static/css/lang/et.b3882116df86adf900dd60eae844b25e6f7c6209.css",
     e.css_fi = "https://cdn-prod.plug.dj/_/static/css/lang/fi.1e0427755efc175bdb1e8113a623e9c6f90e838e.css",
     e.css_fr = "https://cdn-prod.plug.dj/_/static/css/lang/fr.6597799f28c99a886d50f1c592cc0bea94077f1a.css",
     e.css_hr = "https://cdn-prod.plug.dj/_/static/css/lang/hr.e82d0c8aecdc45cf7cc832d00006cc4a82fe0262.css",
     e.css_hu = "https://cdn-prod.plug.dj/_/static/css/lang/hu.9f002a3f01e58cc5c0c1071b5ed6a784e2a2dfdf.css",
     e.css_it = "https://cdn-prod.plug.dj/_/static/css/lang/it.12a830785745259a85886ea008ae315d70bbc368.css",
     e.css_ja = "https://cdn-prod.plug.dj/_/static/css/lang/ja.b0a8b7b42d5e2a2a409fc4eb72b665e8e1e35a50.css",
     e.css_ko = "https://cdn-prod.plug.dj/_/static/css/lang/ko.e4639be248a1bf6210627ec2df3adb2379030c63.css",
     e.css_lt = "https://cdn-prod.plug.dj/_/static/css/lang/lt.f30d0495975f97d2713bb67f0c24a67946a9368e.css",
     e.css_lv = "https://cdn-prod.plug.dj/_/static/css/lang/lv.ff5385ddd64a5be70a4876142aa9cde0251f7e23.css",
     e.css_ms = "https://cdn-prod.plug.dj/_/static/css/lang/ms.e355ab666d2baba12de2d100641058043c1c766d.css",
     e.css_nl = "https://cdn-prod.plug.dj/_/static/css/lang/nl.504617b928a8f8425d1ff98183e0a38888482796.css",
     e.css_no = "https://cdn-prod.plug.dj/_/static/css/lang/no.15dcc9b49d1974577d22e2e1a8c9c4ef2972532b.css",
     e.css_pi = "https://cdn-prod.plug.dj/_/static/css/lang/pi.77cd90ec1f484b4f651caa1bfebc0cb22eab055b.css",
     e.css_pl = "https://cdn-prod.plug.dj/_/static/css/lang/pl.9327ca9c9d76681e76d4bad5e65843790f67ae9d.css",
     e.css_pt = "https://cdn-prod.plug.dj/_/static/css/lang/pt.10b32230f72dd1d0a5963e9ff704bdc5a2fa82fd.css",
     e.css_sk = "https://cdn-prod.plug.dj/_/static/css/lang/sk.e9130c753984b9aa47ecaa0d947319c6eb272341.css",
     e.css_sl = "https://cdn-prod.plug.dj/_/static/css/lang/sl.71e3e17da679f0338a14c99667a560792ed71289.css",
     e.css_sr = "https://cdn-prod.plug.dj/_/static/css/lang/sr.1df76be8e96169dbc9638d5329b2ccfc038e147d.css",
     e.css_sv = "https://cdn-prod.plug.dj/_/static/css/lang/sv.7fd8534e5eb12c468c2af4ada9611765a05fbf0c.css",
     e.css_th = "https://cdn-prod.plug.dj/_/static/css/lang/th.42a60531bd5251d7ecbd49d30ba4dc57dde08958.css",
     e.css_tr = "https://cdn-prod.plug.dj/_/static/css/lang/tr.482ffaa32266ac5e799a353bef0f028a8ef2e077.css",
     e.css_zh = "https://cdn-prod.plug.dj/_/static/css/lang/zh.83f68764dd70fc5a1ef3daf114c523e519947f25.css",
     e.syncing = "/_/visualizers/arcs",
     e.abstract = "/_/visualizers/abstract",
     e.balls = "/_/visualizers/balls",
     e.rainbow1 = "/_/visualizers/rainbow1",
     e.rainbow2 = "/_/visualizers/rainbow2",
     e
 }),
 define("f1e1d/af752/e504b", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/e718c/b5ee0", "f1e1d/d8478/b885e", "f1e1d/d8478/d23b4", "f1e1d/af752/abc02", "f1e1d/af752/e6c91", "f1e1d/af752/fd6ec", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = s.extend({
         init: function() {
             this.Rndm = new r,
             this.$div = e("<div/>"),
             this.isorx = /^P([0-9]+D|)?T?([0-9]+H|)?([0-9]+M|)?([0-9]+S|)?$/
         },
         h2t: function(e) {
             return this.$div.html(e).text()
         },
         h2tArray: function(e) {
             for (var t = e.length; t--; )
                 e[t].rawun = e[t].username,
                 e[t].username = this.h2t(e[t].username)
         },
         commafy: function(e) {
             return String(e).replace(/(^|[^\w.])(\d{4,})/g, function(e, t, i) {
                 return t + i.replace(/\d(?=(?:\d\d\d)+(?!\d))/g, "$&" + h.languages.commafy)
             })
         },
         formatTime: t.memoize(function(e) {
             if (isNaN(e))
                 return "0:00";
             e = Math.ceil(e);
             var t, i, s = String(~~(e / 60 / 60));
             "0" !== s ? (t = String(~~(e / 60) - 60 * Number(s)),
             i = !0) : t = String(~~(e / 60)),
             1 === t.length && (t = (i ? "0" : "") + t);
             var n = String(e % 60);
             return 1 === n.length && (n = "0" + n),
             "0" === s ? t + ":" + n : s + ":" + t + ":" + n
         }),
         formatTimeLeading: t.memoize(function(e) {
             if (isNaN(e))
                 return "00:00";
             e = Math.ceil(e);
             var t, i = String(~~(e / 60 / 60));
             t = "0" !== i ? String(~~(e / 60) - 60 * Number(i)) : String(~~(e / 60)),
             1 === t.length && (t = "0" + t);
             var s = String(e % 60);
             return 1 === s.length && (s = "0" + s),
             "0" === i ? t + ":" + s : i + ":" + t + ":" + s
         }),
         getSecondsElapsed: function(e) {
             return e && "0" !== e ? o.secondsSince(new Date(Number(e.substr(0, e.indexOf(","))))) : 0
         },
         toHex: function(e) {
             var t = e.toString(16).toUpperCase();
             return "0x" + String("00000000").substr(0, 8 - t.length) + t
         },
         convertNumberStringToUnixDateString: function(e) {
             var t = e.split(",")
               , i = new Date(Number(t[0]))
               , s = t[1] || "0";
             10 === s.length && (s = s.substr(4));
             var n = String(i.getMonth() + 1);
             1 === n.length && (n = "0" + n);
             var a = String(i.getDate());
             1 === a.length && (a = "0" + a);
             var o = String(i.getHours());
             1 === o.length && (o = "0" + o);
             var r = String(i.getMinutes());
             1 === r.length && (r = "0" + r);
             var l = String(i.getSeconds());
             return 1 === l.length && (l = "0" + l),
             "NaN" !== n && "NaN" !== a && "NaN" !== o && "NaN" !== r && "NaN" !== l ? i.getFullYear() + "-" + n + "-" + a + " " + o + ":" + r + ":" + l + "." + s : "0"
         },
         convertUnixDateStringToNumberString: function(e) {
             try {
                 if (e) {
                     var t = new Date(e.substr(0, 4),Number(e.substr(5, 2)) - 1,e.substr(8, 2),e.substr(11, 2),e.substr(14, 2),e.substr(17, 2))
                       , i = "000000"
                       , s = e.substr(20, 6);
                     return i = i.substr(s.length, 6) + s,
                     String(t.getTime()) + ",0000" + i
                 }
             } catch (e) {
                 console.log("ConvertUnixDate", e)
             }
             return "0"
         },
         convertUnixDateStringToDate: function(e) {
             return e ? new Date(e.substr(0, 4),Number(e.substr(5, 2)) - 1,e.substr(8, 2),e.substr(11, 2),e.substr(14, 2),e.substr(17, 2)) : null
         },
         convertDateToNumberString: function(e) {
             if (!e)
                 return "0";
             var t = String(e.getMonth() + 1);
             1 === t.length && (t = "0" + t);
             var i = String(e.getDate());
             1 === i.length && (i = "0" + i);
             var s = String(e.getHours());
             1 === s.length && (s = "0" + s);
             var n = String(e.getMinutes());
             1 === n.length && (n = "0" + n);
             var a = String(e.getSeconds());
             return 1 === a.length && (a = "0" + a),
             e.getFullYear() + "-" + t + "-" + i + " " + s + ":" + n + ":" + a + ".000000"
         },
         convertDateToUnixDateString: function(e) {
             if (!e)
                 return "0";
             var t = String(e.getMonth() + 1);
             1 === t.length && (t = "0" + t);
             var i = String(e.getDate());
             1 === i.length && (i = "0" + i);
             var s = String(e.getHours());
             1 === s.length && (s = "0" + s);
             var n = String(e.getMinutes());
             1 === n.length && (n = "0" + n);
             var a = String(e.getSeconds());
             return 1 === a.length && (a = "0" + a),
             "NaN" !== t && "NaN" !== i && "NaN" !== s && "NaN" !== n && "NaN" !== a ? e.getFullYear() + "-" + t + "-" + i + " " + s + ":" + n + ":" + a + ".000000" : "0"
         },
         getServerEpoch: function() {
             return ~~((Date.now() + o.OFFSET) / 1e3)
         },
         getSimpleTimestamp: function() {
             return this.convertDateToNumberString(new Date).split(".").shift().split(" ").pop()
         },
         getChatTimestamp: function(e) {
             var t = new Date
               , i = t.getHours()
               , s = String(t.getMinutes());
             1 === s.length && (s = "0" + s);
             var n;
             if (e)
                 i < 10 && (i = "0" + i),
                 n = i + ":" + s;
             else {
                 var a = "am";
                 i > 12 ? (i -= 12,
                 a = "pm") : 0 === i ? i = 12 : 12 === i && (a = "pm"),
                 n = i + ":" + s + a
             }
             return n
         },
         convertChatTimestamp: function(e, t) {
             var i, s = e.indexOf("am") > -1 || e.indexOf("pm") > -1;
             if (24 === t && s)
                 return i = parseInt(e.split(":")[0]),
                 e.indexOf("pm") > -1 && i < 12 && (i += 12),
                 i + ":" + e.substr(0, e.length - 2).split(":")[1];
             if (12 === t && !s) {
                 i = parseInt(e.split(":")[0]);
                 var n = "am";
                 return i > 12 ? (n = "pm",
                 i -= 12) : 0 === i ? i = 12 : 12 === i && (n = "pm"),
                 i + ":" + e.split(":")[1] + n
             }
             return e
         },
         convertTimestampToReadableDate: function(e, t) {
             if (!e)
                 return "";
             var i = Number(e.split(",")[0])
               , s = new Date(i)
               , a = o.monthsSince(s)
               , r = o.daysSince(s)
               , l = ""
               , c = "ja" !== n.get("language") && n.get("language").indexOf("zh") === -1 ? " " : "";
             if (a > 1 || 1 === a && r >= 30)
                 return l = a > 1 ? h.history.months : h.history.month,
                 l = a + c + l,
                 t ? h.history.ago.split("%TIME%").join(l) : l;
             var p = o.hoursSince(s);
             if (r > 1 || 1 === r && p >= 24)
                 return l = r > 1 ? h.history.days : h.history.day,
                 l = r + c + l,
                 t ? h.history.ago.split("%TIME%").join(l) : l;
             var d = o.minutesSince(s);
             if (p > 1 || 1 === p && d >= 60)
                 return l = p > 1 ? h.history.hours : h.history.hour,
                 l = p + c + l,
                 t ? h.history.ago.split("%TIME%").join(l) : l;
             var u = Math.max(o.secondsSince(s), 0);
             return d > 1 || 1 === d && u >= 60 ? (l = d > 1 ? h.history.minutes : h.history.minute,
             l = d + c + l,
             t ? h.history.ago.split("%TIME%").join(l) : l) : (l = 1 !== u ? h.history.seconds : h.history.second,
             l = u + c + l,
             t ? h.history.ago.split("%TIME%").join(l) : l)
         },
         countdown: function(e) {
             if (!e)
                 return "";
             var t = ~~(e / 86400);
             e -= 86400 * t;
             var i = ~~(e / 3600);
             e -= 3600 * i;
             var s = ~~(e / 60);
             e -= 60 * s;
             var n = e + h.history.letterSecond;
             return s ? n = s + h.history.letterMinute + " " + n : (i || t) && (n = "0" + h.history.letterMinute + " " + n),
             i ? n = i + h.history.letterHour + " " + n : t && (n = "0" + h.history.letterHour + " " + n),
             t && (n = t + h.history.letterDay + " " + n),
             n
         },
         convertUnixDateStringToMDY: function(e, t) {
             var i = e ? this.convertUnixDateStringToDate(e) : new Date(2011,1,29)
               , s = i.getUTCMonth() + 1
               , n = i.getUTCDate()
               , a = i.getUTCFullYear();
             return t.split("MM").join(s).split("DD").join(n).split("YYYY").join(a)
         },
         validateIncomingURL: function(e) {
             if (e) {
                 var t;
                 return e.indexOf("youtube.com") > -1 && e.indexOf("v=") > -1 ? t = this.cleanYouTubeURL(e) : e.indexOf("youtu.be") > -1 ? t = this.cleanYouTubeURL("https://www.youtube.com/watch?v=" + e.split("/").pop()) : e.indexOf("soundcloud.com") > -1 && (t = e),
                 t ? t.indexOf("#") === -1 ? t : String(t.split("#")[0]) : null
             }
             return null
         },
         cleanYouTubeURL: function(e) {
             return e.replace(/(.+?)[\#\!|\?].*?v=(.+?)(\&.*|$)/, "$1?v=$2")
         },
         cleanString: function(e) {
             return e.replace(/[\u25c4]/g, "")
         },
         cleanTypedString: function(e) {
             return e.split("<").join("&lt;").split(">").join("&gt;")
         },
         authorTitle: function(e) {
             if (e) {
                 var t = ""
                   , i = e
                   , s = e.indexOf(" - ");
                 if (s > -1)
                     t = e.substr(0, s),
                     i = e.substr(s + 3);
                 else if (s = e.indexOf("-"),
                 s > -1)
                     t = e.substr(0, s),
                     i = e.substr(s + 1);
                 else if (s = e.indexOf(' "'),
                 s > -1) {
                     var n = e.indexOf('"', s + 2);
                     n > -1 && (t = e.substr(0, s),
                     i = e.substring(s + 2, n))
                 }
                 return t = this.cleanString(t),
                 i = this.cleanString(i),
                 {
                     author: t,
                     title: i
                 }
             }
             return {
                 author: null,
                 title: null
             }
         },
         iso8601: function(e) {
             if (!e)
                 return 60;
             var t = e.match(this.isorx)
               , i = 0;
             return t[4] && (i += parseFloat(t[4])),
             t[3] && (i += 60 * parseFloat(t[3])),
             t[2] && (i += 3600 * parseFloat(t[2])),
             t[1] && (i += 86400 * parseFloat(t[1])),
             i || 60
         },
         deserializeMute: function(e) {
             e.moderator = this.h2t(e.moderator),
             e.username = this.h2t(e.username)
         },
         deserializeDashboard: function(e) {
             e.name = this.h2t(e.name),
             e.host = this.h2t(e.host),
             e.population = parseInt(e.population),
             e.guests = parseInt(e.guests)
         },
         deserializeRoom: function(e) {
             e.meta.rawname = e.meta.name,
             e.meta.name = this.h2t(e.meta.name),
             e.meta.hostName && (e.meta.hostName = this.h2t(e.meta.hostName)),
             e.playback && e.playback.media && this.deserializeMedia(e.playback.media),
             this.h2tArray(e.users)
         },
         deserializeUser: function(e) {
             e.rawun = e.username,
             e.guest && (e.username = h.userStatus.thisIsYou),
             e.username = this.h2t(e.username),
             e.avatarID || (e.avatarID = "base01")
         },
         deserializeFriend: function(e) {
             e.username = this.h2t(e.username),
             e.room && e.room.name && (e.room.name = this.h2t(e.room.name)),
             e.timestamp && (e.timestamp = this.convertUnixDateStringToNumberString(e.timestamp))
         },
         deserializeStoreItem: function(e) {
             e.expires && (e.expires = this.convertUnixDateStringToMDY(e.expires, h.userStore.availableUntil))
         },
         deserializePlaylist: function(e) {},
         deserializeMedia: function(e) {
             e.image && (e.image.indexOf("soundcloudDefault") > -1 || e.image.indexOf("soundcloud_thumbnail") > -1 ? e.image = l.scThumbnail : 0 !== e.image.indexOf("/_/static") && (e.image = "//" + e.image.split("://").pop()))
         },
         deserializeHistoryItem: function(e) {
             e.timestamp = this.convertUnixDateStringToNumberString(e.timestamp),
             e.cid = e.id,
             e.room.name = this.h2t(e.room.name),
             e.user.username = this.h2t(e.user.username),
             this.deserializeMedia(e.media),
             e.media.id = "0"
         },
         deserializeNotification: function(e) {
             e.timestamp = this.convertUnixDateStringToNumberString(e.timestamp),
             "avibadge" === e.action && 0 === e.value.indexOf("b-") && (e.value = e.value.substr(2))
         },
         deserializeBan: function(e) {
             e.username = this.h2t(e.username),
             e.moderator = this.h2t(e.moderator),
             e.timestamp = this.convertUnixDateStringToNumberString(e.timestamp)
         },
         mergeStoreItems: function(e) {
             for (var t, i = {}, s = e.length; s--; )
                 t = e[s],
                 i[t.name] ? (!i[t.name].sub && t.sub && (i[t.name].sub = t.sub),
                 !i[t.name].pp && t.pp && (i[t.name].pp = t.pp,
                 i[t.name].id = t.id)) : i[t.name] = e[s];
             var a = [];
             for (var o in i)
                 (!i[o].sub || n.get("sub") < 1) && a.push(i[o]);
             return a
         },
         serializeMediaItems: function(e) {
             for (var i = [], s = e.length, n = {}, o = 0; o < s; ++o)
                 if (e[o]) {
                     var r = e[o];
                     "function" != typeof r.get && "undefined" != typeof r.id && (r = new a(r)),
                     t.isNumber(r.get("id")) ? n[r.get("id")] || (n[r.get("id")] = !0,
                     i.push(r.get("id"))) : i.push({
                         id: 0,
                         format: r.get("format"),
                         cid: r.get("cid"),
                         author: r.get("author"),
                         title: r.get("title"),
                         image: r.get("image"),
                         duration: Math.ceil(Number(r.get("duration")))
                     })
                 }
             return i
         },
         quadEaseOut: function(e, t, i, s) {
             return e /= s,
             -i * e * (e - 2) + t
         },
         quadEaseIn: function(e, t, i, s) {
             return e /= s,
             i * e * e + t
         },
         randomizeArray: function(e) {
             var t = [].concat(e);
             this.Rndm.newSeed();
             try {
                 for (var i = t.length - 1, s = i + 1; --s; ) {
                     var n = this.Rndm.integer(0, s + 1);
                     n > i && (n = i);
                     var a = t[s]
                       , o = t[n];
                     t[s] = o,
                     t[n] = a
                 }
                 return t
             } catch (t) {
                 return this.randomizeArray(e)
             }
         },
         hexToRGB: t.memoize(function(e) {
             if ("#" == e[0] && (e = e.substr(1)),
             3 == e.length) {
                 var t = e;
                 e = "",
                 t = /^([a-f0-9])([a-f0-9])([a-f0-9])$/i.exec(t).slice(1);
                 for (var i = 0; i < 3; i++)
                     e += t[i] + t[i]
             }
             var s = /^([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(e).slice(1);
             return {
                 red: parseInt(s[0], 16),
                 green: parseInt(s[1], 16),
                 blue: parseInt(s[2], 16)
             }
         }),
         forceRefresh: function() {
             window.location.reload()
         },
         aviClass: function(e) {
             return e.indexOf("-s") > -1 ? e += " s" : e.indexOf("-t") > -1 ? e += " t" : e.indexOf("-e") > -1 && (e += " e"),
             e
         },
         badgeClass: function(e) {
             return e.indexOf("-s") > -1 ? e += " s" : e.indexOf("-g") > -1 ? e += " g" : e.indexOf("-e") > -1 ? e += " e" : e.indexOf("-o") > -1 && (e += " o"),
             e
         },
         applyTooltip: function(e, i) {
             tippy = window.tippy;
             var s;
             void 0 !== tippy && (i = t.extend({
                 delay: 50,
                 arrow: !0,
                 animation: "shift-toward",
                 inertia: !0,
                 duration: [600, 300],
                 dynamicTitle: !0
             }, i),
             s = tippy(e || "[title]", i),
             this.tooltips = s.tooltips)
         },
         slugify: function(e) {
             return e.toString().toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-]+/g, "").replace(/\-\-+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
         }
     });
     return new c
 }),
 define("f1e1d/af752/bfef4", ["jquery", "underscore", "backbone", "f1e1d/e718c/b5ee0", "f1e1d/af752/fa88e"], function(e, t, i, s, n) {
     var a = s.extend({
         options: {},
         init: function() {},
         log: function() {
             n.isProduction === !1 && void 0 !== console.log && console.log.apply(console, arguments)
         },
         debug: function() {
             n.isProduction === !1 && void 0 !== console.debug && console.debug.apply(console, arguments)
         },
         error: function() {
             n.isProduction === !1 && void 0 !== console.error && console.error.apply(console, arguments)
         },
         info: function() {
             n.isProduction === !1 && void 0 !== console.info && console.info.apply(console, arguments)
         }
     });
     return new a
 }),
 define("f1e1d/af752/e1224", ["underscore", "f1e1d/d8478/b885e", "f1e1d/af752/bfef4"], function(e, t, i) {
     var s = function() {
         return this.default.bind(this)
     };
     return s.prototype = {
         default: function() {
             if (this.isAvailable() === !1)
                 throw Exception("Analytics is not available");
             var t = Array.prototype.splice.call(arguments, 0)
               , s = this.getDimensions()
               , n = t[t.length - 1];
             e.isObject(n) === !0 ? (e.defaults(n, s),
             t[t.length - 1] = n) : t = t.concat([s]),
             ga.apply(ga, t),
             i.debug("[ga] SendEvent::Arguments %o", t)
         },
         getDimensions: function() {
             return {
                 dimension8: !this.isGuest(),
                 dimension9: !this.isGuest()
             }
         },
         isGuest: function() {
             return t.isGuest()
         },
         isAvailable: function() {
             return void 0 !== window.ga && null !== window.ga
         }
     },
     new s
 }),
 define("f1e1d/af752/e7b9f", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/e718c/b5ee0", "f1e1d/d8478/b885e", "f1e1d/af752/abc02", "f1e1d/af752/e504b", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o) {
     var r = 29e4
       , l = i.extend({
         init: function() {
             t.on("track:push", this.onTrackPush, this),
             setInterval(e.bind(this.activity, this), r),
             s.get("guest") || setTimeout(function() {
                 o("send", "event", "Heartbeat", "heartbeat")
             }, 1e4)
         },
         community: function() {
             window.analytics && window.location.pathname.replace(/\//g, "").length > 0 && (window.analytics.page(window.location.pathname.replace(/\//g, "")),
             window.analytics.track("community", {
                 category: "View",
                 label: window.location.pathname.replace(/\//g, "")
             }))
         },
         search: function(e, t) {
             o("send", "pageview", "/_/" + t + "?q=" + e)
         },
         levelup: function(e) {
             window.analytics && s.get("joined") && window.analytics.track("Level " + e, {
                 category: "Level Up",
                 label: "Days Since",
                 value: n.daysSince(a.convertUnixDateStringToDate(s.get("joined")))
             })
         },
         identify: function(e) {
             if (window.analytics) {
                 var t = {};
                 e.guest ? (t.guest = !0,
                 t.language = e.language,
                 t.locale = window._loc) : (t.language = e.language,
                 t.locale = window._loc,
                 t.createdAt = e.joined,
                 t.avatar = e.avatarID,
                 t.badge = e.badge,
                 t.level = e.level,
                 t.payments = e.payments,
                 t.username = e.username,
                 t.videoOnly = e.settings.videoOnly),
                 e.sub && (t.subscriber = !0),
                 window.analytics.identify(e.id, t),
                 "/dashboard" !== window.location.pathname ? window.analytics.track("community", {
                     category: "View",
                     label: window.location.pathname.replace(/\//g, "")
                 }) : window.analytics.track("dashboard", {
                     category: "View"
                 })
             }
         },
         actual: function(e, t, i, s) {
             window.analytics && window.analytics.track(t, {
                 category: e,
                 label: i,
                 value: s
             })
         },
         pushState: function(e, t) {
             t && history.pushState(null, e, t)
         },
         activity: function() {
             s.get("guest") || o("send", "event", "Heartbeat", "heartbeat")
         },
         onTrackPush: function(e) {
             this.pushState.apply(this, e)
         }
     });
     return new l
 }),
 define("f1e1d/e74c9/c00f1/b182f", ["jquery", "underscore", "backbone", "hbs!templates/dialogs/DialogCancel", "hbs!templates/dialogs/DialogCheckBox", "hbs!templates/dialogs/DialogHeader", "hbs!templates/dialogs/DialogInputContainer", "hbs!templates/dialogs/DialogMenu", "hbs!templates/dialogs/DialogMenuOption", "hbs!templates/dialogs/DialogSubmit", "hbs!templates/dialogs/DialogTextArea", "f1e1d/e718c/b7acd", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m) {
     var g = i.View.extend({
         initialize: function() {
             this.keyDownBind = t.bind(this.onKeyDown, this),
             this.closeBind = t.bind(this.close, this),
             this.containerBind = t.bind(this.onContainerClick, this),
             this.focusBind = t.bind(this.onFocus, this),
             this.blurBind = t.bind(this.onBlur, this)
         },
         dispatch: function(e) {
             p.dispatch(e)
         },
         submit: function() {},
         cancel: function() {
             this.close()
         },
         onKeyDown: function(e) {
             var t;
             if (!e)
                 return !0;
             if (t = e.which || e.keyCode,
             this.importing)
                 return !0;
             if (13 === t) {
                 if (!this.onKeyEnter(e))
                     return !1
             } else {
                 if (27 === t)
                     return this.onKeyEscape(e);
                 this.onKeyCustom(e)
             }
             return !0
         },
         onKeyEnter: function(e) {
             return e.preventDefault(),
             this.submit(),
             !1
         },
         onKeyEscape: function(e) {
             return e.stopPropagation(),
             e.preventDefault(),
             this.close(),
             !1
         },
         onKeyCustom: function(e) {},
         getHeader: function(i) {
             var s = e(a({
                 title: i
             }));
             return s.find(".icon-dialog-close").on("click", t.bind(this.closeWithTracking, this)),
             s
         },
         getBody: function() {
             return e("<div/>").addClass("dialog-body")
         },
         getSingleFrame: function(t) {
             return e("<div/>").addClass("dialog-frame-single")
         },
         getButtons: function(t, i, s) {
             var n = e("<div/>").addClass("dialog-frame");
             return i && n.append(this.getCancelButton(i)),
             t && n.append(this.getSubmitButton(t)),
             s && n.append(this.getSubmitButton(s, !0)),
             n
         },
         getCancelButton: function(i) {
             return e(s({
                 label: i === !0 ? m.dialog.cancel : i
             })).on("click", t.bind(this.cancel, this))
         },
         getSubmitButton: function(i, s) {
             return e(h({
                 label: i,
                 subscribe: s
             })).on("click", t.bind(this.submit, this))
         },
         getInputField: function(t, i, s, n, a, r) {
             var l = e(o({
                 name: t,
                 label: i,
                 placeholder: s,
                 value: n,
                 maxlength: a,
                 disabled: r
             }));
             return l.find("input").on("keydown", this.keyDownBind).on("focus", this.focusBind).on("blur", this.blurBind),
             l
         },
         getTextArea: function(t, i, s, n, a, o) {
             var r = e(c({
                 name: t,
                 label: i,
                 value: s,
                 rows: n,
                 cols: a,
                 maxlength: o
             }));
             return r.find("textarea").on("keyup", function() {
                 var t = parseInt(e(this).attr("maxlength"));
                 e(this).val().length > t && e(this).val(e(this).val().substr(0, e(this).attr("maxlength")))
             }),
             r
         },
         getCheckBox: function(t, i, s, a) {
             return e(n({
                 label: t,
                 name: i,
                 checked: s,
                 disabled: a
             }))
         },
         getMenu: function(t, i, s, n, a) {
             for (var o = "", h = s.length, c = 0; c < h; ++c)
                 o += l(s[c].hasOwnProperty("label") ? {
                     selected: n === s[c].value,
                     value: s[c].value,
                     label: s[c].label
                 } : {
                     selected: n === s[c],
                     label: s[c]
                 });
             var p = e(r({
                 label: t,
                 name: i,
                 disabled: a
             }));
             return p.find("select").append(o),
             p
         },
         getMessage: function(e) {
             return '<span class="message">' + e + "</span>"
         },
         show: function() {
             e(document).on("keydown", this.keyDownBind),
             e("#dialog-container").on("click", this.containerBind),
             d.currentDialog = this
         },
         onContainerClick: function(t) {
             "dialog-container" === e(t.target).attr("id") && this.close()
         },
         onFocus: function(t) {
             e(t.target).parent().addClass("focused")
         },
         onBlur: function(t) {
             e(t.target).parent().removeClass("focused")
         },
         close: function() {
             e("#dialog-container").off("click", this.containerBind),
             e(document).off("keydown", this.keyDownBind),
             this.$(".button").off(),
             this.$(".icon-dialog-close").off(),
             this.$("input").off(),
             this.$("textarea").off(),
             this.keyDownBind = void 0,
             d.currentDialog = void 0,
             this.$el.empty(),
             this.trigger("close")
         },
         closeWithTracking: function() {
             e(".dialog-frame-single")[0] && u.actual("Forced Page", "Close", this.referrer),
             e("#dialog-container").off("click", this.containerBind),
             e(document).off("keydown", this.keyDownBind),
             this.$(".button").off(),
             this.$(".icon-dialog-close").off(),
             this.$("input").off(),
             this.$("textarea").off(),
             this.keyDownBind = void 0,
             d.currentDialog = void 0,
             this.$el.empty(),
             this.trigger("close")
         },
         render: function() {
             return this.show(),
             this
         }
     });
     return g
 }),
 define("f1e1d/e74c9/c00f1/cfc88", ["underscore", "f1e1d/e8300/bef7f", "f1e1d/e74c9/c00f1/b182f", "lang/Lang"], function(e, t, i, s) {
     var n = i.extend({
         id: "dialog-alert",
         className: "dialog",
         render: function() {
             return this.$el.append(this.getHeader(this.options.title || s.alerts.alert)).append(this.getBody().append(this.getMessage(this.options.message))).append(this.getButtons(s.dialog.ok)),
             e.defer(e.bind(this.adjustTop, this)),
             this._super()
         },
         adjustTop: function() {
             this.$(".dialog-body .message").css("top", (this.$(".dialog-body").height() - this.$(".dialog-body .message").height()) / 2)
         },
         submit: function() {
             this.doAction(),
             this.close()
         },
         doAction: function() {
             this.options.action && (this.options.action instanceof t ? this.dispatch(this.options.action) : e.isFunction(this.options.action) && this.options.action(),
             this.options.forceAction = !1)
         },
         close: function() {
             this.options.forceAction && this.doAction(),
             this.options.message = void 0,
             this.options.action = void 0,
             this.options.title = void 0,
             this.options.forceAction = void 0,
             this._super()
         },
         onKeyEnter: function(e) {
             return e.preventDefault(),
             this.submit(),
             !1
         }
     });
     return n
 }),
 define("f1e1d/e74c9/c00f1/e79e6", ["underscore", "f1e1d/e8300/bef7f", "f1e1d/e74c9/c00f1/b182f"], function(e, t, i) {
     var s = i.extend({
         id: "dialog-confirm",
         className: "dialog destructive",
         render: function() {
             return this.$el.append(this.getHeader(this.options.title)).append(this.getBody().append(this.getMessage(this.options.message))).append(this.getButtons(this.options.title, !0)),
             e.defer(e.bind(this.adjustTop, this)),
             this._super()
         },
         adjustTop: function() {
             this.$(".dialog-body .message").css("top", (this.$(".dialog-body").height() - this.$(".dialog-body .message").height()) / 2)
         },
         submit: function() {
             this.doAction(),
             this.close()
         },
         doAction: function() {
             this.options.action && (this.options.action instanceof t ? this.dispatch(this.options.action) : e.isFunction(this.options.action) && this.options.action())
         },
         close: function() {
             this.options.message = void 0,
             this.options.action = void 0,
             this.options.title = void 0,
             this._super()
         }
     });
     return s
 }),
 define("f1e1d/e74c9/c00f1/e92b6", ["underscore", "f1e1d/e8300/bef7f", "f1e1d/e74c9/c00f1/b182f"], function(e, t, i) {
     var s = i.extend({
         id: "dialog-sos",
         className: "dialog destructive",
         render: function() {
             return this.$el.append(this.getHeader(this.options.title)).append(this.getBody().append(this.getMessage(this.options.message))).append(this.getButtons(this.options.title, !0)),
             e.defer(e.bind(this.adjustTop, this)),
             this._super()
         },
         adjustTop: function() {
             this.$(".dialog-body .message").css("top", (this.$(".dialog-body").height() - this.$(".dialog-body .message").height()) / 2)
         },
         submit: function() {
             this.doAction(),
             this.close()
         },
         doAction: function() {
             this.options.action && (this.options.action instanceof t ? this.dispatch(this.options.action) : e.isFunction(this.options.action) && this.options.action())
         },
         close: function() {
             this.options.message = void 0,
             this.options.action = void 0,
             this.options.title = void 0,
             this._super()
         }
     });
     return s
 }),
 define("f1e1d/ee86e/afe6c", ["f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/e8300/a815f", "f1e1d/e8300/dcb95", "f1e1d/e74c9/c00f1/cfc88", "f1e1d/e74c9/c00f1/e79e6", "f1e1d/e74c9/c00f1/e92b6"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         execute: function() {
             this.event.type === i.ALERT ? this.dispatch(new s(s.SHOW,new n({
                 title: this.event.title,
                 message: this.event.message,
                 action: this.event.action,
                 forceAction: this.event.forceAction
             }))) : this.event.type === i.CONFIRM ? this.dispatch(new s(s.SHOW,new a({
                 title: this.event.title,
                 message: this.event.message,
                 action: this.event.action
             }))) : this.event.type === i.SOS && this.dispatch(new s(s.SHOW,new o({
                 title: this.event.title,
                 message: this.event.message,
                 action: this.event.action
             }))),
             this._super()
         }
     });
     return t.mapEvent(i.ALERT, r, i),
     t.mapEvent(i.CONFIRM, r, i),
     t.mapEvent(i.SOS, r, i),
     r
 }),
 define("f1e1d/e718c/cb6a9", ["underscore", "f1e1d/e718c/f325a", "f1e1d/af752/b1e26"], function(e, t, i) {
     var s = t.extend({
         init: function(e) {
             this._super(e),
             s.commands.addItem(this, !0)
         },
         listenTo: function(t) {
             t.on("success", e.bind(this.onSuccess, this)).on("error", e.bind(this.onError, this))
         },
         onSuccess: function() {},
         onError: function() {
             this.finish()
         },
         finish: function() {
             this.event = void 0,
             delete this.event,
             s.commands.removeItem(this)
         }
     });
     return s.commands = new i,
     s
 }),
 define("f1e1d/d8478/a40fd", ["f1e1d/d8478/edecb"], function(e) {
     var t = e.extend({
         defaults: {
             id: 0,
             username: "",
             moderator: "",
             duration: -1,
             timestamp: void 0
         }
     });
     return t
 }),
 define("f1e1d/fce39/a992f", ["backbone", "f1e1d/d8478/a40fd"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         comparator: function(e, t) {
             return e.get("timestamp") > t.get("timestamp") ? -1 : e.get("timestamp") < t.get("timestamp") ? 1 : 0
         }
     });
     return new i
 }),
 define("f1e1d/e8300/d583a", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.callback = t
         }
     });
     return t._name = "UserListEvent",
     t.BANS = "UserListEvent:bans",
     t.WAITLIST_BANS = "UserListEvent:waitlistBans",
     t.IGNORED = "UserListEvent:ignored",
     t.MUTES = "UserListEvent:mutes",
     t.STAFF = "UserListEvent:staff",
     t
 }),
 define("f1e1d/d8e24/d8bb8", ["underscore", "f1e1d/e718c/b5ee0"], function(e, t) {
     var i = t.extend({
         execute: function(t, i, s, n) {
             n && (n = JSON.stringify(n)),
             $.ajax({
                 type: t,
                 url: "/_/" + i,
                 data: n,
                 dataType: "json",
                 contentType: "application/json",
                 success: function(t, i, n) {
                     e.isObject(t) ? (t.code = n.status,
                     s && s.onSuccess(t)) : this.error(n)
                 },
                 error: function(e) {
                     s && s.onError(e.status, e.responseJSON || e.responseText)
                 }
             })
         }
     });
     return new i
 }),
 define("f1e1d/be642/bda53", ["underscore", "f1e1d/e718c/b5ee0"], function(e, t) {
     var i = t.extend({
         init: function() {
             this.queue = [],
             this.nextBind = e.bind(this.next, this),
             this.completeBind = e.bind(this.complete, this)
         },
         add: function(e) {
             this.append(e)
         },
         append: function(t) {
             0 === this.queue.length && e.delay(this.nextBind, 10),
             this.queue.push(t)
         },
         next: function() {
             var e = this.queue[0];
             e.on("complete", this.completeBind),
             e.execute()
         },
         complete: function() {
             this.queue.shift(),
             this.queue.length > 0 && e.delay(this.nextBind, 10)
         }
     });
     return new i
 }),
 define("f1e1d/be642/b7b48", ["underscore", "backbone", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/d8e24/d8bb8", "f1e1d/be642/bda53", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = i.extend({
         type: "GET",
         route: void 0,
         init: function(e) {
             e ? o.add(this) : this.execute()
         },
         execute: function() {
             "GET" === this.type || "DELETE" === this.type ? a.execute(this.type, this.route, this) : a.execute(this.type, this.route, this, this.data)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : this.error && this.error()
         },
         onSuccess: function(e) {
             this.parse(e),
             this.cleanup()
         },
         onError: function(t, i) {
             e.isObject(i) && i.status && e.isArray(i.data) ? 401 === t ? this.alert(r.alerts.alert, r.errors.notAuthorized, function() {
                 window.location.href = "/"
             }, !0) : (i.code = t,
             this.parse(i)) : this.onFault(t, i),
             this.cleanup()
         },
         onFault: function(e, t) {
             console.error("SERVER FAULT", e, t)
         },
         cleanup: function() {
             this.complete && this.complete(),
             this.error = this.success = this.complete = this.type = this.route = this.data = void 0,
             delete this.type,
             delete this.route,
             delete this.data,
             delete this.error,
             delete this.success,
             delete this.complete
         },
         dispatch: function(e) {
             return s.dispatch(e),
             this
         },
         trigger: function() {
             return s.trigger.apply(s, arguments),
             this
         },
         alert: function(e, t, i, a) {
             s.dispatch(new n(n.ALERT,e,t,i,a))
         },
         permissionAlert: function(e) {
             e ? s.dispatch(new n(n.ALERT,r.errors.error,r.errors.permissionAdminError.split("%NAME%").join(e))) : s.dispatch(new n(n.ALERT,r.errors.error,r.errors.permissionError))
         },
         on: function(e, t) {
             return "success" === e ? this.success = t : "error" === e ? this.error = t : "complete" === e && (this.complete = t),
             this
         }
     });
     return l
 }),
 define("f1e1d/be642/d7a91/d13cc", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "bans",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 for (var i = e.data.length; i--; )
                     t.deserializeBan(e.data[i]);
                 this.success(e.data)
             } else
                 400 === e.code ? this.error && this.error() : 403 === e.code && (this.permissionAlert(),
                 this.error && this.error())
         }
     });
     return i
 }),
 define("f1e1d/ee86e/c702e", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a992f", "f1e1d/e8300/d583a", "f1e1d/be642/d7a91/d13cc"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             i.reset(),
             this.listenTo(new n)
         },
         onSuccess: function(e) {
             i.reset(e),
             this.finish()
         }
     });
     return t.mapEvent(s.BANS, a, s),
     a
 }),
 define("f1e1d/be642/d7a91/b7597", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "booth/waitlistban",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 for (var i = e.data.length; i--; )
                     t.deserializeBan(e.data[i]);
                 this.success(e.data)
             } else
                 400 === e.code ? this.error && this.error() : 403 === e.code && (this.permissionAlert(),
                 this.error && this.error())
         }
     });
     return i
 }),
 define("f1e1d/ee86e/ed0fa", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a992f", "f1e1d/e8300/d583a", "f1e1d/be642/d7a91/b7597"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             i.reset(),
             this.listenTo(new n)
         },
         onSuccess: function(e) {
             i.reset(e),
             this.finish()
         }
     });
     return t.mapEvent(s.WAITLIST_BANS, a, s),
     a
 }),
 define("f1e1d/e8300/fbb60", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i, s) {
             this._super(e),
             this.id = t,
             this.value = i,
             this.option = s
         }
     });
     return t._name = "ModerateEvent",
     t.ADD_DJ = "ModerateEvent:adddj",
     t.BAN = "ModerateEvent:ban",
     t.WAITLIST_BAN = "ModerateEvent:waitlistban",
     t.WAITLIST_UNBAN = "ModerateEvent:unwaitlistban",
     t.CHAT_DELETE = "ModerateEvent:chatdelete",
     t.MUTE = "ModerateEvent:mute",
     t.REMOVE_DJ = "ModerateEvent:removedj",
     t.ROLE = "ModerateEvent:role",
     t.SKIP = "ModerateEvent:skip",
     t.UNBAN = "ModerateEvent:unban",
     t.UNMUTE = "ModerateEvent:unmute",
     t
 }),
 define("f1e1d/be642/d7a91/b1481", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "booth/waitlistban/" + e,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : 403 === e.code ? (this.permissionAlert(),
             this.error && this.error(e.code)) : 404 === e.code && this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/c51c7", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/fce39/a992f", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/d7a91/b1481", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.extend({
         execute: function() {
             a.hasPermission(o.MANAGER) && s.get(this.event.id) ? this.listenTo(new r(this.event.id)) : this.finish()
         },
         onSuccess: function() {
             s.remove(this.event.id),
             this.event.value && i.trigger("notify", "icon-ban", l.messages.unban.split("%NAME%").join(this.event.value)),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return t.mapEvent(n.WAITLIST_UNBAN, h, n),
     h
 }),
 define("f1e1d/e8300/b892c", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.path = t
         }
     });
     return t._name = "CustomRoomEvent",
     t.CUSTOM = "CustomRoomEvent:custom",
     t
 }),
 define("f1e1d/ee86e/ba0e2", ["underscore", "f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/e8300/b892c"], function(e, t, i, s, n) {
     var a = t.extend({
         execute: function() {
             this.event.path && require([this.event.path], function() {
                 e.delay(function() {
                     s.trigger("custom:load")
                 }, 100)
             })
         }
     });
     return i.mapEvent(n.CUSTOM, a, n),
     a
 }),
 define("f1e1d/d8478/eeaaf", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             isLocked: void 0,
             shouldCycle: void 0,
             currentDJ: void 0,
             waitingDJs: void 0
         }
     });
     return new t
 }),
 define("f1e1d/af752/c96dd", ["f1e1d/d8478/edecb"], function(e) {
     var t = {
         username: function(e, t) {
             return e.get("username").toLowerCase() > t.get("username").toLowerCase() ? 1 : e.get("username").toLowerCase() < t.get("username").toLowerCase() ? -1 : 0;
         },
         role: function(e, i) {
             var s = t._gRole(e, i);
             return 0 !== s ? s : (s = t._sub(e, i),
             0 !== s ? s : t.username(e, i))
         },
         staff: function(e, i) {
             var s = t._role(e, i);
             return 0 !== s ? s : t.username(e, i)
         },
         priority: function(e, i) {
             var s = t._gRole(e, i);
             return 0 !== s ? s : (s = t._epic(e, i),
             0 !== s ? s : (s = t._friend(e, i),
             0 !== s ? s : (s = t._level(e, i),
             0 !== s ? s : (s = t._sub(e, i),
             0 !== s ? s : t.username(e, i)))))
         },
         audience: function(e, t) {
             return e.get("priority") < t.get("priority") ? -1 : e.get("priority") > t.get("priority") ? 1 : 0
         },
         lookup: function(e, t) {
             return e.username.toLowerCase() > t.username.toLowerCase() ? 1 : e.username.toLowerCase() < t.username.toLowerCase() ? -1 : 0
         },
         timestamp: function(e) {
             return -e.get("timestamp")
         },
         uIndex: function(e, t) {
             return e.get("uIndex") > t.get("uIndex") ? 1 : e.get("uIndex") < t.get("uIndex") ? -1 : 0
         },
         _role: function(e, t) {
             var i = e.get("role")
               , s = t.get("role");
             return i > s ? -1 : i < s ? 1 : 0
         },
         _gRole: function(t, i) {
             var s = t.get("gRole")
               , n = i.get("gRole");
             return s !== e.PROMOTER && s !== e.PLOT || (s = 0),
             n !== e.PROMOTER && n !== e.PLOT || (n = 0),
             s || n || (s = t.get("role"),
             n = i.get("role")),
             s > n ? -1 : s < n ? 1 : 0
         },
         _sub: function(e, t) {
             var i = e.get("sub")
               , s = t.get("sub");
             return i && !s ? -1 : !i && s ? 1 : (i = e.get("silver"),
             s = t.get("silver"),
             i && !s ? -1 : !i && s ? 1 : 0)
         },
         _epic: function(e, t) {
             var i = e.get("avatarID")
               , s = t.get("avatarID");
             return i && s ? i.indexOf("-e") > -1 ? -1 : s.indexOf("-e") > -1 ? 1 : 0 : 1
         },
         _level: function(e, t) {
             var i = e.get("level")
               , s = t.get("level");
             return i > s ? -1 : i < s ? 1 : 0
         },
         _friend: function(e, i) {
             var s = e.get("friend")
               , n = i.get("friend");
             return s && !n ? -1 : !s && n ? 1 : s && n ? t.username(e, i) : 0
         }
     };
     return t
 }),
 define("f1e1d/af752/bed76", ["f1e1d/e718c/b5ee0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb"], function(e, t, i) {
     var s, n = e.extend({
         init: function() {
             this.hash = {},
             this.full = {},
             this.groups = ["djs", "rdjs", "bouncers", "managers", "hosts", "staff", "guests", "everyone"],
             t.on("change:role", this.onChange, this),
             this.onChange()
         },
         add: function(e) {
             this.remove(e);
             var t = e.charAt(0).toLowerCase();
             this.hash[t] || (this.hash[t] = [],
             this.hash[t].longest = 0),
             this.hash[t].push(e),
             e.length > this.hash[t].longest && (this.hash[t].longest = e.length),
             this.full[e] = !0
         },
         remove: function(e) {
             var t = e.charAt(0).toLowerCase();
             if (this.hash[t]) {
                 for (var i = this.hash[t].length; i--; )
                     this.hash[t][i] === e && (this.hash[t].splice(i, 1),
                     0 === this.hash[t].length && delete this.hash[t]);
                 if (this.hash[t])
                     for (this.hash[t].longest = 0,
                     i = this.hash[t].length; i--; )
                         this.hash[t][i].length > this.hash[t].longest && (this.hash[t].longest = this.hash[t][i].length)
             }
             this.full[e] = void 0,
             delete this.full[e]
         },
         lookup: function(e) {
             var t = []
               , i = e.length;
             if (i > 0 && i < 24) {
                 var s = e.charAt(0).toLowerCase();
                 if (this.hash[s] && this.hash[s].length > 0 && i < this.hash[s].longest)
                     for (var n = this.hash[s].length; n--; )
                         this.hash[s][n].toLowerCase() !== e.toLowerCase() && 0 === this.hash[s][n].toLowerCase().indexOf(e.toLowerCase()) && t.push(this.hash[s][n])
             }
             return t.sort(this.groupSort),
             t.length = Math.min(t.length, 10),
             t
         },
         exists: function(e) {
             return this.full.hasOwnProperty(e)
         },
         onChange: function() {
             this.initGroups()
         },
         initGroups: function() {
             var e, s = this.groups.length, n = t.get("role"), a = t.get("gRole");
             for (e = 0; e < s; ++e)
                 this.remove(this.groups[e]);
             if (n > i.BOUNCER || a >= i.MANAGER)
                 for (n < i.COHOST && 0 === a && --s,
                 e = 0; e < s; ++e)
                     this.add(this.groups[e])
         },
         groupSort: function(e, t) {
             var i = s.groups.indexOf(e) > -1
               , n = s.groups.indexOf(t) > -1;
             return i && !n ? 1 : !i && n ? -1 : e < t ? -1 : e > t ? 1 : 0
         }
     });
     return s = new n
 }),
 define("f1e1d/fce39/d3252", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/eeaaf", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/c96dd", "f1e1d/af752/bed76"], function(e, t, i, s, n, a, o, r, l) {
     var h = t.Collection.extend({
         model: o,
         comparator: r.role,
         hash: {},
         initialize: function() {
             this.on("change:role change:gRole", this.onRole, this).on("add", this.onAdd, this).on("remove", this.onRemove, this).on("reset", this.onReset, this)
         },
         onAdd: function(t) {
             this.hash[t.get("id")] = !0,
             l.add(t.get("username"));
             var s = this;
             e.defer(function() {
                 s.prioritize(),
                 i.trigger("user:join", t)
             })
         },
         onRemove: function(e) {
             this.hash[e.get("id")] = void 0,
             delete this.hash[e.get("id")],
             l.remove(e.get("username")),
             i.trigger("user:leave", e.get("id"))
         },
         onReset: function() {
             this.hash = {},
             l.init();
             for (var t = this.length, i = 0; i < t; ++i)
                 this.hash[this.at(i).get("id")] = !0,
                 l.add(this.at(i).get("username"));
             var s = this;
             e.defer(function() {
                 s.prioritize()
             })
         },
         onRole: function() {
             this.sort(),
             this.prioritize(),
             this.trigger("reset", this)
         },
         prioritize: function() {
             var e, t = this.toArray();
             t.sort(r.priority),
             e = t.length;
             for (var i = 0; i < e; ++i)
                 t[i].set("priority", i + 1, {
                     silent: !0
                 });
             a.set("priority", 0, {
                 silent: !0
             })
         },
         getAudience: function() {
             var e, t, i, n = this.toArray();
             for (i = n.length,
             e = 0; e < i; ++e)
                 if (n[e].get("id") === s.get("currentDJ")) {
                     t = e;
                     break
                 }
             return void 0 !== t && n.splice(t, 1),
             n.sort(r.audience),
             n
         }
     });
     return new h
 }),
 define("f1e1d/be642/c76df/a9e4d", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         type: "POST",
         route: "users/bulk",
         init: function(e) {
             this.data = {
                 ids: e
             },
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeUser(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/fce39/fb3ca", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf", "f1e1d/d8478/edecb", "f1e1d/d8478/b885e", "f1e1d/be642/c76df/a9e4d"], function(e, t, i, s, n, a, o, r) {
     var l = t.Collection.extend({
         model: a,
         initialize: function() {
             this.isTheUserWaiting = !1,
             this.isTheUserPlaying = !1,
             n.on("change:waitingDJs", this.onWaiting, this).on("change:currentDJ", this.onCurrent, this)
         },
         onWaiting: function() {
             this.isTheUserWaiting = !1;
             var t = n.get("waitingDJs");
             if (t && t.length) {
                 for (var a, l = t.length, h = [], c = [], p = o.get("id"), d = 0; d < l; ++d)
                     a = s.get(t[d]),
                     a ? (h.push(a),
                     t[d] === p && (this.isTheUserWaiting = !0)) : c.push(t[d]);
                 c.length ? (this.pending = h,
                 new r(c).on("success", e.bind(this.onMissing, this))) : this.reset(h)
             } else
                 this.isTheUserWaiting = !1,
                 this.reset();
             i.trigger("djButton:update")
         },
         onMissing: function(e) {
             this.pending || (this.pending = []),
             this.reset(this.pending.concat(s.add(e))),
             this.pending = void 0,
             delete this.pending
         },
         onCurrent: function() {
             this.isTheUserPlaying = o.get("id") === n.get("currentDJ"),
             this.isTheUserWaiting = this.isTheUserPlaying || Boolean(this.get(o.get("id"))),
             i.trigger("userPlaying:update", {
                 current: this.isTheUserPlaying,
                 waiting: this.isTheUserWaiting
             })
         },
         isFull: function() {
             return this.length > 49
         },
         getUserPosition: function(e) {
             return e || (e = o),
             this.indexOf(e)
         }
     });
     return new l
 }),
 define("f1e1d/e8300/c0237", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e) {
             this._super(e)
         }
     });
     return t._name = "DJEvent",
     t.JOIN = "DJEvent:join",
     t.LEAVE = "DJEvent:leave",
     t.SKIP = "DJEvent:skip",
     t
 }),
 define("f1e1d/be642/f109a/c9821", ["f1e1d/be642/b7b48", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "lang/Lang"], function(e, t, i, s) {
     var n = e.extend({
         type: "POST",
         route: "booth",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : (this.trigger("djButton:update"),
             403 === e.code ? ("noValidPlaylist" === e.status && this.alert(s.alerts.alert, s.alerts.modAddDJ),
             "forbidden" === e.status && "waitlistBan" === e.data[0] && t.dispatch(new i(i.ALERT,s.dialog.waitlistBanTitle,s.dialog.waitlistBanMsg)),
             this.error && this.error()) : 404 === e.code && this.error && this.error())
         },
         onFault: function() {
             this.trigger("djButton:update"),
             this._super()
         }
     });
     return n
 }),
 define("f1e1d/be642/f109a/b67e1", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         route: "booth",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? (this.trigger("userPlaying:update"),
             this.success && this.success()) : 404 === e.code && this.error && this.error()
         }
     });
     return t
 }),
 define("f1e1d/be642/f109a/f186e", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "booth/skip/me",
         init: function() {
             this._super(!0)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/d66ea", ["f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/fce39/fb3ca", "f1e1d/e8300/c0237", "f1e1d/be642/f109a/c9821", "f1e1d/be642/f109a/b67e1", "f1e1d/be642/f109a/f186e"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         execute: function() {
             this.event.type === s.JOIN ? i.isFull() || new n : this.event.type === s.LEAVE ? new a : this.event.type === s.SKIP && new o
         }
     });
     return t.mapEvent(s.JOIN, r, s),
     t.mapEvent(s.LEAVE, r, s),
     t.mapEvent(s.SKIP, r, s),
     r
 }),
 define("f1e1d/e8300/bc677", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i) {
             this._super(e),
             this.username = t,
             this.callback = i
         }
     });
     return t._name = "FacebookLoginEvent",
     t.LOGIN = "FacebookLoginEvent:login",
     t.TRANSFER = "FacebookLoginEvent:transfer",
     t
 }),
 define("f1e1d/be642/b546d/b0526", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "auth/facebook",
         init: function(e, t, i) {
             this.data = {
                 csrf: window._csrf,
                 accessToken: e,
                 userID: t,
                 username: i
             },
             this._super()
         },
         onError: function(e, t) {
             _.isObject(t) && t.status && _.isArray(t.data) ? (t.code = e,
             this.parse(t)) : this.onFault(e, t),
             this.cleanup()
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : this.error && this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/fcf72", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e8300/a815f", "f1e1d/e8300/bc677", "f1e1d/be642/b546d/b0526", "f1e1d/af752/e7b9f", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = t.extend({
         execute: function() {
             var t = e.bind(this.onResponse, this);
             "undefined" != typeof FB ? FB.login(function(e) {
                 t(e)
             }, {
                 scope: "email"
             }) : (r.actual("Sign Up", "Login: Could Not Load Facebook", this.referrer),
             this.dispatch(new s(s.ALERT,o.alerts.alert,o.alerts.loginErrorFBNotFound)))
         },
         onResponse: function(e) {
             "connected" === e.status && this.listenTo(new a(e.authResponse.accessToken,e.authResponse.userID,this.event.username))
         },
         onSuccess: function() {
             this.event.callback && this.event.callback(),
             this.finish()
         },
         onError: function() {
             r.actual("Sign Up", "Login: Facebook Login Invalid", this.referrer),
             this.dispatch(new s(s.ALERT,o.alerts.alert,o.alerts.loginErrorFB))
         }
     });
     return i.mapEvent(n.LOGIN, l, n),
     l
 }),
 define("f1e1d/fce39/cd5cd", ["backbone", "f1e1d/fce39/d3252", "f1e1d/d8478/edecb", "f1e1d/af752/c96dd"], function(e, t, i, s) {
     function n(e) {
         r[e.get("room").id] || (r[e.get("room").id] = {},
         r[e.get("room").id].length = 0),
         r[e.get("room").id][e.get("id")] || ++r[e.get("room").id].length,
         r[e.get("room").id][e.get("id")] = e
     }
     function a(e) {
         r[e.get("room").id][e.get("id")] && --r[e.get("room").id].length,
         r[e.get("room").id][e.get("id")] = void 0,
         delete r[e.get("room").id][e.get("id")],
         r[e.get("room").id].length < 1 && (r[e.get("room").id] = void 0,
         delete r[e.get("room").id])
     }
     var o = e.Collection.extend({
         model: i,
         initialize: function() {
             t.on("reset", this.onReset, this).on("add", this.onUsersAdd, this).on("change:level change:avatarID change:status", this.onUserChange, this),
             this.on("reset", this.onReset, this).on("add", this.onAdd, this).on("remove", this.onRemove, this)
         },
         onReset: function() {
             var e = this;
             t.each(function(t) {
                 t.set("friend", Boolean(e.get(t.get("id"))))
             });
             for (var i in r)
                 r[i] = void 0,
                 this.trigger("update:" + i);
             r = {},
             this.each(function(e) {
                 e.get("room") && e.get("room").id && n(e)
             });
             for (var i in r)
                 this.trigger("update:" + i);
             window.friends = this
         },
         onUsersAdd: function(e) {
             e.set("friend", Boolean(this.get(e.get("id"))))
         },
         onAdd: function(e) {
             var i = t.get(e.get("id"));
             i && !i.get("friend") && (i.set("friend", !0),
             e.get("room") && e.get("room").id ? (n(e),
             this.trigger("update:" + e.get("room").id)) : a(e))
         },
         onRemove: function(e) {
             var i = t.get(e.get("id"));
             i && i.get("friend") && i.set("friend", !1),
             e.get("room") && e.get("room").id && (a(e),
             this.trigger("update:" + e.get("room").id))
         },
         onUserChange: function(e) {
             var t = this.get(e.get("id"));
             t && t.set({
                 level: e.get("level"),
                 avatarID: e.get("avatarID"),
                 status: e.get("status")
             })
         },
         lookup: function(e) {
             var t = [];
             if (r[e])
                 for (var i in r[e])
                     "length" !== i && t.push(r[e][i]);
             return t
         },
         comparator: function(e, t) {
             return e.get("status") > t.get("status") ? -1 : e.get("status") < t.get("status") ? 1 : e.get("gRole") > t.get("gRole") ? -1 : e.get("gRole") < t.get("gRole") ? 1 : s.username(e, t)
         }
     })
       , r = {};
     return o.MAX = 350,
     new o
 }),
 define("f1e1d/fce39/ac151", ["backbone", "f1e1d/d8478/edecb"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         comparator: function(e, t) {
             return e.get("timestamp") > t.get("timestamp") ? -1 : e.get("timestamp") < t.get("timestamp") ? 1 : 0
         }
     });
     return new i
 }),
 define("f1e1d/e8300/ca0ca", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.id = t
         }
     });
     return t._name = "UserEvent",
     t.UNFRIEND = "UserEvent:unfriend",
     t.ACCEPT = "UserEvent:accept",
     t.IGNORE = "UserEvent:ignore",
     t
 }),
 define("f1e1d/e8300/dc3a7", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.callback = t
         }
     });
     return t._name = "UserEvent",
     t.ME = "UserEvent:me",
     t.FRIENDS = "UserEvent:friends",
     t.PRESENCE = "UserEvent:presence",
     t.INVITES = "UserEvent:invites",
     t
 }),
 define("f1e1d/be642/aa669/ad47a", ["f1e1d/be642/b7b48", "lang/Lang"], function(e, t) {
     var i = e.extend({
         type: "POST",
         route: "friends",
         init: function(e) {
             this.data = {
                 id: e
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success("accept" === e.status) : (403 === e.code && ("otherMaxFriends" === e.status ? this.alert(t.alerts.alert, t.alerts.maxTheyFriends) : this.alert(t.alerts.alert, t.alerts.maxFriends)),
             this.error && this.error())
         }
     });
     return i
 }),
 define("f1e1d/be642/aa669/a75fb", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         route: "friends/ignore",
         init: function(e) {
             this.data = {
                 id: e
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data) : this.error && this.error()
         }
     });
     return t
 }),
 define("f1e1d/be642/aa669/f2146", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "friends/" + e,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data) : this.error && this.error()
         }
     });
     return t
 }),
 define("f1e1d/ee86e/fdbe9", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/fce39/cd5cd", "f1e1d/fce39/ac151", "f1e1d/e8300/ca0ca", "f1e1d/e8300/dc3a7", "f1e1d/be642/aa669/ad47a", "f1e1d/be642/aa669/a75fb", "f1e1d/be642/aa669/f2146", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p, d, u = e.extend({
         execute: function() {
             this.event.type === a.ACCEPT ? (n.remove(n.get(this.event.id)),
             this.listenTo(new r(this.event.id))) : this.event.type === a.IGNORE ? (n.remove(n.get(this.event.id)),
             this.listenTo(new l(this.event.id))) : this.event.type === a.UNFRIEND && (s.remove(s.get(this.event.id)),
             this.listenTo(new h(this.event.id)))
         },
         onSuccess: function() {
             this.event.type !== a.IGNORE ? (p && clearTimeout(p),
             p = setTimeout(function() {
                 clearTimeout(p),
                 p = void 0,
                 i.dispatch(new o(o.FRIENDS,!0))
             }, 3e3),
             c("send", "event", "Manage Friends", "Friend Request", "Accept")) : p ? (clearTimeout(p),
             p = setTimeout(function() {
                 clearTimeout(p),
                 p = void 0,
                 i.dispatch(new o(o.FRIENDS,!0))
             }, 3e3),
             c("send", "event", "Manage Friends", "Friend Request", "Decline")) : (d && clearTimeout(d),
             d = setTimeout(function() {
                 clearTimeout(d),
                 d = void 0,
                 i.dispatch(new o(o.INVITES))
             }, 3e3)),
             this.finish()
         }
     });
     return t.mapEvent(a.ACCEPT, u, a),
     t.mapEvent(a.IGNORE, u, a),
     t.mapEvent(a.UNFRIEND, u, a),
     u
 }),
 define("f1e1d/be642/aa669/dada6", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "friends/invites",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeFriend(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/ee86e/f195f", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/ac151", "f1e1d/e8300/dc3a7", "f1e1d/be642/aa669/dada6"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             this.listenTo(new n)
         },
         onSuccess: function(e) {
             i.reset(e),
             this.finish()
         }
     });
     return t.mapEvent(s.INVITES, a, s),
     a
 }),
 define("f1e1d/be642/aa669/a2629", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "friends",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeFriend(e.data[i]);
                     this.success(e.data, e.meta)
                 }
             } else
                 this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/ee86e/a9199", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/cd5cd", "f1e1d/e8300/dc3a7", "f1e1d/be642/aa669/a2629", "f1e1d/af752/e7b9f"], function(e, t, i, s, n, a) {
     var o = e.extend({
         execute: function() {
             this.listenTo(new n)
         },
         onSuccess: function(e, t) {
             i.reset(e),
             i.MAX = t.limit,
             this.event.callback === !0 && this.dispatch(new s(s.INVITES)),
             this.finish()
         }
     });
     return t.mapEvent(s.FRIENDS, o, s),
     o
 }),
 define("f1e1d/fce39/b5cf9", ["backbone", "f1e1d/d8478/edecb"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         comparator: "username"
     });
     return new i
 }),
 define("f1e1d/d8478/f5fc0", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             id: 0,
             action: "",
             value: "",
             timestamp: void 0
         }
     });
     return t
 }),
 define("f1e1d/fce39/ec5ba", ["backbone", "f1e1d/d8478/f5fc0"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         comparator: function(e, t) {
             return e.get("timestamp") > t.get("timestamp") ? -1 : e.get("timestamp") < t.get("timestamp") ? 1 : 0
         }
     });
     return new i
 }),
 define("f1e1d/d9232/b42c1", ["f1e1d/e718c/b5ee0"], function(e) {
     var t, i, s = "1", n = e.extend({
         init: function() {
             var e = localStorage.getItem("settings");
             if (e)
                 e = JSON.parse(e),
                 e[s] || this.reset();
             else {
                 try {
                     var t = localStorage.getItem("s5");
                     t && (i = JSON.parse(t))
                 } catch (e) {}
                 var n, a;
                 localStorage.getItem("popState") && (n = "popState",
                 a = localStorage.getItem("popState")),
                 localStorage.clear(),
                 localStorage.setItem(n, a),
                 this.reset()
             }
             this.settings = i || this.defaultSettings()
         },
         reset: function() {
             var e = {};
             e[s] = {},
             localStorage.setItem("settings", JSON.stringify(e))
         },
         ready: function(e) {
             t = JSON.parse(localStorage.getItem("settings"));
             var n = String(e);
             t[s][n] || (t[s][n] = i || this.defaultSettings(),
             this.save()),
             this.settings = t[s][n]
         },
         save: function() {
             localStorage.setItem("settings", JSON.stringify(t))
         },
         defaultSettings: function() {
             return {
                 volume: 0,
                 avatarcap: 50,
                 dancing: !0,
                 streamDisabled: !1,
                 chatSound: !0,
                 chatImages: !0,
                 chatTranslation: !1,
                 skinTone: 0,
                 sos: !1,
                 chatTimestamps: 12,
                 emoji: !0,
                 notifyDJ: !0,
                 notifyFriendJoin: !0,
                 notifyScore: !0,
                 tooltips: !0,
                 nsfw: !1,
                 friendAvatarsOnly: !1,
                 videoOnly: !1
             }
         }
     });
     return new n
 }),
 define("f1e1d/d8478/b5029", ["underscore", "backbone", "f1e1d/d9232/b42c1", "f1e1d/af752/e504b", "f1e1d/e718c/b7acd"], function(e, t, i, s, n) {
     var a = t.Model.extend({
         defaults: {
             media: void 0,
             startTime: void 0,
             playlistID: void 0,
             historyID: void 0,
             volume: 25,
             lastVolume: 25,
             duration: 0,
             elapsed: 0,
             remaining: 0,
             muted: !1,
             durationChecked: !1,
             restricted: void 0,
             ytDuration: 0
         },
         initialize: function() {
             this.updateIntervalID = 0,
             this.updateElapsedBind = e.bind(this.updateElapsed, this),
             this.on({
                 "change:media": this.onMediaChange,
                 "change:startTime": this.onStartTimeChange,
                 "change:elapsed": this.onElapsedChange,
                 "change:volume": this.onVolumeChange
             }, this),
             n.on("playback:toggleMute", this.onToggleMute, this),
             n.on("playback:setVolume", this.onSetVolume, this)
         },
         onToggleMute: function() {
             this.get("muted") ? this.onSetVolume(this.get("lastVolume")) : (this.set({
                 lastVolume: this.get("volume")
             }),
             this.onSetVolume(0))
         },
         onSetVolume: function(e) {
             this.set("volume", e),
             i.settings.volume = this.get("volume"),
             i.settings.lastVolume = this.get("lastVolume"),
             i.save()
         },
         onMediaChange: function() {
             this.get("media") ? this.get("restricted") || (this.set("duration", this.get("media").get("duration")),
             this.set({
                 durationChecked: 2 === this.get("media").get("format")
             }),
             0 === this.updateIntervalID && (this.updateIntervalID = setInterval(this.updateElapsedBind, 500))) : (this.set({
                 duration: 0,
                 durationChecked: !1,
                 ytDuration: 0
             }),
             clearInterval(this.updateIntervalID),
             this.updateIntervalID = 0)
         },
         onStartTimeChange: function() {
             this.set("elapsed", s.getSecondsElapsed(this.get("startTime")))
         },
         onElapsedChange: function() {
             this.set("remaining", this.get("duration") - this.get("elapsed")).get("remaining") < 0 && (clearInterval(this.updateIntervalID),
             this.updateIntervalID = 0)
         },
         updateElapsed: function() {
             this.set("elapsed", s.getSecondsElapsed(this.get("startTime")))
         },
         onVolumeChange: function() {
             this.set("muted", 0 === this.get("volume")),
             n.trigger("playback:changeVolume", this.get("volume"))
         }
     });
     return new a
 }),
 define("f1e1d/be642/e5eb3/c1f78", [], function() {
     function e() {}
     function t(e, t) {
         return Math.floor(Math.random() * (t - e + 1)) + e
     }
     return e.maxFromBits = function(e) {
         return Math.pow(2, e)
     }
     ,
     e.limitUI04 = e.maxFromBits(4),
     e.limitUI06 = e.maxFromBits(6),
     e.limitUI08 = e.maxFromBits(8),
     e.limitUI12 = e.maxFromBits(12),
     e.limitUI14 = e.maxFromBits(14),
     e.limitUI16 = e.maxFromBits(16),
     e.limitUI32 = e.maxFromBits(32),
     e.limitUI40 = e.maxFromBits(40),
     e.limitUI48 = e.maxFromBits(48),
     e.randomUI04 = function() {
         return t(0, e.limitUI04 - 1)
     }
     ,
     e.randomUI06 = function() {
         return t(0, e.limitUI06 - 1)
     }
     ,
     e.randomUI08 = function() {
         return t(0, e.limitUI08 - 1)
     }
     ,
     e.randomUI12 = function() {
         return t(0, e.limitUI12 - 1)
     }
     ,
     e.randomUI14 = function() {
         return t(0, e.limitUI14 - 1)
     }
     ,
     e.randomUI16 = function() {
         return t(0, e.limitUI16 - 1)
     }
     ,
     e.randomUI32 = function() {
         return t(0, e.limitUI32 - 1)
     }
     ,
     e.randomUI40 = function() {
         return (0 | Math.random() * (1 << 30)) + (0 | 1024 * Math.random()) * (1 << 30)
     }
     ,
     e.randomUI48 = function() {
         return (0 | Math.random() * (1 << 30)) + (0 | Math.random() * (1 << 18)) * (1 << 30)
     }
     ,
     e.paddedString = function(e, t, i) {
         e = String(e),
         i = i ? i : "0";
         for (var s = t - e.length; s > 0; s >>>= 1,
         i += i)
             1 & s && (e = i + e);
         return e
     }
     ,
     e.prototype.fromParts = function(t, i, s, n, a, o) {
         return this.version = s >> 12 & 15,
         this.hex = e.paddedString(t.toString(16), 8) + "-" + e.paddedString(i.toString(16), 4) + "-" + e.paddedString(s.toString(16), 4) + "-" + e.paddedString(n.toString(16), 2) + e.paddedString(a.toString(16), 2) + "-" + e.paddedString(o.toString(16), 12),
         this
     }
     ,
     e.prototype.toString = function() {
         return this.hex
     }
     ,
     e.prototype.toURN = function() {
         return "urn:uuid:" + this.hex
     }
     ,
     e.prototype.toBytes = function() {
         for (var e = this.hex.split("-"), t = [], i = 0, s = 0; s < e.length; s++)
             for (var n = 0; n < e[s].length; n += 2)
                 t[i++] = parseInt(e[s].substr(n, 2), 16);
         return t
     }
     ,
     e.prototype.equals = function(e) {
         return e instanceof UUID && this.hex === e.hex
     }
     ,
     e.getTimeFieldValues = function(e) {
         var t = e - Date.UTC(1582, 9, 15)
           , i = t / 4294967296 * 1e4 & 268435455;
         return {
             low: 1e4 * (268435455 & t) % 4294967296,
             mid: 65535 & i,
             hi: i >>> 16,
             timestamp: t
         }
     }
     ,
     e._create4 = function() {
         return (new e).fromParts(e.randomUI32(), e.randomUI16(), 16384 | e.randomUI12(), 128 | e.randomUI06(), e.randomUI08(), e.randomUI48())
     }
     ,
     e._create1 = function() {
         var t = (new Date).getTime()
           , i = e.randomUI14()
           , s = 1099511627776 * (1 | e.randomUI08()) + e.randomUI40()
           , n = e.randomUI04()
           , a = 0
           , o = .25;
         t != a ? (t < a && i++,
         a = t,
         n = e.randomUI04()) : Math.random() < o && n < 9984 ? n += 1 + e.randomUI04() : i++;
         var r = e.getTimeFieldValues(a)
           , l = r.low + n
           , h = 4095 & r.hi | 4096;
         i &= 16383;
         var c = i >>> 8 | 128
           , p = 255 & i;
         return (new e).fromParts(l, r.mid, h, c, p, s)
     }
     ,
     e.create = function(e) {
         return e = e || 4,
         this["_create" + e]()
     }
     ,
     e.fromTime = function(t, i) {
         i = !!i && i;
         var s = e.getTimeFieldValues(t)
           , n = s.low
           , a = 4095 & s.hi | 4096;
         return i === !1 ? (new e).fromParts(n, s.mid, a, 0, 0, 0) : (new e).fromParts(n, s.mid, a, 128 | e.limitUI06, e.limitUI08 - 1, e.limitUI48 - 1)
     }
     ,
     e.firstFromTime = function(t) {
         return e.fromTime(t, !1)
     }
     ,
     e.lastFromTime = function(t) {
         return e.fromTime(t, !0)
     }
     ,
     e.fromURN = function(t) {
         var i, s = /^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i;
         return (i = s.exec(t)) ? (new e).fromParts(parseInt(i[1], 16), parseInt(i[2], 16), parseInt(i[3], 16), parseInt(i[4], 16), parseInt(i[5], 16), parseInt(i[6], 16)) : null
     }
     ,
     e.fromBytes = function(t) {
         if (t.length < 5)
             return null;
         for (var i = "", s = 0, n = [4, 2, 2, 2, 6], a = 0; a < n.length; a++) {
             for (var o = 0; o < n[a]; o++) {
                 var r = t[s++].toString(16);
                 1 == r.length && (r = "0" + r),
                 i += r
             }
             6 !== n[a] && (i += "-")
         }
         return e.fromURN(i)
     }
     ,
     e.fromBinary = function(t) {
         for (var i = [], s = 0; s < t.length; s++)
             if (i[s] = t.charCodeAt(s),
             i[s] > 255 || i[s] < 0)
                 throw new Error("Unexpected byte in binary data.");
         return e.fromBytes(i)
     }
     ,
     e.new = function() {
         return this.create(4)
     }
     ,
     e.newTS = function() {
         return this.create(1)
     }
     ,
     e
 }),
 define("f1e1d/af752/bacfb", ["f1e1d/d8478/b885e", "f1e1d/be642/e5eb3/c1f78", "f1e1d/d8478/e70c0", "f1e1d/af752/fa88e"], function(e, t, i, s) {
     function n(e) {
         return $.param(e)
     }
     function a(e) {
         var t = document.createElement("img");
         t.onload = function() {}
         ;
         var i = _csa + "&" + e;
         t.setAttribute("src", i),
         t.setAttribute("alt", "na"),
         t.setAttribute("height", "1px"),
         t.setAttribute("width", "1px"),
         document.body.appendChild(t),
         l.currentImg = t
     }
     function o() {
         var e = localStorage.getItem("tracker.lastAction") || null;
         if (e && Date.now() - e >= 72e5) {
             var i = t.create().hex;
             localStorage.setItem("tracker.sessionId", i),
             l.id = i
         }
         localStorage.setItem("tracker.lastAction", Date.now())
     }
     function r() {
         var e = localStorage.getItem("tracker.sessionId") || t.create().hex;
         l.id = e,
         localStorage.getItem("tracker.sessionId") || localStorage.setItem("tracker.sessionId", e)
     }
     var l = {
         currentImg: null
     };
     return {
         track: function(e, t, h) {
             if (_csa) {
                 r(),
                 l.currentImg && document.body.removeChild(l.currentImg);
                 var c = {
                     s: l.id,
                     t: e,
                     v: t
                 };
                 c.c = i.get("slug") ? i.get("slug") : "dashboard",
                 document.referrer && (c.r = document.referrer),
                 a(n(c)),
                 o(),
                 h && h(l.currentImg),
                 s.isProduction === !1 && console.debug("[PixelTracker] (%s) %s: %s | SessionTime: %s", l.id, e, t, localStorage.getItem("tracker.lastAction"))
             }
         },
         event: {
             session: "session",
             createPlaylist: "create_playlist",
             addSongPlaylist: "add_song_playlist",
             playPlaylist: "play_playlist",
             levelUp: "level_up",
             makeFriend: "make_friend",
             userVote: "user_vote",
             grabSong: "grab_song",
             userChat: "user_chat",
             djPlayPlaylist: "dj_play_playlist",
             plugPoints: "plug_points",
             newAvatar: "new_avatar",
             createRoom: "create_room",
             joinRoom: "join_room",
             roomFavorite: "room_favorite",
             woot: "woot",
             meh: "meh",
             signupView: "user_signup_view",
             signupOk: "user_signup_ok",
             joinWaitlist: "join_waitlist",
             setBanner: "set_banner",
             setThumbnail: "set_thumbnail",
             addLink: "add_link",
             removeLink: "remove_link",
             addGenre: "add_genre",
             removeGenre: "remove_genre",
             addSubgenre: "add_subgenre",
             removeSubgenre: "remove_subgenre",
             setLanguage: "set_language",
             bestOfClickSongs: "best_of_song",
             bestOfClickDJ: "best_of_dj",
             bestOfClickPlaylist: "bestof_click_playlist",
             bestOfFriendRequest: "friend_request_bestof",
             bestOfAddSong: "add_song_playlist_bestof",
             communityClickAbout: "about",
             settingsClickPreview: "preview",
             dashboardSearch: "query:%s;language:%s;genre:%s;subgenre:%s",
             dashboardClick: "dashboard_click:%s",
             dashboardViewAll: "dashboard_view_all:%s",
             dashboardNext: "dashboard_next:%s",
             dashboardPrevious: "dashboard_previous:%s",
             dashboardFavorite: "dashboard_favorite:%s:%s:%s",
             dashboardGenre: "dashboard_genre:%s:%s",
             dashboardSubgenre: "dashboard_subgenre:%s:%s"
         },
         type: {
             command: "command",
             service: "service",
             action: "action",
             push: "push",
             click: "click",
             view: "view",
             search: "search"
         },
         tracker: l
     }
 }),
 define("f1e1d/be642/c76df/b0cd7", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b", "f1e1d/af752/bacfb"], function(e, t, i) {
     var s = e.extend({
         route: "users/me",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && e.data.length && (t.deserializeUser(e.data[0]),
             this.success(e.data[0]),
             i.track(i.type.service, i.event.session)) : this.error && this.error()
         }
     });
     return s
 }),
 define("f1e1d/be642/c76df/f0991", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         route: "users/settings",
         init: function(e) {
             this.data = e,
             this._super(!0)
         }
     });
     return t
 }),
 define("f1e1d/fce39/a3ebf", ["backbone", "f1e1d/d8478/d23b4"], function(e, t) {
     var i = e.Collection.extend({
         model: t
     });
     return new i
 }),
 define("f1e1d/e8300/dbc87", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i) {
             this._super(e),
             this.id = t,
             this.payload = i
         }
     });
     return t._name = "PlaylistActionEvent",
     t.ACTIVATE = "PlaylistActionEvent:activate",
     t.DELETE = "PlaylistActionEvent:delete",
     t.LOAD = "PlaylistActionEvent:load",
     t.RENAME = "PlaylistActionEvent:rename",
     t.SYNC = "PlaylistActionEvent:sync",
     t
 }),
 define("f1e1d/d8478/c61e2", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             id: 0,
             name: "",
             count: 0,
             active: !1,
             visible: !1,
             syncing: !1
         }
     });
     return t
 }),
 define("f1e1d/fce39/a4370", ["underscore", "backbone", "f1e1d/fce39/a3ebf", "f1e1d/e8300/dbc87", "f1e1d/d8478/c61e2", "f1e1d/e718c/b7acd"], function(e, t, i, s, n, a) {
     var o, r = t.Collection.extend({
         model: n,
         activeMedia: [],
         initialize: function() {
             this.on("change:visible", this.onVisibleChange, this).on("reset", this.onReset, this).on("remove", this.onRemove, this),
             i.on("reset change:author change:title", this.onMediaReset, this),
             i.on("update:next", this.onCheckJump, this)
         },
         setVisible: function(e) {
             var t = this.findWhere({
                 visible: !0
             });
             return e ? (t && t.get("id") !== e.get("id") && t.set("visible", !1),
             e.set("visible", !0)) : t && t.set("visible", !1),
             this
         },
         onVisibleChange: function(e, t) {
             t && a.dispatch(new s(s.LOAD,e.get("id")))
         },
         onReset: function() {
             var e = this.findWhere({
                 active: !0
             });
             e ? this.setVisible(e) : i.reset()
         },
         onRemove: function() {
             0 === this.length && this.reset()
         },
         onMediaReset: function(e) {
             this.getActiveID() !== this.getVisibleID() && e !== !0 || (i.length > 1 ? this.activeMedia = [i.at(0).clone(), i.at(1).clone()] : 1 === i.length ? this.activeMedia = [i.at(0).clone()] : 0 === i.length && (this.activeMedia = [])),
             this.onCheckJump()
         },
         onCheckJump: function() {
             o && i.length > 1 && e.delay(e.bind(this.triggerJumpTo, this), 10)
         },
         getActiveID: function() {
             var e = this.findWhere({
                 active: !0
             });
             if (e)
                 return e.get("id")
         },
         getVisibleID: function() {
             var e = this.findWhere({
                 visible: !0
             });
             if (e)
                 return e.get("id")
         },
         jumpToMedia: function(e, t) {
             var i = this.get(e);
             return i && (o = t,
             this.setVisible(i)),
             this
         },
         triggerJumpTo: function() {
             var t = i.indexOf(i.findWhere({
                 cid: o
             }));
             t > -1 && e.defer(function() {
                 a.trigger("jumpto:index", t)
             }),
             o = void 0
         },
         comparator: function(e, t) {
             return e.get("name").toLowerCase() > t.get("name").toLowerCase() ? 1 : e.get("name").toLowerCase() < t.get("name").toLowerCase() ? -1 : 0
         }
     });
     return new r
 }),
 define("f1e1d/d9232/b2f52", [], function() {
     var e = {
         _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
         compressToBase64: function(e) {
             var t, i, s, n, a, o, r, l = "", h = 0;
             for (e = this.compress(e); h < 2 * e.length; )
                 h % 2 == 0 ? (t = e.charCodeAt(h / 2) >> 8,
                 i = 255 & e.charCodeAt(h / 2),
                 s = h / 2 + 1 < e.length ? e.charCodeAt(h / 2 + 1) >> 8 : NaN) : (t = 255 & e.charCodeAt((h - 1) / 2),
                 (h + 1) / 2 < e.length ? (i = e.charCodeAt((h + 1) / 2) >> 8,
                 s = 255 & e.charCodeAt((h + 1) / 2)) : i = s = NaN),
                 h += 3,
                 n = t >> 2,
                 a = (3 & t) << 4 | i >> 4,
                 o = (15 & i) << 2 | s >> 6,
                 r = 63 & s,
                 isNaN(i) ? o = r = 64 : isNaN(s) && (r = 64),
                 l = l + this._keyStr.charAt(n) + this._keyStr.charAt(a) + this._keyStr.charAt(o) + this._keyStr.charAt(r);
             return l
         },
         decompressFromBase64: function(e) {
             var t, i, s, n, a, o, r, l, h = "", c = 0, p = 0;
             for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); p < e.length; )
                 a = this._keyStr.indexOf(e.charAt(p++)),
                 o = this._keyStr.indexOf(e.charAt(p++)),
                 r = this._keyStr.indexOf(e.charAt(p++)),
                 l = this._keyStr.indexOf(e.charAt(p++)),
                 i = a << 2 | o >> 4,
                 s = (15 & o) << 4 | r >> 2,
                 n = (3 & r) << 6 | l,
                 c % 2 == 0 ? (t = i << 8,
                 flush = !0,
                 64 != r && (h += String.fromCharCode(t | s),
                 flush = !1),
                 64 != l && (t = n << 8,
                 flush = !0)) : (h += String.fromCharCode(t | i),
                 flush = !1,
                 64 != r && (t = s << 8,
                 flush = !0),
                 64 != l && (h += String.fromCharCode(t | n),
                 flush = !1)),
                 c += 3;
             return this.decompress(h)
         },
         compressToUTF16: function(e) {
             var t, i, s, n = "", a = 0;
             for (e = this.compress(e),
             t = 0; t < e.length; t++)
                 switch (i = e.charCodeAt(t),
                 a++) {
                 case 0:
                     n += String.fromCharCode((i >> 1) + 32),
                     s = (1 & i) << 14;
                     break;
                 case 1:
                     n += String.fromCharCode(s + (i >> 2) + 32),
                     s = (3 & i) << 13;
                     break;
                 case 2:
                     n += String.fromCharCode(s + (i >> 3) + 32),
                     s = (7 & i) << 12;
                     break;
                 case 3:
                     n += String.fromCharCode(s + (i >> 4) + 32),
                     s = (15 & i) << 11;
                     break;
                 case 4:
                     n += String.fromCharCode(s + (i >> 5) + 32),
                     s = (31 & i) << 10;
                     break;
                 case 5:
                     n += String.fromCharCode(s + (i >> 6) + 32),
                     s = (63 & i) << 9;
                     break;
                 case 6:
                     n += String.fromCharCode(s + (i >> 7) + 32),
                     s = (127 & i) << 8;
                     break;
                 case 7:
                     n += String.fromCharCode(s + (i >> 8) + 32),
                     s = (255 & i) << 7;
                     break;
                 case 8:
                     n += String.fromCharCode(s + (i >> 9) + 32),
                     s = (511 & i) << 6;
                     break;
                 case 9:
                     n += String.fromCharCode(s + (i >> 10) + 32),
                     s = (1023 & i) << 5;
                     break;
                 case 10:
                     n += String.fromCharCode(s + (i >> 11) + 32),
                     s = (2047 & i) << 4;
                     break;
                 case 11:
                     n += String.fromCharCode(s + (i >> 12) + 32),
                     s = (4095 & i) << 3;
                     break;
                 case 12:
                     n += String.fromCharCode(s + (i >> 13) + 32),
                     s = (8191 & i) << 2;
                     break;
                 case 13:
                     n += String.fromCharCode(s + (i >> 14) + 32),
                     s = (16383 & i) << 1;
                     break;
                 case 14:
                     n += String.fromCharCode(s + (i >> 15) + 32, (32767 & i) + 32),
                     a = 0
                 }
             return n + String.fromCharCode(s + 32)
         },
         decompressFromUTF16: function(e) {
             for (var t, i, s = "", n = 0, a = 0; a < e.length; ) {
                 switch (i = e.charCodeAt(a) - 32,
                 n++) {
                 case 0:
                     t = i << 1;
                     break;
                 case 1:
                     s += String.fromCharCode(t | i >> 14),
                     t = (16383 & i) << 2;
                     break;
                 case 2:
                     s += String.fromCharCode(t | i >> 13),
                     t = (8191 & i) << 3;
                     break;
                 case 3:
                     s += String.fromCharCode(t | i >> 12),
                     t = (4095 & i) << 4;
                     break;
                 case 4:
                     s += String.fromCharCode(t | i >> 11),
                     t = (2047 & i) << 5;
                     break;
                 case 5:
                     s += String.fromCharCode(t | i >> 10),
                     t = (1023 & i) << 6;
                     break;
                 case 6:
                     s += String.fromCharCode(t | i >> 9),
                     t = (511 & i) << 7;
                     break;
                 case 7:
                     s += String.fromCharCode(t | i >> 8),
                     t = (255 & i) << 8;
                     break;
                 case 8:
                     s += String.fromCharCode(t | i >> 7),
                     t = (127 & i) << 9;
                     break;
                 case 9:
                     s += String.fromCharCode(t | i >> 6),
                     t = (63 & i) << 10;
                     break;
                 case 10:
                     s += String.fromCharCode(t | i >> 5),
                     t = (31 & i) << 11;
                     break;
                 case 11:
                     s += String.fromCharCode(t | i >> 4),
                     t = (15 & i) << 12;
                     break;
                 case 12:
                     s += String.fromCharCode(t | i >> 3),
                     t = (7 & i) << 13;
                     break;
                 case 13:
                     s += String.fromCharCode(t | i >> 2),
                     t = (3 & i) << 14;
                     break;
                 case 14:
                     s += String.fromCharCode(t | i >> 1),
                     t = (1 & i) << 15;
                     break;
                 case 15:
                     s += String.fromCharCode(t | i),
                     n = 0
                 }
                 a++
             }
             return this.decompress(s)
         },
         compress: function(e) {
             var t, i, s, n = {}, a = {}, o = "", r = "", l = "", h = 2, c = 3, p = 2, d = "", u = 0, f = 0;
             for (s = 0; s < e.length; s += 1)
                 if (o = e.charAt(s),
                 n.hasOwnProperty(o) || (n[o] = c++,
                 a[o] = !0),
                 r = l + o,
                 n.hasOwnProperty(r))
                     l = r;
                 else {
                     if (a.hasOwnProperty(l)) {
                         if (l.charCodeAt(0) < 256) {
                             for (t = 0; t < p; t++)
                                 u <<= 1,
                                 15 == f ? (f = 0,
                                 d += String.fromCharCode(u),
                                 u = 0) : f++;
                             for (i = l.charCodeAt(0),
                             t = 0; t < 8; t++)
                                 u = u << 1 | 1 & i,
                                 15 == f ? (f = 0,
                                 d += String.fromCharCode(u),
                                 u = 0) : f++,
                                 i >>= 1
                         } else {
                             for (i = 1,
                             t = 0; t < p; t++)
                                 u = u << 1 | i,
                                 15 == f ? (f = 0,
                                 d += String.fromCharCode(u),
                                 u = 0) : f++,
                                 i = 0;
                             for (i = l.charCodeAt(0),
                             t = 0; t < 16; t++)
                                 u = u << 1 | 1 & i,
                                 15 == f ? (f = 0,
                                 d += String.fromCharCode(u),
                                 u = 0) : f++,
                                 i >>= 1
                         }
                         h--,
                         0 == h && (h = Math.pow(2, p),
                         p++),
                         delete a[l]
                     } else
                         for (i = n[l],
                         t = 0; t < p; t++)
                             u = u << 1 | 1 & i,
                             15 == f ? (f = 0,
                             d += String.fromCharCode(u),
                             u = 0) : f++,
                             i >>= 1;
                     h--,
                     0 == h && (h = Math.pow(2, p),
                     p++),
                     n[r] = c++,
                     l = String(o)
                 }
             if ("" !== l) {
                 if (a.hasOwnProperty(l)) {
                     if (l.charCodeAt(0) < 256) {
                         for (t = 0; t < p; t++)
                             u <<= 1,
                             15 == f ? (f = 0,
                             d += String.fromCharCode(u),
                             u = 0) : f++;
                         for (i = l.charCodeAt(0),
                         t = 0; t < 8; t++)
                             u = u << 1 | 1 & i,
                             15 == f ? (f = 0,
                             d += String.fromCharCode(u),
                             u = 0) : f++,
                             i >>= 1
                     } else {
                         for (i = 1,
                         t = 0; t < p; t++)
                             u = u << 1 | i,
                             15 == f ? (f = 0,
                             d += String.fromCharCode(u),
                             u = 0) : f++,
                             i = 0;
                         for (i = l.charCodeAt(0),
                         t = 0; t < 16; t++)
                             u = u << 1 | 1 & i,
                             15 == f ? (f = 0,
                             d += String.fromCharCode(u),
                             u = 0) : f++,
                             i >>= 1
                     }
                     h--,
                     0 == h && (h = Math.pow(2, p),
                     p++),
                     delete a[l]
                 } else
                     for (i = n[l],
                     t = 0; t < p; t++)
                         u = u << 1 | 1 & i,
                         15 == f ? (f = 0,
                         d += String.fromCharCode(u),
                         u = 0) : f++,
                         i >>= 1;
                 h--,
                 0 == h && (h = Math.pow(2, p),
                 p++)
             }
             for (i = 2,
             t = 0; t < p; t++)
                 u = u << 1 | 1 & i,
                 15 == f ? (f = 0,
                 d += String.fromCharCode(u),
                 u = 0) : f++,
                 i >>= 1;
             for (; ; ) {
                 if (u <<= 1,
                 15 == f) {
                     d += String.fromCharCode(u);
                     break
                 }
                 f++
             }
             return d
         },
         decompress: function(e) {
             var t, i, s, n, a, o, r, l, h = [], c = 4, p = 4, d = 3, u = "", f = "", m = 0, g = {
                 string: e,
                 val: e.charCodeAt(0),
                 position: 32768,
                 index: 1
             };
             for (i = 0; i < 3; i += 1)
                 h[i] = i;
             for (n = 0,
             o = Math.pow(2, 2),
             r = 1; r != o; )
                 a = g.val & g.position,
                 g.position >>= 1,
                 0 == g.position && (g.position = 32768,
                 g.val = g.string.charCodeAt(g.index++)),
                 n |= (a > 0 ? 1 : 0) * r,
                 r <<= 1;
             switch (t = n) {
             case 0:
                 for (n = 0,
                 o = Math.pow(2, 8),
                 r = 1; r != o; )
                     a = g.val & g.position,
                     g.position >>= 1,
                     0 == g.position && (g.position = 32768,
                     g.val = g.string.charCodeAt(g.index++)),
                     n |= (a > 0 ? 1 : 0) * r,
                     r <<= 1;
                 l = String.fromCharCode(n);
                 break;
             case 1:
                 for (n = 0,
                 o = Math.pow(2, 16),
                 r = 1; r != o; )
                     a = g.val & g.position,
                     g.position >>= 1,
                     0 == g.position && (g.position = 32768,
                     g.val = g.string.charCodeAt(g.index++)),
                     n |= (a > 0 ? 1 : 0) * r,
                     r <<= 1;
                 l = String.fromCharCode(n);
                 break;
             case 2:
                 return ""
             }
             for (h[3] = l,
             s = f = l; ; ) {
                 for (n = 0,
                 o = Math.pow(2, d),
                 r = 1; r != o; )
                     a = g.val & g.position,
                     g.position >>= 1,
                     0 == g.position && (g.position = 32768,
                     g.val = g.string.charCodeAt(g.index++)),
                     n |= (a > 0 ? 1 : 0) * r,
                     r <<= 1;
                 switch (l = n) {
                 case 0:
                     if (m++ > 1e4)
                         return "Error";
                     for (n = 0,
                     o = Math.pow(2, 8),
                     r = 1; r != o; )
                         a = g.val & g.position,
                         g.position >>= 1,
                         0 == g.position && (g.position = 32768,
                         g.val = g.string.charCodeAt(g.index++)),
                         n |= (a > 0 ? 1 : 0) * r,
                         r <<= 1;
                     h[p++] = String.fromCharCode(n),
                     l = p - 1,
                     c--;
                     break;
                 case 1:
                     for (n = 0,
                     o = Math.pow(2, 16),
                     r = 1; r != o; )
                         a = g.val & g.position,
                         g.position >>= 1,
                         0 == g.position && (g.position = 32768,
                         g.val = g.string.charCodeAt(g.index++)),
                         n |= (a > 0 ? 1 : 0) * r,
                         r <<= 1;
                     h[p++] = String.fromCharCode(n),
                     l = p - 1,
                     c--;
                     break;
                 case 2:
                     return f
                 }
                 if (0 == c && (c = Math.pow(2, d),
                 d++),
                 h[l])
                     u = h[l];
                 else {
                     if (l !== p)
                         return null;
                     u = s + s.charAt(0)
                 }
                 f += u,
                 h[p++] = s + u.charAt(0),
                 c--,
                 s = u,
                 0 == c && (c = Math.pow(2, d),
                 d++)
             }
             return f
         }
     };
     return e
 }),
 define("f1e1d/d9232/d4e25", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/fce39/a3ebf", "f1e1d/fce39/a4370", "f1e1d/d8478/b5029", "f1e1d/d9232/b2f52"], function(e, t, i, s, n, a) {
     function o(e, t) {
         var i = e.playlist.name.toLowerCase()
           , s = t.playlist.name.toLowerCase();
         return i > s ? 1 : i < s ? -1 : 0
     }
     var r, l, h = "1", c = t.extend({
         init: function() {
             var e = this._read();
             e ? (e = JSON.parse(e),
             e[h] || this.reset()) : this.reset()
         },
         reset: function() {
             r = {},
             r[h] = {
                 m: {},
                 p: {}
             },
             this._write(!0)
         },
         ready: function(e) {
             r = JSON.parse(this._read()),
             r.uid !== e && (r.uid = e,
             r[h] = {
                 m: {},
                 p: {}
             },
             this._write(!0)),
             s.on("reset add remove", this.onPlaylistSync, this),
             s.on("change:name", this.onPlaylistRename, this)
         },
         onPlaylistSync: function() {
             for (var e, t = s.length; t--; ) {
                 var i = s.at(t)
                   , n = r[h].p[i.get("id")];
                 n ? n.name !== i.get("name") && (e = !0,
                 n.name = i.get("name")) : (e = !0,
                 r[h].p[i.get("id")] = {
                     id: i.get("id"),
                     name: i.get("name"),
                     items: {}
                 })
             }
             for (var a in r[h].p)
                 s.get(a) || (e = !0,
                 r[h].p[a] = void 0,
                 delete r[h].p[a]);
             e = this.deleteOrphans() || e,
             e && this._write()
         },
         onPlaylistRename: function(e) {
             r[h].p[e.get("id")] && r[h].p[e.get("id")].name !== e.get("name") && (r[h].p[e.get("id")].name = e.get("name"),
             this._write())
         },
         mediaUpdate: function(e) {
             for (var t, s, n = {}, a = i.length; a--; )
                 s = i.at(a).toJSON(),
                 n[s.cid] = !0,
                 r[h].m[s.cid] ? r[h].m[s.cid].author === s.author && r[h].m[s.cid].title === s.title || (t = !0,
                 r[h].m[s.cid].author = s.author,
                 r[h].m[s.cid].title = s.title) : (t = !0,
                 r[h].m[s.cid] = s),
                 r[h].p[e].items[s.cid] || (t = !0,
                 r[h].p[e].items[s.cid] = !0);
             for (var o in r[h].p[e].items)
                 n[o] || (t = !0,
                 r[h].p[e].items[o] = void 0,
                 delete r[h].p[e].items[o]);
             t = this.deleteOrphans() || t,
             t && this._write()
         },
         mediaRename: function(e) {
             var t = e.toJSON();
             !r[h].m[t.cid] || r[h].m[t.cid].author === t.author && r[h].m[t.cid].title === t.title || (r[h].m[t.cid].author = t.author,
             r[h].m[t.cid].title = t.title,
             this._write())
         },
         deleteOrphans: function() {
             var e, t, i = {};
             for (var s in r[h].p)
                 for (t in r[h].p[s].items)
                     i[t] = !0;
             for (t in r[h].m)
                 i[t] || (e = !0,
                 r[h].m[t] = void 0,
                 delete r[h].m[t]);
             return e
         },
         search: function(e) {
             var t = [];
             if (!e)
                 return t;
             var i, s = n.get("playlistID"), a = n.get("media") ? n.get("media").get("cid") : void 0;
             for (var l in r[h].p) {
                 var c = r[h].p[l]
                   , p = c.items;
                 for (var d in p) {
                     var u = r[h].m[d];
                     if (u && (u.author && u.author.toLowerCase().indexOf(e) > -1 || u.title && u.title.toLowerCase().indexOf(e) > -1) && (a == d && s == l ? i = {
                         media: u,
                         playlist: c
                     } : t.push({
                         media: u,
                         playlist: c
                     }),
                     t.length === (i ? 49 : 50)))
                         break
                 }
                 if (t.length === (i ? 49 : 50))
                     break
             }
             return t.sort(o),
             i && t.unshift(i),
             t
         },
         _write: function(e) {
             l && clearTimeout(l),
             e ? localStorage.setItem("media", a.compressToUTF16(JSON.stringify(r))) : l = setTimeout(function() {
                 localStorage.setItem("media", a.compressToUTF16(JSON.stringify(r)))
             }, 1e3)
         },
         _read: function() {
             var e = localStorage.getItem("media");
             return e ? a.decompressFromUTF16(e) : void 0
         }
     });
     return new c
 }),
 define("f1e1d/ee86e/efb5b", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/b5cf9", "f1e1d/fce39/ec5ba", "f1e1d/e8300/a815f", "f1e1d/e8300/dc3a7", "f1e1d/d8478/b5029", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/c76df/b0cd7", "f1e1d/be642/c76df/f0991", "f1e1d/d9232/b42c1", "f1e1d/d9232/d4e25", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g) {
     var v = t.extend({
         execute: function() {
             this.listenTo(new c(this.event.name,this.event.isPrivate))
         },
         onSuccess: function(t) {
             function i() {
                 "true" == localStorage.getItem("plugdj.firstLogin") && (hj("trigger", "new_user"),
                 localStorage.removeItem("plugdj.firstLogin"))
             }
             m.identify(t),
             v._ft && (v._ft = !1,
             d.ready(t.id),
             u.ready(t.id)),
             s.reset(t.ignores),
             t.ignores = void 0,
             delete t.ignores;
             for (var a = t.notifications.length; a--; )
                 g.deserializeNotification(t.notifications[a]);
             if (n.reset(t.notifications),
             t.notifications = void 0,
             delete t.notifications,
             t.gRole !== h.HOST) {
                 var r, c;
                 if (r = t.xp - l._x[t.level - 1],
                 c = l._x[t.level] - (t.level > 1 ? l._x[t.level - 1] : 0),
                 r >= c || r < 0) {
                     var f = l._x.length;
                     for (a = 0; a < f; ++a)
                         if (l._x[a] > t.xp) {
                             t.level = a;
                             break
                         }
                 }
             }
             t.language || (t.language = "en"),
             window._signingup && t.settings.videoOnly != d.settings.videoOnly && (t.settings.videoOnly = d.settings.videoOnly,
             e.delay(function() {
                 new p({
                     videoOnly: d.settings.videoOnly
                 })
             }, 1e3));
             var b = !1;
             for (var w in t.settings)
                 d.settings[w] !== t.settings[w] && ("videoOnly" === w && (b = !0),
                 d.settings[w] = t.settings[w]);
             d.save(),
             b && this.trigger("change:videoOnly"),
             t.settings = void 0,
             delete t.settings,
             l.set(t),
             this.event.callback && (this.event.callback(),
             this.event.callback = void 0,
             delete this.event.callback),
             l.get("guest") ? hj("trigger", "exit_survey_non_logged") : (this.dispatch(new o(o.FRIENDS,!0)),
             i()),
             this.finish()
         }
     });
     return v._ft = !0,
     i.mapEvent(o.ME, v, o),
     v
 }),
 define("f1e1d/d8478/a6d23", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             timestamp: void 0,
             user: void 0,
             room: void 0,
             media: void 0,
             score: void 0
         }
     });
     return t
 }),
 define("f1e1d/d8478/fdf95", ["backbone", "f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf"], function(e, t, i) {
     var s = e.Model.extend({
         defaults: {
             positive: void 0,
             negative: void 0,
             grabs: void 0,
             voters: {},
             grabbers: {}
         },
         parse: function(e, i) {
             var s, n, a = 0, o = 0, r = 0;
             for (s in e)
                 n = t.get(s),
                 n && n.set("vote", e[s]),
                 1 === e[s] ? ++a : ++o;
             for (s in i)
                 n = t.get(s),
                 n && n.set("grab", !0),
                 ++r;
             this.set({
                 positive: a,
                 negative: o,
                 grabs: r,
                 voters: e,
                 grabbers: i
             })
         },
         advance: function() {
             this.set({
                 positive: 0,
                 negative: 0,
                 grabs: 0,
                 voters: {},
                 grabbers: {}
             }),
             t.each(function(e) {
                 e.set({
                     vote: 0,
                     grab: !1
                 })
             })
         },
         userLeave: function(e) {
             var t = this.get("voters");
             t[e] && (1 === t[e] ? this.set("positive", this.get("positive") - 1) : this.set("negative", this.get("negative") - 1),
             t[e] = void 0,
             delete t[e])
         },
         vote: function(e) {
             if (e.i !== i.currentDJ) {
                 var s = t.get(e.i)
                   , n = this.get("voters");
                 s && s.set("vote", e.v),
                 1 === e.v && 1 !== n[e.i] ? (this.set("positive", this.get("positive") + 1),
                 n[e.i] === -1 && this.set("negative", this.get("negative") - 1)) : e.v === -1 && n[e.i] !== -1 && (this.set("negative", this.get("negative") + 1),
                 1 === n[e.i] && this.set("positive", this.get("positive") - 1)),
                 n[e.i] = e.v
             }
         },
         grab: function(e) {
             if (e !== i.currentDJ) {
                 var s = t.get(e);
                 s && s.set("grab", !0),
                 this.get("grabbers")[e] || (this.get("grabbers")[e] = !0,
                 this.set("grabs", this.get("grabs") + 1))
             }
         }
     });
     return new s
 }),
 define("f1e1d/fce39/d6687", ["underscore", "backbone", "f1e1d/fce39/d3252", "f1e1d/d8478/a6d23", "f1e1d/d8478/b5029", "f1e1d/d8478/fdf95"], function(e, t, i, s, n, a) {
     var o = {}
       , r = t.Collection.extend({
         model: s,
         initialize: function() {
             this.on("reset", this.onReset, this),
             a.on("change:positive change:negative change:grabs", this.onPointsChange, this),
             i.on("add remove reset", this.onListenersChange, this)
         },
         onPointsChange: function() {
             if (this.length > 0 && this.at(0).get("id") === n.get("historyID")) {
                 var e = this.at(0).get("score");
                 e.positive = a.get("positive"),
                 e.negative = a.get("negative"),
                 e.grabs = a.get("grabs"),
                 this.at(0).set("score", e).trigger("change")
             }
         },
         onListenersChange: function() {
             if (this.length > 0 && this.at(0).get("id") === n.get("historyID")) {
                 var e = this.at(0).get("score");
                 e.listeners = Math.max(i.length - 1, 0),
                 this.at(0).set("score", e).trigger("change")
             }
         },
         onReset: function() {
             o = {},
             this.each(function(e) {
                 o[e.get("media").get("cid")] = !0
             })
         },
         exists: function(e) {
             return o.hasOwnProperty(e)
         },
         comparator: function(e, t) {
             return e.get("timestamp") > t.get("timestamp") ? -1 : e.get("timestamp") < t.get("timestamp") ? 1 : 0
         }
     });
     return new r
 }),
 define("f1e1d/e8300/da675", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e) {
             this._super(e)
         }
     });
     return t._name = "HistorySyncEvent",
     t.ROOM = "HistorySyncEvent:room",
     t.USER = "HistorySyncEvent:user",
     t
 }),
 define("f1e1d/be642/e32cc/d58e8", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "rooms/history",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeHistoryItem(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 404 === e.code && this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/be642/c76df/cbe4b", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         init: function(e, t) {
             this.route = "users/" + e,
             this.payload = t,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? (t.deserializeUser(e.data[0]),
             this.success(e.data[0], this.payload),
             delete this.payload) : this.error && this.error(e)
         }
     });
     return i
 }),
 define("f1e1d/ee86e/a8671", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/d6687", "f1e1d/fce39/d3252", "f1e1d/e8300/da675", "f1e1d/d8478/eeaaf", "f1e1d/d8478/a6d23", "f1e1d/d8478/d23b4", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/fdf95", "f1e1d/be642/e32cc/d58e8", "f1e1d/be642/c76df/cbe4b"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = e.extend({
         collection: i,
         execute: function() {
             this.listenTo(new p)
         },
         onSuccess: function(e) {
             for (var t = [], i = e.length, s = 0; s < i; ++s)
                 e[s].media = new r(e[s].media),
                 t.push(new o(e[s]));
             this.checkCurrent(t) || (this.collection.reset(t),
             this.finish())
         },
         checkCurrent: function(e) {
             if (l.get("historyID") && a.get("currentDJ") && (0 === e.length || e.length > 0 && e[0].get("id") !== l.get("historyID"))) {
                 this.pending = e;
                 var t = s.get(a.get("currentDJ"));
                 return t ? this.prepend(t) : new d(a.get("currentDJ")).on("success", _.bind(this.onMissing, this)).on("error", _.bind(this.onUserError, this)),
                 !0
             }
             return !1
         },
         onMissing: function(e) {
             this.prepend(s.add(e))
         },
         prepend: function(e) {
             var t = l.get("media").clone();
             t.set("id", "0"),
             this.pending.unshift(new o({
                 id: l.get("historyID"),
                 timestamp: l.get("startTime"),
                 user: {
                     id: e.get("id"),
                     username: e.get("username")
                 },
                 media: t,
                 score: {
                     positive: c.get("positive"),
                     negative: c.get("negative"),
                     grabs: c.get("grabs"),
                     listeners: Math.max(h.get("population") - 1, 0)
                 },
                 room: {
                     name: h.get("name"),
                     slug: h.get("slug")
                 }
             })),
             this.collection.reset(this.pending),
             this.pending = void 0,
             delete this.pending,
             this.finish()
         },
         onUserError: function() {
             this.pending = void 0,
             delete this.pending,
             this.finish()
         },
         onError: function() {
             this.finish()
         },
         finish: function() {
             this.collection = void 0,
             delete this.collection,
             this._super()
         }
     });
     return t.mapEvent(n.ROOM, u, n),
     u
 }),
 define("f1e1d/be642/a65aa/e3562", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "ignores",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         e.data[i].username = t.h2t(e.data[i].username);
                     this.success(e.data)
                 }
             } else
                 404 === e.code && this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/ee86e/e381d", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/b5cf9", "f1e1d/e8300/d583a", "f1e1d/be642/a65aa/e3562"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             i.reset(),
             this.listenTo(new n)
         },
         onSuccess: function(e) {
             i.reset(e),
             this.finish()
         }
     });
     return t.mapEvent(s.IGNORED, a, s),
     a
 }),
 define("f1e1d/e8300/f9a6b", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e) {
             this._super(e)
         }
     });
     return t._name = "ImportSoundCloudEvent",
     t.FAVORITES = "ImportSoundCloudEvent:favorites",
     t.SETS = "ImportSoundCloudEvent:sets",
     t.TRACKS = "ImportSoundCloudEvent:tracks",
     t
 }),
 define("f1e1d/d8478/bb611", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             title: void 0,
             tracks: void 0
         }
     });
     return t
 }),
 define("f1e1d/fce39/c3521", ["backbone", "f1e1d/d8478/bb611"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         selectedSet: void 0
     });
     return new i
 }),
 define("f1e1d/e8300/ff11a", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i, s) {
             this._super(e),
             this.name = t,
             this.items = i,
             this.grab = s
         }
     });
     return t._name = "PlaylistCreateEvent",
     t.CREATE = "PlaylistCreateEvent:create",
     t
 }),
 define("async", [], function() {
     function e(e) {
         var t, i;
         t = document.createElement("script"),
         t.type = "text/javascript",
         t.async = !0,
         t.src = e,
         i = document.getElementsByTagName("script")[0],
         i.parentNode.insertBefore(t, i)
     }
     function t(e, t) {
         var i = /!(.+)/
           , n = e.replace(i, "")
           , a = i.test(e) ? e.replace(/.+!/, "") : s;
         return n += n.indexOf("?") < 0 ? "?" : "&",
         n + a + "=" + t
     }
     function i() {
         return n += 1,
         "__async_req_" + n + "__"
     }
     var s = "callback"
       , n = 0;
     return {
         load: function(s, n, a, o) {
             if (o.isBuild)
                 a(null);
             else {
                 var r = i();
                 window[r] = a,
                 e(t(n.toUrl(s), r))
             }
         }
     }
 }),
 define("f1e1d/be642/cb980/ae3fd", ["jquery-jsonp", "underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/af752/e504b", "lang/Lang", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r) {
     var l, h = i.extend({
         init: function() {
             this.callback = void 0,
             this.index = 0,
             this.terms = "",
             this.keys = ["AIzaSyC3WOyIjVm83zKnRFHfUYJ8_rDhox3XKdM"],
             this.keys = [],
             this.related = !1,
             this.importing = !1,
             this.listBind = t.bind(this.onList, this),
             this.videosBind = t.bind(this.onVideos, this),
             this.errorBind = t.bind(this.onError, this)
         },
         load: function(e, t) {
             this.terms = e,
             this.callback = t,
             gapi.client.youtube ? (gapi.client.youtube.search.list({
                 q: this.terms,
                 part: "snippet",
                 fields: "items(id/videoId,snippet/title,snippet/thumbnails,snippet/channelTitle)",
                 maxResults: 20,
                 videoDuration: "any",
                 type: "video",
                 safeSearch: "none"
             }).then(this.listBind, this.errorBind),
             r("send", "event", "Search")) : this.callback([])
         },
         loadRelated: function(e, t) {
             this.callback = t,
             gapi.client.youtube ? (gapi.client.youtube.search.list({
                 relatedToVideoId: e,
                 part: "snippet",
                 fields: "items(id/videoId,snippet/title,snippet/thumbnails,snippet/channelTitle)",
                 maxResults: 20,
                 type: "video",
                 safeSearch: "none"
             }).then(this.listBind, this.errorBind),
             r("send", "event", "Search")) : this.callback([])
         },
         onList: function(e) {
             if (l = e.result.items,
             l && l.length > 0) {
                 for (var t = "", i = l.length, s = 0; s < i; s++)
                     t += l[s].id.videoId + ",";
                 gapi.client.youtube.videos.list({
                     id: t.substr(0, t.length - 1),
                     part: "contentDetails",
                     fields: "items(id,contentDetails/duration)"
                 }).then(this.videosBind, this.errorBind)
             } else
                 this.callback([])
         },
         onVideos: function(e) {
             var t = e.result.items
               , i = [];
             if (t && t.length > 0)
                 try {
                     var r, h, c = {};
                     for (h = t.length,
                     r = 0; r < h; r++)
                         c[t[r].id] = a.iso8601(t[r].contentDetails.duration);
                     for (h = l.length,
                     r = 0; r < h; r++) {
                         var p = a.authorTitle(l[r].snippet.title);
                         i.push({
                             index: r,
                             format: 1,
                             id: l[r].id.videoId,
                             cid: l[r].id.videoId,
                             author: p.author || l[r].snippet.channelTitle || "?",
                             title: p.title,
                             duration: c[l[r].id.videoId],
                             image: l[r].snippet.thumbnails.default.url.replace("http:/", "https:/")
                         })
                     }
                 } catch (e) {
                     s.dispatch(new n(n.ALERT,o.alerts.youtubeError,o.alerts.pleaseTryAgain))
                 }
             this.callback(i)
         },
         onError: function(e) {
             this.related || this.importing ? this.callback([]) : this.index <= this.keys.length - 1 ? (this.index++,
             this.load(this.terms, this.callback)) : (s.dispatch(new n(n.ALERT,o.alerts.youtubeError,o.alerts.pleaseTryAgain)),
             this.callback([]))
         }
     });
     return h
 }),
 define("f1e1d/be642/cb980/f4c09", ["jquery-jsonp", "underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "lang/Lang"], function(e, t, i, s, n, a) {
     var o, r, l = i.extend({
         init: function() {
             this.channelBind = t.bind(this.onChannel, this),
             this.listBind = t.bind(this.onComplete, this),
             this.failUserBind = t.bind(this.onUserFail, this),
             this.errorBind = t.bind(this.onError, this)
         },
         load: function(e, t) {
             o = r = void 0,
             this.data = [],
             this.resultCount = 0,
             this.username = e,
             this.callback = t,
             this.triedChannelID = !1,
             this.timeoutID && clearTimeout(this.timeoutID),
             gapi.client.youtube ? gapi.client.youtube.channels.list({
                 part: "id",
                 id: this.username
             }).then(this.channelBind, this.failUserBind) : this.callback([])
         },
         onChannel: function(e) {
             e.result.items.length && (r = e.result.items[0].id),
             r ? this.loadLists() : this.triedChannelID || 24 !== this.username.length ? this.errorBind() : this.failUserBind()
         },
         onUserFail: function() {
             this.triedChannelID = !0,
             r = this.username,
             gapi.client.youtube ? gapi.client.youtube.channels.list({
                 part: "id",
                 id: r
             }).then(this.channelBind, this.errorBind) : this.callback([])
         },
         loadLists: function() {
             gapi.client.youtube.playlists.list({
                 part: "snippet",
                 maxResults: 50,
                 channelId: r,
                 pageToken: o,
                 fields: "nextPageToken,items(id,snippet/title)"
             }).then(this.listBind, this.errorBind)
         },
         onComplete: function(e) {
             var i = !0;
             try {
                 this.deserialize(e)
             } catch (e) {
                 console.log(e),
                 i = !1
             }
             if (i)
                 if (o = e.result.nextPageToken)
                     this.loadLists();
                 else if (0 === this.data.length && 0 === this.resultCount)
                     this.errorBind();
                 else {
                     this.data.sort(this.sortByName);
                     var r = this.username;
                     t.each(this.data, function(e) {
                         e.username = r
                     }),
                     this.callback(this.data)
                 }
             else
                 s.dispatch(new n(n.ALERT,a.alerts.youtubeError,a.alerts.pleaseTryAgain)),
                 this.callback([])
         },
         sortByName: function(e, t) {
             return e.name > t.name ? 1 : e.name < t.name ? -1 : 0
         },
         deserialize: function(e) {
             var t = e.result.items;
             if (t) {
                 this.resultCount = t.length;
                 for (var i = 0; i < this.resultCount; ++i)
                     this.data.push({
                         playlistID: t[i].id,
                         name: t[i].snippet.title
                     })
             } else
                 this.resultCount = 0
         },
         onError: function(e, t) {
             e && console.log(e, t),
             s.dispatch(new n(n.ALERT,a.alerts.youtubeError,a.alerts.usernameNotFound)),
             this.callback([])
         }
     });
     return l
 }),
 define("f1e1d/be642/cb980/d0f22", ["jquery-jsonp", "underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r, l, h = [], c = i.extend({
         init: function(e) {
             this.timeoutID = 0,
             this.favorites = e,
             this.start = 1,
             this.index = 0,
             this.data = [],
             this.done = !1,
             this.listBind = t.bind(this.onList, this),
             this.videosBind = t.bind(this.onVideos, this),
             this.errorBind = t.bind(this.onError, this)
         },
         load: function(e, t, i) {
             l = void 0,
             this.data = [],
             this.query = e,
             this.favorites = t,
             this.callback = i,
             this.timeoutID && clearTimeout(this.timeoutID),
             this.resultCount = 0,
             gapi.client.youtube ? this.loadNext() : this.callback([])
         },
         loadNext: function() {
             gapi.client.youtube.playlistItems.list({
                 part: "snippet",
                 playlistId: this.query,
                 maxResults: 50,
                 pageToken: l
             }).then(this.listBind, this.errorBind)
         },
         onList: function(e) {
             if (r = e.result.items,
             0 !== this.data.length || r && r.length) {
                 l = e.result.nextPageToken;
                 for (var t = r.length, i = "", s = 0; s < t; s++)
                     "undefined" != typeof r[s] && "undefined" !== r[s].snippet && "This video is unavailable." !== r[s].snippet.description && (h.push(r[s]),
                     i += r[s].snippet.resourceId.videoId + ",");
                 r = h,
                 h = [],
                 delete h,
                 gapi.client.youtube.videos.list({
                     id: i.substr(0, i.length - 1),
                     part: "contentDetails",
                     fields: "items(id,contentDetails/duration)"
                 }).then(this.videosBind, this.errorBind)
             } else
                 this.callback([])
         },
         onVideos: function(e) {
             var t = e.result.items;
             if (t && t.length > 0)
                 try {
                     var i, h = t.length, c = this.data.length;
                     for (i = 0; i < h; i++) {
                         var p = a.authorTitle(r[i].snippet.title);
                         this.data.push({
                             index: c + i,
                             format: 1,
                             id: t[i].id,
                             cid: t[i].id,
                             author: p.author || r[i].snippet.channelTitle || "?",
                             title: p.title,
                             duration: a.iso8601(t[i].contentDetails.duration),
                             image: "https://i.ytimg.com/vi/" + t[i].id + "/default.jpg"
                         })
                     }
                 } catch (e) {
                     s.dispatch(new n(n.ALERT,o.alerts.youtubeError,o.alerts.pleaseTryAgain))
                 }
             this.eliminateDuplicates(),
             l ? this.loadNext() : this.callback(this.data)
         },
         eliminateDuplicates: function() {
             this.hash = {};
             for (var e = [], t = this.data.length, i = 0; i < t; ++i) {
                 var s = this.data[i];
                 this.hash[s.cid] || (this.hash[s.cid] = !0,
                 e.push(s))
             }
             this.data = e
         },
         onError: function(e, t) {
             console.error(e, t),
             this.callback([])
         }
     });
     return c
 }),
 define("f1e1d/af752/f0d32", ["jquery", "underscore", "soundcloud", "f1e1d/e718c/b7acd"], function(e, t, i, s) {
     var n = {};
     return n.id = window.location.href.indexOf("//plug.dj") > -1 ? "f4fdc0512b7990d11ffc782b2c17e8c2" : window.location.href.indexOf("localhost:5000") > -1 ? "be027c6f8f339c56197ddd2927db4460" : "28f6eb7f95ca57eb0898b30942071c41",
     n.cb = window.location.origin + "/_/sccallback",
     n.r = !1,
     n.g = function() {
         if (i) {
             n.r = !0;
             try {
                 i.initialize({
                     client_id: n.id,
                     redirect_uri: n.cb
                 }),
                 n.sc = i,
                 s.trigger("sc:ready")
             } catch (e) {
                 console.error("SC INIT ERROR:", e)
             }
         }
     }
     ,
     n
 }),
 define("f1e1d/be642/c0914/d7a93", ["jquery", "underscore", "f1e1d/e718c/b5ee0", "f1e1d/af752/f0d32", "f1e1d/af752/fd6ec", "f1e1d/af752/e504b"], function(e, t, i, s, n, a) {
     var o = i.extend({
         init: function() {
             this.callback = void 0
         },
         load: function(e, i, n, a) {
             this.callback = a,
             0 === e.indexOf("https://soundcloud.com/") || 0 === e.indexOf("http://soundcloud.com/") ? s.sc.get("/resolve", {
                 url: e
             }).then(t.bind(this.onResolve, this)).catch(t.bind(this.onError, this)) : s.sc.get("/tracks", {
                 q: e,
                 offset: i * n,
                 limit: n
             }).then(t.bind(this.onComplete, this)).catch(t.bind(this.onError, this))
         },
         onComplete: function(e, t) {
             if (t)
                 return void this.onError(t);
             for (var i = e.length, s = [], n = 0; n < i; ++n) {
                 var a = this.parse(e[n], n);
                 a && s.push(a)
             }
             this.callback(s)
         },
         onResolve: function(e, i) {
             if (i)
                 return void this.onError(i);
             var n = [];
             if ("track" === e.kind) {
                 var a = this.parse(e, 0);
                 a && n.push(a)
             } else if ("user" === e.kind)
                 return void s.sc.get("/tracks", {
                     user_id: e.id,
                     limit: 200
                 }).then(t.bind(this.onComplete, this)).catch(t.bind(this.onError, this));
             this.callback(n)
         },
         parse: function(e, t) {
             var i = {};
             if (e.streamable)
                 i.cid = e.stream_url.split("/")[4];
             else {
                 if (!e.downloadable)
                     return;
                 i.cid = e.download_url.split("/")[4]
             }
             if (i.image = e.artwork_url || e.avatar_url || n.scThumbnail,
             i.duration = e.duration / 1e3,
             e.user)
                 i.author = e.user.username,
                 i.title = e.title;
             else {
                 var s = a.authorTitle(e.title);
                 i.author = s.author || i.author,
                 i.title = s.title
             }
             return i.format = 2,
             i.id = i.cid,
             i
         },
         onError: function(e) {
             console.warn("SoundCloud Search Error"),
             console.log(e),
             this.callback([])
         }
     });
     return o
 }),
 define("f1e1d/be642/c0914/f2338", ["f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/af752/f0d32", "f1e1d/af752/fd6ec", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         init: function() {
             this.callback = void 0,
             this.hasConnected = !1
         },
         load: function(e, n, a) {
             this.callback = a;
             var r = this;
             this.hasConnected ? s.sc.get("/me/favorites?offset=" + e * n + "&limit=" + n).then(function(e) {
                 r.onComplete(e)
             }).catch(function(e) {
                 r.hasConnected = !1,
                 t.dispatch(new i(i.ALERT,o.alerts.soundcloudError,e.message + "<br/>" + o.alerts.pleaseTryAgain))
             }) : this.auth(e, n)
         },
         auth: function(e, n) {
             var a = this;
             s.sc.connect().then(function() {
                 s.sc.get("/me/favorites?offset=" + e * n + "&limit=" + n).then(function(e) {
                     a.hasConnected = !0,
                     a.onComplete(e)
                 }).catch(function(e) {
                     a.hasConnected = !0,
                     t.dispatch(new i(i.ALERT,o.alerts.soundcloudError,e.message + "<br/>" + o.alerts.pleaseTryAgain))
                 })
             }).catch(function(e) {
                 t.dispatch(new i(i.ALERT,o.alerts.soundcloudError,e.message + "<br/>" + o.alerts.pleaseTryAgain))
             })
         },
         onComplete: function(e) {
             for (var t = e.length, i = [], s = 0; s < t; ++s) {
                 var o = e[s]
                   , r = {};
                 if (o.streamable)
                     r.cid = o.stream_url.split("/")[4];
                 else {
                     if (!o.downloadable)
                         continue;
                     r.cid = o.download_url.split("/")[4]
                 }
                 if (r.image = o.artwork_url || o.avatar_url || n.scThumbnail,
                 r.waveform = o.waveform_url,
                 r.duration = o.duration / 1e3,
                 o.user)
                     r.author = o.user.username,
                     r.title = o.title;
                 else {
                     var l = a.authorTitle(o.title);
                     r.author = l.author || r.author,
                     r.title = l.title
                 }
                 r.format = 2,
                 r.id = r.cid,
                 i.push(r)
             }
             this.callback(i)
         },
         onError: function() {
             console.warn("SoundCloud Favorites Error"),
             this.callback([])
         }
     });
     return r
 }),
 define("f1e1d/be642/c0914/fdba3", ["jquery", "underscore", "f1e1d/e718c/b5ee0", "f1e1d/af752/f0d32"], function(e, t, i, s) {
     var n = i.extend({
         init: function() {
             this.callback = void 0
         },
         load: function(e, i) {
             this.callback = i,
             s.sc.get("/tracks/", {
                 id: e
             }).then(t.bind(this.onComplete, this)).catch(t.bind(this.onError, this))
         },
         onComplete: function(e) {
             e && e.permalink_url ? this.callback(e.permalink_url) : this.callback()
         },
         onError: function(e) {
             console.error("SoundCloud Permalink Error:", e),
             this.callback()
         }
     });
     return n
 }),
 define("f1e1d/be642/c0914/a4a58", ["f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/d8478/d23b4", "f1e1d/af752/f0d32", "f1e1d/af752/fd6ec", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         init: function() {
             this.callback = void 0,
             this.hasConnected = !1
         },
         load: function(e, s, a) {
             this.callback = a;
             var o = this;
             this.hasConnected ? n.sc.get("/me/playlists?offset=" + e * s + "&limit=" + s).then(function(e) {
                 o.onComplete(e)
             }).catch(function(e) {
                 o.hasConnected = !1,
                 t.dispatch(new i(i.ALERT,Lang.alerts.soundcloudError,e.message + "<br/>" + Lang.alerts.pleaseTryAgain))
             }) : this.auth(e, s)
         },
         auth: function(e, s) {
             var a = this;
             n.sc.connect().then(function() {
                 n.sc.get("/me/playlists?offset=" + e * s + "&limit=" + s).then(function(e) {
                     a.hasConnected = !0,
                     a.onComplete(e)
                 }).catch(function(e) {
                     a.hasConnected = !0,
                     t.dispatch(new i(i.ALERT,Lang.alerts.soundcloudError,e.message + "<br/>" + Lang.alerts.pleaseTryAgain))
                 })
             }).catch(function(e) {
                 a.hasConnected = !1,
                 t.dispatch(new i(i.ALERT,Lang.alerts.soundcloudError,e.message + "<br/>" + Lang.alerts.pleaseTryAgain))
             })
         },
         onComplete: function(e) {
             for (var t = e.length, i = [], n = 0; n < t; ++n) {
                 var r = {};
                 r.title = e[n].title,
                 r.tracks = [];
                 for (var l = e[n].tracks.length, h = 0; h < l; ++h) {
                     var c = e[n].tracks[h]
                       , p = {};
                     if (c.streamable)
                         p.cid = c.stream_url.split("/")[4];
                     else {
                         if (!c.downloadable)
                             continue;
                         p.cid = c.download_url.split("/")[4]
                     }
                     if (p.image = c.artwork_url || c.avatar_url || a.scThumbnail,
                     p.duration = c.duration / 1e3,
                     c.user)
                         p.author = c.user.username,
                         p.title = c.title;
                     else {
                         var d = o.authorTitle(c.title);
                         p.author = d.author || p.author,
                         p.title = d.title
                     }
                     p.format = 2,
                     p.id = p.cid,
                     r.tracks.push(new s(p))
                 }
                 r.tracks.length > 0 && i.push(r)
             }
             console.log(i),
             this.callback(i)
         },
         onError: function() {
             console.warn("SoundCloud Sets Error"),
             this.callback([])
         }
     });
     return r
 }),
 define("f1e1d/be642/c0914/dafaf", ["f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/af752/f0d32", "f1e1d/af752/fd6ec", "f1e1d/af752/e504b"], function(e, t, i, s, n, a) {
     var o = e.extend({
         init: function() {
             this.callback = void 0,
             this.hasConnected = !1
         },
         load: function(e, n, a) {
             this.callback = a;
             var o = this;
             this.hasConnected ? s.sc.get("/me/tracks?offset=" + e * n + "&limit=" + n).then(function(e) {
                 o.onComplete(e)
             }).catch(function(e) {
                 o.hasConnected = !1,
                 t.dispatch(new i(i.ALERT,Lang.alerts.soundcloudError,e.message + "<br/>" + Lang.alerts.pleaseTryAgain))
             }) : this.auth(e, n)
         },
         auth: function(e, n) {
             var a = this;
             s.sc.connect().then(function() {
                 s.sc.get("/me/tracks?offset=" + e * n + "&limit=" + n).then(function(e) {
                     a.hasConnected = !0,
                     a.onComplete(e)
                 }).catch(function(e) {
                     a.hasConnected = !0,
                     t.dispatch(new i(i.ALERT,Lang.alerts.soundcloudError,e.message + "<br/>" + Lang.alerts.pleaseTryAgain))
                 })
             }).catch(function(e) {
                 a.hasConnected = !1,
                 t.dispatch(new i(i.ALERT,Lang.alerts.soundcloudError,e.message + "<br/>" + Lang.alerts.pleaseTryAgain))
             })
         },
         onComplete: function(e) {
             for (var t = e.length, i = [], s = 0; s < t; ++s) {
                 var o = e[s]
                   , r = {};
                 if (o.streamable)
                     r.cid = o.stream_url.split("/")[4];
                 else {
                     if (!o.downloadable)
                         continue;
                     r.cid = o.download_url.split("/")[4]
                 }
                 if (r.image = o.artwork_url || o.avatar_url || n.scThumbnail,
                 r.waveform = o.waveform_url,
                 r.duration = o.duration / 1e3,
                 o.user)
                     r.author = o.user.username,
                     r.title = o.title;
                 else {
                     var l = a.authorTitle(o.title);
                     r.author = l.author || r.author,
                     r.title = l.title
                 }
                 r.format = 2,
                 r.id = r.cid,
                 i.push(r)
             }
             this.callback(i)
         },
         onError: function() {
             console.warn("SoundCloud Tracks Error"),
             this.callback([])
         }
     });
     return o
 }),
 define("f1e1d/be642/c0914/efdb9", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/be642/c0914/d7a93", "f1e1d/af752/f0d32"], function(e, t, i, s) {
     var n = i.extend({
         load: function(t, i) {
             this.callback = i,
             s.sc.get("/tracks", {
                 user_id: t,
                 limit: 200
             }).then(e.bind(this.onComplete, this)).catch(e.bind(this.onError, this))
         },
         onError: function(e) {
             console.warn("SoundCloud User Tracks Error"),
             console.log(e),
             this.callback([])
         }
     });
     return n
 }),
 define("f1e1d/a3bee/dcf3d", ["async!//apis.google.com/js/client.js!onload", "f1e1d/e718c/b5ee0", "f1e1d/be642/cb980/ae3fd", "f1e1d/be642/cb980/f4c09", "f1e1d/be642/cb980/d0f22", "f1e1d/be642/c0914/d7a93", "f1e1d/be642/c0914/f2338", "f1e1d/be642/c0914/fdba3", "f1e1d/be642/c0914/a4a58", "f1e1d/be642/c0914/dafaf", "f1e1d/be642/c0914/efdb9"], function(e, t, i, s, n, a, o, r, l, h, c) {
     function p() {
         gapi && gapi.client ? (gapi.client.setApiKey("AIzaSyC3WOyIjVm83zKnRFHfUYJ8_rDhox3XKdM"),
         gapi.client.load("youtube", "v3")) : setTimeout(p, 1e3)
     }
     var d = t.extend({
         init: function() {
             this.ytSearchService = void 0,
             this.ytPlaylistService = void 0,
             this.ytImportService = void 0,
             this.scSearchService = void 0,
             this.scPermalinkService = void 0,
             this.scFavoritesService = void 0,
             this.scSetsService = void 0,
             this.scTracksService = void 0,
             this.scUserTracksService = void 0,
             this.scPermalinkService = void 0,
             p()
         },
         ytSearch: function(e, t) {
             this.ytSearchService || (this.ytSearchService = new i),
             this.ytSearchService.load(e, t)
         },
         ytRelated: function(e, t) {
             this.ytSearchService || (this.ytSearchService = new i),
             this.ytSearchService.loadRelated(e, t)
         },
         ytPlaylist: function(e, t) {
             this.ytPlaylistService || (this.ytPlaylistService = new s),
             this.ytPlaylistService.load(e, t)
         },
         ytPlaylistVideos: function(e, t) {
             this.ytImportService || (this.ytImportService = new n),
             this.ytImportService.load(e, !1, t)
         },
         ytFavoriteVideos: function(e, t) {
             this.ytImportService || (this.ytImportService = new n),
             this.ytImportService.load(e, !0, t)
         },
         scSearch: function(e, t, i, s) {
             this.scSearchService || (this.scSearchService = new a),
             this.scSearchService.load(e, t, i, s)
         },
         scUserTracks: function(e, t) {
             this.scUserTracksService || (this.scUserTracksService = new c),
             this.scUserTracksService.load(e, t)
         },
         scFavorites: function(e, t, i) {
             this.scFavoritesService || (this.scFavoritesService = new o),
             this.scFavoritesService.load(e, t, i)
         },
         scTracks: function(e, t, i) {
             this.scTracksService || (this.scTracksService = new h),
             this.scTracksService.load(e, t, i)
         },
         scSets: function(e, t, i) {
             this.scSetsService || (this.scSetsService = new l),
             this.scSetsService.load(e, t, i)
         },
         scPermalink: function(e, t) {
             this.scPermalinkService || (this.scPermalinkService = new r),
             this.scPermalinkService.load(e, t)
         }
     });
     return new d
 }),
 define("f1e1d/a3bee/b1aa5", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/fce39/c3521", "f1e1d/e8300/a815f", "f1e1d/e8300/ff11a", "f1e1d/a3bee/dcf3d", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = t.extend({
         load: function() {
             i.trigger("media:loading"),
             s.reset(),
             s.selectedSet = void 0,
             o.scSets(0, 200, e.bind(this.onComplete, this))
         },
         onComplete: function(e) {
             i.trigger("media:loaded"),
             s.reset(e)
         },
         importSelected: function() {
             this.createPlaylist(s.selectedSet.get("title"), s.selectedSet.get("tracks"), 1),
             setTimeout(e.bind(this.importSelectedAlert, this), 100)
         },
         importAll: function() {
             if (s.length > 0) {
                 var t = this;
                 s.each(function(e) {
                     t.createPlaylist(e.get("title"), e.get("tracks"), 1)
                 }),
                 e.delay(e.bind(this.importAllAlert, this), 100)
             }
         },
         createPlaylist: function(e, t, s) {
             if (t.length > 0) {
                 var n = e;
                 if (s > 1 && (n += " " + s),
                 t.length <= 200)
                     i.dispatch(new a(a.CREATE,n,t));
                 else {
                     var o = t.slice(0, 200);
                     i.dispatch(new a(a.CREATE,n,o)),
                     t.splice(0, 200),
                     this.createPlaylist(e, t, ++s)
                 }
             }
         },
         importSelectedAlert: function() {
             i.trigger("notify", "icon-import", r.alerts.playlistImporting.split("%PLAYLIST%").join(s.selectedSet.get("title")))
         },
         importAllAlert: function() {
             i.trigger("notify", "icon-import", r.alerts.scSetsImporting)
         }
     });
     return new l
 }),
 define("f1e1d/fce39/a854d", ["backbone", "f1e1d/d8478/d23b4"], function(e, t) {
     var i = e.Collection.extend({
         model: t
     });
     return new i
 }),
 define("f1e1d/d8478/b3f62", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             query: "",
             update: !1,
             disabled: !1,
             related: void 0,
             relatedHistory: [],
             relatedPlaylist: void 0
         }
     });
     return new t
 }),
 define("f1e1d/a3bee/fa846", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/fce39/a854d", "f1e1d/e8300/ff11a", "f1e1d/a3bee/dcf3d", "f1e1d/d8478/d23b4", "f1e1d/d8478/b3f62"], function(e, t, i, s, n, a, o, r) {
     var l = t.extend({
         init: function() {
             this.data = [],
             this.ytBind = e.bind(this.onYTResult, this),
             this.scBind = e.bind(this.onSCResult, this)
         },
         reset: function() {
             this.hash = {},
             this.page = 0,
             this.lastCount = 0,
             this.data.length = 0,
             this.relatedSearch = void 0,
             this.scFavoritesLookup = !1,
             this.scTracksLookup = !1,
             this.lastQuery = void 0,
             this.lastFormat = void 0,
             s.reset()
         },
         resetRelated: function() {
             r.set({
                 query: void 0,
                 related: void 0,
                 relatedHistory: [],
                 relatedPlaylist: void 0,
                 scImport: !1
             }, {
                 silent: !0
             })
         },
         load: function(e, t) {
             this.reset(),
             this.resetRelated(),
             i.trigger("media:loading"),
             this.lastQuery = e,
             this.lastFormat = t,
             r.set("query", "").set("query", e).set("disabled", e && 0 === e.indexOf("http")),
             this._search()
         },
         _search: function() {
             1 === this.lastFormat ? a.ytSearch(this.lastQuery, this.ytBind) : 2 === this.lastFormat && a.scSearch(this.lastQuery, this.page, 30, this.scBind)
         },
         loadRelated: function(e, t) {
             this.relatedSearch ? r.get("relatedHistory").push({
                 title: this.relatedSearch,
                 items: s.toArray()
             }) : r.get("relatedHistory").push({
                 title: this.lastQuery,
                 items: s.toArray(),
                 page: this.page
             }),
             t && r.set("relatedPlaylist", t, {
                 silent: !0
             }),
             this.reset(),
             this.lastFormat = e.get("format"),
             1 === this.lastFormat ? this.relatedSearch = e.get("author") + " - " + e.get("title") : 2 === this.lastFormat && (this.relatedSearch = e.get("author")),
             r.set({
                 pageCounts: [],
                 query: void 0
             }, {
                 silent: !0
             }).set({
                 related: this.relatedSearch
             }),
             i.trigger("media:loading"),
             1 === this.lastFormat ? a.ytRelated(e.get("cid"), this.ytBind) : 2 === this.lastFormat && a.scSearch(this.relatedSearch, 0, 30, this.scBind)
         },
         loadSCFavorites: function(e) {
             this._resetSC(e),
             this.scFavoritesLookup = !0,
             a.scFavorites(e, 30, this.scBind)
         },
         loadSCTracks: function(e) {
             this._resetSC(e),
             this.scTracksLookup = !0,
             a.scTracks(e, 30, this.scBind)
         },
         loadSCUserTracks: function(e, t) {
             this.reset(),
             this.resetRelated(),
             i.trigger("media:loading"),
             this.lastQuery = t,
             this.lastFormat = 2,
             r.unset("query").set("query", t).set("disabled", !1),
             a.scUserTracks(e, this.scBind)
         },
         importSC: function(e, t, a) {
             if (t || (t = s.toArray()),
             a || (a = 1),
             t.length > 0) {
                 var o = e;
                 if (a > 1 && (o += " " + a),
                 t.length <= 200)
                     i.dispatch(new n(n.CREATE,o,t));
                 else {
                     var r = t.slice(0, 200);
                     i.dispatch(new n(n.CREATE,o,r)),
                     t.splice(0, 200),
                     this.importSC(e, t, ++a)
                 }
             }
         },
         _resetSC: function(e) {
             0 === e && (this.reset(),
             this.resetRelated(),
             this.page = e,
             this.lastFormat = 2,
             r.set({
                 scImport: !0
             }))
         },
         more: function() {
             return 1 !== this.lastFormat && !this.relatedSearch && this.lastCount > 0 && s.length < 200 && (++this.page,
             this.scFavoritesLookup || this.scTracksLookup ? this.scFavoritesLookup ? this.loadSCFavorites(this.page) : this.scTracksLookup && this.loadSCTracks(this.page) : this._search(),
             !0)
         },
         onYTResult: function(e) {
             this.relatedSearch && 0 === e.length ? (this.lastQuery = void 0,
             this.load(this.relatedSearch, 1)) : this.eliminateDuplicates(e)
         },
         onSCResult: function(e) {
             this.eliminateDuplicates(e)
         },
         eliminateDuplicates: function(e) {
             this.ignoreDuplicatesAndLocal(e),
             this.collate(e)
         },
         ignoreDuplicatesAndLocal: function(e) {
             if (e)
                 for (var t = e.length, i = 0; i < t; ++i)
                     !this.hash[e[i].cid]
         },
         onCIDResult: function(e) {
             if (e)
                 for (var t = e.length, i = 0; i < t; ++i)
                     this.hash[e[i].cid] = !0,
                     this.data.push(e[i]);
             this.collate(e)
         },
         collate: function(e) {
             if (this.appendUnknown(e),
             s.length + this.data.length > 200) {
                 var t = (s.length + this.data.length) % 200;
                 this.data.length - t > -1 && (this.data.length -= t)
             }
             s.add(this.data),
             s.trigger("update"),
             i.trigger("media:loaded"),
             this.lastCount = this.data.length,
             this.data.length = 0
         },
         appendUnknown: function(e) {
             if (e)
                 for (var t = e.length, i = 0; i < t; ++i)
                     this.hash[e[i].cid] || this.data.push(e[i])
         }
     });
     return new l
 }),
 define("f1e1d/ee86e/d70e5", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e8300/f9a6b", "f1e1d/a3bee/b1aa5", "f1e1d/a3bee/fa846"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             this.event.type === i.SETS ? s.load() : this.event.type === i.TRACKS ? n.loadSCTracks(0) : this.event.type === i.FAVORITES && n.loadSCFavorites(0),
             this._super()
         }
     });
     return t.mapEvent(i.SETS, a, i),
     t.mapEvent(i.TRACKS, a, i),
     t.mapEvent(i.FAVORITES, a, i),
     a
 }),
 define("f1e1d/fce39/c3226", ["backbone", "f1e1d/d8478/d23b4"], function(e, t) {
     var i = e.Collection.extend({
         model: t
     });
     return new i
 }),
 define("f1e1d/e8300/ef592", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.playlist = t
         }
     });
     return t._name = "ImportYouTubeEvent",
     t.IMPORT = "ImportYouTubeEvent:import",
     t
 }),
 define("f1e1d/a3bee/f8c12", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/ff11a", "f1e1d/a3bee/dcf3d", "f1e1d/d8478/d23b4"], function(e, t, i, s, n, a) {
     var o = t.extend({
         init: function() {
             this.updateCallback = void 0,
             this.data = []
         },
         load: function(t) {
             this.data = [],
             this.ytp = t,
             i.trigger("media:loading"),
             t.playlistID ? n.ytPlaylistVideos(t.playlistID, e.bind(this.onComplete, this)) : n.ytFavoriteVideos(t.username, e.bind(this.onComplete, this))
         },
         onComplete: function(e) {
             if (i.trigger("media:loaded"),
             this.ytResults = e,
             e.length > 0) {
                 this.hash = {};
                 e.length;
                 this.appendUnknown()
             } else
                 this.updateCallback([])
         },
         appendUnknown: function() {
             for (var e = this.ytResults.length, t = 0; t < e; ++t)
                 this.hash[this.ytResults[t].cid] || this.data.push(new a(this.ytResults[t]));
             this.updateCallback(this.data)
         },
         import: function() {
             if (this.data.length > 0) {
                 var e = [];
                 this.createPlaylist(e.concat(this.data), 1)
             }
         },
         createPlaylist: function(e, t) {
             if (e.length > 0) {
                 var n = this.ytp.playlistID ? this.ytp.name : "YouTube Favorites";
                 if (t > 1 && (n += " " + t),
                 e.length <= 200)
                     i.dispatch(new s(s.CREATE,n,e));
                 else {
                     var a = e.slice(0, 200);
                     i.dispatch(new s(s.CREATE,n,a)),
                     e.splice(0, 200),
                     this.createPlaylist(e, ++t)
                 }
             }
         },
         onCIDResult: function(e) {
             if (e)
                 for (var t = e.length, i = 0; i < t; ++i)
                     this.hash[e[i].cid] = !0,
                     this.data.push(new a(e[i]));
             this.appendUnknown()
         }
     });
     return o.instance = new o,
     o
 }),
 define("f1e1d/ee86e/e8a57", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/c3226", "f1e1d/e8300/ef592", "f1e1d/a3bee/f8c12"], function(e, t, i, s, n, a) {
     var o = t.extend({
         execute: function() {
             a.instance.updateCallback = e.bind(this.onMediaLoaded, this),
             a.instance.load(this.event.playlist),
             this._super()
         },
         onMediaLoaded: function(e) {
             s.reset(e),
             this.finish()
         }
     });
     return i.mapEvent(n.IMPORT, o, n),
     o
 }),
 define("f1e1d/d8478/b3e62", ["underscore", "backbone"], function(e, t) {
     var i = t.Model.extend({
         defaults: {
             media: void 0,
             playlist: void 0
         }
     });
     return i
 }),
 define("f1e1d/e8300/b280a", ["underscore", "f1e1d/e8300/bef7f", "f1e1d/d8478/d23b4", "f1e1d/d8478/b3e62"], function(e, t, i, s) {
     var n = t.extend({
         init: function(t, n, a, o, r) {
             this._super(t),
             n && (this.selectedMedia = e.map(n, function(e) {
                 return e.model instanceof i ? e.model : e.model.get("media")
             })),
             this.model = a instanceof i || a instanceof s ? a : a.get("media"),
             this.index = o,
             this.target = r
         }
     });
     return n._name = "MediaActionEvent",
     n.ADD = "MediaActionEvent:add",
     n.DELETE = "MediaActionEvent:delete",
     n.EDIT = "MediaActionEvent:edit",
     n.TOP = "MediaActionEvent:top",
     n.BOTTOM = "MediaActionEvent:bottom",
     n.PLAY_NEXT = "MediaActionEvent:playnext",
     n.RELATED = "MediaActionEvent:related",
     n
 }),
 define("f1e1d/e8300/bea52", ["backbone", "f1e1d/e8300/bef7f"], function(e, t) {
     var i = t.extend({
         init: function(t, i, s, n) {
             this._super(t),
             i && (i[0]instanceof e.View ? this.items = _.map(i, function(e) {
                 return e.model
             }) : this.items = i,
             this.beforeID = s,
             this.selectAfter = n)
         }
     });
     return i._name = "MediaMoveEvent",
     i.MOVE = "MediaMoveEvent:move",
     i.SHUFFLE = "MediaMoveEvent:shuffle",
     i
 }),
 define("f1e1d/e8300/bf687", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i, s) {
             this._super(e),
             this.media = t,
             this.author = i,
             this.title = s
         }
     });
     return t._name = "MediaUpdateEvent",
     t.UPDATE = "MediaUpdateEvent:update",
     t
 }),
 define("f1e1d/e74c9/c00f1/abf9c", ["underscore", "f1e1d/fce39/a4370", "f1e1d/e8300/bf687", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/b182f", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = n.extend({
         id: "dialog-media-update",
         className: "dialog",
         render: function() {
             return this.$el.append(this.getHeader(a.dialog.editMedia)).append(this.getBody().append(this.getInputField("author", a.dialog.artist, a.dialog.artist, s.h2t(this.options.media.get("author")), 128).addClass("artist")).append(this.getInputField("title", a.dialog.title, a.dialog.title, s.h2t(this.options.media.get("title")), 128).addClass("title")).append($("<div/>").addClass("swap").append('<i class="icon icon-swap"></i>').click(e.bind(this.swapAuthorTitle, this)))).append(this.getButtons(a.dialog.save, !0)),
             e.defer(e.bind(this.deferFocus, this)),
             this._super()
         },
         deferFocus: function() {
             var t = this.$el.find("input").on("keyup", e.bind(this.onKeyUp, this))[0];
             $(t).focus(),
             t.selectionStart = t.selectionEnd = t.value.length
         },
         onKeyUp: function() {
             var e = this.$el.find("input");
             e[0].value.length > 0 && e[1].value.length > 0 ? this.$el.removeClass("no-submit") : this.$el.addClass("no-submit")
         },
         submit: function() {
             var e = this.$el.find("input");
             e[0].value.length > 0 && e[1].value.length > 0 && (this.dispatch(new i(i.UPDATE,this.options.media,e[0].value,e[1].value)),
             this.close())
         },
         close: function() {
             this.options.media = void 0,
             this.$el.find("input").off(),
             this._super()
         },
         swapAuthorTitle: function(e) {
             var t = this.$el.find("input")
               , i = t[0].value
               , s = t[1].value;
             t[0].value = s,
             t[1].value = i
         }
     });
     return o
 }),
 define("f1e1d/e8300/dcdc1", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i) {
             this._super(e),
             this.playlistID = t,
             this.ids = i
         }
     });
     return t._name = "MediaDeleteEvent",
     t.DELETE = "MediaDeleteEvent:delete",
     t
 }),
 define("f1e1d/e74c9/c00f1/fcea1", ["underscore", "f1e1d/e74c9/c00f1/b182f", "f1e1d/e8300/dcdc1", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n) {
     var a = t.extend({
         id: "dialog-delete",
         className: "dialog destructive",
         render: function() {
             var t;
             return t = 1 === this.options.items.length ? n.dialog.deleteSinglePrompt.split("%MEDIA%").join(e.escape(this.options.items[0].get("author") + " - " + this.options.items[0].get("title"))) : n.dialog.deleteMultiplePrompt.split("%COUNT%").join(String(this.options.items.length)),
             this.$el.append(this.getHeader(n.dialog.deleteMedia)).append(this.getBody().append(this.getMessage(t))).append(this.getButtons(n.dialog.deleteMedia, !0)),
             e.defer(e.bind(this.adjustTop, this)),
             this._super()
         },
         adjustTop: function() {
             this.$(".dialog-body .message").css("top", (this.$(".dialog-body").height() - this.$(".dialog-body .message").height()) / 2)
         },
         submit: function() {
             this.dispatch(new i(i.DELETE,this.options.playlistID,s.serializeMediaItems(this.options.items))),
             this.close()
         },
         close: function() {
             this.options.items = void 0,
             this.options.playlistID = void 0,
             this._super()
         }
     });
     return a
 }),
 define("f1e1d/e74c9/c00f1/fb4d1", ["underscore", "f1e1d/e74c9/c00f1/b182f", "f1e1d/e8300/ff11a", "lang/Lang"], function(e, t, i, s) {
     var n = t.extend({
         id: "dialog-playlist-create",
         className: "dialog no-submit",
         render: function() {
             var t;
             return t = this.options.media && this.options.media.length > 0 ? this.options.media.length > 1 ? s.dialog.createPlaylistFrom.split("%COUNT%").join(String(this.options.media.length)) : s.dialog.createPlaylistFrom1 : s.dialog.createPlaylist,
             this.$el.append(this.getHeader(t)).append(this.getBody().append(this.getInputField("name", s.dialog.name, s.dialog.playlistName, "", 24))).append(this.getButtons(s.dialog.createPlaylist, !0)),
             e.defer(e.bind(this.deferFocus, this)),
             this._super()
         },
         deferFocus: function() {
             this.$field = this.$el.find("input").on("keyup", e.bind(this.onKeyUp, this)).focus()
         },
         onKeyUp: function() {
             this.$field[0].value.length > 0 ? this.$el.removeClass("no-submit") : this.$el.addClass("no-submit")
         },
         submit: function() {
             var e = this.$el.find("input")[0].value;
             e.length > 0 && (this.dispatch(new i(i.CREATE,e,this.options.media,this.options.grab)),
             this.close())
         },
         close: function() {
             this.options.media = void 0,
             this.options.grab = void 0,
             this.$field.off(),
             this.$field = void 0,
             this._super()
         }
     });
     return n
 }),
 define("f1e1d/e8300/e5527", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i) {
             this._super(e),
             this.playlistID = t,
             this.historyID = i
         }
     });
     return t._name = "MediaGrabEvent",
     t.GRAB = "MediaGrabEvent:grab",
     t
 }),
 define("f1e1d/e8300/e71e8", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i, s, n) {
             this._super(e),
             this.playlist = t,
             this.items = i,
             this.append = s,
             this.confirmCount = n
         }
     });
     return t._name = "MediaInsertEvent",
     t.INSERT = "MediaInsertEvent:insert",
     t
 }),
 define("f1e1d/e74c9/ffbf9/a1563", ["jquery", "backbone", "lang/Lang"], function(e, t, i) {
     var s = t.View.extend({
         tagName: "li",
         events: {
             mousedown: "onPress"
         },
         render: function() {
             this.$el.empty();
             var t = e("<span/>");
             return this.model ? (t.text(this.model.get("name")),
             this.model.get("active") && this.$el.append(e("<i/>").addClass("plugdjfont icon-playlist"))) : (this.$el.addClass("create").append(e("<i/>").addClass("fa fa-plus-circle")),
             t.text(i.popMenu.createPlaylist)),
             this.$el.append(t),
             this
         },
         onPress: function() {
             this.trigger("press", this.model)
         },
         remove: function() {
             this.$el.off("mousedown", this.pressBind),
             this.model = void 0,
             this.pressBind = void 0,
             delete this.model,
             delete this.pressBind,
             this._super()
         }
     });
     return s
 }),
 define("f1e1d/e74c9/ffbf9/da5bf", ["jquery", "underscore", "f1e1d/af752/fa88e", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/a4370", "f1e1d/e8300/e5527", "f1e1d/e8300/e71e8", "f1e1d/e8300/dcb95", "f1e1d/d8478/d23b4", "f1e1d/d8478/b5029", "f1e1d/e74c9/c00f1/fb4d1", "f1e1d/e74c9/ffbf9/a1563", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     var f = s.View.extend({
         className: "pop-menu playlist-list",
         collection: a,
         initialize: function() {
             this.isShowing = !1,
             this.$bar = e("<div/>").addClass("bar"),
             this.$icon = e("<i/>").addClass("icon icon-add"),
             this.$title = e("<span/>").addClass("title"),
             this.$menu = e("<div/>").addClass("menu"),
             this.$ul = e("<ul/>"),
             this.$bar.append(this.$icon).append(this.$title),
             this.$menu.append(this.$ul),
             this.rows = [],
             this.media = void 0,
             this.$target = void 0,
             this.session = "default",
             this.drawRowBind = t.bind(this.drawRow, this),
             this.pressBind = t.bind(this.onRowPress, this),
             this.leaveBind = t.bind(this.onMouseLeave, this),
             this.hideBind = t.bind(this._hide, this),
             n.on("mediaInsert:success", function() {
                 this.trigger("success", this.session)
             }
             .bind(this)).on("mediaInsert:error", function() {
                 this.trigger("fail", this.session)
             }
             .bind(this)),
             this.render()
         },
         draw: function() {
             if (this.$ul) {
                 this.clear(),
                 this.$el.scrollTop(0),
                 this.collection.each(this.drawRowBind);
                 var e = new d;
                 this.$ul.append(e.$el),
                 e.render(),
                 e.on("press", this.pressBind),
                 this.rows.push(e)
             }
         },
         drawRow: function(e) {
             var t = new d({
                 model: e
             });
             return this.$ul.append(t.$el),
             t.render(),
             this.rows.push(t),
             t.on("press", this.pressBind),
             t
         },
         onRowPress: function(e) {
             this.cancelBackdropEvent(),
             e ? (this.$target.data("grab") ? n.dispatch(new o(o.GRAB,e.get("id"),c.get("historyID"))) : (n.dispatch(new r(r.INSERT,e,this.media,!1,this.media.length)),
             n.trigger("click:playlistAdd")),
             this.hideBackdrop(!0)) : this.$target.data("grab") ? n.dispatch(new l(l.SHOW,new p({
                 grab: !0
             }))) : n.dispatch(new l(l.SHOW,new p({
                 media: this.media
             }))),
             this.hide(!0)
         },
         clear: function() {
             if (this.$ul) {
                 for (var e = this.rows.length; e--; )
                     this.rows[e].$el.off("press", this.pressBind),
                     this.rows[e].destroy();
                 this.rows.length = 0,
                 this.$ul.empty()
             }
         },
         render: function() {
             return this.$el.empty().toggleClass("is-mobile", i.isMobile === !0).append(this.$bar).append(this.$menu),
             this
         },
         show: function(s, n, a, o) {
             if (void 0 !== o && (this.session = o.toString()),
             this.hideTimeoutID && clearTimeout(this.hideTimeoutID),
             !this.isShowing) {
                 this.draw(),
                 this.isShowing = !0,
                 this.$target = s,
                 this.media = n;
                 var r, l, c = this.media[0]instanceof h ? 1 === this.media[0].get("format") : 1 === this.media[0].get("media").get("format"), p = s.data("grab"), d = 31 * Math.min(6, this.collection.length + 1) + 48, f = this.$target.offset();
                 if (p ? (this.$title.text(c ? u.popMenu.grabVideo : u.popMenu.grabSong),
                 this.$el.addClass("grab").removeClass("up"),
                 l = ~~(f.top - d),
                 this.$icon.removeClass().addClass("fa fa-plus")) : (this.$title.text(c ? 1 === this.media.length ? u.popMenu.addVideo : u.popMenu.addVideos.split("%COUNT%").join(this.media.length) : 1 === this.media.length ? u.popMenu.addSong : u.popMenu.addSongs.split("%COUNT%").join(this.media.length)),
                 this.$el.removeClass("grab"),
                 r = ~~(f.left - 9),
                 l = ~~(f.top - 10),
                 l + d > e(window).height() ? (l = ~~(f.top - d + 48 - 10),
                 this.$el.addClass("up")) : this.$el.removeClass("up"),
                 this.$icon.removeClass().addClass("icon icon-add")),
                 this.$menu.css("height", d - 48).scrollTop(0),
                 a ? a.append(this.$el) : e("body").append(this.$el),
                 this.$el.show(),
                 p && (r = ~~(f.left + (this.$target.width() - this.$el.width()) / 2)),
                 this.$el.css("height", d),
                 i.isMobile === !0) {
                     var m = i.getWindowSize();
                     r = ~~(m.width / 2 - this.$el.width() / 2),
                     l = ~~(m.height / 2 - this.$el.height() / 2),
                     this.showBackdrop(),
                     this.getBackdrop().one("click", t.bind(function(e) {
                         this.leaveBind(),
                         this.hideBackdrop(!1)
                     }, this))
                 }
                 this.$el.css("left", r).css("top", l),
                 this.$el.on("mouseleave", this.leaveBind)
             }
         },
         onMouseLeave: function() {
             this.hide(!1)
         },
         hide: function(e) {
             this.isShowing && (this.hideTimeoutID && clearTimeout(this.hideTimeoutID),
             this.hideTimeoutID = setTimeout(this.hideBind, 100)),
             this.trigger("close", e)
         },
         _hide: function() {
             clearTimeout(this.hideTimeoutID),
             this.isShowing = !1,
             this.$el.off("mouseleave", this.leaveBind),
             this.$el.remove()
         },
         getBackdrop: function() {
             return e("#dialog-container")
         },
         showBackdrop: function() {
             this.getBackdrop().css("display", "block")
         },
         hideBackdrop: function(e) {
             this.getBackdrop().css("display", "none"),
             this.trigger("hide", e)
         },
         cancelBackdropEvent: function() {
             this.getBackdrop().off("click")
         }
     });
     return new f
 }),
 define("f1e1d/ee86e/d236b", ["underscore", "f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/fce39/fb3ca", "f1e1d/fce39/a4370", "f1e1d/e8300/a815f", "f1e1d/e8300/b280a", "f1e1d/e8300/dcb95", "f1e1d/e8300/bea52", "f1e1d/e8300/dbc87", "f1e1d/a3bee/fa846", "f1e1d/d8478/d23b4", "f1e1d/d8478/b5029", "f1e1d/d8478/b885e", "f1e1d/e74c9/c00f1/abf9c", "f1e1d/e74c9/c00f1/fcea1", "f1e1d/e74c9/c00f1/fb4d1", "f1e1d/e74c9/ffbf9/da5bf", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b) {
     var w = t.extend({
         execute: function() {
             if (this.trigger("suggestions:hide"),
             u.get("guest"))
                 this.trigger("signup:show", "Community: Trigger - DJ History - add to playlist");
             else {
                 var e = n.getVisibleID()
                   , t = n.findWhere({
                     active: !0
                 });
                 this.event.type === o.ADD ? this.actionAdd(t) : e ? this.event.type === o.DELETE ? this.actionDelete(t, e) : this.event.type === o.EDIT ? this.dispatch(new r(r.SHOW,new f({
                     media: this.event.model
                 }))) : this.event.type === o.TOP || this.event.type === o.BOTTOM ? this.actionMoveTo(this.event.type === o.TOP ? 0 : -1) : this.event.type === o.RELATED && c.loadRelated(this.event.model, n.get(e)) : this.event.type === o.RELATED ? (v.hide(),
                 c.loadRelated(this.event.model)) : this.event.type === o.PLAY_NEXT && this.actionPlayNext(t)
             }
         },
         actionAdd: function(e) {
             var t = this.getExists(this.event.selectedMedia, this.event.model.get("id"))
               , i = t ? this.event.selectedMedia : [this.event.model];
             e ? v.show($(this.event.target), i) : this.dispatch(new r(r.SHOW,new g({
                 media: i
             })))
         },
         actionDelete: function(e, t) {
             s.isTheUserPlaying && t === d.get("playlistID") && 0 === this.event.index && this.event.model.get("id") === d.get("mediaID") ? this.trigger("notify", "icon-chat-system", b.alerts.deleteCurrentPlaylist) : s.isTheUserWaiting && e.get("id") === t && e.get("count") === this.event.selectedMedia.length ? this.trigger("notify", "icon-chat-system", b.alerts.deleteLastItem) : this.event.selectedMedia.length > 0 && this.getExists(this.event.selectedMedia, this.event.model.get("id")) ? this.dispatch(new r(r.SHOW,new m({
                 items: this.event.selectedMedia,
                 playlistID: t
             }))) : this.dispatch(new r(r.SHOW,new m({
                 items: [this.event.model],
                 playlistID: t
             })))
         },
         actionMoveTo: function(e) {
             this.event.selectedMedia.length > 0 && this.getExists(this.event.selectedMedia, this.event.model.get("id")) ? this.dispatch(new l(l.MOVE,this.event.selectedMedia,e)) : this.dispatch(new l(l.MOVE,[this.event.model],e))
         },
         actionPlayNext: function(e) {
             n.setVisible(n.get(this.event.model.get("playlist").id)),
             e.get("id") !== this.event.index && this.dispatch(new h(h.ACTIVATE)),
             this.dispatch(new l(l.MOVE,[new p(this.event.model.get("media"))],0,!0)),
             this.trigger("search:clear")
         },
         getExists: function(e, t) {
             for (var i = e.length, s = !1; i--; )
                 if (e[i].get("id") === t) {
                     s = !0;
                     break
                 }
             return s
         }
     });
     return i.mapEvent(o.ADD, w, o),
     i.mapEvent(o.GRAB, w, o),
     i.mapEvent(o.DELETE, w, o),
     i.mapEvent(o.EDIT, w, o),
     i.mapEvent(o.TOP, w, o),
     i.mapEvent(o.BOTTOM, w, o),
     i.mapEvent(o.RELATED, w, o),
     i.mapEvent(o.PLAY_NEXT, w, o),
     w
 }),
 define("f1e1d/be642/ead2a/b99ea", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         init: function(e, t) {
             this.route = "playlists/" + e + "/media/delete",
             this.data = {
                 ids: t
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data) : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/a6962", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a3ebf", "f1e1d/fce39/a4370", "f1e1d/e8300/dcdc1", "f1e1d/be642/ead2a/b99ea", "f1e1d/d9232/d4e25"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         execute: function() {
             this.event.ids.length > 0 ? (s.get(this.event.playlistID).set("syncing", !0),
             this.listenTo(new a(this.event.playlistID,this.event.ids))) : this.finish()
         },
         onSuccess: function(e) {
             s.get(this.event.playlistID).set("count", e.length),
             i.reset(e),
             o.mediaUpdate(this.event.playlistID),
             this.finish()
         },
         finish: function() {
             s.get(this.event.playlistID).set("syncing", !1),
             this._super()
         }
     });
     return t.mapEvent(n.DELETE, r, n),
     r
 }),
 define("f1e1d/be642/ead2a/af319", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "grabs",
         init: function(e, t) {
             this.data = {
                 playlistID: e,
                 historyID: t
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data[0]) : this.error && this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/f31a0", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/e8300/a815f", "f1e1d/e8300/e5527", "f1e1d/e8300/dbc87", "f1e1d/d8478/b5029", "f1e1d/be642/ead2a/af319", "lang/Lang", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = e.extend({
         execute: function() {
             this.listenTo(new r(this.event.playlistID,this.event.historyID))
         },
         onSuccess: function(e) {
             var t, s = o.get("media");
             0 === i.length ? i.reset([e]) : i.add(e, {
                 merge: !0
             }),
             t = i.get(e.id),
             t.get("visible") && this.dispatch(new a(a.LOAD)),
             s && t && this.trigger("notify", "icon-import", l.alerts.mediaAddedToPlaylist.split("%MEDIA%").join(s.get("author") + " - " + s.get("title")).split("%PLAYLIST%").join(t.get("name"))),
             this.finish(),
             h("send", "event", "Community", "Vote", "Grab")
         },
         onError: function(e) {
             if (403 === e.code)
                 if ("exists" === e.status) {
                     var t = o.get("media");
                     t && this.trigger("notify", "icon-chat-system", l.alerts.alreadyGrabbed.split("%TYPE%").join(1 === t.get("format") ? l.popMenu.video : l.popMenu.song))
                 } else
                     "maxItems" === e.status && this.trigger("notify", "icon-chat-system", l.alerts.tooManyItems);
             this.finish()
         }
     });
     return t.mapEvent(n.GRAB, c, n),
     c
 }),
 define("f1e1d/be642/ead2a/e5e5a", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b", "f1e1d/af752/bacfb"], function(e, t, i) {
     var s = e.extend({
         type: "POST",
         init: function(e, i, s) {
             this.route = "playlists/" + e + "/media/insert",
             this.data = {
                 media: t.serializeMediaItems(i),
                 append: s
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code && e.data.length ? this.success && (i.track(i.type.action, i.event.addSongPlaylist),
             this.success(e.data[0])) : this.error && this.error(e)
         }
     });
     return s
 }),
 define("f1e1d/ee86e/b86c9", ["f1e1d/e718c/b7acd", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a3ebf", "f1e1d/fce39/a4370", "f1e1d/e8300/a815f", "f1e1d/e8300/e71e8", "f1e1d/e8300/dbc87", "f1e1d/be642/ead2a/e5e5a", "f1e1d/af752/e7b9f", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = t.extend({
         execute: function() {
             var e = this.event.playlist ? this.event.playlist.get("id") : 0;
             e && this.event.playlist.set("syncing", !0),
             this.listenTo(new l(e,this.event.items,this.event.append))
         },
         onSuccess: function(t) {
             var i = n.get(t.id);
             if (i && i.set("count", t.count),
             n.getActiveID() === t.id) {
                 var a = n.getActiveID() !== n.getVisibleID() ? s.toArray() : void 0;
                 this.dispatch(new r(r.LOAD,t.id,a))
             } else
                 this.dispatch(new r(r.LOAD,t.id));
             if (this.event.confirmCount && !$("#playlist-panel").is(":visible")) {
                 var o;
                 o = 1 === this.event.confirmCount ? c.alerts.addedToPlaylist1.split("%PLAYLIST%").join(this.event.playlist.get("name")) : c.alerts.addedToPlaylist.split("%COUNT%").join(this.event.confirmCount).split("%PLAYLIST%").join(this.event.playlist.get("name")),
                 this.trigger("notify", "icon-import", o)
             }
             e.trigger("mediaInsert:success", t),
             this.finish()
         },
         onError: function(t) {
             403 === t.code && "maxItems" === t.status && this.trigger("notify", "icon-chat-system", c.alerts.tooManyItems),
             e.trigger("mediaInsert:error", t)
         },
         finish: function() {
             this.event.playlist && this.event.playlist.set("syncing", !1),
             this.event.playlist = void 0,
             this._super(),
             e.trigger("mediaInsert:finish")
         }
     });
     return i.mapEvent(o.INSERT, p, o),
     p
 }),
 define("f1e1d/be642/ead2a/cb587", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         type: "PUT",
         init: function(e, i, s) {
             this.route = "playlists/" + e + "/media/move",
             this.data = {
                 ids: t.serializeMediaItems(i),
                 beforeID: s
             },
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeMedia(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/be642/af0a4/e4a83", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         type: "PUT",
         init: function(e) {
             this.route = "playlists/" + e + "/shuffle",
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializePlaylist(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/ee86e/e195f", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a3ebf", "f1e1d/fce39/a4370", "f1e1d/e8300/bea52", "f1e1d/be642/ead2a/cb587", "f1e1d/be642/af0a4/e4a83", "f1e1d/d9232/d4e25"], function(e, t, i, s, n, a, o, r, l) {
     var h = t.extend({
         execute: function() {
             this.playlist = n.findWhere({
                 visible: !0
             }),
             this.playlist ? (this.playlist.set("syncing", !0),
             this.event.type === a.SHUFFLE ? this.playlist.get("count") > 2 ? this.listenTo(new r(this.playlist.get("id"))) : e.defer(e.bind(this.finish, this)) : this.listenTo(new o(this.playlist.get("id"),this.event.items,this.event.beforeID))) : this.finish()
         },
         onSuccess: function(e) {
             s.reset(e, {
                 silent: !0
             }),
             this.playlist.get("id") === n.getActiveID() && n.onMediaReset(!0),
             s.trigger("update:next"),
             l.mediaUpdate(this.playlist.get("id")),
             this.event.selectAfter && this.trigger("jumpto:index", 0),
             this.finish()
         },
         finish: function() {
             this.playlist && (this.playlist.set("syncing", !1),
             this.playlist = void 0,
             delete this.playlist),
             this._super()
         }
     });
     return i.mapEvent(a.MOVE, h, a),
     i.mapEvent(a.SHUFFLE, h, a),
     h
 }),
 define("f1e1d/be642/ead2a/e1c83", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         init: function(e, t, i, s) {
             this.route = "playlists/" + e + "/media/update",
             this.data = {
                 id: t,
                 author: i,
                 title: s
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && e.data && e.data.length > 0 && this.success(e.data[0]) : this.error && this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/e84b8", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/e8300/bf687", "f1e1d/be642/ead2a/e1c83", "f1e1d/d9232/d4e25", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         execute: function() {
             this.playlist = i.findWhere({
                 visible: !0
             }),
             this.playlist ? (this.playlist.set("syncing", !0),
             this.listenTo(new n(this.playlist.get("id"),this.event.media.get("id"),this.event.author,this.event.title))) : this.finish()
         },
         onSuccess: function(e) {
             this.event.media.set("author", e.author).set("title", e.title),
             a.mediaRename(this.event.media),
             this.finish()
         },
         finish: function() {
             this.playlist && (this.playlist.set("syncing", !1),
             this.playlist = void 0,
             delete this.playlist),
             this._super()
         }
     });
     return t.mapEvent(s.UPDATE, r, s),
     r
 }),
 define("f1e1d/be642/d7a91/a5e78", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "bans/add",
         init: function(e, t, i) {
             this.data = {
                 userID: e,
                 reason: t,
                 duration: i
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code || (400 === e.code ? this.error && this.error() : 403 === e.code ? (this.permissionAlert(),
             this.error && this.error()) : 404 === e.code && this.error && this.error())
         }
     });
     return t
 }),
 define("f1e1d/be642/d7a91/e2275", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "booth/waitlistban",
         init: function(e, t, i) {
             this.data = {
                 userID: e,
                 reason: t,
                 duration: i
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code || (400 === e.code ? this.error && this.error() : 403 === e.code ? (this.permissionAlert(),
             this.error && this.error()) : 404 === e.code && this.error && this.error())
         }
     });
     return t
 }),
 define("f1e1d/be642/d7a91/ed218", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "bans/" + e,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : 403 === e.code ? (this.permissionAlert(),
             this.error && this.error(e.code)) : 404 === e.code && this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("f1e1d/be642/f109a/e766c", ["f1e1d/be642/b7b48", "lang/Lang"], function(e, t) {
     var i = e.extend({
         type: "POST",
         route: "booth/add",
         init: function(e) {
             this.data = {
                 id: e
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : 403 === e.code && ("noValidPlaylist" === e.status ? this.alert(t.alerts.alert, t.alerts.modAddDJ) : this.permissionAlert())
         }
     });
     return i
 }),
 define("f1e1d/be642/f109a/e5093", ["f1e1d/fce39/d3252", "f1e1d/d8478/edecb", "f1e1d/be642/b7b48"], function(e, t, i) {
     var s = i.extend({
         type: "DELETE",
         init: function(e) {
             this.data = e,
             this.route = "booth/remove/" + e,
             this._super(!0)
         },
         parse: function(i) {
             if (200 === i.code)
                 this.success && this.success();
             else if (403 === i.code) {
                 var s = e.get(this.data);
                 this.permissionAlert(s && s.get("gRole") === t.HOST ? s.get("username") : void 0)
             }
         }
     });
     return s
 }),
 define("f1e1d/be642/f109a/e5a82", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "booth/skip",
         init: function(e, t) {
             this.data = {
                 userID: e,
                 historyID: t
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : 403 === e.code && this.permissionAlert()
         }
     });
     return t
 }),
 define("f1e1d/be642/eb242/fe04a", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "mutes",
         init: function(e, t, i) {
             this.data = {
                 userID: e,
                 reason: t,
                 duration: i
             },
             this._super(!0)
         },
         parse: function(e) {
             403 === e.code && this.permissionAlert()
         }
     });
     return t
 }),
 define("f1e1d/be642/e32cc/b4acd", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "chat/" + e,
             this._super(!0)
         },
         parse: function(e) {
             403 === e.code && this.permissionAlert()
         }
     });
     return t
 }),
 define("f1e1d/be642/bd3b5/deb2b", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "staff/" + e,
             this._super(!0)
         },
         parse: function(e) {
             403 === e.code && this.permissionAlert()
         }
     });
     return t
 }),
 define("f1e1d/be642/bd3b5/f869b", ["f1e1d/be642/b7b48", "f1e1d/d8478/edecb", "lang/Lang"], function(e, t, i) {
     var s = e.extend({
         type: "POST",
         route: "staff/update",
         init: function(e, t) {
             this.data = {
                 userID: e,
                 roleID: t
             },
             this._super(!0)
         },
         parse: function(e) {
             403 === e.code && ("staffLimit" === e.status ? this.data.roleID === t.COHOST ? this.alert(i.alerts.alert, i.alerts.limitCohostError) : this.data.roleID === t.MANAGER && this.alert(i.alerts.alert, i.alerts.limitManagerError) : this.permissionAlert())
         }
     });
     return s
 }),
 define("f1e1d/ee86e/efbab", ["f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/e8300/fbb60", "f1e1d/be642/d7a91/a5e78", "f1e1d/be642/d7a91/e2275", "f1e1d/be642/d7a91/ed218", "f1e1d/be642/f109a/e766c", "f1e1d/be642/f109a/e5093", "f1e1d/be642/f109a/e5a82", "f1e1d/be642/eb242/fe04a", "f1e1d/be642/e32cc/b4acd", "f1e1d/be642/bd3b5/deb2b", "f1e1d/be642/bd3b5/f869b"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = e.extend({
         execute: function() {
             this.event.type === i.BAN && new s(this.event.id,this.event.value,this.event.option),
             this.event.type === i.WAITLIST_BAN ? new n(this.event.id,this.event.value,this.event.option) : this.event.type === i.MUTE ? new h(this.event.id,this.event.value,this.event.option) : this.event.type === i.ADD_DJ ? new o(this.event.id) : this.event.type === i.REMOVE_DJ ? new r(this.event.id) : this.event.type === i.SKIP ? new l(this.event.id,this.event.value) : this.event.type === i.CHAT_DELETE ? new c(this.event.id) : this.event.type === i.ROLE && (0 === this.event.value ? new p(this.event.id,this.event.value) : new d(this.event.id,this.event.value))
         }
     });
     return t.mapEvent(i.BAN, u, i),
     t.mapEvent(i.WAITLIST_BAN, u, i),
     t.mapEvent(i.MUTE, u, i),
     t.mapEvent(i.CHAT_DELETE, u, i),
     t.mapEvent(i.ADD_DJ, u, i),
     t.mapEvent(i.REMOVE_DJ, u, i),
     t.mapEvent(i.SKIP, u, i),
     t.mapEvent(i.ROLE, u, i),
     u
 }),
 define("f1e1d/d8478/cc3e4", ["f1e1d/d8478/edecb"], function(e) {
     var t = e.extend({
         defaults: {
             id: 0,
             username: "",
             moderator: "",
             expires: 0
         }
     });
     return t
 }),
 define("f1e1d/fce39/fd103", ["underscore", "backbone", "f1e1d/d8478/cc3e4"], function(e, t, i) {
     var s = t.Collection.extend({
         model: i,
         comparator: "expires",
         initialize: function() {
             this.on("reset", this.onReset, this)
         },
         onReset: function() {
             0 === this.length ? (clearInterval(this.intervalID),
             this.intervalID = void 0,
             delete this.intervalID) : this.intervalID || (this.intervalID = setInterval(e.bind(this.decrement, this), 1e3))
         },
         decrement: function() {
             var e, t = [];
             this.each(function(i) {
                 e = i.get("expires") - 1,
                 e > 0 ? i.set("expires", e) : t.push(i)
             }),
             t.length > 0 && (this.remove(t, {
                 silent: !0
             }),
             this.reset(this.toArray()))
         }
     });
     return new s
 }),
 define("f1e1d/be642/eb242/b1016", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "mutes",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 for (var i = e.data.length; i--; )
                     t.deserializeMute(e.data[i]);
                 this.success(e.data)
             } else
                 403 === e.code ? (this.permissionAlert(),
                 this.error && this.error()) : this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/ee86e/fc37c", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/fd103", "f1e1d/e8300/d583a", "f1e1d/be642/eb242/b1016"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             i.reset(),
             this.listenTo(new n)
         },
         onSuccess: function(e) {
             i.reset(e),
             this.finish()
         }
     });
     return t.mapEvent(s.MUTES, a, s),
     a
 }),
 define("f1e1d/e8300/a4259", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i) {
             this._super(e),
             this.playlist = t,
             this.name = i
         }
     });
     return t._name = "PlaylistRenameEvent",
     t.RENAME = "PlaylistRenameEvent:rename",
     t
 }),
 define("f1e1d/e74c9/c00f1/af777", ["underscore", "f1e1d/e74c9/c00f1/b182f", "f1e1d/e8300/a4259", "lang/Lang"], function(e, t, i, s) {
     var n = t.extend({
         id: "dialog-playlist-rename",
         className: "dialog",
         render: function() {
             return this.$el.append(this.getHeader(s.dialog.renamePlaylist)).append(this.getBody().append(this.getInputField("name", s.dialog.name, s.dialog.playlistName, this.options.playlist.get("name"), 24))).append(this.getButtons(s.dialog.save, !0)),
             e.defer(e.bind(this.deferFocus, this)),
             this._super()
         },
         deferFocus: function() {
             this.$field = this.$el.find("input").on("keyup", e.bind(this.onKeyUp, this)).focus(),
             this.$field[0].selectionStart = this.$field[0].selectionEnd = this.$field[0].value.length
         },
         onKeyUp: function() {
             this.$field[0].value.length > 0 ? this.$el.removeClass("no-submit") : this.$el.addClass("no-submit")
         },
         submit: function() {
             var e = this.$field[0].value;
             e.length > 0 && (this.dispatch(new i(i.RENAME,this.options.playlist,e)),
             this.close())
         },
         close: function() {
             this.options.playlist = void 0,
             this.$field.off(),
             this.$field = void 0,
             this._super()
         }
     });
     return n
 }),
 define("f1e1d/e8300/c5110", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.id = t
         }
     });
     return t._name = "PlaylistDeleteEvent",
     t.DELETE = "PlaylistDeleteEvent:delete",
     t
 }),
 define("f1e1d/e74c9/c00f1/cb393", ["underscore", "f1e1d/e74c9/c00f1/b182f", "f1e1d/e8300/c5110", "lang/Lang"], function(e, t, i, s) {
     var n = t.extend({
         id: "dialog-playlist-delete",
         className: "dialog destructive no-submit",
         render: function() {
             return this.code = String(100 + Math.round(899 * Math.random())),
             this.$el.append(this.getHeader(s.dialog.deletePlaylist)).append(this.getBody().append(this.getMessage(s.dialog.deletePlaylistPrompt.split("%NAME%").join(this.options.playlist.get("name")))).append(this.getInputField("code", s.dialog.deletePlaylistCode.split("%CODE%").join(this.code), s.dialog.deletePlaylistTypeCode.split("%CODE%").join(this.code), "", 3))).append(this.getButtons(s.dialog.deletePlaylist, !0)),
             e.defer(e.bind(this.deferFocus, this)),
             this._super()
         },
         deferFocus: function() {
             this.$field = this.$el.find("input").on("keyup", e.bind(this.onKeyUp, this))
         },
         onKeyUp: function() {
             this.$field[0].value === this.code ? this.$el.removeClass("no-submit") : this.$el.addClass("no-submit")
         },
         submit: function() {
             this.$field[0].value === this.code && (this.dispatch(new i(i.DELETE,this.options.playlist.get("id"))),
             this.close())
         },
         close: function() {
             this.$field.off(),
             this.$field = void 0,
             this.options.playlist = void 0,
             this.code = void 0,
             this._super()
         }
     });
     return n
 }),
 define("f1e1d/ee86e/fa9d1", ["f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/e8300/dbc87", "f1e1d/e8300/dcb95", "f1e1d/e74c9/c00f1/af777", "f1e1d/e74c9/c00f1/cb393"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         execute: function() {
             var e = i.findWhere({
                 visible: !0
             });
             e && (this.event.type === s.RENAME ? this.dispatch(new n(n.SHOW,new a({
                 playlist: e
             }))) : this.event.type === s.DELETE && this.dispatch(new n(n.SHOW,new o({
                 playlist: e
             })))),
             this._super()
         }
     });
     return t.mapEvent(s.RENAME, r, s),
     t.mapEvent(s.DELETE, r, s),
     r
 }),
 define("f1e1d/be642/af0a4/be88f", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "playlists",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializePlaylist(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/ee86e/d3ccd", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/e8300/dbc87", "f1e1d/be642/af0a4/be88f"], function(e, t, i, s, n, a) {
     var o = t.extend({
         retries: 0,
         execute: function() {
             o.synced ? this.finish() : this.listenTo(new a)
         },
         onSuccess: function(e) {
             o.synced = !0,
             s.reset(e),
             this.finish()
         },
         onError: function() {
             ++this.retries < 10 ? e.delay(e.bind(this.execute, this), 100) : this.finish()
         },
         finish: function() {
             this.retries = 0,
             this._super()
         }
     });
     return o.synced = !1,
     i.mapEvent(n.SYNC, o, n),
     o
 }),
 define("f1e1d/be642/af0a4/bfb32", ["f1e1d/be642/b7b48", "lang/Lang"], function(e, t) {
     var i = e.extend({
         type: "PUT",
         init: function(e) {
             this.route = "playlists/" + e + "/activate",
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data[0]) : (e.data.length && "noValidPlaylist" === e.data[0] && this.alert(t.alerts.alert, t.alerts.emptyPlaylist),
             this.error && this.error(e.code))
         }
     });
     return i
 }),
 define("f1e1d/ee86e/ef623", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/ee86e/d3ccd", "f1e1d/e8300/dbc87", "f1e1d/be642/af0a4/bfb32"], function(e, t, i, s, n, a) {
     var o = e.extend({
         execute: function() {
             this.playlist = i.findWhere({
                 visible: !0
             }),
             this.playlist ? (this.playlist.set("syncing", !0),
             this.listenTo(new a(this.playlist.get("id")))) : this.finish()
         },
         onSuccess: function(e) {
             s.synced = !0;
             var t;
             e.deactivated && (t = i.get(e.deactivated),
             t && t.set("active", !1)),
             e.activated && (t = i.get(e.activated),
             t && t.set("active", !0),
             i.onMediaReset()),
             this.finish()
         },
         onError: function() {
             this.finish()
         },
         finish: function() {
             this.playlist && (this.playlist.set("syncing", !1),
             this.playlist = void 0,
             delete this.playlist),
             this._super()
         }
     });
     return t.mapEvent(n.ACTIVATE, o, n),
     o
 }),
 define("f1e1d/be642/af0a4/f0f20", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b", "f1e1d/af752/bacfb", "f1e1d/af752/e1224"], function(e, t, i, s) {
     var n = e.extend({
         type: "POST",
         route: "playlists",
         init: function(e, i) {
             i && i.length && (i = t.serializeMediaItems(i)),
             this.data = {
                 name: e,
                 media: i
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && e.data.length && (t.deserializePlaylist(e.data[0]),
             this.success(e.data[0]),
             i.track(i.type.action, i.event.createPlaylist),
             s("send", "event", "Playlist", "Playlist Manage", "Playlist Created")) : this.error && this.error(e.code)
         }
     });
     return n
 }),
 define("f1e1d/ee86e/f6f6d", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/ee86e/d3ccd", "f1e1d/e8300/e5527", "f1e1d/e8300/ff11a", "f1e1d/d8478/b5029", "f1e1d/be642/af0a4/f0f20", "f1e1d/af752/e7b9f"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.extend({
         execute: function() {
             this.listenTo(new r(this.event.name,this.event.items))
         },
         onSuccess: function(e) {
             0 === i.length ? i.reset([e]) : i.add(e),
             this.after(e.id)
         },
         after: function(e) {
             s.synced = !0,
             this.event.grab && this.dispatch(new n(n.GRAB,e,o.get("historyID"))),
             this.finish()
         }
     });
     return t.mapEvent(a.CREATE, h, a),
     h
 }),
 define("f1e1d/be642/af0a4/e0c0c", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "playlists/" + e,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data) : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/f631d", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/ee86e/d3ccd", "f1e1d/e8300/c5110", "f1e1d/be642/af0a4/e0c0c"], function(e, t, i, s, n, a) {
     var o = e.extend({
         execute: function() {
             this.listenTo(new a(this.event.id))
         },
         onSuccess: function(e) {
             var t;
             1 === e.length && (t = i.get(e[0]),
             t && (i.setVisible(t),
             t.set("active", !0))),
             t = i.get(this.event.id);
             var n = -1;
             t.get("visible") && i.length > 1 && (n = Math.max(0, i.indexOf(t) - 1)),
             i.remove(t),
             n > -1 && i.setVisible(i.at(n)),
             s.synced = !0,
             this.finish()
         }
     });
     return t.mapEvent(n.DELETE, o, n),
     o
 }),
 define("f1e1d/be642/ead2a/d1f35", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         init: function(e) {
             this.route = "playlists/" + e + "/media",
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeMedia(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/ee86e/a8cbc", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a3ebf", "f1e1d/fce39/a4370", "f1e1d/e8300/dbc87", "f1e1d/be642/ead2a/d1f35", "f1e1d/d9232/d4e25"], function(e, t, i, s, n, a, o, r) {
     var l = t.extend({
         retries: 0,
         execute: function() {
             s.reset(void 0, {
                 silent: void 0 !== this.event.payload
             }),
             this.event.id ? this.playlist = n.get(this.event.id) : (this.trigger("media:loading"),
             this.playlist = n.findWhere({
                 visible: !0
             })),
             this.playlist ? this.listenTo(new o(this.playlist.get("id"))) : this.finish()
         },
         onSuccess: function(e) {
             e = e || [],
             s.reset(e, {
                 silent: void 0 !== this.event.payload
             }),
             r.mediaUpdate(this.playlist.get("id")),
             this.event.id === n.getActiveID() && (n.onMediaReset(!0),
             void 0 !== this.event.payload && (s.reset(this.event.payload, {
                 silent: !0
             }),
             s.trigger("update:next"))),
             this.finish()
         },
         onError: function() {
             ++this.retries < 10 ? e.delay(e.bind(this.execute, this), 100) : this.finish()
         },
         finish: function() {
             this.retries = 0,
             this.playlist = void 0,
             delete this.playlist,
             this.trigger("media:loaded"),
             this._super()
         }
     });
     return i.mapEvent(a.LOAD, l, a),
     l
 }),
 define("f1e1d/be642/af0a4/b6cbd", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         init: function(e, t) {
             this.route = "playlists/" + e + "/rename",
             this.data = {
                 name: t
             },
             this._super(!0)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/df22a", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/ee86e/d3ccd", "f1e1d/e8300/a4259", "f1e1d/be642/af0a4/b6cbd"], function(e, t, i, s, n, a) {
     var o = e.extend({
         execute: function() {
             this.event.playlist.set("syncing", !0),
             this.listenTo(new a(this.event.playlist.get("id"),this.event.name))
         },
         onSuccess: function() {
             i.get(this.event.playlist.get("id")).set("name", this.event.name),
             i.sort(),
             s.synced = !0,
             this.finish()
         },
         finish: function() {
             this.event.playlist.set("syncing", !1),
             this._super()
         }
     });
     return t.mapEvent(n.RENAME, o, n),
     o
 }),
 define("f1e1d/e8300/e5ae0", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i, s, n, a) {
             this._super(e),
             this.media = t,
             this.startTime = i,
             this.playlistID = s,
             this.historyID = n,
             this.replace = a
         }
     });
     return t._name = "PlayMediaEvent",
     t.PLAY = "PlayMediaEvent:play",
     t
 }),
 define("f1e1d/ee86e/b21c8", ["f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/e8300/e5ae0", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             this.event.media && s.get("currentDJ") ? (this.event.replace && n.set({
                 duration: this.event.media.get("duration"),
                 ytDuration: 0
             }),
             n.set({
                 restricted: void 0,
                 startTime: this.event.startTime,
                 playlistID: this.event.playlistID,
                 media: this.event.media,
                 historyID: this.event.historyID
             })) : n.set({
                 startTime: void 0,
                 duration: 0,
                 playlistID: void 0,
                 restricted: void 0,
                 media: void 0,
                 historyID: void 0
             }),
             this._super()
         }
     });
     return t.mapEvent(i.PLAY, a, i),
     a
 }),
 define("f1e1d/e8300/d904e", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.media = t
         }
     });
     return t._name = "PreviewEvent",
     t.PREVIEW = "PreviewEvent:preview",
     t.TUTORIAL = "PreviewEvent:tutorial",
     t
 }),
 define("f1e1d/ffb50/b6003", [], function() {
     "use strict";
     return {
         embedFiles: {
             LOCAL: "yt5local.html",
             TEST: "yt5test.html",
             STAGING: "yt5staging.html",
             PRODUCTION: "yt5.html"
         }
     }
 }),
 define("hbs!templates/facades/YoutubeFrame", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<iframe id="',
         (a = i.id) ? a = a.call(t, {
             hash: {}
         }) : (a = t.id,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" frameborder="0" src="',
         (a = i.src) ? a = a.call(t, {
             hash: {}
         }) : (a = t.src,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" allow="autoplay; fullscreen"></iframe>'
     });
     return t.registerPartial("templates_facades_YoutubeFrame", i),
     i
 }),
 define("f1e1d/a3bee/ce1c2", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/af752/bfef4", "f1e1d/af752/fa88e", "f1e1d/ffb50/b6003", "hbs!templates/facades/YoutubeFrame"], function(e, t, i, s, n, a, o) {
     var r = t.extend({
         options: {
             id: "yt-frame",
             baseURL: "yt.bug.dj",
             defaultProtocol: "http",
             template: o
         },
         init: function() {},
         getEmbedURL: function(e) {
             var t = window.location
               , i = t.protocol
               , s = i + "//" + this.options.baseURL + "/";
             return s += n.isDevelopment === !0 ? a.embedFiles.LOCAL : n.isStaging === !0 ? a.embedFiles.TEST : a.embedFiles.PRODUCTION,
             e === !0 && (s = s.replace(/yt5/i, "ytp5")),
             s
         },
         getEmbedHTML: function(t) {
             e.isBoolean(t) === !1 && (t = !1);
             try {
                 return this.options.template({
                     id: this.options.id,
                     src: this.getEmbedURL(t)
                 })
             } catch (e) {
                 s.log(e)
             }
         }
     });
     return new r
 }),
 define("f1e1d/e74c9/c00f1/d3a70", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/e8300/d904e", "f1e1d/d8478/b5029", "f1e1d/d9232/b42c1", "f1e1d/af752/fa88e", "f1e1d/e74c9/c00f1/b182f", "f1e1d/a3bee/ce1c2", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = r.extend({
         id: "dialog-preview",
         className: "dialog",
         initialize: function() {
             this._super(),
             1 === this.options.media.get("format") ? this.$el.addClass("youtube") : this.$el.addClass("soundcloud")
         },
         render: function() {
             e("#dialog-container").addClass("is-preview"),
             this.$el.append(this.getHeader(h.dialog.preview));
             var i = this.getMessage(t.escape(this.options.media.get("author") + " - " + this.options.media.get("title")));
             if (1 === this.options.media.get("format"))
                 this.$previewFrame = e(l.getEmbedHTML(!0)),
                 this.$previewFrame.attr("class", "preview-frame"),
                 this.$previewFrame.load(t.bind(this.onYTLoaded, this)),
                 this.$el.append(this.getBody().append(i).append(this.$previewFrame));
             else {
                 var s = '<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/' + this.options.media.get("cid") + '&amp;color=55B9FF&amp;auto_play=true&amp;hide_related=true&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=false&amp;show_comments=false&amp;show_playcount=false&amp;show_user=false&amp;visual=false"></iframe>';
                 this.$previewFrame = e('<div class="preview-frame"/>').html(s),
                 this.$el.append(this.getBody().append(i).append(this.$previewFrame))
             }
             return this.$el.append(this.getButtons(h.dialog.close)),
             this._super()
         },
         onYTLoaded: function() {
             var e = document.getElementsByClassName("preview-frame")[0].contentWindow;
             e.postMessage(JSON.stringify({
                 id: this.options.media.get("cid"),
                 volume: n.get("lastVolume") || 25
             }), window.location.protocol + "//yt.bug.dj")
         },
         onKeyEnter: function() {
             return !0
         },
         submit: function() {
             this.close()
         },
         close: function() {
             e("#dialog-container").removeClass("is-preview"),
             this.$previewFrame && (1 === this.options.media.get("format") ? this.$previewFrame.attr("src", 'javascript:"<html></html>"').remove() : this.$previewFrame.empty().remove()),
             this.$previewFrame = void 0,
             delete this.$previewFrame,
             this.options.media = void 0,
             i.dispatch(new s(s.PREVIEW)),
             n.get("media") && 2 === n.get("media").get("format") && (n.get("restricted") ? n.set({
                 media: n.get("restricted"),
                 restricted: void 0
             }) : e(".button.refresh").click()),
             this.restoreVolume(),
             this._super()
         },
         closeWithTracking: function() {
             this.restoreVolume(),
             this._super()
         },
         restoreVolume: function() {
             n.set("volume", n.get("lastVolume"))
         }
     });
     return c
 }),
 define("f1e1d/e74c9/c00f1/c6416", ["jquery", "underscore", "f1e1d/e74c9/c00f1/b182f", "f1e1d/af752/fa88e", "f1e1d/d9232/b42c1", "f1e1d/d8478/b5029", "lang/Lang", "f1e1d/e718c/b7acd", "f1e1d/e8300/d904e", "f1e1d/a3bee/ce1c2"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = i.extend({
         id: "dialog-preview",
         className: "dialog tutorial",
         render: function() {
             return this.$el.append(this.getHeader(this.options.media.name)),
             this.$previewFrame = e(h.getEmbedHTML()),
             this.$previewFrame.attr("class", "preview-frame"),
             this.$previewFrame.load(t.bind(this.onYTLoaded, this)),
             this.$el.append(this.getBody().append(this.$previewFrame)),
             this._super()
         },
         onYTLoaded: function() {
             var e = document.getElementsByClassName("preview-frame")[0].contentWindow;
             e.postMessage(JSON.stringify({
                 id: this.options.media.cid,
                 volume: 100
             }), window.location.protocol + "//yt.bug.dj")
         },
         onKeyEnter: function() {
             return !0
         },
         submit: function() {
             this.close()
         },
         close: function() {
             this.$previewFrame && this.$previewFrame.attr("src", 'javascript:"<html></html>"').remove(),
             this.$previewFrame = void 0,
             delete this.$previewFrame,
             this.options.media = void 0,
             r.dispatch(new l(l.PREVIEW)),
             this._super()
         }
     });
     return c
 }),
 define("f1e1d/ee86e/b8748", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/e8300/d904e", "f1e1d/e8300/dcb95", "f1e1d/d8478/b5029", "f1e1d/af752/e7b9f", "f1e1d/e74c9/c00f1/d3a70", "f1e1d/e74c9/c00f1/c6416"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = t.extend({
         execute: function() {
             clearInterval(c.intervalID),
             clearTimeout(c.timeoutID);
             var t;
             if (this.event.media && !o.get("muted") ? (c.beforeVolume = o.get("volume"),
             o.set("lastVolume", o.get("volume")),
             t = .15 / o.get("volume") * 1e3,
             c.intervalID = setInterval(e.bind(this.fadeToMute, this), t)) : !this.event.media && o.get("muted") && c.beforeVolume > 0 && (t = .15 / o.get("lastVolume") * 1e3,
             c.intervalID = setInterval(e.bind(this.fadeFromMute, this), t)),
             this.event.media) {
                 var i = this.event.media;
                 this.event.type === n.PREVIEW ? c.timeoutID = e.delay(function() {
                     s.dispatch(new a(a.SHOW,new l({
                         media: i
                     })))
                 }, 200) : c.timeoutID = e.delay(function() {
                     s.dispatch(new a(a.SHOW,new h({
                         media: i
                     })))
                 }, 200)
             }
         },
         fadeToMute: function() {
             0 === o.get("volume") ? this.finish() : o.set("volume", Math.max(0, o.get("volume") - 1))
         },
         fadeFromMute: function() {
             o.get("volume") === o.get("lastVolume") ? (c.beforeVolume = 0,
             this.finish()) : o.set("volume", Math.min(o.get("lastVolume"), o.get("volume") + 1))
         },
         finish: function() {
             clearInterval(c.intervalID),
             this.event.media || clearTimeout(c.timeoutID),
             this._super()
         }
     });
     return c.intervalID = 0,
     c.timeoutID = 0,
     c.beforeVolume = 0,
     i.mapEvent(n.PREVIEW, c, n),
     i.mapEvent(n.TUTORIAL, c, n),
     c
 }),
 define("f1e1d/d8478/ed416", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             id: void 0,
             name: void 0,
             category: void 0,
             level: 1,
             pp: 0,
             cash: 0,
             active: !1
         }
     });
     return t.AUDIENCE = {
         w: 150,
         h: 150,
         sw: 3600
     },
     t.DRAGON = {
         w: 300,
         h: 150,
         sw: 7200
     },
     t.EPIC = {
         w: 200,
         h: 200,
         sw: 4800
     },
     t.DJ = {
         w: 170,
         h: 220,
         sw: 3400
     },
     t.DJ_DRAGON = {
         w: 340,
         h: 220,
         sw: 6800
     },
     t.DJ_EPIC = {
         w: 220,
         h: 275,
         sw: 4400
     },
     t.IMAGES = {},
     t
 }),
 define("f1e1d/fce39/e8377", ["backbone", "f1e1d/d8478/ed416"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         comparator: function(e, t) {
             return e.get("cash") < t.get("cash") ? 1 : e.get("cash") > t.get("cash") ? -1 : e.get("sub") < t.get("sub") ? -1 : e.get("sub") > t.get("sub") ? 1 : e.get("pp") < t.get("pp") ? -1 : e.get("pp") > t.get("pp") ? 1 : e.get("name") < t.get("name") ? -1 : e.get("name") > t.get("name") ? 1 : 0
         }
     });
     return new i
 }),
 define("f1e1d/d8478/aee42", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             id: void 0,
             name: void 0,
             level: 1,
             pp: 0,
             cash: 0,
             active: !1
         }
     });
     return t
 }),
 define("f1e1d/fce39/d4611", ["backbone", "f1e1d/d8478/aee42", "f1e1d/d8478/b885e"], function(e, t, i) {
     var s = e.Collection.extend({
         model: t,
         comparator: "id",
         initialize: function() {
             i.on("change:badge", this.onChange, this),
             this.on("reset", this.onChange, this)
         },
         onChange: function() {
             var e = this.findWhere({
                 active: !0
             });
             e && e.get("id") !== i.get("badge") && e.set("active", !1),
             e = this.get(i.get("badge")),
             e && e.set("active", !0)
         }
     });
     return new s
 });
 define("f1e1d/e8300/bb9e2", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i, s) {
             this._super(e),
             this.category = t,
             this.id = i,
             this.value = s
         }
     });
     return t._name = "StoreEvent",
     t.GET_STORE_AVATARS = "StoreEvent:storeAvatars",
     t.GET_STORE_BADGES = "StoreEvent:storeBadges",
     t.GET_STORE_BACKGROUNDS = "StoreEvent:storeBackgrounds",
     t.GET_STORE_MISC = "StoreEvent:storeMisc",
     t.GET_USER_AVATARS = "StoreEvent:userAvatars",
     t.GET_USER_BADGES = "StoreEvent:userBadges",
     t.GET_USER_BACKGROUNDS = "StoreEvent:userBackgrounds",
     t.GET_USER_TRANSACTIONS = "StoreEvent:userTransactions",
     t.PURCHASE_AVATAR = "StoreEvent:purchaseAvatar",
     t.PURCHASE_BADGE = "StoreEvent:purchaseBadge",
     t.PURCHASE_BACKGROUND = "StoreEvent:purchaseBackground",
     t.PURCHASE_BOOST = "StoreEvent:purchaseBoost",
     t.PURCHASE_NAME = "StoreEvent:purchaseName",
     t
 });
 define("f1e1d/be642/d9232/e130c", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         init: function(e) {
             this.route = "store/inventory" + (e ? "/" + e : ""),
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data) : this.error && this.error()
         }
     });
     return t
 }),
 define("f1e1d/ee86e/d3ef5", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/d4611", "f1e1d/e8300/bb9e2", "f1e1d/be642/d9232/e130c"], function(e, t, i, s, n, a) {
     var o = t.extend({
         execute: function() {
             o.synced && this.event.id !== !0 ? this.finish() : this.listenTo(new a("badges"))
         },
         onSuccess: function(t) {
             o.synced = !0;
             for (var i = t.length; i--; )
                 t[i].category && 0 === t[i].category.indexOf("b-") && (t[i].category = t[i].category.substr(2));
             s.reset(t),
             this.event.category && this.dispatch(new n(n.GET_STORE_BADGES,this.event.category)),
             this.event.value && e.isFunction(this.event.value) && this.event.value(),
             this.finish()
         }
     });
     return o.synced = !1,
     i.mapEvent(n.GET_USER_BADGES, o, n),
     o
 }),
 define("f1e1d/d8478/beb80", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             id: void 0,
             pp: void 0,
             cash: void 0,
             type: void 0,
             item: void 0,
             timestamp: void 0
         }
     });
     return t
 }),
 define("f1e1d/fce39/cae98", ["f1e1d/d8478/beb80"], function(e) {
     var t = Backbone.Collection.extend({
         model: e
     });
     return new t
 }),
 define("f1e1d/be642/c76df/d66e1", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         route: "users/me/transactions",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var t = e.data.length; t--; )
                         "avatars" === e.data[t].type ? e.data[t].type = "avatar" : "badges" === e.data[t].type && (e.data[t].type = "badge");
                     this.success(e.data)
                 }
             } else
                 this.error && this.error()
         }
     });
     return t
 }),
 define("f1e1d/ee86e/be5f6", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/cae98", "f1e1d/e8300/bb9e2", "f1e1d/be642/c76df/d66e1"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             a.synced ? this.finish() : this.listenTo(new n)
         },
         onSuccess: function(e) {
             a.synced = !0,
             i.reset(e),
             this.finish()
         }
     });
     return t.mapEvent(s.GET_USER_TRANSACTIONS, a, s),
     a
 }),
 define("f1e1d/be642/d9232/e9f4f", ["f1e1d/be642/b7b48", "lang/Lang"], function(e, t) {
     var i = e.extend({
         type: "POST",
         route: "store/purchase",
         init: function(e) {
             this.data = {
                 id: e
             },
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code)
                 this.success && this.success(e.data[0]);
             else if (403 === e.code) {
                 if (e.data && e.data.length) {
                     var i = t.errors[e.data[0]];
                     "fundsPP" === e.data[0] && (i += '<br/><a href="http://support.plug.dj/hc/en-us/sections/200450377-Points-" target="_blank">FAQ</a>'),
                     this.alert(t.errors.purchaseError, i)
                 }
                 this.error && this.error()
             } else
                 this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/be642/c76df/ff641", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         route: "users/avatar",
         init: function(e) {
             this.data = {
                 id: e
             },
             this._super(!0)
         }
     });
     return t
 }),
 define("f1e1d/be642/c76df/a047b", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         route: "users/badge",
         init: function(e) {
             this.data = {
                 id: e
             },
             this._super(!0)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/d07ce", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/e8377", "f1e1d/ee86e/d3ef5", "f1e1d/ee86e/be5f6", "f1e1d/e8300/a815f", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/be642/d9232/e9f4f", "f1e1d/be642/c76df/ff641", "f1e1d/be642/c76df/a047b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = e.extend({
         execute: function() {
             n.synced = !1,
             this.listenTo(new l(this.event.id))
         },
         onSuccess: function(e) {
             r.set({
                 pp: e.pp
             }),
             new h(e.name),
             this.dispatch(new a(a.ALERT,p.alerts.avatarUnlockedTitle,p.alerts.avatarUnlockedMessage)),
             this.dispatch(new o(o.GET_USER_AVATARS,this.event.category,!0)),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return t.mapEvent(o.PURCHASE_AVATAR, d, o),
     d
 }),
 define("f1e1d/d8478/ceca8", ["backbone"], function(e) {
     var t = {
         default: "https://cdn-prod.plug.dj/_/static/images/backgrounds/default_background.43861aaf41a68c175b0b3ab15d65a8eb1fb07395.jpg",
         "2014hw": "https://cdn-prod.plug.dj/_/static/images/backgrounds/2014hw_background.29748a148b0c5440ddc5899e07bc32b1a1d4b86c.jpg",
         minecraft: "https://cdn-prod.plug.dj/_/static/images/backgrounds/minecraft_background.3087e95dbb0636ec5b2b95dfa2edb46f11e8e351.jpg",
         monstercat: "https://cdn-prod.plug.dj/_/static/images/backgrounds/monstercat_background.8b1a8198d4b78b747628196d09a1b212d63e4856.jpg",
         nightcore: "https://cdn-prod.plug.dj/_/static/images/backgrounds/nightcore_background.3e9368db0739bbcd9cc99ef66938216ca0cef11b.jpg",
         "r-trees-music": "https://cdn-prod.plug.dj/_/static/images/backgrounds/r_trees_music_background.cd83c7f9b1e95b20460663ad76f70eab18e8a236.jpg",
         tasty: "https://cdn-prod.plug.dj/_/static/images/backgrounds/tasty_background.67246c5978b73854554dbc314232520b29ef70e0.jpg",
         "tasty-cat": "https://cdn-prod.plug.dj/_/static/images/backgrounds/tasty_cat_background.3a0db67be2e07695165ce3d9cee540b7f84c28b1.jpg",
         "the-pink-print": "https://cdn-prod.plug.dj/_/static/images/backgrounds/the_pink_print_background.585703f1ff9703dee3af94c4db6d0a30367a3fbf.jpg",
         winter: "https://cdn-prod.plug.dj/_/static/images/backgrounds/winter_background.36c25eacab985b0feaaee1805ea53903f9f5c58a.jpg",
         "world-on-fire": "https://cdn-prod.plug.dj/_/static/images/backgrounds/world_on_fire_background.fafb589579adfd41dbf6819541a88d1da263fc4d.jpg",
         pixel: "https://cdn-prod.plug.dj/_/static/images/backgrounds/pixel_background.0b2110eeec6be5d376d10df7ae8daa0a68cea316.jpg"
     }
       , i = {
         default: {
             row: 0,
             column: 0
         },
         "2014hw": {
             row: 0,
             column: 1
         },
         minecraft: {
             row: 0,
             column: 2
         },
         monstercat: {
             row: 0,
             column: 3
         },
         nightcore: {
             row: 0,
             column: 4
         },
         "r-trees-music": {
             row: 0,
             column: 5
         },
         tasty: {
             row: 0,
             column: 6
         },
         "tasty-cat": {
             row: 0,
             column: 7
         },
         "the-pink-print": {
             row: 0,
             column: 8
         },
         winter: {
             row: 0,
             column: 9
         },
         "world-on-fire": {
             row: 0,
             column: 10
         },
         pixel: {
             row: 0,
             column: 11
         }
     }
       , s = e.Model.extend(function() {
         return {
             defaults: {
                 id: void 0,
                 name: void 0,
                 category: void 0,
                 level: 1,
                 pp: 0,
                 cash: 0,
                 active: !1
             },
             getPositions: function() {
                 var e = i[this.id];
                 return e
             },
             getLink: function() {
                 var e;
                 return e = void 0 === t[this.id] ? t[this.get("name")] : t[this.id]
             },
             getColumn: function() {
                 var e;
                 return void 0 === i[this.id] ? (console.log(this),
                 console.log(this.get("name")),
                 e = i[this.get("name")].column) : e = i[this.id].column,
                 e
             },
             getRow: function() {
                 var e;
                 return e = void 0 === i[this.id] ? i[this.get("name")].row : i[this.id].row
             }
         }
     }(), function() {
         return {
             getLink: function(e) {
                 var i = t[e];
                 return "default" === e && (i = t.default),
                 i
             }
         }
     }());
     return s
 }),
 define("f1e1d/fce39/dc7a1", ["backbone", "f1e1d/d8478/ceca8"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         comparator: function(e, t) {
             return e.get("cash") < t.get("cash") ? 1 : e.get("cash") > t.get("cash") ? -1 : e.get("sub") < t.get("sub") ? -1 : e.get("sub") > t.get("sub") ? 1 : e.get("pp") < t.get("pp") ? -1 : e.get("pp") > t.get("pp") ? 1 : e.get("name") < t.get("name") ? -1 : e.get("name") > t.get("name") ? 1 : 0
         }
     });
     return new i
 }),
 define("f1e1d/be642/c76df/e719d", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "rooms/update",
         init: function(e) {
             this.data = {
                 background: e
             },
             this._super(!0)
         },
         onError: function(e, t) {
             _.isObject(t) && t.status && _.isArray(t.data) ? (t.code = e,
             this.parse(t)) : this.onFault(e, t),
             this.cleanup()
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : this.error(e.status);
         },
         onFault: function(e, t) {
             console.error("SERVER FAULT", e, t),
             this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/ee86e/cd739", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/dc7a1", "f1e1d/ee86e/d3ef5", "f1e1d/ee86e/be5f6", "f1e1d/e8300/a815f", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/be642/d9232/e9f4f", "f1e1d/be642/c76df/e719d", "f1e1d/be642/c76df/a047b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = e.extend({
         execute: function() {
             n.synced = !1,
             this.listenTo(new l(this.event.id))
         },
         onSuccess: function(e) {
             r.set({
                 pp: e.pp
             }),
             this.dispatch(new a(a.ALERT,p.alerts.avatarUnlockedTitle,p.alerts.avatarUnlockedMessage)),
             this.dispatch(new o(o.GET_USER_BACKGROUNDS,this.event.category,!0)),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return t.mapEvent(o.PURCHASE_BACKGROUND, d, o),
     d
 }),
 define("f1e1d/fce39/f7c81", ["backbone", "f1e1d/d8478/aee42"], function(e, t) {
     var i = "seab"
       , s = e.Collection.extend({
         model: t,
         comparator: function(e, t) {
             return e.get("cash") < t.get("cash") ? 1 : e.get("cash") > t.get("cash") ? -1 : e.get("name").indexOf(i) > t.get("name").indexOf(i) ? -1 : e.get("name").indexOf(i) < t.get("name").indexOf(i) ? 1 : e.get("sub") > t.get("sub") ? -1 : e.get("sub") < t.get("sub") ? 1 : e.get("name").indexOf("-t0") > t.get("name").indexOf("-t0") ? -1 : e.get("name").indexOf("-t0") < t.get("name").indexOf("-t0") ? 1 : e.get("pp") < t.get("pp") ? -1 : e.get("pp") > t.get("pp") ? 1 : e.get("name") < t.get("name") ? -1 : e.get("name") > t.get("name") ? 1 : 0
         }
     });
     return new s
 }),
 define("f1e1d/ee86e/ce41f", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/f7c81", "f1e1d/ee86e/d3ef5", "f1e1d/ee86e/be5f6", "f1e1d/e8300/a815f", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/be642/d9232/e9f4f", "f1e1d/be642/c76df/a047b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = e.extend({
         execute: function() {
             n.synced = !1,
             this.listenTo(new l(this.event.id))
         },
         onSuccess: function(e) {
             r.set({
                 pp: e.pp
             }),
             new h(e.name),
             s.synced = !1,
             this.dispatch(new a(a.ALERT,c.alerts.badgeUnlockedTitle,c.alerts.badgeUnlockedMessage)),
             this.dispatch(new o(o.GET_USER_BADGES,this.event.category,!0)),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return t.mapEvent(o.PURCHASE_BADGE, p, o),
     p
 }),
 define("f1e1d/ee86e/bb7a9", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/ee86e/be5f6", "f1e1d/e8300/a815f", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/be642/d9232/e9f4f", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.extend({
         execute: function() {
             a.get("boost") ? (this.dispatch(new s(s.ALERT,l.errors.purchaseError,l.errors.alreadyBoosted)),
             this.finish()) : (i.synced = !1,
             this.listenTo(new o(this.event.id)))
         },
         onSuccess: function(e) {
             e.boost && (e.boost.r = r.convertUnixDateStringToDate(e.boost.r)),
             a.set({
                 pp: e.pp,
                 boost: e.boost
             }),
             this.dispatch(new s(s.ALERT,l.alerts.boostTitle,l.alerts["boostMessage" + this.event.value.m])),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return t.mapEvent(n.PURCHASE_BOOST, h, n),
     h
 }),
 define("f1e1d/be642/d9232/c15e6", ["f1e1d/be642/b7b48", "lang/Lang"], function(e, t) {
     var i = e.extend({
         type: "POST",
         route: "store/purchase/username",
         init: function(e, t) {
             this.data = {
                 id: e,
                 username: t
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data[0]) : 403 === e.code ? (e.data && e.data.length && this.alert(t.errors.purchaseError, t.errors[e.data[0]]),
             this.error && this.error()) : this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/ee86e/d2f0d", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/ee86e/be5f6", "f1e1d/e8300/a815f", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/be642/d9232/c15e6", "f1e1d/af752/e7b9f", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.extend({
         execute: function() {
             i.synced = !1,
             this.listenTo(new o(this.event.id,this.event.value))
         },
         onSuccess: function(e) {
             a.set({
                 pp: e.pp
             }),
             r.identify(a.toJSON()),
             this.dispatch(new s(s.ALERT,l.alerts.update,l.alerts.usernameChanged)),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return t.mapEvent(n.PURCHASE_NAME, h, n),
     h
 }),
 define("f1e1d/e8300/d41e3", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e) {
             this._super(e)
         }
     });
     return t._name = "RelatedBackEvent",
     t.BACK = "RelatedBackEvent:back",
     t
 }),
 define("f1e1d/ee86e/def36", ["f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/fce39/a4370", "f1e1d/fce39/a854d", "f1e1d/e8300/d41e3", "f1e1d/a3bee/fa846", "f1e1d/d8478/b3f62"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         execute: function() {
             if (o.get("relatedHistory").length > 0) {
                 var e = o.get("relatedHistory").pop();
                 o.get("relatedHistory").length > 0 ? (o.set("query", void 0, {
                     silent: !0
                 }).set("related", e.title),
                 s.reset(e.items),
                 a.page = e.page || 0) : o.get("relatedPlaylist") ? (i.setVisible(o.get("relatedPlaylist")),
                 a.resetRelated(),
                 a.page = 0) : a.load(e.title, a.lastFormat)
             }
             this._super()
         }
     });
     return t.mapEvent(n.BACK, r, n),
     r
 }),
 define("f1e1d/fce39/e3fb7", ["backbone", "f1e1d/d8478/d23b4"], function(e, t) {
     var i = e.Collection.extend({
         model: t
     });
     return new i
 }),
 define("f1e1d/e8300/c6f34", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({});
     return t._name = "RestrictedSearchEvent",
     t.SEARCH = "RestrictedSearchEvent:search",
     t
 }),
 define("f1e1d/e718c/b2952", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/af752/e504b", "f1e1d/af752/e7b9f", "f1e1d/af752/bfef4", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = t.View.extend({
         context: {},
         constructor: function(e) {
             t.View.prototype.constructor.apply(this, arguments),
             this.delegateContext(),
             this.utils = n
         },
         delegateContext: function(t) {
             if (!t && !(t = e.result(this, "context")))
                 return this;
             this.undelegateContext();
             for (var s in t) {
                 var n = t[s];
                 e.isFunction(n) || (n = this[t[s]]),
                 n && (n = e.bind(n, this),
                 i.on(s, n))
             }
             return this
         },
         undelegateContext: function(t) {
             if (!t && !(t = e.result(this, "context")))
                 return this;
             for (var s in t) {
                 var n = t[s];
                 e.isFunction(n) || (n = this[t[s]]),
                 n && (n = e.bind(n, this),
                 i.off(s, n))
             }
             return this
         },
         getElement: function() {
             return this.$el
         },
         setData: function(e, t) {
             var i = "data-" + e
               , s = {};
             s[i] = t,
             this.getElement().data(e, t),
             this.getElement().attr(s)
         },
         getData: function(e) {
             return this.getElement().data(e)
         },
         addClass: function(e) {
             this.el.className = this.el.className.split(" ").concat(e || "").join(" ")
         },
         preventGuest: function(e, t) {
             var n = this;
             this[e] = function() {
                 s.isGuest() === !1 ? n.__proto__[e].apply(n, arguments) : i.trigger("signup:show", t)
             }
         },
         preventRole: function(e, t, i) {
             var n = this;
             this[e] = function() {
                 return s.hasPermission(t, i) === !0 && void n.__proto__[e].apply(n, arguments)
             }
         },
         executeOnlyIf: function(t, i) {
             var s = this;
             this[t] = function() {
                 var n = !1;
                 return e.isFunction(i) === !0 ? n = i() : e.isBoolean(i) === !0 && (n = i),
                 n === !0 && void s.__proto__[t].apply(s, arguments)
             }
         },
         preventList: function() {
             var t = Array.prototype.slice.call(arguments, 0);
             e.each(t, this.preventGuest, this)
         },
         wrapList: function(t, i, s) {
             e.each(t, function(e) {
                 this.wrapFunction(e, i, s)
             }, this)
         },
         wrapFunction: function(e, t, i) {
             var s = this;
             this[e] = function() {
                 void 0 !== t && null !== t && t(),
                 s.__proto__[e].apply(s, arguments),
                 void 0 !== i && null !== i && i()
             }
         },
         preventDefault: function(e) {
             return e && e.preventDefault && e.preventDefault(),
             this
         },
         preventBubbling: function(e) {
             return e && e.stopPropagation && e.stopPropagation(),
             null
         },
         prevent: function(e) {
             return this.preventDefault(e),
             this.preventBubbling(e),
             null
         },
         applyTooltip: function(e, t) {
             n.applyTooltip(e, t)
         },
         log: function(e, t) {
             return arguments[0] = "[" + this.identifier + "]: " + (e || ""),
             o.log.apply(o, arguments),
             null
         }
     });
     return l
 }),
 define("f1e1d/e74c9/a6e51/f2220", ["backbone", "f1e1d/af752/e6c91", "canvasloader"], function(e, t, i) {
     var s = e.View.extend({
         className: "spinner",
         initialize: function() {
             var e = new t;
             this.id = "spin-" + e.integer(1, 4294967295).toString(16),
             this.$el.attr("id", this.id)
         },
         render: function() {
             return this.options && (this.cl = new i(this.id,{
                 id: this.id + "-canvas"
             }),
             this.cl.setColor(this.options.size.color),
             this.cl.setDiameter(this.options.size.diameter),
             this.cl.setDensity(this.options.size.density),
             this.cl.setRange(this.options.size.range),
             this.options.size.speed && this.cl.setSpeed(this.options.size.speed),
             this.$el.width(this.options.size.diameter).height(this.options.size.diameter),
             this.$("#" + this.id + "-canvas").css("position", "absolute").css("left", this.options.size.diameter / -2).css("top", this.options.size.diameter / -2)),
             this
         },
         remove: function() {
             this.cl && this.cl.kill(),
             this.id = void 0,
             this.cl = void 0,
             this.options = void 0,
             delete this.id,
             delete this.cl,
             delete this.options,
             this._super()
         }
     });
     return s.LARGE = {
         color: "#eeeeee",
         diameter: 100,
         density: 100,
         speed: 4,
         range: .9
     },
     s.MEDIUM = {
         color: "#eeeeee",
         diameter: 40,
         density: 40,
         range: .9
     },
     s.SMALL = {
         color: "#eeeeee",
         diameter: 20,
         density: 50,
         speed: 3,
         range: .9
     },
     s.SMALLER = {
         color: "#eeeeee",
         diameter: 12,
         density: 50,
         speed: 3,
         range: .9
     },
     s
 }),
 define("hbs!templates/playlist/menu/PlaylistRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="activate-button">\r\n    <i class="plugdjfont icon-playlist"></i>\r\n</div>\r\n<span class="name"></span>\r\n<span class="count"></span>'
     });
     return t.registerPartial("templates_playlist_menu_PlaylistRow", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/cf616/c0c23", ["underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/fce39/a4370", "f1e1d/e8300/e71e8", "f1e1d/e8300/dbc87", "f1e1d/a3bee/fa846", "f1e1d/d8478/d23b4", "f1e1d/af752/fd6ec", "f1e1d/e74c9/a6e51/f2220", "hbs!templates/playlist/menu/PlaylistRow"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = i.extend({
         className: "row",
         events: {
             click: "onClick",
             "click .activate-button": "onActivateClick",
             mouseup: "onRowRelease",
             mouseenter: "onMouseEnter",
             mouseleave: "onMouseLeave"
         },
         initialize: function() {
             this.isOver = !1,
             this.model.on("change:name", this.onNameChange, this).on("change:count", this.onItemsChange, this).on("change:active", this.onSelectedChange, this).on("change:visible", this.onVisibleChange, this).on("change:syncing", this.onSyncingChange, this).on("destroy", this.remove, this)
         },
         render: function() {
             return this.$el.html(d()),
             this.$activate = this.$(".activate-button"),
             this.$icon = this.$(".icon-playlist"),
             this.$name = this.$(".name"),
             this.$count = this.$(".count"),
             this.onNameChange(),
             this.onItemsChange(),
             this.onSelectedChange(),
             this.onVisibleChange(),
             this
         },
         onNameChange: function() {
             this.$name.text(this.model.get("name"))
         },
         onItemsChange: function() {
             this.$count.text("(" + this.model.get("count") + ")")
         },
         onSelectedChange: function() {
             this.model.get("active") ? (this.$icon.addClass("active"),
             this.$activate.css("cursor", "default").css("display", "block").show()) : (this.$icon.removeClass("active"),
             this.$activate.css("cursor", "pointer").css("display", "block").show(),
             this.model.get("visible") && this.isOver ? this.$activate.show() : this.$activate.hide())
         },
         onVisibleChange: function() {
             this.model.get("visible") ? (this.$el.addClass("selected"),
             this.model.get("syncing") || (this.isOver || this.model.get("active") ? this.$activate.show() : this.$activate.hide())) : (this.$el.removeClass("selected"),
             this.model.get("active") || this.$activate.hide())
         },
         onSyncingChange: function() {
             this.hideSpinner(),
             this.model.get("syncing") && (this.spinner = new p({
                 size: p.SMALLER
             }),
             this.$el.append(this.spinner.$el),
             this.spinner.render().$el.css("left", 7).css("top", 0),
             this.$activate.hide())
         },
         hideSpinner: function() {
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner,
             this.model && (this.model.get("active") || this.model.get("visible") && this.isOver) && this.$activate.show())
         },
         onActivateClick: function() {
             s.dispatch(new r(r.ACTIVATE))
         },
         onRowRelease: function() {
             if (a.getVisibleID() !== this.model.get("id"))
                 if (this.options.parent.selectedRows && 0 !== this.options.parent.selectedRows.length) {
                     var t;
                     t = this.options.parent.selectedRows[0].model instanceof h ? e.map(this.options.parent.selectedRows, function(e) {
                         return e.model
                     }) : this.options.parent.selectedRows[0].model.get("media")instanceof h ? e.map(this.options.parent.selectedRows, function(e) {
                         return e.model.get("media")
                     }) : e.map(this.options.parent.selectedRows, function(e) {
                         return new h(e.model.get("media"))
                     }),
                     s.dispatch(new o(o.INSERT,this.model,t,!1,this.options.parent.selectedRows.length))
                 } else
                     a.setVisible(this.model),
                     l.resetRelated()
         },
         onMouseEnter: function() {
             !this.model.get("visible") || this.model.get("active") || this.model.get("syncing") || this.$activate.show(),
             !this.model.get("visible") && this.options.parent.selectedRows && this.options.parent.selectedRows.length > 0 && this.$el.addClass("drag-over"),
             this.isOver = !0
         },
         onMouseLeave: function() {
             !this.model.get("visible") || this.model.get("active") || this.model.get("syncing") || this.$activate.hide(),
             this.$el.removeClass("drag-over"),
             this.isOver = !1
         },
         remove: function() {
             this.model && (this.model.off("change:name", this.onNameChange, this).off("change:count", this.onItemsChange, this).off("change:active", this.onSelectedChange, this).off("change:visible", this.onVisibleChange, this).off("change:syncing", this.onSyncingChange, this).off("destroy", this.remove, this),
             this.model = void 0),
             this.hideSpinner(),
             this._super()
         },
         onClick: function() {
             n.isMobile === !0 && s.trigger("playlist:section", "detail")
         }
     });
     return u
 }),
 define("hbs!templates/playlist/menu/PlaylistMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '\r\n\r\n<!--title-->\r\n<h1 class="playlist-title">' + l((a = t.playlist,
         a = null == a || a === !1 ? a : a.yourPlaylists,
         typeof a === r ? a.apply(t) : a)) + '</h1>\r\n<p class="playlist-subtitle display--desktop">Activate a playlist according to the room <a href="#">allowed genres</a> and start djing.</p>\r\n<!--menu-->\r\n<div class="menu">\r\n    <div class="container"></div>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_menu_PlaylistMenu", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/cf616/d4bdd", ["underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/fce39/a4370", "f1e1d/e8300/dcb95", "f1e1d/d8478/d23b4", "f1e1d/af752/c506b", "f1e1d/e74c9/c00f1/fb4d1", "f1e1d/e74c9/d9fb2/cf616/c0c23", "hbs!templates/playlist/menu/PlaylistMenu", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = i.extend({
         id: "playlist-menu",
         initialize: function() {
             this.rows = [],
             this.selectedRows = void 0,
             n.on("reset sort", this.onReset, this).on("add", this.onAdd, this).on("remove", this.onRemove, this),
             this.drawRowBind = e.bind(this.drawRow, this)
         },
         render: function() {
             return this.$el.html(c(p)),
             this.$container = this.$(".container"),
             this.$menu = this.$(".menu"),
             this.$("#playlist-import").click(e.bind(this.onImportClick, this)),
             this.$create = this.$("#playlist-create").mouseup(e.bind(this.onCreateRelease, this)),
             this.$menu.jScrollPane(),
             this.scrollPane = this.$menu.data("jsp"),
             this.scrollPane.scrollTop(0),
             this.onReset(),
             r.resize(e.bind(this.onResize, this)),
             s.on("drag:media:start", this.onDragStart, this).on("drag:media:stop", this.onDragStop, this).on("anim:playlist:progress", this.onResize, this),
             this
         },
         onResize: function(e) {},
         onReset: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             this.rows.length = 0,
             this.$container.empty(),
             n.each(this.drawRowBind),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         onAdd: function(e, t) {
             var i, s = new h({
                 model: e,
                 parent: this
             }), n = t.indexOf(e);
             n > 0 && this.rows.length > 0 && (i = this.rows[n - 1]),
             i ? (i.$el.after(s.$el),
             this.rows.splice(n, 0, s)) : (this.$container.prepend(s.$el),
             this.rows.unshift(s)),
             s.render(),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         onRemove: function(e, t, i) {
             this.rows[i.index] && (this.rows[i.index].destroy(),
             this.rows.splice(i.index, 1),
             this.scrollPane && this.scrollPane.reinitialise())
         },
         drawRow: function(e) {
             var t = new h({
                 model: e,
                 parent: this
             });
             this.$container.append(t.$el),
             t.render(),
             this.rows.push(t)
         },
         onImportClick: function() {
             s.trigger("import:show")
         },
         onCreateRelease: function() {
             var t;
             this.selectedRows && this.selectedRows.length > 0 && (t = this.selectedRows[0].model instanceof o ? e.map(this.selectedRows, function(e) {
                 return e.model
             }) : e.map(this.selectedRows, function(e) {
                 return e.model.get("media")
             })),
             s.dispatch(new a(a.SHOW,new l({
                 media: t
             }))),
             s.trigger("click:playlistCreate")
         },
         onDragStart: function() {
             this.$create.addClass("drag-over"),
             this.scrollPane.setScrolling(!0),
             this.$("#playlist-create span").text(p.playlist.createDrop)
         },
         onDragStop: function() {
             this.$create.removeClass("drag-over"),
             this.scrollPane.setScrolling(!1),
             this.$("#playlist-create span").text(p.playlist.create)
         }
     });
     return new d
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/b280a", "f1e1d/e8300/d904e", "f1e1d/af752/fa88e", "f1e1d/af752/c506b", "f1e1d/e74c9/d9fb2/cf616/d4bdd"], function(e, t, i, s, n, a, o, r, l) {
     var h = i.View.extend({
         className: "media-list",
         initialize: function() {
             this.$container = e("<div/>").addClass("container-fluid"),
             this.drawRowBind = t.bind(this.drawRow, this),
             this.rows = [],
             this.rowHash = {},
             this.selectedRows = {},
             this.baseSelectedRowIndex = -1,
             this.lastClickedIndex = 0,
             this.currentDragRow = void 0,
             this.noModifier = !1,
             this.doubleClickTime = 0,
             this.doubleClickThreshold = 500,
             this.doubleClickRowData = null,
             this.pressMouseX = 0,
             this.pressMouseY = 0,
             this.isDragging = !1,
             this.withinBounds = !1,
             this.dragIntervalID = 0,
             this.mouseX = 0,
             this.mouseY = 0,
             this.playlistID = 0,
             this.DRAG_THRESHOLD = 5,
             this.scrollLock = !1,
             this.deletePending = !1,
             this.documentReleaseBind = t.bind(this.onDocumentRelease, this),
             this.thresholdBind = t.bind(this.onCheckThreshold, this),
             this.mousePositionBind = t.bind(this.onMousePosition, this),
             this.$dragRowLine = e("<div/>").addClass("drag-row-line"),
             this.$dragRowLine.hide(),
             this.$dragIcon = e("<div/>").addClass("drag-media-box").append(e("<div/>").addClass("drag-media-corner")).append(e("<i/>").addClass("icon icon-drag-media")).append(e("<span/>").addClass("drag-media-label")),
             this.$dragIcon.hide(),
             this.resizeBind = t.bind(this.onResize, this),
             this.$el.addClass(this.listClass).append(this.$container)
         },
         onCollectionReset: function() {
             var e;
             this.scrollLock && this.scrollPane && (e = this.scrollPane.scrollTop()),
             this.clear(),
             this.drawList(),
             this.scrollPane && (this.scrollPane.reinitialise(),
             e ? this.scrollPane.scrollTop(e) : this.scrollPane.scrollTop(0)),
             this.scrollLock = this.deletePending = !1
         },
         onResize: function(e) {
             e = e || r.getSize(),
             this.$el.height(Math.max(350, e.height - this.$el.offset().top - 100)),
             this.scrollPane && this.scrollPane.reinitialise(),
             this.deletePending || (this.scrollLock = !1)
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             this.rows.length = 0,
             this.rowHash = {},
             this.$container.empty(),
             r.onResize(),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         render: function() {
             return this.$container.empty(),
             this.collection.on("reset", this.onCollectionReset, this),
             this.onCollectionReset(),
             r.resize(this.resizeBind),
             this.$el.jScrollPane(),
             this.scrollPane = this.$el.data("jsp"),
             this.scrollPane.scrollTop(0),
             s.on("anim:playlist:progress", this.onResize, this),
             this
         },
         remove: function() {
             this.clear(),
             this.clearSelection(),
             this.scrollPane && (this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane),
             this.collection.off("reset", this.onCollectionReset, this),
             r.off("resize", this.resizeBind),
             s.off("anim:playlist:progress", this.onResize, this),
             this.collection = void 0,
             delete this.collection,
             this._super()
         },
         drawList: function() {
             this.collection.each(this.drawRowBind)
         },
         clearSelection: function() {
             this.selectedRows = {},
             this.baseSelectedRowIndex = -1,
             this.updateSelectedRows()
         },
         drawRow: function(e, t) {
             var i = new this.RowClass({
                 className: "row " + this.getRowClassName(t),
                 model: e,
                 index: t,
                 selected: void 0 != this.selectedRows[e.get("cid")]
             });
             return this.$container.append(i.$el),
             i.render(),
             i.on("action", this.onRowAction, this).on("press", this.onRowPress, this).on("over", this.onRowOver, this).on("out", this.onRowOut, this).on("release", this.onRowRelease, this).on("doubleClick", this.onDoubleClick, this),
             this.rows.push(i),
             this.rowHash[e.get("cid")] = !0,
             i.options.selected && (this.selectedRows[e.get("cid")] = i),
             this.baseSelectedRowIndex === -1 && i.options.selected && (this.baseSelectedRowIndex = t),
             i
         },
         getRowClassName: function(e) {
             return "playlist-media-item"
         },
         onRowAction: function(e) {
             if ("add" === e.action)
                 s.dispatch(new n(n.ADD,this.getSelectedRows(),e.row.model,void 0,e.event.target));
             else if ("delete" === e.action) {
                 var t = this.getSelectedRows();
                 this.scrollLock = t.length < this.rows.length - t.length,
                 this.deletePending = !0,
                 s.dispatch(new n(n.DELETE,t,e.row.model,e.row.options.index))
             } else
                 "edit" === e.action ? s.dispatch(new n(n.EDIT,void 0,e.row.model)) : "move-to-top" === e.action ? (this.scrollLock = !0,
                 s.dispatch(new n(n.TOP,this.getSelectedRows(),e.row.model))) : "move-to-bottom" === e.action ? (this.scrollLock = !0,
                 s.dispatch(new n(n.BOTTOM,this.getSelectedRows(),e.row.model))) : "play-next" === e.action ? s.dispatch(new n(n.PLAY_NEXT,void 0,e.row.model)) : "related" === e.action && s.dispatch(new n(n.RELATED,void 0,e.row.model))
         },
         onRowPress: function(t) {
             e("*:focus")[0] && "INPUT" == e("*:focus")[0].nodeName && e("*:focus")[0].blur(),
             o.isMac && (t.event.ctrlKey = t.event.metaKey);
             var i = !1;
             if (!t.row.isNowPlaying || t.row.options.index > 0) {
                 if (this.noModifier = !1,
                 this.lastClickedIndex = t.row.options.index,
                 t.event.shiftKey || t.event.ctrlKey) {
                     if (t.event.ctrlKey && !t.event.shiftKey)
                         this.baseSelectedRowIndex = t.row.options.index,
                         this.toggleRow(t.row);
                     else if (t.event.shiftKey && !t.event.ctrlKey)
                         this.baseSelectedRowIndex === -1 ? (this.baseSelectedRowIndex = t.row.options.index,
                         this.toggleRow(t.row)) : this.baseSelectedRowIndex > t.row.options.index ? this.selectMultipleRows(this.baseSelectedRowIndex, t.row.options.index) : this.baseSelectedRowIndex < t.row.options.index && this.selectMultipleRows(t.row.options.index, this.baseSelectedRowIndex);
                     else if (t.event.ctrlKey && t.event.shiftKey) {
                         var s, n;
                         if (this.baseSelectedRowIndex === -1)
                             this.selectSingleRow(t.row.options.index);
                         else if (t.row.options.index > this.baseSelectedRowIndex)
                             if (this.selectedRows[this.collection.at(this.baseSelectedRowIndex).get("cid")])
                                 this.selectMultipleRows(t.row.options.index, this.baseSelectedRowIndex);
                             else {
                                 var a = this.collection.length;
                                 for (s = 0; s < a; ++s)
                                     if (this.selectedRows[this.collection.at(s).get("cid")]) {
                                         n = s;
                                         break
                                     }
                                 this.selectMultipleRows(t.row.options.index, n)
                             }
                         else if (t.row.options.index < this.baseSelectedRowIndex)
                             if (this.selectedRows[this.collection.at(this.baseSelectedRowIndex).get("cid")])
                                 this.selectMultipleRows(this.baseSelectedRowIndex, t.row.options.index);
                             else {
                                 for (s = this.collection.length; s--; )
                                     if (this.selectedRows[this.collection.at(s).get("cid")]) {
                                         n = s;
                                         break
                                     }
                                 this.selectMultipleRows(n, t.row.options.index)
                             }
                         this.baseSelectedRowIndex = t.row.options.index
                     }
                 } else
                     this.baseSelectedRowIndex !== -1 && t.row.options.selected ? this.noModifier = !0 : this.selectSingleRow(t.row),
                     (new Date).getTime() - this.doubleClickTime < this.doubleClickThreshold && t.row.model === this.doubleClickRowData && (i = !0,
                     this.doubleClickRow(t.row)),
                     this.doubleClickTime = (new Date).getTime(),
                     this.doubleClickRowData = t.row.model;
                 !i && this.baseSelectedRowIndex > -1 && (this.pressMouseX = t.event.pageX,
                 this.pressMouseY = t.event.pageY,
                 e(document).on("mousemove", this.thresholdBind),
                 e(document).on("mouseup", this.documentReleaseBind))
             }
         },
         onRowRelease: function(t) {
             this.isDragging || (this.baseSelectedRowIndex > -1 && this.noModifier && (!t.row.isNowPlaying || t.row.options.index > 0) && this.selectSingleRow(t.row),
             e(document).off("mousemove", this.thresholdBind)),
             this.resetDrag()
         },
         onRowOver: function(e) {
             this.isDragging || e.row.showActions(),
             this.currentDragRow = e.row
         },
         onRowOut: function() {},
         onDoubleClick: function(e) {
             this.doubleClickRow(e.row)
         },
         onDocumentRelease: function(e) {
             this.resetDrag()
         },
         doubleClickRow: function(t) {
             e(document).off("mousemove", this.thresholdBind),
             this.resetDrag(),
             s.dispatch(new a(a.PREVIEW,t.model))
         },
         onCheckThreshold: function(i) {
             if (i.pageX > this.pressMouseX + this.DRAG_THRESHOLD || i.pageX < this.pressMouseX - this.DRAG_THRESHOLD || i.pageY > this.pressMouseY + this.DRAG_THRESHOLD || i.pageY < this.pressMouseY - this.DRAG_THRESHOLD) {
                 this.isDragging = !0,
                 this.scrollPane.setScrolling(!0);
                 var s = this.getSelectedRows();
                 l.selectedRows = s,
                 e(document).off("mousemove", this.thresholdBind),
                 this.$dragIcon.find(".drag-media-label").text(s.length),
                 e(document).on("mousemove", this.mousePositionBind),
                 clearInterval(this.dragIntervalID),
                 this.dragIntervalID = setInterval(t.bind(this.onDragUpdate, this), 20),
                 this.onMousePosition(i),
                 this.onDragUpdate(void 0),
                 this.startDrag(),
                 e(document.body).append(this.$dragIcon)
             }
         },
         selectSingleRow: function(e) {
             this.selectedRows = {},
             this.updateSelectedRows(),
             this.toggleRow(e),
             this.baseSelectedRowIndex = e.options.selected ? e.options.index : -1
         },
         selectMultipleRows: function(e, t) {
             for (var i = e; i >= t; i--)
                 this.selectedRows[this.collection.at(i).get("cid")] = this.rows[i];
             this.updateSelectedRows()
         },
         updateSelectedRows: function() {
             var e = this;
             t.each(this.rows, function(t) {
                 t.select(void 0 != e.selectedRows[t.model.get("cid")])
             })
         },
         selectAll: function() {
             this.selectMultipleRows(this.collection.length - 1, 0)
         },
         toggleRow: function(e) {
             e.select(!e.options.selected),
             e.options.selected ? this.selectedRows[e.model.get("cid")] = e : delete this.selectedRows[e.model.get("cid")]
         },
         getSelectedRows: function() {
             var e, t = [];
             for (e in this.selectedRows)
                 this.selectedRows[e] && this.rowHash[e] && t.push(this.selectedRows[e]);
             return t.sort(this.sortSelectedRows),
             t
         },
         sortSelectedRows: function(e, t) {
             return e.options.index < t.options.index ? -1 : e.options.index > t.options.index ? 1 : 0
         },
         resetDrag: function() {
             this.isDragging = !1,
             this.scrollPane && this.scrollPane.setScrolling(!1),
             this.currentDragRow = void 0,
             l.selectedRows = void 0,
             e(document).off("mouseup", this.documentReleaseBind).off("mousemove", this.mousePositionBind),
             clearInterval(this.dragIntervalID),
             this.$dragRowLine.remove(),
             this.$dragIcon.remove(),
             s.trigger("drag:media:stop")
         },
         jumpToIndex: function(e) {
             this.scrollPane.scrollTop(55 * e),
             this.selectSingleRow(this.rows[e])
         },
         onMousePosition: function(e) {
             this.mouseX = e.pageX,
             this.mouseY = e.pageY
         },
         onDragUpdate: function(e) {
             if (this.currentDragRow && (this.$dragIcon.css("left", this.mouseX + 1),
             this.$dragIcon.css("top", this.mouseY + 1),
             this.$dragIcon.is(":visible") || this.$dragIcon.show(),
             this.onCheckListScroll(),
             !this.withinBounds)) {
                 var t, i, s = l.$menu, n = l.scrollPane, a = n.scrollTop(), o = s.offset().top, r = s.offset().left, h = r + s.width(), c = s.height();
                 this.mouseX >= r && this.mouseX <= h && (this.mouseY < o ? (t = (o - this.mouseY) / 2,
                 i = Math.max(0, a - t),
                 n.scrollTop(i)) : this.mouseY > o + c && (t = (this.mouseY - (o + c)) / 2,
                 i = Math.min(a + t, n.getContentHeight() - c),
                 n.scrollTop(i)))
             }
         },
         onCheckListScroll: function() {
             var e, t, i = this.$el.offset().top, s = this.$el.offset().left, n = s + this.$el.width(), a = this.scrollPane.scrollTop(), o = this.$el.height();
             if (this.mouseX >= s && this.mouseX <= n) {
                 if (this.withinBounds = !0,
                 this.mouseY < i)
                     return e = (i - this.mouseY) / 1.25,
                     t = Math.max(0, a - e),
                     this.scrollPane.scrollTop(t),
                     t;
                 if (this.mouseY > i + o)
                     return e = (this.mouseY - (i + o)) / 1.25,
                     t = Math.min(a + e, this.scrollPane.getContentHeight() - o),
                     this.scrollPane.scrollTop(t),
                     t + this.$el.height() - 2
             } else
                 this.withinBounds = !1;
             return -10
         },
         startDrag: function() {
             s.trigger("drag:media:start")
         }
     });
     return h
 }),
 define("hbs!templates/playlist/media/actions/ActionsPlaylistMedia", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="action edit">\r\n    <i class="fa fa-pencil"></i>\r\n</div>\r\n<div class="action related">\r\n    <i class="fa fa-search"></i>\r\n</div>\r\n<div class="action move-to-bottom">\r\n    <i class="fa fa-arrow-down"></i>\r\n</div>\r\n<div class="action move-to-top">\r\n    <i class="fa fa-arrow-up"></i>\r\n</div>\r\n<div class="action delete">\r\n    <i class="fa fa-trash"></i>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_actions_ActionsPlaylistMedia", i),
     i
 }),
 define("hbs!templates/playlist/media/actions/ActionsPlaylistMediaFirst", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="action edit">\r\n    <i class="fa fa-pencil"></i>\r\n</div>\r\n<div class="action related">\r\n    <i class="fa fa-search"></i>\r\n</div>\r\n<div class="action move-to-bottom">\r\n    <i class="fa fa-arrow-down"></i>\r\n</div>\r\n<div class="action delete">\r\n    <i class="fa fa-trash"></i>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_actions_ActionsPlaylistMediaFirst", i),
     i
 }),
 define("hbs!templates/playlist/media/actions/ActionsPlaylistMediaLocked", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="action edit">\r\n    <i class="fa fa-pencil"></i>\r\n</div>\r\n<div class="action related">\r\n    <i class="fa fa-search"></i>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_actions_ActionsPlaylistMediaLocked", i),
     i
 }),
 define("hbs!templates/playlist/media/actions/ActionsSearchMedia", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="action add">\r\n    <i class="fa fa-plus"></i>\r\n</div>\r\n<div class="action related">\r\n    <i class="fa fa-search"></i>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_actions_ActionsSearchMedia", i),
     i
 }),
 define("hbs!templates/playlist/media/actions/ActionsSearchPlaylists", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="action play-next">\n    <i class="icon icon-play-next"></i>\n</div>'
     });
     return t.registerPartial("templates_playlist_media_actions_ActionsSearchPlaylists", i),
     i
 }),
 define("hbs!templates/playlist/media/actions/ActionsImportMedia", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="action add">\n    <i class="fa fa-plus"></i>\n</div>'
     });
     return t.registerPartial("templates_playlist_media_actions_ActionsImportMedia", i),
     i
 }),
 define("hbs!templates/playlist/media/actions/ActionsHistory", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="action add">\r\n    <i class="fa fa-plus"></i>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_actions_ActionsHistory", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/c326a", ["underscore", "backbone", "hbs!templates/playlist/media/actions/ActionsPlaylistMedia", "hbs!templates/playlist/media/actions/ActionsPlaylistMediaFirst", "hbs!templates/playlist/media/actions/ActionsPlaylistMediaLocked", "hbs!templates/playlist/media/actions/ActionsSearchMedia", "hbs!templates/playlist/media/actions/ActionsSearchPlaylists", "hbs!templates/playlist/media/actions/ActionsImportMedia", "hbs!templates/playlist/media/actions/ActionsHistory"], function(e, t, i, s, n, a, o, r, l) {
     var h = t.View.extend({
         className: "actions",
         initialize: function() {
             this.templates = {},
             this.templates.playlistMedia = i(),
             this.templates.playlistMediaFirst = s(),
             this.templates.playlistMediaLocked = n(),
             this.templates.searchMedia = a(),
             this.templates.searchPlaylists = o(),
             this.templates.importMedia = r(),
             this.templates.history = l(),
             this.templates.none = !0,
             this.current = void 0
         },
         show: function(e) {
             e && this.templates[e] && this.current !== this.templates[e] && (this.current = this.templates[e],
             "none" !== e ? this.$el.html(this.current).removeClass("none") : this.$el.empty().addClass("none"))
         },
         render: function() {
             return this.$el.empty(),
             this
         }
     });
     return h
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/c6092", ["backbone", "f1e1d/e74c9/d9fb2/ead2a/e9def/c326a", "f1e1d/e74c9/ffbf9/da5bf"], function(e, t, i) {
     var s = e.View.extend({
         className: "row",
         events: {
             mouseenter: "onRowEnter",
             mouseleave: "onRowLeave",
             mousedown: "onRowPress",
             mouseup: "onRowRelease"
         },
         initialize: function() {
             this.model.on("change", this.onChange, this)
         },
         remove: function() {
             this.model && (this.model.off("change", this.onChange, this),
             this.model = void 0),
             this._super()
         },
         onChange: function(e) {},
         render: function() {
             return this
         },
         select: function(e) {
             this.options.selected !== e && (this.options.selected = e,
             this.update())
         },
         update: function() {
             this.options.selected ? this.$el.addClass("selected") : this.$el.removeClass("selected")
         },
         getAction: function() {
             return "playlistMedia"
         },
         showActions: function() {
             s.actions.show(this.getAction()),
             this.$el.append(s.actions.$el)
         },
         onRowEnter: function(e) {
             i.hide(),
             s.actions.remove(),
             this.trigger("over", {
                 event: e,
                 row: this
             })
         },
         onRowLeave: function(e) {
             i.isShowing || s.actions.remove(),
             this.trigger("out", {
                 event: e,
                 row: this
             })
         },
         onRowPress: function(e) {
             e.preventDefault(),
             e.stopImmediatePropagation(),
             2 !== e.which && (e.target.parentNode && 0 === e.target.parentNode.className.indexOf("action ") ? this.trigger("action", {
                 event: e,
                 row: this,
                 action: e.target.parentNode.className.substr(7)
             }) : this.trigger("press", {
                 event: e,
                 row: this
             }))
         },
         onRowRelease: function(e) {
             return 2 === e.which ? (e.preventDefault(),
             void e.stopImmediatePropagation()) : void this.trigger("release", {
                 event: e,
                 row: this
             })
         }
     });
     return s.actions = new t,
     s
 }),
 define("hbs!templates/playlist/media/list/PlaylistMediaRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<img src="',
         (a = i.image) ? a = a.call(t, {
             hash: {}
         }) : (a = t.image,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"/>\r\n<div class="meta">\r\n    <div class="author">',
         (a = i.author) ? a = a.call(t, {
             hash: {}
         }) : (a = t.author,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += " -  ",
         (a = i.title) ? a = a.call(t, {
             hash: {}
         }) : (a = t.title,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += '</div>\r\n    <span class="duration">',
         (a = i.duration) ? a = a.call(t, {
             hash: {}
         }) : (a = t.duration,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>\r\n</div>"
     });
     return t.registerPartial("templates_playlist_media_list_PlaylistMediaRow", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/fa59b", ["backbone", "f1e1d/d8478/b5029", "f1e1d/e74c9/d9fb2/ead2a/e9def/c6092", "hbs!templates/playlist/media/list/PlaylistMediaRow", "f1e1d/af752/e504b"], function(e, t, i, s, n) {
     var a = e.View.extend({
         className: "row",
         events: {
             mouseenter: "onRowEnter",
             mouseleave: "onRowLeave",
             mouseup: "onRowRelease"
         },
         render: function() {
             return this.$el.html(s({
                 image: this.model.get("image").replace("http:/", "https:/"),
                 author: this.model.get("author"),
                 title: this.model.get("title"),
                 duration: n.formatTime(this.model.get("duration"), !1)
             })),
             this
         },
         onRowEnter: function() {
             this.$el.addClass("selected")
         },
         onRowLeave: function() {
             this.$el.removeClass("selected")
         },
         onRowRelease: function() {
             t.set({
                 restricted: t.get("media"),
                 media: this.model
             })
         }
     });
     return a
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/c9ee0", ["underscore", "f1e1d/fce39/e3fb7", "f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", "f1e1d/e74c9/d9fb2/ead2a/e9def/fa59b", "f1e1d/e74c9/a6e51/f2220"], function(e, t, i, s, n) {
     var a = Backbone.View.extend({
         className: "media-list",
         collection: t,
         initialize: function() {
             this.rows = [],
             this.drawRowBind = e.bind(this.drawRow, this)
         },
         render: function() {
             return this.$el.empty(),
             this.collection.on("reset", this.onCollectionReset, this),
             this.onCollectionReset(),
             0 === this.collection.length && this.showLoadSpinner(),
             this
         },
         remove: function() {
             this.collection.off("reset", this.onCollectionReset, this),
             this.collection = void 0,
             delete this.collection,
             this.clear(),
             this._super()
         },
         onCollectionReset: function() {
             try {
                 this.clear(),
                 this.drawList(),
                 this.$el.scrollTop(0)
             } catch (e) {}
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             this.rows.length = 0,
             this.$el.empty(),
             this.hideLoadSpinner()
         },
         drawList: function() {
             this.collection.each(this.drawRowBind)
         },
         drawRow: function(e, t) {
             var i = new s({
                 model: e,
                 index: t
             });
             this.$el.append(i.$el),
             i.render(),
             this.rows.push(i)
         },
         showLoadSpinner: function() {
             this.hideLoadSpinner(),
             this.$el && (this.loadSpinner = new n({
                 size: n.MEDIUM
             }),
             this.$el.append(this.loadSpinner.$el),
             this.loadSpinner.render().$el.css("left", "50%").css("top", "40%").css("z-index", 9999))
         },
         hideLoadSpinner: function() {
             this.loadSpinner && (this.loadSpinner.destroy(),
             this.loadSpinner = void 0,
             delete this.loadSpinner)
         }
     });
     return a
 }),
 define("f1e1d/e74c9/c00f1/d979d", ["jquery", "f1e1d/e74c9/c00f1/b182f", "f1e1d/e74c9/d9fb2/ead2a/e9def/c9ee0", "lang/Lang"], function(e, t, i, s) {
     var n = t.extend({
         id: "dialog-restricted-media",
         className: "dialog destructive",
         initialize: function() {
             this._super(),
             this.restrictedList = new i
         },
         render: function() {
             return this.$el.append(this.getHeader(s.dialog.restricted)).append(this.getBody().append(e("<span/>").addClass("media-name").text(this.options.media.get("author") + " - " + this.options.media.get("title"))).append(e("<div/>").addClass("divider")).append(this.getMessage("")).append(this.restrictedList.$el)).append(this.getButtons(s.dialog.waitForNextDJ)),
             this.restrictedList.render(),
             this._super()
         },
         onResponse: function(e) {
             var t;
             e && e.length > 0 ? t = s.dialog.chooseAlternative : (t = s.dialog.noAlternative,
             this.$el.addClass("no-alternative")),
             this.$(".message").text(t)
         },
         onKeyEnter: function(e) {
             return e.preventDefault(),
             !1
         },
         submit: function() {
             this.close()
         },
         close: function() {
             this.options.media = void 0,
             delete this.options.media,
             this.restrictedList.destroy(),
             this.restrictedList = void 0,
             delete this.restrictedList,
             this.options = void 0,
             delete this.options,
             this._super()
         }
     });
     return n
 }),
 define("f1e1d/ee86e/f9123", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/fce39/e3fb7", "f1e1d/e8300/c6f34", "f1e1d/e8300/dcb95", "f1e1d/a3bee/dcf3d", "f1e1d/d8478/b5029", "f1e1d/e74c9/c00f1/d979d"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = t.extend({
         execute: function() {
             this.data = [],
             n.reset();
             var t = l.get("media");
             if (t) {
                 this.dialog = new h({
                     media: t
                 }),
                 this.dispatch(new o(o.SHOW,this.dialog));
                 var i = t.get("author") + " " + t.get("title");
                 2 === t.get("format") ? r.scSearch(i, 0, 10, e.bind(this.onResult, this)) : r.ytSearch(i, e.bind(this.onResult, this))
             } else
                 this.finish()
         },
         onResult: function(e) {
             this.data = e,
             n.reset(this.data),
             this.finish()
         },
         finish: function() {
             this.dialog && this.dialog.onResponse(this.data),
             this.data = void 0,
             this.dialog = void 0,
             this._super()
         }
     });
     return i.mapEvent(a.SEARCH, c, a),
     c
 }),
 define("f1e1d/e8300/ce165", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i) {
             this._super(e),
             this.name = t,
             this.isPrivate = i
         }
     });
     return t._name = "RoomCreateEvent",
     t.CREATE = "RoomCreateEvent:create",
     t
 }),
 define("f1e1d/e8300/be22c", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i) {
             this._super(e),
             this.slug = t,
             this.name = i
         }
     });
     return t._name = "RoomEvent",
     t.JOIN = "RoomEvent:join",
     t.STATE = "RoomEvent:state",
     t
 }),
 define("f1e1d/be642/e32cc/cd247", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i) {
     var s = e.extend({
         type: "POST",
         route: "rooms",
         init: function(e, t) {
             this.data = {
                 name: e,
                 private: t
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && (t.deserializeDashboard(e.data[0]),
             this.success(e.data[0])) : (400 === e.code ? this.alert(i.errors.error, i.errors.communityName) : 403 === e.code ? "Room already exists" === e.data[0] ? this.alert(i.errors.error, i.errors.communityNameTaken) : this.alert(i.alerts.alert, i.errors.hostLimit) : this.alert(i.errors.error, i.errors.unknown + e.code),
             this.error && this.error(e.code))
         }
     });
     return s
 }),
 define("f1e1d/ee86e/a2039", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/e8300/ce165", "f1e1d/e8300/be22c", "f1e1d/be642/e32cc/cd247", "f1e1d/af752/c506b", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r) {
     var l = e.extend({
         execute: function() {
             this.listenTo(new a(this.event.name,this.event.isPrivate))
         },
         onSuccess: function(e) {
             r.track(r.type.action, r.event.createRoom),
             this.trigger("hide:user", !0),
             _.defer(function() {
                 o.onResize()
             }),
             _.delay(function() {
                 i.dispatch(new n(n.JOIN,e.slug,e.name))
             }, 100),
             this.finish()
         }
     });
     return t.mapEvent(s.CREATE, l, s),
     l
 }),
 define("f1e1d/fce39/fe166", ["backbone", "f1e1d/d8478/edecb", "f1e1d/af752/c96dd"], function(e, t, i) {
     var s = e.Collection.extend({
         model: t,
         comparator: i.staff
     });
     return new s
 }),
 define("f1e1d/be642/bd3b5/f7578", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "staff",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeUser(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/ee86e/f72f1", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/cd5cd", "f1e1d/fce39/fe166", "f1e1d/fce39/d3252", "f1e1d/e8300/d583a", "f1e1d/d8478/e70c0", "f1e1d/be642/bd3b5/f7578"], function(e, t, i, s, n, a, o, r, l) {
     var h = t.extend({
         execute: function() {
             h.synced ? this.finish() : (n.reset(),
             this.listenTo(new l))
         },
         onSuccess: function(e) {
             h.synced = !0,
             n.reset(e),
             r.get("staffAvatar") && n.each(function(e) {
                 e.checkStaffAvatar()
             }),
             n.each(function(e) {
                 var t = a.get(e.get("id"));
                 t || (t = s.get(e.get("id"))),
                 e.set("status", t ? 1 : 0)
             }),
             this.event.callback && (this.event.callback(),
             this.event.callback = void 0,
             delete this.event.callback),
             this.finish()
         },
         onError: function() {
             n.reset(),
             this.finish()
         }
     });
     return h.synced = !1,
     i.mapEvent(o.STAFF, h, o),
     h
 }),
 define("f1e1d/e8300/a3e66", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.data = t
         }
     });
     return t._name = "ChatFacadeEvent",
     t.CLEAR = "ChatFacadeEvent:clear",
     t.EMOJI = "ChatFacadeEvent:emoji",
     t.MENTIONS = "ChatFacadeEvent:mentions",
     t.SOUND = "ChatFacadeEvent:sound",
     t.RECEIVE = "ChatFacadeEvent:receive",
     t.DELETE = "ChatFacadeEvent:delete",
     t.TIMESTAMP = "ChatFacadeEvent:timestamp",
     t
 }),
 define("f1e1d/be642/a65aa/aabcf", ["f1e1d/fce39/b5cf9", "f1e1d/be642/b7b48", "lang/Lang"], function(e, t, i) {
     var s = t.extend({
         type: "POST",
         route: "ignores",
         init: function(e) {
             this.data = {
                 id: e
             },
             this._super(!0)
         },
         parse: function(t) {
             200 === t.code ? (e.add(t.data[0]),
             this.trigger("notify", "icon-ignore", i.messages.ignore.split("%NAME%").join(t.data[0].username))) : 404 === t.code && this.error && this.error(t.code)
         }
     });
     return s
 }),
 define("f1e1d/be642/a65aa/a4c24", ["f1e1d/fce39/b5cf9", "f1e1d/be642/b7b48", "lang/Lang"], function(e, t, i) {
     var s = t.extend({
         type: "DELETE",
         init: function(e) {
             this.data = e,
             this.route = "ignores/" + e,
             this._super(!0)
         },
         parse: function(t) {
             200 === t.code ? (e.remove(this.data),
             this.trigger("notify", "icon-unignore", i.messages.unignore.split("%NAME%").join(t.data[0].username))) : 404 === t.code && this.error && this.error(t.code)
         }
     });
     return s
 }),
 define("f1e1d/d8e24/fe98a", [], function() {
     return {}
 }),
 define("f1e1d/be642/e32cc/af0a1", ["f1e1d/d8e24/fe98a", "f1e1d/be642/b7b48", "lang/Lang"], function(e, t, i) {
     var s = t.extend({
         type: "POST",
         route: "rooms/sos",
         init: function(e) {
             this.data = {
                 message: encodeURIComponent(e)
             },
             this._super(!0)
         },
         parse: function(t) {
             var s;
             200 === t.code ? s = i.sos.success : 403 === t.code && (s = i.sos[t.data[0]]),
             200 !== t.code && "pending" !== t.data[0] || (s += " " + i.sos.shortly),
             s && e.plugMessage(s)
         }
     });
     return s
 }),
 define("f1e1d/af752/b0f1c", ["jquery", "underscore", "f1e1d/d9232/b42c1"], function(e, t, i) {
     function s() {}
     s.img_set = "apple",
     s.img_sets = {
         apple: {
             path: "/_/static/images/emoji/img-apple-64/",
             sheet: "https://cdn-prod.plug.dj/_/static/images/emoji/sheet_apple_64.9e49508d393f52b91cd713bf158f43edd8067ea0.png",
             mask: 1
         }
     },
     s.use_css_imgs = !1,
     s.colons_mode = !1,
     s.text_mode = !1,
     s.include_title = !1,
     s.allow_native = !0,
     s.use_sheet = !0,
     s.avoid_ms_emoji = !0,
     s.inits = {},
     s.map = {},
     s.replace_emoticons = function(e) {
         return s.init_emoticons(),
         e.replace(s.rx_emoticons, function(e, t, i) {
             var n = s.map.emoticons[i];
             return n ? t + s.replacement(n, !1, i) : e
         })
     }
     ,
     s.replace_emoticons_with_colons = function(e) {
         s.init_emoticons();
         var t = 0
           , i = []
           , n = e.replace(s.rx_emoticons, function(n, a, o, r) {
             var l = t;
             t = r + n.length;
             var h = o.indexOf("(") !== -1
               , c = o.indexOf(")") !== -1;
             if ((h || c) && i.indexOf(o) == -1 && i.push(o),
             c && !h) {
                 var p = e.substring(l, r);
                 if (p.indexOf("(") !== -1 && p.indexOf(")") === -1)
                     return n
             }
             if ("\n8)" === n) {
                 var d = e.substring(0, r);
                 if (/\n?(6\)|7\))/.test(d))
                     return n
             }
             var u = s.data[s.map.emoticons[o]][3][0];
             return u ? a + ":" + u + ":" : n
         });
         if (i.length) {
             var a = i.map(s.escape_rx)
               , o = new RegExp("(\\(.+)(" + a.join("|") + ")(.+\\))","g");
             n = n.replace(o, function(e, t, i, n) {
                 var a = s.data[s.map.emoticons[i]][3][0];
                 return a ? t + ":" + a + ":" + n : e
             })
         }
         return n
     }
     ,
     s.replace_colons = function(t, n, a, o) {
         return s.init_colons(),
         t.replace(s.rx_colons, function(t) {
             var r = t.substr(1, t.length - 2)
               , l = s.map.colons[r]
               , h = i.settings.skinTone;
             if (r.indexOf("::skin-tone-") > -1)
                 h = parseInt(r.substr(-1, 1)),
                 1 === h && (h = 0),
                 a && (i.settings.skinTone = h,
                 i.save()),
                 r = r.substr(0, r.length - 13),
                 l = s.map.colons[r];
             else if (e.inArray(r, s.plugdata) > -1 && !n && (i.settings.emoji || o))
                 return '<span class="emoji-outer emoji-sizer"><span class="emoji-inner gemoji-plug gemoji-plug-' + r + '"></span></span>';
             if (h && s.check_variation(l)) {
                 var c = "skin-tone-" + h
                   , p = s.map.colons[c];
                 return l ? s.replacement(l, n, r, ":", {
                     idx: p,
                     actual: c,
                     wrapper: ":"
                 }) : ":" + r + ":" + s.replacement(p, n, c, ":")
             }
             return l ? s.replacement(l, n, r, ":") : t
         })
     }
     ,
     s.vararr = [],
     s.check_variation = function(e) {
         return s.vararr.indexOf(e) > -1
     }
     ,
     s.replace_unified = function(e) {
         return s.init_unified(),
         e.replace(s.rx_unified, function(e, t, i) {
             var n = s.map.unified[t];
             if (!n)
                 return e;
             var a = null;
             return "🏻" == i && (a = "1f3fb"),
             "🏼" == i && (a = "1f3fc"),
             "🏽" == i && (a = "1f3fd"),
             "🏾" == i && (a = "1f3fe"),
             "🏿" == i && (a = "1f3ff"),
             a ? s.replacement(n, !1, null, null, {
                 idx: a,
                 actual: i,
                 wrapper: ""
             }) : s.replacement(n, !1)
         })
     }
     ,
     s.replacement = function(e, t, i, n, a) {
         var o = ""
           , r = 0;
         if ("object" == typeof a && (o = s.replacement(a.idx, t, a.actual, a.wrapper),
         r = e + "-" + a.idx),
         n = n || "",
         s.colons_mode)
             return ":" + s.data[e][3][0] + ":" + o;
         var l = i ? n + i + n : s.data[e][8] || n + s.data[e][3][0] + n;
         if (s.text_mode)
             return l.indexOf(":") > -1 ? l + o : ":" + l + o + ":";
         if (s.init_env(),
         t ? s.replace_mode = "unified" : s.replace_mode = "",
         "unified" == s.replace_mode && s.allow_native && s.data[e][0][0])
             return s.data[e][0][0] + o;
         if ("softbank" == s.replace_mode && s.allow_native && s.data[e][1])
             return s.data[e][1] + o;
         if ("google" == s.replace_mode && s.allow_native && s.data[e][2])
             return s.data[e][2] + o;
         var h = s.data[e][7] || s.img_sets[s.img_set].path + e + ".png"
           , c = s.include_title ? ' title="' + (i || s.data[e][3][0]) + '"' : ""
           , p = s.include_text ? n + (i || s.data[e][3][0]) + n : ""
           , d = s.data[e][4]
           , u = s.data[e][5];
         if (r && s.variations_data[r] && s.variations_data[r][2] && !s.data[e][9] && s.variations_data[r][2] & s.img_sets[s.img_set].mask && (h = s.img_sets[s.img_set].path + r + ".png",
         d = s.variations_data[r][0],
         u = s.variations_data[r][1],
         o = ""),
         s.supports_css) {
             if (s.use_sheet && null != d && null != u) {
                 var f = 100 / (s.sheet_size - 1)
                   , m = "background-position:" + f * d + "% " + f * u + "%;background-size:" + s.sheet_size + "00%";
                 return '<span class="emoji-outer emoji-sizer"><span class="emoji-inner" style="' + m + '"' + c + ">" + p + "</span></span>" + o
             }
             return s.use_css_imgs ? '<span class="emoji emoji-' + e + '"' + c + ">" + p + "</span>" + o : '<span class="emoji emoji-sizer" style="background-image:url(' + h + ')"' + c + ">" + p + "</span>" + o
         }
         return '<img src="' + h + '" class="emoji" ' + c + "/>" + o
     }
     ,
     s.init_emoticons = function() {
         if (!s.inits.emoticons) {
             s.init_colons(),
             s.inits.emoticons = 1;
             var e = [];
             s.map.emoticons = {};
             for (var t in s.emoticons_data) {
                 var i = t.replace(/\&/g, "&amp;").replace(/\</g, "&lt;").replace(/\>/g, "&gt;");
                 s.map.colons[s.emoticons_data[t]] && (s.map.emoticons[i] = s.map.colons[s.emoticons_data[t]],
                 e.push(s.escape_rx(i)))
             }
             s.rx_emoticons = new RegExp("(^|\\s)(" + e.join("|") + ")(?=$|[\\s|\\?\\.,!])","g");
             for (var n in s.variations_data)
                 s.vararr.push(n.split("-")[0])
         }
     }
     ,
     s.init_colons = function() {
         if (!s.inits.colons) {
             s.inits.colons = 1,
             s.rx_colons = new RegExp(":[a-zA-Z0-9-_+]+:(:skin-tone-[1-6]:)?","g"),
             s.map.colons = {};
             for (var e in s.data)
                 for (var t = 0; t < s.data[e][3].length; t++)
                     s.map.colons[s.data[e][3][t]] = e
         }
     }
     ,
     s.init_unified = function() {
         if (!s.inits.unified) {
             s.inits.unified = 1;
             var e = [];
             s.map.unified = {};
             for (var t in s.data)
                 for (var i = 0; i < s.data[t][0].length; i++)
                     e.push(s.data[t][0][i]),
                     s.map.unified[s.data[t][0][i]] = t;
             e = e.sort(function(e, t) {
                 return t.length - e.length
             }),
             s.rx_unified = new RegExp("(" + e.join("|") + ")(\\uD83C[\\uDFFB-\\uDFFF])?","g")
         }
     }
     ,
     s.init_env = function() {
         if (!s.inits.env) {
             if (s.inits.env = 1,
             s.replace_mode = "img",
             s.supports_css = !1,
             "undefined" != typeof navigator) {
                 var e = navigator.userAgent;
                 if (window.getComputedStyle) {
                     var t = window.getComputedStyle(document.body);
                     (t["background-size"] || t.backgroundSize) && (s.supports_css = !0)
                 }
                 if (e.match(/(iPhone|iPod|iPad|iPhone\s+Simulator)/i)) {
                     if (e.match(/OS\s+[12345]/i))
                         return void (s.replace_mode = "softbank");
                     if (e.match(/OS\s+[6789]/i))
                         return void (s.replace_mode = "unified")
                 }
                 if (e.match(/Mac OS X 10[._ ](?:[789]|1\d)/i) && !e.match(/Chrome/i) && !e.match(/Firefox/i))
                     return void (s.replace_mode = "unified");
                 if (!s.avoid_ms_emoji && (e.match(/Windows NT 6.[1-9]/i) || e.match(/Windows NT 10.[0-9]/i)) && !e.match(/Chrome/i) && !e.match(/MSIE 8/i))
                     return void (s.replace_mode = "unified")
             }
             s.supports_css && (s.replace_mode = "css")
         }
     }
     ,
     s.escape_rx = function(e) {
         return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
     }
     ,
     s.sheet_size = 41,
     s.plugdata = ["shipit", "squirrel", "trollface", "troll", "octocat", "metal"],
     s.data = {
         "00a9": [["©️", "©"], "", "󾬩", ["copyright"], 0, 0, 11, 0],
         "00ae": [["®️", "®"], "", "󾬭", ["registered"], 0, 1, 11, 0],
         "203c": [["‼️", "‼"], "", "󾬆", ["bangbang"], 0, 2, 15, 0],
         2049: [["⁉️", "⁉"], "", "󾬅", ["interrobang"], 0, 3, 15, 0],
         2122: [["™️", "™"], "", "󾬪", ["tm"], 0, 4, 11, 0],
         2139: [["ℹ️", "ℹ"], "", "󾭇", ["information_source"], 0, 5, 15, 0],
         2194: [["↔️", "↔"], "", "󾫶", ["left_right_arrow"], 0, 6, 15, 0],
         2195: [["↕️", "↕"], "", "󾫷", ["arrow_up_down"], 0, 7, 15, 0],
         2196: [["↖️", "↖"], "", "󾫲", ["arrow_upper_left"], 0, 8, 15, 0],
         2197: [["↗️", "↗"], "", "󾫰", ["arrow_upper_right"], 0, 9, 15, 0],
         2198: [["↘️", "↘"], "", "󾫱", ["arrow_lower_right"], 0, 10, 15, 0],
         2199: [["↙️", "↙"], "", "󾫳", ["arrow_lower_left"], 0, 11, 15, 0],
         "21a9": [["↩️", "↩"], "", "󾮃", ["leftwards_arrow_with_hook"], 0, 12, 15, 0],
         "21aa": [["↪️", "↪"], "", "󾮈", ["arrow_right_hook"], 0, 13, 15, 0],
         "231a": [["⌚️", "⌚"], "", "󾀝", ["watch"], 0, 14, 15, 0],
         "231b": [["⌛️", "⌛"], "", "󾀜", ["hourglass"], 0, 15, 15, 0],
         2328: [["⌨"], "", "", ["keyboard"], 0, 16, 15, 0],
         "23e9": [["⏩"], "", "󾫾", ["fast_forward"], 0, 17, 15, 0],
         "23ea": [["⏪"], "", "󾫿", ["rewind"], 0, 18, 15, 0],
         "23eb": [["⏫"], "", "󾬃", ["arrow_double_up"], 0, 19, 15, 0],
         "23ec": [["⏬"], "", "󾬂", ["arrow_double_down"], 0, 20, 15, 0],
         "23ed": [["⏭"], "", "", ["black_right_pointing_double_triangle_with_vertical_bar"], 0, 21, 15, 0],
         "23ee": [["⏮"], "", "", ["black_left_pointing_double_triangle_with_vertical_bar"], 0, 22, 15, 0],
         "23ef": [["⏯"], "", "", ["black_right_pointing_triangle_with_double_vertical_bar"], 0, 23, 15, 0],
         "23f0": [["⏰"], "", "󾀪", ["alarm_clock"], 0, 24, 15, 0],
         "23f1": [["⏱"], "", "", ["stopwatch"], 0, 25, 15, 0],
         "23f2": [["⏲"], "", "", ["timer_clock"], 0, 26, 15, 0],
         "23f3": [["⏳"], "", "󾀛", ["hourglass_flowing_sand"], 0, 27, 15, 0],
         "23f8": [["⏸"], "", "", ["double_vertical_bar"], 0, 28, 15, 0],
         "23f9": [["⏹"], "", "", ["black_square_for_stop"], 0, 29, 15, 0],
         "23fa": [["⏺"], "", "", ["black_circle_for_record"], 0, 30, 15, 0],
         "24c2": [["Ⓜ️", "Ⓜ"], "", "󾟡", ["m"], 0, 31, 15, 0],
         "25aa": [["▪️", "▪"], "", "󾭮", ["black_small_square"], 0, 32, 15, 0],
         "25ab": [["▫️", "▫"], "", "󾭭", ["white_small_square"], 0, 33, 15, 0],
         "25b6": [["▶️", "▶"], "", "󾫼", ["arrow_forward"], 0, 34, 15, 0],
         "25c0": [["◀️", "◀"], "", "󾫽", ["arrow_backward"], 0, 35, 15, 0],
         "25fb": [["◻️", "◻"], "", "󾭱", ["white_medium_square"], 0, 36, 15, 0],
         "25fc": [["◼️", "◼"], "", "󾭲", ["black_medium_square"], 0, 37, 15, 0],
         "25fd": [["◽️", "◽"], "", "󾭯", ["white_medium_small_square"], 0, 38, 15, 0],
         "25fe": [["◾️", "◾"], "", "󾭰", ["black_medium_small_square"], 0, 39, 15, 0],
         2600: [["☀️", "☀"], "", "󾀀", ["sunny"], 0, 40, 15, 0],
         2601: [["☁️", "☁"], "", "󾀁", ["cloud"], 1, 0, 15, 0],
         2602: [["☂"], "", "", ["umbrella"], 1, 1, 15, 0],
         2603: [["☃"], "", "", ["showman"], 1, 2, 15, 0],
         2604: [["☄"], "", "", ["comet"], 1, 3, 15, 0],
         "260e": [["☎️", "☎"], "", "󾔣", ["phone", "telephone"], 1, 4, 15, 0],
         2611: [["☑️", "☑"], "", "󾮋", ["ballot_box_with_check"], 1, 5, 15, 0],
         2614: [["☔️", "☔"], "", "󾀂", ["umbrella"], 1, 6, 15, 0],
         2615: [["☕️", "☕"], "", "󾦁", ["coffee"], 1, 7, 15, 0],
         2618: [["☘"], "", "", ["shamrock"], 1, 8, 15, 0],
         "261d": [["☝️", "☝"], "", "󾮘", ["point_up"], 1, 9, 15, 0],
         2620: [["☠"], "", "", ["skull_and_crossbones"], 1, 15, 15, 0],
         2622: [["☢"], "", "", ["radioactive_sign"], 1, 16, 15, 0],
         2623: [["☣"], "", "", ["biohazard_sign"], 1, 17, 15, 0],
         2626: [["☦"], "", "", ["orthodox_cross"], 1, 18, 15, 0],
         "262a": [["☪"], "", "", ["star_and_crescent"], 1, 19, 15, 0],
         "262e": [["☮"], "", "", ["peace_symbol"], 1, 20, 15, 0],
         "262f": [["☯"], "", "", ["yin_yang"], 1, 21, 15, 0],
         2638: [["☸"], "", "", ["wheel_of_dharma"], 1, 22, 15, 0],
         2639: [["☹"], "", "", ["white_frowning_face"], 1, 23, 15, 0],
         "263a": [["☺️", "☺"], "", "󾌶", ["relaxed"], 1, 24, 15, 0],
         2648: [["♈️", "♈"], "", "󾀫", ["aries"], 1, 25, 15, 0],
         2649: [["♉️", "♉"], "", "󾀬", ["taurus"], 1, 26, 15, 0],
         "264a": [["♊️", "♊"], "", "󾀭", ["gemini"], 1, 27, 15, 0],
         "264b": [["♋️", "♋"], "", "󾀮", ["cancer"], 1, 28, 15, 0],
         "264c": [["♌️", "♌"], "", "󾀯", ["leo"], 1, 29, 15, 0],
         "264d": [["♍️", "♍"], "", "󾀰", ["virgo"], 1, 30, 15, 0],
         "264e": [["♎️", "♎"], "", "󾀱", ["libra"], 1, 31, 15, 0],
         "264f": [["♏️", "♏"], "", "󾀲", ["scorpius"], 1, 32, 15, 0],
         2650: [["♐️", "♐"], "", "󾀳", ["sagittarius"], 1, 33, 15, 0],
         2651: [["♑️", "♑"], "", "󾀴", ["capricorn"], 1, 34, 15, 0],
         2652: [["♒️", "♒"], "", "󾀵", ["aquarius"], 1, 35, 15, 0],
         2653: [["♓️", "♓"], "", "󾀶", ["pisces"], 1, 36, 15, 0],
         2660: [["♠️", "♠"], "", "󾬛", ["spades"], 1, 37, 15, 0],
         2663: [["♣️", "♣"], "", "󾬝", ["clubs"], 1, 38, 15, 0],
         2665: [["♥️", "♥"], "", "󾬚", ["hearts"], 1, 39, 15, 0],
         2666: [["♦️", "♦"], "", "󾬜", ["diamonds"], 1, 40, 15, 0],
         2668: [["♨️", "♨"], "", "󾟺", ["hotsprings"], 2, 0, 15, 0],
         "267b": [["♻️", "♻"], "", "󾬬", ["recycle"], 2, 1, 15, 0],
         "267f": [["♿️", "♿"], "", "󾬠", ["wheelchair"], 2, 2, 15, 0],
         2692: [["⚒"], "", "", ["hammer_and_pick"], 2, 3, 15, 0],
         2693: [["⚓️", "⚓"], "", "󾓁", ["anchor"], 2, 4, 15, 0],
         2694: [["⚔"], "", "", ["crossed_swords"], 2, 5, 15, 0],
         2696: [["⚖"], "", "", ["scales"], 2, 6, 15, 0],
         2697: [["⚗"], "", "", ["alembic"], 2, 7, 15, 0],
         2699: [["⚙"], "", "", ["gear"], 2, 8, 15, 0],
         "269b": [["⚛"], "", "", ["atom_symbol"], 2, 9, 15, 0],
         "269c": [["⚜"], "", "", ["fleur_de_lis"], 2, 10, 15, 0],
         "26a0": [["⚠️", "⚠"], "", "󾬣", ["warning"], 2, 11, 15, 0],
         "26a1": [["⚡️", "⚡"], "", "󾀄", ["zap"], 2, 12, 15, 0],
         "26aa": [["⚪️", "⚪"], "", "󾭥", ["white_circle"], 2, 13, 15, 0],
         "26ab": [["⚫️", "⚫"], "", "󾭦", ["black_circle"], 2, 14, 15, 0],
         "26b0": [["⚰"], "", "", ["coffin"], 2, 15, 15, 0],
         "26b1": [["⚱"], "", "", ["funeral_urn"], 2, 16, 15, 0],
         "26bd": [["⚽️", "⚽"], "", "󾟔", ["soccer"], 2, 17, 15, 0],
         "26be": [["⚾️", "⚾"], "", "󾟑", ["baseball"], 2, 18, 15, 0],
         "26c4": [["⛄️", "⛄"], "", "󾀃", ["snowman"], 2, 19, 15, 0],
         "26c5": [["⛅️", "⛅"], "", "󾀏", ["partly_sunny"], 2, 20, 15, 0],
         "26c8": [["⛈"], "", "", ["thunder_cloud_and_rain"], 2, 21, 15, 0],
         "26ce": [["⛎"], "", "󾀷", ["ophiuchus"], 2, 22, 15, 0],
         "26cf": [["⛏"], "", "", ["pick"], 2, 23, 15, 0],
         "26d1": [["⛑"], "", "", ["helmet_with_white_cross"], 2, 24, 15, 0],
         "26d3": [["⛓"], "", "", ["chains"], 2, 25, 15, 0],
         "26d4": [["⛔️", "⛔"], "", "󾬦", ["no_entry"], 2, 26, 15, 0],
         "26e9": [["⛩"], "", "", ["shinto_shrine"], 2, 27, 15, 0],
         "26ea": [["⛪️", "⛪"], "", "󾒻", ["church"], 2, 28, 15, 0],
         "26f0": [["⛰"], "", "", ["mountain"], 2, 29, 15, 0],
         "26f1": [["⛱"], "", "", ["umbrella_on_ground"], 2, 30, 15, 0],
         "26f2": [["⛲️", "⛲"], "", "󾒼", ["fountain"], 2, 31, 15, 0],
         "26f3": [["⛳️", "⛳"], "", "󾟒", ["golf"], 2, 32, 15, 0],
         "26f4": [["⛴"], "", "", ["ferry"], 2, 33, 15, 0],
         "26f5": [["⛵️", "⛵"], "", "󾟪", ["boat", "sailboat"], 2, 34, 15, 0],
         "26f7": [["⛷"], "", "", ["skier"], 2, 35, 15, 0],
         "26f8": [["⛸"], "", "", ["ice_skate"], 2, 36, 15, 0],
         "26f9": [["⛹"], "", "", ["person_with_ball"], 2, 37, 15, 0],
         "26fa": [["⛺️", "⛺"], "", "󾟻", ["tent"], 3, 2, 15, 0],
         "26fd": [["⛽️", "⛽"], "", "󾟵", ["fuelpump"], 3, 3, 15, 0],
         2702: [["✂️", "✂"], "", "󾔾", ["scissors"], 3, 4, 15, 0],
         2705: [["✅"], "", "󾭊", ["white_check_mark"], 3, 5, 15, 0],
         2708: [["✈️", "✈"], "", "󾟩", ["airplane"], 3, 6, 15, 0],
         2709: [["✉️", "✉"], "", "󾔩", ["email", "envelope"], 3, 7, 15, 0],
         "270a": [["✊"], "", "󾮓", ["fist"], 3, 8, 15, 0],
         "270b": [["✋"], "", "󾮕", ["hand", "raised_hand"], 3, 14, 15, 0],
         "270c": [["✌️", "✌"], "", "󾮔", ["v"], 3, 20, 15, 0],
         "270d": [["✍"], "", "", ["writing_hand"], 3, 26, 15, 0],
         "270f": [["✏️", "✏"], "", "󾔹", ["pencil2"], 3, 32, 15, 0],
         2712: [["✒️", "✒"], "", "󾔶", ["black_nib"], 3, 33, 15, 0],
         2714: [["✔️", "✔"], "", "󾭉", ["heavy_check_mark"], 3, 34, 15, 0],
         2716: [["✖️", "✖"], "", "󾭓", ["heavy_multiplication_x"], 3, 35, 15, 0],
         "271d": [["✝"], "", "", ["latin_cross"], 3, 36, 15, 0],
         2721: [["✡"], "", "", ["star_of_david"], 3, 37, 15, 0],
         2728: [["✨"], "", "󾭠", ["sparkles"], 3, 38, 15, 0],
         2733: [["✳️", "✳"], "", "󾭢", ["eight_spoked_asterisk"], 3, 39, 15, 0],
         2734: [["✴️", "✴"], "", "󾭡", ["eight_pointed_black_star"], 3, 40, 15, 0],
         2744: [["❄️", "❄"], "", "󾀎", ["snowflake"], 4, 0, 15, 0],
         2747: [["❇️", "❇"], "", "󾭷", ["sparkle"], 4, 1, 15, 0],
         "274c": [["❌"], "", "󾭅", ["x"], 4, 2, 15, 0],
         "274e": [["❎"], "", "󾭆", ["negative_squared_cross_mark"], 4, 3, 15, 0],
         2753: [["❓"], "", "󾬉", ["question"], 4, 4, 15, 0],
         2754: [["❔"], "", "󾬊", ["grey_question"], 4, 5, 15, 0],
         2755: [["❕"], "", "󾬋", ["grey_exclamation"], 4, 6, 15, 0],
         2757: [["❗️", "❗"], "", "󾬄", ["exclamation", "heavy_exclamation_mark"], 4, 7, 15, 0],
         2763: [["❣"], "", "", ["heavy_heart_exclamation_mark_ornament"], 4, 8, 15, 0],
         2764: [["❤️", "❤"], "", "󾬌", ["heart"], 4, 9, 15, 0, "<3"],
         2795: [["➕"], "", "󾭑", ["heavy_plus_sign"], 4, 10, 15, 0],
         2796: [["➖"], "", "󾭒", ["heavy_minus_sign"], 4, 11, 15, 0],
         2797: [["➗"], "", "󾭔", ["heavy_division_sign"], 4, 12, 15, 0],
         "27a1": [["➡️", "➡"], "", "󾫺", ["arrow_right"], 4, 13, 15, 0],
         "27b0": [["➰"], "", "󾬈", ["curly_loop"], 4, 14, 15, 0],
         "27bf": [["➿"], "", "󾠫", ["loop"], 4, 15, 15, 0],
         2934: [["⤴️", "⤴"], "", "󾫴", ["arrow_heading_up"], 4, 16, 15, 0],
         2935: [["⤵️", "⤵"], "", "󾫵", ["arrow_heading_down"], 4, 17, 15, 0],
         "2b05": [["⬅️", "⬅"], "", "󾫻", ["arrow_left"], 4, 18, 15, 0],
         "2b06": [["⬆️", "⬆"], "", "󾫸", ["arrow_up"], 4, 19, 15, 0],
         "2b07": [["⬇️", "⬇"], "", "󾫹", ["arrow_down"], 4, 20, 15, 0],
         "2b1b": [["⬛️", "⬛"], "", "󾭬", ["black_large_square"], 4, 21, 15, 0],
         "2b1c": [["⬜️", "⬜"], "", "󾭫", ["white_large_square"], 4, 22, 15, 0],
         "2b50": [["⭐️", "⭐"], "", "󾭨", ["star"], 4, 23, 15, 0],
         "2b55": [["⭕️", "⭕"], "", "󾭄", ["o"], 4, 24, 15, 0],
         3030: [["〰️", "〰"], "", "󾬇", ["wavy_dash"], 4, 25, 15, 0],
         "303d": [["〽️", "〽"], "", "󾠛", ["part_alternation_mark"], 4, 26, 15, 0],
         3297: [["㊗️", "㊗"], "", "󾭃", ["congratulations"], 4, 27, 15, 0],
         3299: [["㊙️", "㊙"], "", "󾬫", ["secret"], 4, 28, 15, 0],
         "1f004": [["🀄️", "🀄"], "", "󾠋", ["mahjong"], 4, 29, 15, 0],
         "1f0cf": [["🃏"], "", "󾠒", ["black_joker"], 4, 30, 15, 0],
         "1f170": [["🅰️", "🅰"], "", "󾔋", ["a"], 4, 31, 15, 0],
         "1f171": [["🅱️", "🅱"], "", "󾔌", ["b"], 4, 32, 15, 0],
         "1f17e": [["🅾️", "🅾"], "", "󾔎", ["o2"], 4, 33, 15, 0],
         "1f17f": [["🅿️", "🅿"], "", "󾟶", ["parking"], 4, 34, 15, 0],
         "1f18e": [["🆎"], "", "󾔍", ["ab"], 4, 35, 15, 0],
         "1f191": [["🆑"], "", "󾮄", ["cl"], 4, 36, 15, 0],
         "1f192": [["🆒"], "", "󾬸", ["cool"], 4, 37, 15, 0],
         "1f193": [["🆓"], "", "󾬡", ["free"], 4, 38, 15, 0],
         "1f194": [["🆔"], "", "󾮁", ["id"], 4, 39, 15, 0],
         "1f195": [["🆕"], "", "󾬶", ["new"], 4, 40, 15, 0],
         "1f196": [["🆖"], "", "󾬨", ["ng"], 5, 0, 15, 0],
         "1f197": [["🆗"], "", "󾬧", ["ok"], 5, 1, 15, 0],
         "1f198": [["🆘"], "", "󾭏", ["sos"], 5, 2, 15, 0],
         "1f199": [["🆙"], "", "󾬷", ["up"], 5, 3, 15, 0],
         "1f19a": [["🆚"], "", "󾬲", ["vs"], 5, 4, 15, 0],
         "1f201": [["🈁"], "", "󾬤", ["koko"], 5, 5, 15, 0],
         "1f202": [["🈂️", "🈂"], "", "󾬿", ["sa"], 5, 6, 15, 0],
         "1f21a": [["🈚️", "🈚"], "", "󾬺", ["u7121"], 5, 7, 15, 0],
         "1f22f": [["🈯️", "🈯"], "", "󾭀", ["u6307"], 5, 8, 15, 0],
         "1f232": [["🈲"], "", "󾬮", ["u7981"], 5, 9, 15, 0],
         "1f233": [["🈳"], "", "󾬯", ["u7a7a"], 5, 10, 15, 0],
         "1f234": [["🈴"], "", "󾬰", ["u5408"], 5, 11, 15, 0],
         "1f235": [["🈵"], "", "󾬱", ["u6e80"], 5, 12, 15, 0],
         "1f236": [["🈶"], "", "󾬹", ["u6709"], 5, 13, 15, 0],
         "1f237": [["🈷️", "🈷"], "", "󾬻", ["u6708"], 5, 14, 15, 0],
         "1f238": [["🈸"], "", "󾬼", ["u7533"], 5, 15, 15, 0],
         "1f239": [["🈹"], "", "󾬾", ["u5272"], 5, 16, 15, 0],
         "1f23a": [["🈺"], "", "󾭁", ["u55b6"], 5, 17, 15, 0],
         "1f250": [["🉐"], "", "󾬽", ["ideograph_advantage"], 5, 18, 15, 0],
         "1f251": [["🉑"], "", "󾭐", ["accept"], 5, 19, 15, 0],
         "1f300": [["🌀"], "", "󾀅", ["cyclone"], 5, 20, 15, 0],
         "1f301": [["🌁"], "", "󾀆", ["foggy"], 5, 21, 15, 0],
         "1f302": [["🌂"], "", "󾀇", ["closed_umbrella"], 5, 22, 15, 0],
         "1f303": [["🌃"], "", "󾀈", ["night_with_stars"], 5, 23, 15, 0],
         "1f304": [["🌄"], "", "󾀉", ["sunrise_over_mountains"], 5, 24, 15, 0],
         "1f305": [["🌅"], "", "󾀊", ["sunrise"], 5, 25, 15, 0],
         "1f306": [["🌆"], "", "󾀋", ["city_sunset"], 5, 26, 15, 0],
         "1f307": [["🌇"], "", "󾀌", ["city_sunrise"], 5, 27, 15, 0],
         "1f308": [["🌈"], "", "󾀍", ["rainbow"], 5, 28, 15, 0],
         "1f309": [["🌉"], "", "󾀐", ["bridge_at_night"], 5, 29, 15, 0],
         "1f30a": [["🌊"], "", "󾀸", ["ocean"], 5, 30, 15, 0],
         "1f30b": [["🌋"], "", "󾀺", ["volcano"], 5, 31, 15, 0],
         "1f30c": [["🌌"], "", "󾀻", ["milky_way"], 5, 32, 15, 0],
         "1f30d": [["🌍"], "", "", ["earth_africa"], 5, 33, 15, 0],
         "1f30e": [["🌎"], "", "", ["earth_americas"], 5, 34, 15, 0],
         "1f30f": [["🌏"], "", "󾀹", ["earth_asia"], 5, 35, 15, 0],
         "1f310": [["🌐"], "", "", ["globe_with_meridians"], 5, 36, 15, 0],
         "1f311": [["🌑"], "", "󾀑", ["new_moon"], 5, 37, 15, 0],
         "1f312": [["🌒"], "", "", ["waxing_crescent_moon"], 5, 38, 15, 0],
         "1f313": [["🌓"], "", "󾀓", ["first_quarter_moon"], 5, 39, 15, 0],
         "1f314": [["🌔"], "", "󾀒", ["moon", "waxing_gibbous_moon"], 5, 40, 15, 0],
         "1f315": [["🌕"], "", "󾀕", ["full_moon"], 6, 0, 15, 0],
         "1f316": [["🌖"], "", "", ["waning_gibbous_moon"], 6, 1, 15, 0],
         "1f317": [["🌗"], "", "", ["last_quarter_moon"], 6, 2, 15, 0],
         "1f318": [["🌘"], "", "", ["waning_crescent_moon"], 6, 3, 15, 0],
         "1f319": [["🌙"], "", "󾀔", ["crescent_moon"], 6, 4, 15, 0],
         "1f31a": [["🌚"], "", "", ["new_moon_with_face"], 6, 5, 15, 0],
         "1f31b": [["🌛"], "", "󾀖", ["first_quarter_moon_with_face"], 6, 6, 15, 0],
         "1f31c": [["🌜"], "", "", ["last_quarter_moon_with_face"], 6, 7, 15, 0],
         "1f31d": [["🌝"], "", "", ["full_moon_with_face"], 6, 8, 15, 0],
         "1f31e": [["🌞"], "", "", ["sun_with_face"], 6, 9, 15, 0],
         "1f31f": [["🌟"], "", "󾭩", ["star2"], 6, 10, 15, 0],
         "1f320": [["🌠"], "", "󾭪", ["stars"], 6, 11, 15, 0],
         "1f321": [["🌡"], "", "", ["thermometer"], 6, 12, 15, 0],
         "1f324": [["🌤"], "", "", ["mostly_sunny", "sun_small_cloud"], 6, 13, 15, 0],
         "1f325": [["🌥"], "", "", ["barely_sunny", "sun_behind_cloud"], 6, 14, 15, 0],
         "1f326": [["🌦"], "", "", ["partly_sunny_rain", "sun_behind_rain_cloud"], 6, 15, 15, 0],
         "1f327": [["🌧"], "", "", ["rain_cloud"], 6, 16, 15, 0],
         "1f328": [["🌨"], "", "", ["snow_cloud"], 6, 17, 15, 0],
         "1f329": [["🌩"], "", "", ["lightning", "lightning_cloud"], 6, 18, 15, 0],
         "1f32a": [["🌪"], "", "", ["tornado", "tornado_cloud"], 6, 19, 15, 0],
         "1f32b": [["🌫"], "", "", ["fog"], 6, 20, 15, 0],
         "1f32c": [["🌬"], "", "", ["wind_blowing_face"], 6, 21, 15, 0],
         "1f32d": [["🌭"], "", "", ["hotdog"], 6, 22, 15, 0],
         "1f32e": [["🌮"], "", "", ["taco"], 6, 23, 15, 0],
         "1f32f": [["🌯"], "", "", ["burrito"], 6, 24, 15, 0],
         "1f330": [["🌰"], "", "󾁌", ["chestnut"], 6, 25, 15, 0],
         "1f331": [["🌱"], "", "󾀾", ["seedling"], 6, 26, 15, 0],
         "1f332": [["🌲"], "", "", ["evergreen_tree"], 6, 27, 15, 0],
         "1f333": [["🌳"], "", "", ["deciduous_tree"], 6, 28, 15, 0],
         "1f334": [["🌴"], "", "󾁇", ["palm_tree"], 6, 29, 15, 0],
         "1f335": [["🌵"], "", "󾁈", ["cactus"], 6, 30, 15, 0],
         "1f336": [["🌶"], "", "", ["hot_pepper"], 6, 31, 15, 0],
         "1f337": [["🌷"], "", "󾀽", ["tulip"], 6, 32, 15, 0],
         "1f338": [["🌸"], "", "󾁀", ["cherry_blossom"], 6, 33, 15, 0],
         "1f339": [["🌹"], "", "󾁁", ["rose"], 6, 34, 15, 0],
         "1f33a": [["🌺"], "", "󾁅", ["hibiscus"], 6, 35, 15, 0],
         "1f33b": [["🌻"], "", "󾁆", ["sunflower"], 6, 36, 15, 0],
         "1f33c": [["🌼"], "", "󾁍", ["blossom"], 6, 37, 15, 0],
         "1f33d": [["🌽"], "", "󾁊", ["corn"], 6, 38, 15, 0],
         "1f33e": [["🌾"], "", "󾁉", ["ear_of_rice"], 6, 39, 15, 0],
         "1f33f": [["🌿"], "", "󾁎", ["herb"], 6, 40, 15, 0],
         "1f340": [["🍀"], "", "󾀼", ["four_leaf_clover"], 7, 0, 15, 0],
         "1f341": [["🍁"], "", "󾀿", ["maple_leaf"], 7, 1, 15, 0],
         "1f342": [["🍂"], "", "󾁂", ["fallen_leaf"], 7, 2, 15, 0],
         "1f343": [["🍃"], "", "󾁃", ["leaves"], 7, 3, 15, 0],
         "1f344": [["🍄"], "", "󾁋", ["mushroom"], 7, 4, 15, 0],
         "1f345": [["🍅"], "", "󾁕", ["tomato"], 7, 5, 15, 0],
         "1f346": [["🍆"], "", "󾁖", ["eggplant"], 7, 6, 15, 0],
         "1f347": [["🍇"], "", "󾁙", ["grapes"], 7, 7, 15, 0],
         "1f348": [["🍈"], "", "󾁗", ["melon"], 7, 8, 15, 0],
         "1f349": [["🍉"], "", "󾁔", ["watermelon"], 7, 9, 15, 0],
         "1f34a": [["🍊"], "", "󾁒", ["tangerine"], 7, 10, 15, 0],
         "1f34b": [["🍋"], "", "", ["lemon"], 7, 11, 15, 0],
         "1f34c": [["🍌"], "", "󾁐", ["banana"], 7, 12, 15, 0],
         "1f34d": [["🍍"], "", "󾁘", ["pineapple"], 7, 13, 15, 0],
         "1f34e": [["🍎"], "", "󾁑", ["apple"], 7, 14, 15, 0],
         "1f34f": [["🍏"], "", "󾁛", ["green_apple"], 7, 15, 15, 0],
         "1f350": [["🍐"], "", "", ["pear"], 7, 16, 15, 0],
         "1f351": [["🍑"], "", "󾁚", ["peach"], 7, 17, 15, 0],
         "1f352": [["🍒"], "", "󾁏", ["cherries"], 7, 18, 15, 0],
         "1f353": [["🍓"], "", "󾁓", ["strawberry"], 7, 19, 15, 0],
         "1f354": [["🍔"], "", "󾥠", ["hamburger"], 7, 20, 15, 0],
         "1f355": [["🍕"], "", "󾥵", ["pizza"], 7, 21, 15, 0],
         "1f356": [["🍖"], "", "󾥲", ["meat_on_bone"], 7, 22, 15, 0],
         "1f357": [["🍗"], "", "󾥶", ["poultry_leg"], 7, 23, 15, 0],
         "1f358": [["🍘"], "", "󾥩", ["rice_cracker"], 7, 24, 15, 0],
         "1f359": [["🍙"], "", "󾥡", ["rice_ball"], 7, 25, 15, 0],
         "1f35a": [["🍚"], "", "󾥪", ["rice"], 7, 26, 15, 0],
         "1f35b": [["🍛"], "", "󾥬", ["curry"], 7, 27, 15, 0],
         "1f35c": [["🍜"], "", "󾥣", ["ramen"], 7, 28, 15, 0],
         "1f35d": [["🍝"], "", "󾥫", ["spaghetti"], 7, 29, 15, 0],
         "1f35e": [["🍞"], "", "󾥤", ["bread"], 7, 30, 15, 0],
         "1f35f": [["🍟"], "", "󾥧", ["fries"], 7, 31, 15, 0],
         "1f360": [["🍠"], "", "󾥴", ["sweet_potato"], 7, 32, 15, 0],
         "1f361": [["🍡"], "", "󾥨", ["dango"], 7, 33, 15, 0],
         "1f362": [["🍢"], "", "󾥭", ["oden"], 7, 34, 15, 0],
         "1f363": [["🍣"], "", "󾥮", ["sushi"], 7, 35, 15, 0],
         "1f364": [["🍤"], "", "󾥿", ["fried_shrimp"], 7, 36, 15, 0],
         "1f365": [["🍥"], "", "󾥳", ["fish_cake"], 7, 37, 15, 0],
         "1f366": [["🍦"], "", "󾥦", ["icecream"], 7, 38, 15, 0],
         "1f367": [["🍧"], "", "󾥱", ["shaved_ice"], 7, 39, 15, 0],
         "1f368": [["🍨"], "", "󾥷", ["ice_cream"], 7, 40, 15, 0],
         "1f369": [["🍩"], "", "󾥸", ["doughnut"], 8, 0, 15, 0],
         "1f36a": [["🍪"], "", "󾥹", ["cookie"], 8, 1, 15, 0],
         "1f36b": [["🍫"], "", "󾥺", ["chocolate_bar"], 8, 2, 15, 0],
         "1f36c": [["🍬"], "", "󾥻", ["candy"], 8, 3, 15, 0],
         "1f36d": [["🍭"], "", "󾥼", ["lollipop"], 8, 4, 15, 0],
         "1f36e": [["🍮"], "", "󾥽", ["custard"], 8, 5, 15, 0],
         "1f36f": [["🍯"], "", "󾥾", ["honey_pot"], 8, 6, 15, 0],
         "1f370": [["🍰"], "", "󾥢", ["cake"], 8, 7, 15, 0],
         "1f371": [["🍱"], "", "󾥯", ["bento"], 8, 8, 15, 0],
         "1f372": [["🍲"], "", "󾥰", ["stew"], 8, 9, 15, 0],
         "1f373": [["🍳"], "", "󾥥", ["egg"], 8, 10, 15, 0],
         "1f374": [["🍴"], "", "󾦀", ["fork_and_knife"], 8, 11, 15, 0],
         "1f375": [["🍵"], "", "󾦄", ["tea"], 8, 12, 15, 0],
         "1f376": [["🍶"], "", "󾦅", ["sake"], 8, 13, 15, 0],
         "1f377": [["🍷"], "", "󾦆", ["wine_glass"], 8, 14, 15, 0],
         "1f378": [["🍸"], "", "󾦂", ["cocktail"], 8, 15, 15, 0],
         "1f379": [["🍹"], "", "󾦈", ["tropical_drink"], 8, 16, 15, 0],
         "1f37a": [["🍺"], "", "󾦃", ["beer"], 8, 17, 15, 0],
         "1f37b": [["🍻"], "", "󾦇", ["beers"], 8, 18, 15, 0],
         "1f37c": [["🍼"], "", "", ["baby_bottle"], 8, 19, 15, 0],
         "1f37d": [["🍽"], "", "", ["knife_fork_plate"], 8, 20, 15, 0],
         "1f37e": [["🍾"], "", "", ["champagne"], 8, 21, 15, 0],
         "1f37f": [["🍿"], "", "", ["popcorn"], 8, 22, 15, 0],
         "1f380": [["🎀"], "", "󾔏", ["ribbon"], 8, 23, 15, 0],
         "1f381": [["🎁"], "", "󾔐", ["gift"], 8, 24, 15, 0],
         "1f382": [["🎂"], "", "󾔑", ["birthday"], 8, 25, 15, 0],
         "1f383": [["🎃"], "", "󾔟", ["jack_o_lantern"], 8, 26, 15, 0],
         "1f384": [["🎄"], "", "󾔒", ["christmas_tree"], 8, 27, 15, 0],
         "1f385": [["🎅"], "", "󾔓", ["santa"], 8, 28, 15, 0],
         "1f386": [["🎆"], "", "󾔕", ["fireworks"], 8, 34, 15, 0],
         "1f387": [["🎇"], "", "󾔝", ["sparkler"], 8, 35, 15, 0],
         "1f388": [["🎈"], "", "󾔖", ["balloon"], 8, 36, 15, 0],
         "1f389": [["🎉"], "", "󾔗", ["tada"], 8, 37, 15, 0],
         "1f38a": [["🎊"], "", "󾔠", ["confetti_ball"], 8, 38, 15, 0],
         "1f38b": [["🎋"], "", "󾔡", ["tanabata_tree"], 8, 39, 15, 0],
         "1f38c": [["🎌"], "", "󾔔", ["crossed_flags"], 8, 40, 15, 0],
         "1f38d": [["🎍"], "", "󾔘", ["bamboo"], 9, 0, 15, 0],
         "1f38e": [["🎎"], "", "󾔙", ["dolls"], 9, 1, 15, 0],
         "1f38f": [["🎏"], "", "󾔜", ["flags"], 9, 2, 15, 0],
         "1f390": [["🎐"], "", "󾔞", ["wind_chime"], 9, 3, 15, 0],
         "1f391": [["🎑"], "", "󾀗", ["rice_scene"], 9, 4, 15, 0],
         "1f392": [["🎒"], "", "󾔛", ["school_satchel"], 9, 5, 15, 0],
         "1f393": [["🎓"], "", "󾔚", ["mortar_board"], 9, 6, 15, 0],
         "1f396": [["🎖"], "", "", ["medal"], 9, 7, 15, 0],
         "1f397": [["🎗"], "", "", ["reminder_ribbon"], 9, 8, 15, 0],
         "1f399": [["🎙"], "", "", ["studio_microphone"], 9, 9, 15, 0],
         "1f39a": [["🎚"], "", "", ["level_slider"], 9, 10, 15, 0],
         "1f39b": [["🎛"], "", "", ["control_knobs"], 9, 11, 15, 0],
         "1f39e": [["🎞"], "", "", ["film_frames"], 9, 12, 15, 0],
         "1f39f": [["🎟"], "", "", ["admission_tickets"], 9, 13, 15, 0],
         "1f3a0": [["🎠"], "", "󾟼", ["carousel_horse"], 9, 14, 15, 0],
         "1f3a1": [["🎡"], "", "󾟽", ["ferris_wheel"], 9, 15, 15, 0],
         "1f3a2": [["🎢"], "", "󾟾", ["roller_coaster"], 9, 16, 15, 0],
         "1f3a3": [["🎣"], "", "󾟿", ["fishing_pole_and_fish"], 9, 17, 15, 0],
         "1f3a4": [["🎤"], "", "󾠀", ["microphone"], 9, 18, 15, 0],
         "1f3a5": [["🎥"], "", "󾠁", ["movie_camera"], 9, 19, 15, 0],
         "1f3a6": [["🎦"], "", "󾠂", ["cinema"], 9, 20, 15, 0],
         "1f3a7": [["🎧"], "", "󾠃", ["headphones"], 9, 21, 15, 0],
         "1f3a8": [["🎨"], "", "󾠄", ["art"], 9, 22, 15, 0],
         "1f3a9": [["🎩"], "", "󾠅", ["tophat"], 9, 23, 15, 0],
         "1f3aa": [["🎪"], "", "󾠆", ["circus_tent"], 9, 24, 15, 0],
         "1f3ab": [["🎫"], "", "󾠇", ["ticket"], 9, 25, 15, 0],
         "1f3ac": [["🎬"], "", "󾠈", ["clapper"], 9, 26, 15, 0],
         "1f3ad": [["🎭"], "", "󾠉", ["performing_arts"], 9, 27, 15, 0],
         "1f3ae": [["🎮"], "", "󾠊", ["video_game"], 9, 28, 15, 0],
         "1f3af": [["🎯"], "", "󾠌", ["dart"], 9, 29, 15, 0],
         "1f3b0": [["🎰"], "", "󾠍", ["slot_machine"], 9, 30, 15, 0],
         "1f3b1": [["🎱"], "", "󾠎", ["8ball"], 9, 31, 15, 0],
         "1f3b2": [["🎲"], "", "󾠏", ["game_die"], 9, 32, 15, 0],
         "1f3b3": [["🎳"], "", "󾠐", ["bowling"], 9, 33, 15, 0],
         "1f3b4": [["🎴"], "", "󾠑", ["flower_playing_cards"], 9, 34, 15, 0],
         "1f3b5": [["🎵"], "", "󾠓", ["musical_note"], 9, 35, 15, 0],
         "1f3b6": [["🎶"], "", "󾠔", ["notes"], 9, 36, 15, 0],
         "1f3b7": [["🎷"], "", "󾠕", ["saxophone"], 9, 37, 15, 0],
         "1f3b8": [["🎸"], "", "󾠖", ["guitar"], 9, 38, 15, 0],
         "1f3b9": [["🎹"], "", "󾠗", ["musical_keyboard"], 9, 39, 15, 0],
         "1f3ba": [["🎺"], "", "󾠘", ["trumpet"], 9, 40, 15, 0],
         "1f3bb": [["🎻"], "", "󾠙", ["violin"], 10, 0, 15, 0],
         "1f3bc": [["🎼"], "", "󾠚", ["musical_score"], 10, 1, 15, 0],
         "1f3bd": [["🎽"], "", "󾟐", ["running_shirt_with_sash"], 10, 2, 15, 0],
         "1f3be": [["🎾"], "", "󾟓", ["tennis"], 10, 3, 15, 0],
         "1f3bf": [["🎿"], "", "󾟕", ["ski"], 10, 4, 15, 0],
         "1f3c0": [["🏀"], "", "󾟖", ["basketball"], 10, 5, 15, 0],
         "1f3c1": [["🏁"], "", "󾟗", ["checkered_flag"], 10, 6, 15, 0],
         "1f3c2": [["🏂"], "", "󾟘", ["snowboarder"], 10, 7, 15, 0],
         "1f3c3": [["🏃"], "", "󾟙", ["runner", "running"], 10, 8, 15, 0],
         "1f3c4": [["🏄"], "", "󾟚", ["surfer"], 10, 14, 15, 0],
         "1f3c5": [["🏅"], "", "", ["sports_medal"], 10, 20, 15, 0],
         "1f3c6": [["🏆"], "", "󾟛", ["trophy"], 10, 21, 15, 0],
         "1f3c7": [["🏇"], "", "", ["horse_racing"], 10, 22, 15, 0],
         "1f3c8": [["🏈"], "", "󾟝", ["football"], 10, 28, 15, 0],
         "1f3c9": [["🏉"], "", "", ["rugby_football"], 10, 29, 15, 0],
         "1f3ca": [["🏊"], "", "󾟞", ["swimmer"], 10, 30, 15, 0],
         "1f3cb": [["🏋"], "", "", ["weight_lifter"], 10, 36, 15, 0],
         "1f3cc": [["🏌"], "", "", ["golfer"], 11, 1, 15, 0],
         "1f3cd": [["🏍"], "", "", ["racing_motorcycle"], 11, 2, 15, 0],
         "1f3ce": [["🏎"], "", "", ["racing_car"], 11, 3, 15, 0],
         "1f3cf": [["🏏"], "", "", ["cricket_bat_and_ball"], 11, 4, 15, 0],
         "1f3d0": [["🏐"], "", "", ["volleyball"], 11, 5, 15, 0],
         "1f3d1": [["🏑"], "", "", ["field_hockey_stick_and_ball"], 11, 6, 15, 0],
         "1f3d2": [["🏒"], "", "", ["ice_hockey_stick_and_puck"], 11, 7, 15, 0],
         "1f3d3": [["🏓"], "", "", ["table_tennis_paddle_and_ball"], 11, 8, 15, 0],
         "1f3d4": [["🏔"], "", "", ["snow_capped_mountain"], 11, 9, 15, 0],
         "1f3d5": [["🏕"], "", "", ["camping"], 11, 10, 15, 0],
         "1f3d6": [["🏖"], "", "", ["beach_with_umbrella"], 11, 11, 15, 0],
         "1f3d7": [["🏗"], "", "", ["building_construction"], 11, 12, 15, 0],
         "1f3d8": [["🏘"], "", "", ["house_buildings"], 11, 13, 15, 0],
         "1f3d9": [["🏙"], "", "", ["cityscape"], 11, 14, 15, 0],
         "1f3da": [["🏚"], "", "", ["derelict_house_building"], 11, 15, 15, 0],
         "1f3db": [["🏛"], "", "", ["classical_building"], 11, 16, 15, 0],
         "1f3dc": [["🏜"], "", "", ["desert"], 11, 17, 15, 0],
         "1f3dd": [["🏝"], "", "", ["desert_island"], 11, 18, 15, 0],
         "1f3de": [["🏞"], "", "", ["national_park"], 11, 19, 15, 0],
         "1f3df": [["🏟"], "", "", ["stadium"], 11, 20, 15, 0],
         "1f3e0": [["🏠"], "", "󾒰", ["house"], 11, 21, 15, 0],
         "1f3e1": [["🏡"], "", "󾒱", ["house_with_garden"], 11, 22, 15, 0],
         "1f3e2": [["🏢"], "", "󾒲", ["office"], 11, 23, 15, 0],
         "1f3e3": [["🏣"], "", "󾒳", ["post_office"], 11, 24, 15, 0],
         "1f3e4": [["🏤"], "", "", ["european_post_office"], 11, 25, 15, 0],
         "1f3e5": [["🏥"], "", "󾒴", ["hospital"], 11, 26, 15, 0],
         "1f3e6": [["🏦"], "", "󾒵", ["bank"], 11, 27, 15, 0],
         "1f3e7": [["🏧"], "", "󾒶", ["atm"], 11, 28, 15, 0],
         "1f3e8": [["🏨"], "", "󾒷", ["hotel"], 11, 29, 15, 0],
         "1f3e9": [["🏩"], "", "󾒸", ["love_hotel"], 11, 30, 15, 0],
         "1f3ea": [["🏪"], "", "󾒹", ["convenience_store"], 11, 31, 15, 0],
         "1f3eb": [["🏫"], "", "󾒺", ["school"], 11, 32, 15, 0],
         "1f3ec": [["🏬"], "", "󾒽", ["department_store"], 11, 33, 15, 0],
         "1f3ed": [["🏭"], "", "󾓀", ["factory"], 11, 34, 15, 0],
         "1f3ee": [["🏮"], "", "󾓂", ["izakaya_lantern", "lantern"], 11, 35, 15, 0],
         "1f3ef": [["🏯"], "", "󾒾", ["japanese_castle"], 11, 36, 15, 0],
         "1f3f0": [["🏰"], "", "󾒿", ["european_castle"], 11, 37, 15, 0],
         "1f3f3": [["🏳"], "", "", ["waving_white_flag"], 11, 38, 15, 0],
         "1f3f4": [["🏴"], "", "", ["waving_black_flag"], 11, 39, 15, 0],
         "1f3f5": [["🏵"], "", "", ["rosette"], 11, 40, 15, 0],
         "1f3f7": [["🏷"], "", "", ["label"], 12, 0, 15, 0],
         "1f3f8": [["🏸"], "", "", ["badminton_racquet_and_shuttlecock"], 12, 1, 15, 0],
         "1f3f9": [["🏹"], "", "", ["bow_and_arrow"], 12, 2, 15, 0],
         "1f3fa": [["🏺"], "", "", ["amphora"], 12, 3, 15, 0],
         "1f3fb": [["🏻"], "", "", ["skin-tone-2"], 12, 4, 13, 0],
         "1f3fc": [["🏼"], "", "", ["skin-tone-3"], 12, 5, 13, 0],
         "1f3fd": [["🏽"], "", "", ["skin-tone-4"], 12, 6, 13, 0],
         "1f3fe": [["🏾"], "", "", ["skin-tone-5"], 12, 7, 13, 0],
         "1f3ff": [["🏿"], "", "", ["skin-tone-6"], 12, 8, 13, 0],
         "1f400": [["🐀"], "", "", ["rat"], 12, 9, 15, 0],
         "1f401": [["🐁"], "", "", ["mouse2"], 12, 10, 15, 0],
         "1f402": [["🐂"], "", "", ["ox"], 12, 11, 15, 0],
         "1f403": [["🐃"], "", "", ["water_buffalo"], 12, 12, 15, 0],
         "1f404": [["🐄"], "", "", ["cow2"], 12, 13, 15, 0],
         "1f405": [["🐅"], "", "", ["tiger2"], 12, 14, 15, 0],
         "1f406": [["🐆"], "", "", ["leopard"], 12, 15, 15, 0],
         "1f407": [["🐇"], "", "", ["rabbit2"], 12, 16, 15, 0],
         "1f408": [["🐈"], "", "", ["cat2"], 12, 17, 15, 0],
         "1f409": [["🐉"], "", "", ["dragon"], 12, 18, 15, 0],
         "1f40a": [["🐊"], "", "", ["crocodile"], 12, 19, 15, 0],
         "1f40b": [["🐋"], "", "", ["whale2"], 12, 20, 15, 0],
         "1f40c": [["🐌"], "", "󾆹", ["snail"], 12, 21, 15, 0],
         "1f40d": [["🐍"], "", "󾇓", ["snake"], 12, 22, 15, 0],
         "1f40e": [["🐎"], "", "󾟜", ["racehorse"], 12, 23, 15, 0],
         "1f40f": [["🐏"], "", "", ["ram"], 12, 24, 15, 0],
         "1f410": [["🐐"], "", "", ["goat"], 12, 25, 15, 0],
         "1f411": [["🐑"], "", "󾇏", ["sheep"], 12, 26, 15, 0],
         "1f412": [["🐒"], "", "󾇎", ["monkey"], 12, 27, 15, 0],
         "1f413": [["🐓"], "", "", ["rooster"], 12, 28, 15, 0],
         "1f414": [["🐔"], "", "󾇔", ["chicken"], 12, 29, 15, 0],
         "1f415": [["🐕"], "", "", ["dog2"], 12, 30, 15, 0],
         "1f416": [["🐖"], "", "", ["pig2"], 12, 31, 15, 0],
         "1f417": [["🐗"], "", "󾇕", ["boar"], 12, 32, 15, 0],
         "1f418": [["🐘"], "", "󾇌", ["elephant"], 12, 33, 15, 0],
         "1f419": [["🐙"], "", "󾇅", ["octopus"], 12, 34, 15, 0],
         "1f41a": [["🐚"], "", "󾇆", ["shell"], 12, 35, 15, 0],
         "1f41b": [["🐛"], "", "󾇋", ["bug"], 12, 36, 15, 0],
         "1f41c": [["🐜"], "", "󾇚", ["ant"], 12, 37, 15, 0],
         "1f41d": [["🐝"], "", "󾇡", ["bee", "honeybee"], 12, 38, 15, 0],
         "1f41e": [["🐞"], "", "󾇢", ["beetle"], 12, 39, 15, 0],
         "1f41f": [["🐟"], "", "󾆽", ["fish"], 12, 40, 15, 0],
         "1f420": [["🐠"], "", "󾇉", ["tropical_fish"], 13, 0, 15, 0],
         "1f421": [["🐡"], "", "󾇙", ["blowfish"], 13, 1, 15, 0],
         "1f422": [["🐢"], "", "󾇜", ["turtle"], 13, 2, 15, 0],
         "1f423": [["🐣"], "", "󾇝", ["hatching_chick"], 13, 3, 15, 0],
         "1f424": [["🐤"], "", "󾆺", ["baby_chick"], 13, 4, 15, 0],
         "1f425": [["🐥"], "", "󾆻", ["hatched_chick"], 13, 5, 15, 0],
         "1f426": [["🐦"], "", "󾇈", ["bird"], 13, 6, 15, 0],
         "1f427": [["🐧"], "", "󾆼", ["penguin"], 13, 7, 15, 0],
         "1f428": [["🐨"], "", "󾇍", ["koala"], 13, 8, 15, 0],
         "1f429": [["🐩"], "", "󾇘", ["poodle"], 13, 9, 15, 0],
         "1f42a": [["🐪"], "", "", ["dromedary_camel"], 13, 10, 15, 0],
         "1f42b": [["🐫"], "", "󾇖", ["camel"], 13, 11, 15, 0],
         "1f42c": [["🐬"], "", "󾇇", ["dolphin", "flipper"], 13, 12, 15, 0],
         "1f42d": [["🐭"], "", "󾇂", ["mouse"], 13, 13, 15, 0],
         "1f42e": [["🐮"], "", "󾇑", ["cow"], 13, 14, 15, 0],
         "1f42f": [["🐯"], "", "󾇀", ["tiger"], 13, 15, 15, 0],
         "1f430": [["🐰"], "", "󾇒", ["rabbit"], 13, 16, 15, 0],
         "1f431": [["🐱"], "", "󾆸", ["cat"], 13, 17, 15, 0],
         "1f432": [["🐲"], "", "󾇞", ["dragon_face"], 13, 18, 15, 0],
         "1f433": [["🐳"], "", "󾇃", ["whale"], 13, 19, 15, 0],
         "1f434": [["🐴"], "", "󾆾", ["horse"], 13, 20, 15, 0],
         "1f435": [["🐵"], "", "󾇄", ["monkey_face"], 13, 21, 15, 0],
         "1f436": [["🐶"], "", "󾆷", ["dog"], 13, 22, 15, 0],
         "1f437": [["🐷"], "", "󾆿", ["pig"], 13, 23, 15, 0],
         "1f438": [["🐸"], "", "󾇗", ["frog"], 13, 24, 15, 0],
         "1f439": [["🐹"], "", "󾇊", ["hamster"], 13, 25, 15, 0],
         "1f43a": [["🐺"], "", "󾇐", ["wolf"], 13, 26, 15, 0],
         "1f43b": [["🐻"], "", "󾇁", ["bear"], 13, 27, 15, 0],
         "1f43c": [["🐼"], "", "󾇟", ["panda_face"], 13, 28, 15, 0],
         "1f43d": [["🐽"], "", "󾇠", ["pig_nose"], 13, 29, 15, 0],
         "1f43e": [["🐾"], "", "󾇛", ["feet", "paw_prints"], 13, 30, 15, 0],
         "1f43f": [["🐿"], "", "", ["chipmunk"], 13, 31, 15, 0],
         "1f440": [["👀"], "", "󾆐", ["eyes"], 13, 32, 15, 0],
         "1f441": [["👁"], "", "", ["eye"], 13, 33, 15, 0],
         "1f442": [["👂"], "", "󾆑", ["ear"], 13, 34, 15, 0],
         "1f443": [["👃"], "", "󾆒", ["nose"], 13, 40, 15, 0],
         "1f444": [["👄"], "", "󾆓", ["lips"], 14, 5, 15, 0],
         "1f445": [["👅"], "", "󾆔", ["tongue"], 14, 6, 15, 0],
         "1f446": [["👆"], "", "󾮙", ["point_up_2"], 14, 7, 15, 0],
         "1f447": [["👇"], "", "󾮚", ["point_down"], 14, 13, 15, 0],
         "1f448": [["👈"], "", "󾮛", ["point_left"], 14, 19, 15, 0],
         "1f449": [["👉"], "", "󾮜", ["point_right"], 14, 25, 15, 0],
         "1f44a": [["👊"], "", "󾮖", ["facepunch", "punch"], 14, 31, 15, 0],
         "1f44b": [["👋"], "", "󾮝", ["wave"], 14, 37, 15, 0],
         "1f44c": [["👌"], "", "󾮟", ["ok_hand"], 15, 2, 15, 0],
         "1f44d": [["👍"], "", "󾮗", ["+1", "thumbsup"], 15, 8, 15, 0],
         "1f44e": [["👎"], "", "󾮠", ["-1", "thumbsdown"], 15, 14, 15, 0],
         "1f44f": [["👏"], "", "󾮞", ["clap"], 15, 20, 15, 0],
         "1f450": [["👐"], "", "󾮡", ["open_hands"], 15, 26, 15, 0],
         "1f451": [["👑"], "", "󾓑", ["crown"], 15, 32, 15, 0],
         "1f452": [["👒"], "", "󾓔", ["womans_hat"], 15, 33, 15, 0],
         "1f453": [["👓"], "", "󾓎", ["eyeglasses"], 15, 34, 15, 0],
         "1f454": [["👔"], "", "󾓓", ["necktie"], 15, 35, 15, 0],
         "1f455": [["👕"], "", "󾓏", ["shirt", "tshirt"], 15, 36, 15, 0],
         "1f456": [["👖"], "", "󾓐", ["jeans"], 15, 37, 15, 0],
         "1f457": [["👗"], "", "󾓕", ["dress"], 15, 38, 15, 0],
         "1f458": [["👘"], "", "󾓙", ["kimono"], 15, 39, 15, 0],
         "1f459": [["👙"], "", "󾓚", ["bikini"], 15, 40, 15, 0],
         "1f45a": [["👚"], "", "󾓛", ["womans_clothes"], 16, 0, 15, 0],
         "1f45b": [["👛"], "", "󾓜", ["purse"], 16, 1, 15, 0],
         "1f45c": [["👜"], "", "󾓰", ["handbag"], 16, 2, 15, 0],
         "1f45d": [["👝"], "", "󾓱", ["pouch"], 16, 3, 15, 0],
         "1f45e": [["👞"], "", "󾓌", ["mans_shoe", "shoe"], 16, 4, 15, 0],
         "1f45f": [["👟"], "", "󾓍", ["athletic_shoe"], 16, 5, 15, 0],
         "1f460": [["👠"], "", "󾓖", ["high_heel"], 16, 6, 15, 0],
         "1f461": [["👡"], "", "󾓗", ["sandal"], 16, 7, 15, 0],
         "1f462": [["👢"], "", "󾓘", ["boot"], 16, 8, 15, 0],
         "1f463": [["👣"], "", "󾕓", ["footprints"], 16, 9, 15, 0],
         "1f464": [["👤"], "", "󾆚", ["bust_in_silhouette"], 16, 10, 15, 0],
         "1f465": [["👥"], "", "", ["busts_in_silhouette"], 16, 11, 15, 0],
         "1f466": [["👦"], "", "󾆛", ["boy"], 16, 12, 15, 0],
         "1f467": [["👧"], "", "󾆜", ["girl"], 16, 18, 15, 0],
         "1f468": [["👨"], "", "󾆝", ["man"], 16, 24, 15, 0],
         "1f469": [["👩"], "", "󾆞", ["woman"], 16, 30, 15, 0],
         "1f46a": [["👨‍👩‍👦", "👪"], "", "󾆟", ["family", "man-woman-boy"], 16, 36, 15, 0],
         "1f46b": [["👫"], "", "󾆠", ["couple", "man_and_woman_holding_hands"], 16, 37, 15, 0],
         "1f46c": [["👬"], "", "", ["two_men_holding_hands"], 16, 38, 15, 0],
         "1f46d": [["👭"], "", "", ["two_women_holding_hands"], 16, 39, 15, 0],
         "1f46e": [["👮"], "", "󾆡", ["cop"], 16, 40, 15, 0],
         "1f46f": [["👯"], "", "󾆢", ["dancers"], 17, 5, 15, 0],
         "1f470": [["👰"], "", "󾆣", ["bride_with_veil"], 17, 6, 15, 0],
         "1f471": [["👱"], "", "󾆤", ["person_with_blond_hair"], 17, 12, 15, 0],
         "1f472": [["👲"], "", "󾆥", ["man_with_gua_pi_mao"], 17, 18, 15, 0],
         "1f473": [["👳"], "", "󾆦", ["man_with_turban"], 17, 24, 15, 0],
         "1f474": [["👴"], "", "󾆧", ["older_man"], 17, 30, 15, 0],
         "1f475": [["👵"], "", "󾆨", ["older_woman"], 17, 36, 15, 0],
         "1f476": [["👶"], "", "󾆩", ["baby"], 18, 1, 15, 0],
         "1f477": [["👷"], "", "󾆪", ["construction_worker"], 18, 7, 15, 0],
         "1f478": [["👸"], "", "󾆫", ["princess"], 18, 13, 15, 0],
         "1f479": [["👹"], "", "󾆬", ["japanese_ogre"], 18, 19, 15, 0],
         "1f47a": [["👺"], "", "󾆭", ["japanese_goblin"], 18, 20, 15, 0],
         "1f47b": [["👻"], "", "󾆮", ["ghost"], 18, 21, 15, 0],
         "1f47c": [["👼"], "", "󾆯", ["angel"], 18, 22, 15, 0],
         "1f47d": [["👽"], "", "󾆰", ["alien"], 18, 28, 15, 0],
         "1f47e": [["👾"], "", "󾆱", ["space_invader"], 18, 29, 15, 0],
         "1f47f": [["👿"], "", "󾆲", ["imp"], 18, 30, 15, 0],
         "1f480": [["💀"], "", "󾆳", ["skull"], 18, 31, 15, 0],
         "1f481": [["💁"], "", "󾆴", ["information_desk_person"], 18, 32, 15, 0],
         "1f482": [["💂"], "", "󾆵", ["guardsman"], 18, 38, 15, 0],
         "1f483": [["💃"], "", "󾆶", ["dancer"], 19, 3, 15, 0],
         "1f484": [["💄"], "", "󾆕", ["lipstick"], 19, 9, 15, 0],
         "1f485": [["💅"], "", "󾆖", ["nail_care"], 19, 10, 15, 0],
         "1f486": [["💆"], "", "󾆗", ["massage"], 19, 16, 15, 0],
         "1f487": [["💇"], "", "󾆘", ["haircut"], 19, 22, 15, 0],
         "1f488": [["💈"], "", "󾆙", ["barber"], 19, 28, 15, 0],
         "1f489": [["💉"], "", "󾔉", ["syringe"], 19, 29, 15, 0],
         "1f48a": [["💊"], "", "󾔊", ["pill"], 19, 30, 15, 0],
         "1f48b": [["💋"], "", "󾠣", ["kiss"], 19, 31, 15, 0],
         "1f48c": [["💌"], "", "󾠤", ["love_letter"], 19, 32, 15, 0],
         "1f48d": [["💍"], "", "󾠥", ["ring"], 19, 33, 15, 0],
         "1f48e": [["💎"], "", "󾠦", ["gem"], 19, 34, 15, 0],
         "1f48f": [["💏"], "", "󾠧", ["couplekiss"], 19, 35, 15, 0],
         "1f490": [["💐"], "", "󾠨", ["bouquet"], 19, 36, 15, 0],
         "1f491": [["💑"], "", "󾠩", ["couple_with_heart"], 19, 37, 15, 0],
         "1f492": [["💒"], "", "󾠪", ["wedding"], 19, 38, 15, 0],
         "1f493": [["💓"], "", "󾬍", ["heartbeat"], 19, 39, 15, 0],
         "1f494": [["💔"], "", "󾬎", ["broken_heart"], 19, 40, 15, 0, "</3"],
         "1f495": [["💕"], "", "󾬏", ["two_hearts"], 20, 0, 15, 0],
         "1f496": [["💖"], "", "󾬐", ["sparkling_heart"], 20, 1, 15, 0],
         "1f497": [["💗"], "", "󾬑", ["heartpulse"], 20, 2, 15, 0],
         "1f498": [["💘"], "", "󾬒", ["cupid"], 20, 3, 15, 0],
         "1f499": [["💙"], "", "󾬓", ["blue_heart"], 20, 4, 15, 0, "<3"],
         "1f49a": [["💚"], "", "󾬔", ["green_heart"], 20, 5, 15, 0, "<3"],
         "1f49b": [["💛"], "", "󾬕", ["yellow_heart"], 20, 6, 15, 0, "<3"],
         "1f49c": [["💜"], "", "󾬖", ["purple_heart"], 20, 7, 15, 0, "<3"],
         "1f49d": [["💝"], "", "󾬗", ["gift_heart"], 20, 8, 15, 0],
         "1f49e": [["💞"], "", "󾬘", ["revolving_hearts"], 20, 9, 15, 0],
         "1f49f": [["💟"], "", "󾬙", ["heart_decoration"], 20, 10, 15, 0],
         "1f4a0": [["💠"], "", "󾭕", ["diamond_shape_with_a_dot_inside"], 20, 11, 15, 0],
         "1f4a1": [["💡"], "", "󾭖", ["bulb"], 20, 12, 15, 0],
         "1f4a2": [["💢"], "", "󾭗", ["anger"], 20, 13, 15, 0],
         "1f4a3": [["💣"], "", "󾭘", ["bomb"], 20, 14, 15, 0],
         "1f4a4": [["💤"], "", "󾭙", ["zzz"], 20, 15, 15, 0],
         "1f4a5": [["💥"], "", "󾭚", ["boom", "collision"], 20, 16, 15, 0],
         "1f4a6": [["💦"], "", "󾭛", ["sweat_drops"], 20, 17, 15, 0],
         "1f4a7": [["💧"], "", "󾭜", ["droplet"], 20, 18, 15, 0],
         "1f4a8": [["💨"], "", "󾭝", ["dash"], 20, 19, 15, 0],
         "1f4a9": [["💩"], "", "󾓴", ["hankey", "poop", "shit"], 20, 20, 15, 0],
         "1f4aa": [["💪"], "", "󾭞", ["muscle"], 20, 21, 15, 0],
         "1f4ab": [["💫"], "", "󾭟", ["dizzy"], 20, 27, 15, 0],
         "1f4ac": [["💬"], "", "󾔲", ["speech_balloon"], 20, 28, 15, 0],
         "1f4ad": [["💭"], "", "", ["thought_balloon"], 20, 29, 15, 0],
         "1f4ae": [["💮"], "", "󾭺", ["white_flower"], 20, 30, 15, 0],
         "1f4af": [["💯"], "", "󾭻", ["100"], 20, 31, 15, 0],
         "1f4b0": [["💰"], "", "󾓝", ["moneybag"], 20, 32, 15, 0],
         "1f4b1": [["💱"], "", "󾓞", ["currency_exchange"], 20, 33, 15, 0],
         "1f4b2": [["💲"], "", "󾓠", ["heavy_dollar_sign"], 20, 34, 15, 0],
         "1f4b3": [["💳"], "", "󾓡", ["credit_card"], 20, 35, 15, 0],
         "1f4b4": [["💴"], "", "󾓢", ["yen"], 20, 36, 15, 0],
         "1f4b5": [["💵"], "", "󾓣", ["dollar"], 20, 37, 15, 0],
         "1f4b6": [["💶"], "", "", ["euro"], 20, 38, 15, 0],
         "1f4b7": [["💷"], "", "", ["pound"], 20, 39, 15, 0],
         "1f4b8": [["💸"], "", "󾓤", ["money_with_wings"], 20, 40, 15, 0],
         "1f4b9": [["💹"], "", "󾓟", ["chart"], 21, 0, 15, 0],
         "1f4ba": [["💺"], "", "󾔷", ["seat"], 21, 1, 15, 0],
         "1f4bb": [["💻"], "", "󾔸", ["computer"], 21, 2, 15, 0],
         "1f4bc": [["💼"], "", "󾔻", ["briefcase"], 21, 3, 15, 0],
         "1f4bd": [["💽"], "", "󾔼", ["minidisc"], 21, 4, 15, 0],
         "1f4be": [["💾"], "", "󾔽", ["floppy_disk"], 21, 5, 15, 0],
         "1f4bf": [["💿"], "", "󾠝", ["cd"], 21, 6, 15, 0],
         "1f4c0": [["📀"], "", "󾠞", ["dvd"], 21, 7, 15, 0],
         "1f4c1": [["📁"], "", "󾕃", ["file_folder"], 21, 8, 15, 0],
         "1f4c2": [["📂"], "", "󾕄", ["open_file_folder"], 21, 9, 15, 0],
         "1f4c3": [["📃"], "", "󾕀", ["page_with_curl"], 21, 10, 15, 0],
         "1f4c4": [["📄"], "", "󾕁", ["page_facing_up"], 21, 11, 15, 0],
         "1f4c5": [["📅"], "", "󾕂", ["date"], 21, 12, 15, 0],
         "1f4c6": [["📆"], "", "󾕉", ["calendar"], 21, 13, 15, 0],
         "1f4c7": [["📇"], "", "󾕍", ["card_index"], 21, 14, 15, 0],
         "1f4c8": [["📈"], "", "󾕋", ["chart_with_upwards_trend"], 21, 15, 15, 0],
         "1f4c9": [["📉"], "", "󾕌", ["chart_with_downwards_trend"], 21, 16, 15, 0],
         "1f4ca": [["📊"], "", "󾕊", ["bar_chart"], 21, 17, 15, 0],
         "1f4cb": [["📋"], "", "󾕈", ["clipboard"], 21, 18, 15, 0],
         "1f4cc": [["📌"], "", "󾕎", ["pushpin"], 21, 19, 15, 0],
         "1f4cd": [["📍"], "", "󾔿", ["round_pushpin"], 21, 20, 15, 0],
         "1f4ce": [["📎"], "", "󾔺", ["paperclip"], 21, 21, 15, 0],
         "1f4cf": [["📏"], "", "󾕐", ["straight_ruler"], 21, 22, 15, 0],
         "1f4d0": [["📐"], "", "󾕑", ["triangular_ruler"], 21, 23, 15, 0],
         "1f4d1": [["📑"], "", "󾕒", ["bookmark_tabs"], 21, 24, 15, 0],
         "1f4d2": [["📒"], "", "󾕏", ["ledger"], 21, 25, 15, 0],
         "1f4d3": [["📓"], "", "󾕅", ["notebook"], 21, 26, 15, 0],
         "1f4d4": [["📔"], "", "󾕇", ["notebook_with_decorative_cover"], 21, 27, 15, 0],
         "1f4d5": [["📕"], "", "󾔂", ["closed_book"], 21, 28, 15, 0],
         "1f4d6": [["📖"], "", "󾕆", ["book", "open_book"], 21, 29, 15, 0],
         "1f4d7": [["📗"], "", "󾓿", ["green_book"], 21, 30, 15, 0],
         "1f4d8": [["📘"], "", "󾔀", ["blue_book"], 21, 31, 15, 0],
         "1f4d9": [["📙"], "", "󾔁", ["orange_book"], 21, 32, 15, 0],
         "1f4da": [["📚"], "", "󾔃", ["books"], 21, 33, 15, 0],
         "1f4db": [["📛"], "", "󾔄", ["name_badge"], 21, 34, 15, 0],
         "1f4dc": [["📜"], "", "󾓽", ["scroll"], 21, 35, 15, 0],
         "1f4dd": [["📝"], "", "󾔧", ["memo", "pencil"], 21, 36, 15, 0],
         "1f4de": [["📞"], "", "󾔤", ["telephone_receiver"], 21, 37, 15, 0],
         "1f4df": [["📟"], "", "󾔢", ["pager"], 21, 38, 15, 0],
         "1f4e0": [["📠"], "", "󾔨", ["fax"], 21, 39, 15, 0],
         "1f4e1": [["📡"], "", "󾔱", ["satellite_antenna"], 21, 40, 15, 0],
         "1f4e2": [["📢"], "", "󾔯", ["loudspeaker"], 22, 0, 15, 0],
         "1f4e3": [["📣"], "", "󾔰", ["mega"], 22, 1, 15, 0],
         "1f4e4": [["📤"], "", "󾔳", ["outbox_tray"], 22, 2, 15, 0],
         "1f4e5": [["📥"], "", "󾔴", ["inbox_tray"], 22, 3, 15, 0],
         "1f4e6": [["📦"], "", "󾔵", ["package"], 22, 4, 15, 0],
         "1f4e7": [["📧"], "", "󾮒", ["e-mail"], 22, 5, 15, 0],
         "1f4e8": [["📨"], "", "󾔪", ["incoming_envelope"], 22, 6, 15, 0],
         "1f4e9": [["📩"], "", "󾔫", ["envelope_with_arrow"], 22, 7, 15, 0],
         "1f4ea": [["📪"], "", "󾔬", ["mailbox_closed"], 22, 8, 15, 0],
         "1f4eb": [["📫"], "", "󾔭", ["mailbox"], 22, 9, 15, 0],
         "1f4ec": [["📬"], "", "", ["mailbox_with_mail"], 22, 10, 15, 0],
         "1f4ed": [["📭"], "", "", ["mailbox_with_no_mail"], 22, 11, 15, 0],
         "1f4ee": [["📮"], "", "󾔮", ["postbox"], 22, 12, 15, 0],
         "1f4ef": [["📯"], "", "", ["postal_horn"], 22, 13, 15, 0],
         "1f4f0": [["📰"], "", "󾠢", ["newspaper"], 22, 14, 15, 0],
         "1f4f1": [["📱"], "", "󾔥", ["iphone"], 22, 15, 15, 0],
         "1f4f2": [["📲"], "", "󾔦", ["calling"], 22, 16, 15, 0],
         "1f4f3": [["📳"], "", "󾠹", ["vibration_mode"], 22, 17, 15, 0],
         "1f4f4": [["📴"], "", "󾠺", ["mobile_phone_off"], 22, 18, 15, 0],
         "1f4f5": [["📵"], "", "", ["no_mobile_phones"], 22, 19, 15, 0],
         "1f4f6": [["📶"], "", "󾠸", ["signal_strength"], 22, 20, 15, 0],
         "1f4f7": [["📷"], "", "󾓯", ["camera"], 22, 21, 15, 0],
         "1f4f8": [["📸"], "", "", ["camera_with_flash"], 22, 22, 15, 0],
         "1f4f9": [["📹"], "", "󾓹", ["video_camera"], 22, 23, 15, 0],
         "1f4fa": [["📺"], "", "󾠜", ["tv"], 22, 24, 15, 0],
         "1f4fb": [["📻"], "", "󾠟", ["radio"], 22, 25, 15, 0],
         "1f4fc": [["📼"], "", "󾠠", ["vhs"], 22, 26, 15, 0],
         "1f4fd": [["📽"], "", "", ["film_projector"], 22, 27, 15, 0],
         "1f4ff": [["📿"], "", "", ["prayer_beads"], 22, 28, 15, 0],
         "1f500": [["🔀"], "", "", ["twisted_rightwards_arrows"], 22, 29, 15, 0],
         "1f501": [["🔁"], "", "", ["repeat"], 22, 30, 15, 0],
         "1f502": [["🔂"], "", "", ["repeat_one"], 22, 31, 15, 0],
         "1f503": [["🔃"], "", "󾮑", ["arrows_clockwise"], 22, 32, 15, 0],
         "1f504": [["🔄"], "", "", ["arrows_counterclockwise"], 22, 33, 15, 0],
         "1f505": [["🔅"], "", "", ["low_brightness"], 22, 34, 15, 0],
         "1f506": [["🔆"], "", "", ["high_brightness"], 22, 35, 15, 0],
         "1f507": [["🔇"], "", "", ["mute"], 22, 36, 15, 0],
         "1f508": [["🔈"], "", "", ["speaker"], 22, 37, 15, 0],
         "1f509": [["🔉"], "", "", ["sound"], 22, 38, 15, 0],
         "1f50a": [["🔊"], "", "󾠡", ["loud_sound"], 22, 39, 15, 0],
         "1f50b": [["🔋"], "", "󾓼", ["battery"], 22, 40, 15, 0],
         "1f50c": [["🔌"], "", "󾓾", ["electric_plug"], 23, 0, 15, 0],
         "1f50d": [["🔍"], "", "󾮅", ["mag"], 23, 1, 15, 0],
         "1f50e": [["🔎"], "", "󾮍", ["mag_right"], 23, 2, 15, 0],
         "1f50f": [["🔏"], "", "󾮐", ["lock_with_ink_pen"], 23, 3, 15, 0],
         "1f510": [["🔐"], "", "󾮊", ["closed_lock_with_key"], 23, 4, 15, 0],
         "1f511": [["🔑"], "", "󾮂", ["key"], 23, 5, 15, 0],
         "1f512": [["🔒"], "", "󾮆", ["lock"], 23, 6, 15, 0],
         "1f513": [["🔓"], "", "󾮇", ["unlock"], 23, 7, 15, 0],
         "1f514": [["🔔"], "", "󾓲", ["bell"], 23, 8, 15, 0],
         "1f515": [["🔕"], "", "", ["no_bell"], 23, 9, 15, 0],
         "1f516": [["🔖"], "", "󾮏", ["bookmark"], 23, 10, 15, 0],
         "1f517": [["🔗"], "", "󾭋", ["link"], 23, 11, 15, 0],
         "1f518": [["🔘"], "", "󾮌", ["radio_button"], 23, 12, 15, 0],
         "1f519": [["🔙"], "", "󾮎", ["back"], 23, 13, 15, 0],
         "1f51a": [["🔚"], "", "󾀚", ["end"], 23, 14, 15, 0],
         "1f51b": [["🔛"], "", "󾀙", ["on"], 23, 15, 15, 0],
         "1f51c": [["🔜"], "", "󾀘", ["soon"], 23, 16, 15, 0],
         "1f51d": [["🔝"], "", "󾭂", ["top"], 23, 17, 15, 0],
         "1f51e": [["🔞"], "", "󾬥", ["underage"], 23, 18, 15, 0],
         "1f51f": [["🔟"], "", "󾠻", ["keycap_ten"], 23, 19, 15, 0],
         "1f520": [["🔠"], "", "󾭼", ["capital_abcd"], 23, 20, 15, 0],
         "1f521": [["🔡"], "", "󾭽", ["abcd"], 23, 21, 15, 0],
         "1f522": [["🔢"], "", "󾭾", ["1234"], 23, 22, 15, 0],
         "1f523": [["🔣"], "", "󾭿", ["symbols"], 23, 23, 15, 0],
         "1f524": [["🔤"], "", "󾮀", ["abc"], 23, 24, 15, 0],
         "1f525": [["🔥"], "", "󾓶", ["fire"], 23, 25, 15, 0],
         "1f526": [["🔦"], "", "󾓻", ["flashlight"], 23, 26, 15, 0],
         "1f527": [["🔧"], "", "󾓉", ["wrench"], 23, 27, 15, 0],
         "1f528": [["🔨"], "", "󾓊", ["hammer"], 23, 28, 15, 0],
         "1f529": [["🔩"], "", "󾓋", ["nut_and_bolt"], 23, 29, 15, 0],
         "1f52a": [["🔪"], "", "󾓺", ["hocho", "knife"], 23, 30, 15, 0],
         "1f52b": [["🔫"], "", "󾓵", ["gun"], 23, 31, 15, 0],
         "1f52c": [["🔬"], "", "", ["microscope"], 23, 32, 15, 0],
         "1f52d": [["🔭"], "", "", ["telescope"], 23, 33, 15, 0],
         "1f52e": [["🔮"], "", "󾓷", ["crystal_ball"], 23, 34, 15, 0],
         "1f52f": [["🔯"], "", "󾓸", ["six_pointed_star"], 23, 35, 15, 0],
         "1f530": [["🔰"], "", "󾁄", ["beginner"], 23, 36, 15, 0],
         "1f531": [["🔱"], "", "󾓒", ["trident"], 23, 37, 15, 0],
         "1f532": [["🔲"], "", "󾭤", ["black_square_button"], 23, 38, 15, 0],
         "1f533": [["🔳"], "", "󾭧", ["white_square_button"], 23, 39, 15, 0],
         "1f534": [["🔴"], "", "󾭣", ["red_circle"], 23, 40, 15, 0],
         "1f535": [["🔵"], "", "󾭤", ["large_blue_circle"], 24, 0, 15, 0],
         "1f536": [["🔶"], "", "󾭳", ["large_orange_diamond"], 24, 1, 15, 0],
         "1f537": [["🔷"], "", "󾭴", ["large_blue_diamond"], 24, 2, 15, 0],
         "1f538": [["🔸"], "", "󾭵", ["small_orange_diamond"], 24, 3, 15, 0],
         "1f539": [["🔹"], "", "󾭶", ["small_blue_diamond"], 24, 4, 15, 0],
         "1f53a": [["🔺"], "", "󾭸", ["small_red_triangle"], 24, 5, 15, 0],
         "1f53b": [["🔻"], "", "󾭹", ["small_red_triangle_down"], 24, 6, 15, 0],
         "1f53c": [["🔼"], "", "󾬁", ["arrow_up_small"], 24, 7, 15, 0],
         "1f53d": [["🔽"], "", "󾬀", ["arrow_down_small"], 24, 8, 15, 0],
         "1f549": [["🕉"], "", "", ["om_symbol"], 24, 9, 15, 0],
         "1f54a": [["🕊"], "", "", ["dove_of_peace"], 24, 10, 15, 0],
         "1f54b": [["🕋"], "", "", ["kaaba"], 24, 11, 15, 0],
         "1f54c": [["🕌"], "", "", ["mosque"], 24, 12, 15, 0],
         "1f54d": [["🕍"], "", "", ["synagogue"], 24, 13, 15, 0],
         "1f54e": [["🕎"], "", "", ["menorah_with_nine_branches"], 24, 14, 15, 0],
         "1f550": [["🕐"], "", "󾀞", ["clock1"], 24, 15, 15, 0],
         "1f551": [["🕑"], "", "󾀟", ["clock2"], 24, 16, 15, 0],
         "1f552": [["🕒"], "", "󾀠", ["clock3"], 24, 17, 15, 0],
         "1f553": [["🕓"], "", "󾀡", ["clock4"], 24, 18, 15, 0],
         "1f554": [["🕔"], "", "󾀢", ["clock5"], 24, 19, 15, 0],
         "1f555": [["🕕"], "", "󾀣", ["clock6"], 24, 20, 15, 0],
         "1f556": [["🕖"], "", "󾀤", ["clock7"], 24, 21, 15, 0],
         "1f557": [["🕗"], "", "󾀥", ["clock8"], 24, 22, 15, 0],
         "1f558": [["🕘"], "", "󾀦", ["clock9"], 24, 23, 15, 0],
         "1f559": [["🕙"], "", "󾀧", ["clock10"], 24, 24, 15, 0],
         "1f55a": [["🕚"], "", "󾀨", ["clock11"], 24, 25, 15, 0],
         "1f55b": [["🕛"], "", "󾀩", ["clock12"], 24, 26, 15, 0],
         "1f55c": [["🕜"], "", "", ["clock130"], 24, 27, 15, 0],
         "1f55d": [["🕝"], "", "", ["clock230"], 24, 28, 15, 0],
         "1f55e": [["🕞"], "", "", ["clock330"], 24, 29, 15, 0],
         "1f55f": [["🕟"], "", "", ["clock430"], 24, 30, 15, 0],
         "1f560": [["🕠"], "", "", ["clock530"], 24, 31, 15, 0],
         "1f561": [["🕡"], "", "", ["clock630"], 24, 32, 15, 0],
         "1f562": [["🕢"], "", "", ["clock730"], 24, 33, 15, 0],
         "1f563": [["🕣"], "", "", ["clock830"], 24, 34, 15, 0],
         "1f564": [["🕤"], "", "", ["clock930"], 24, 35, 15, 0],
         "1f565": [["🕥"], "", "", ["clock1030"], 24, 36, 15, 0],
         "1f566": [["🕦"], "", "", ["clock1130"], 24, 37, 15, 0],
         "1f567": [["🕧"], "", "", ["clock1230"], 24, 38, 15, 0],
         "1f56f": [["🕯"], "", "", ["candle"], 24, 39, 15, 0],
         "1f570": [["🕰"], "", "", ["mantelpiece_clock"], 24, 40, 15, 0],
         "1f573": [["🕳"], "", "", ["hole"], 25, 0, 15, 0],
         "1f574": [["🕴"], "", "", ["man_in_business_suit_levitating"], 25, 1, 15, 0],
         "1f575": [["🕵"], "", "", ["sleuth_or_spy"], 25, 2, 15, 0],
         "1f576": [["🕶"], "", "", ["dark_sunglasses"], 25, 3, 15, 0],
         "1f577": [["🕷"], "", "", ["spider"], 25, 4, 15, 0],
         "1f578": [["🕸"], "", "", ["spider_web"], 25, 5, 15, 0],
         "1f579": [["🕹"], "", "", ["joystick"], 25, 6, 15, 0],
         "1f587": [["🖇"], "", "", ["linked_paperclips"], 25, 7, 15, 0],
         "1f58a": [["🖊"], "", "", ["lower_left_ballpoint_pen"], 25, 8, 15, 0],
         "1f58b": [["🖋"], "", "", ["lower_left_fountain_pen"], 25, 9, 15, 0],
         "1f58c": [["🖌"], "", "", ["lower_left_paintbrush"], 25, 10, 15, 0],
         "1f58d": [["🖍"], "", "", ["lower_left_crayon"], 25, 11, 15, 0],
         "1f590": [["🖐"], "", "", ["raised_hand_with_fingers_splayed"], 25, 12, 15, 0],
         "1f595": [["🖕"], "", "", ["middle_finger", "reversed_hand_with_middle_finger_extended"], 25, 18, 15, 0],
         "1f596": [["🖖"], "", "", ["spock-hand"], 25, 24, 15, 0],
         "1f5a5": [["🖥"], "", "", ["desktop_computer"], 25, 30, 15, 0],
         "1f5a8": [["🖨"], "", "", ["printer"], 25, 31, 15, 0],
         "1f5b1": [["🖱"], "", "", ["three_button_mouse"], 25, 32, 15, 0],
         "1f5b2": [["🖲"], "", "", ["trackball"], 25, 33, 15, 0],
         "1f5bc": [["🖼"], "", "", ["frame_with_picture"], 25, 34, 15, 0],
         "1f5c2": [["🗂"], "", "", ["card_index_dividers"], 25, 35, 15, 0],
         "1f5c3": [["🗃"], "", "", ["card_file_box"], 25, 36, 15, 0],
         "1f5c4": [["🗄"], "", "", ["file_cabinet"], 25, 37, 15, 0],
         "1f5d1": [["🗑"], "", "", ["wastebasket"], 25, 38, 15, 0],
         "1f5d2": [["🗒"], "", "", ["spiral_note_pad"], 25, 39, 15, 0],
         "1f5d3": [["🗓"], "", "", ["spiral_calendar_pad"], 25, 40, 15, 0],
         "1f5dc": [["🗜"], "", "", ["compression"], 26, 0, 15, 0],
         "1f5dd": [["🗝"], "", "", ["old_key"], 26, 1, 15, 0],
         "1f5de": [["🗞"], "", "", ["rolled_up_newspaper"], 26, 2, 15, 0],
         "1f5e1": [["🗡"], "", "", ["dagger_knife"], 26, 3, 15, 0],
         "1f5e3": [["🗣"], "", "", ["speaking_head_in_silhouette"], 26, 4, 15, 0],
         "1f5e8": [["🗨"], "", "", ["left_speech_bubble"], 26, 5, 7, 0],
         "1f5ef": [["🗯"], "", "", ["right_anger_bubble"], 26, 6, 15, 0],
         "1f5f3": [["🗳"], "", "", ["ballot_box_with_ballot"], 26, 7, 15, 0],
         "1f5fa": [["🗺"], "", "", ["world_map"], 26, 8, 15, 0],
         "1f5fb": [["🗻"], "", "󾓃", ["mount_fuji"], 26, 9, 15, 0],
         "1f5fc": [["🗼"], "", "󾓄", ["tokyo_tower"], 26, 10, 15, 0],
         "1f5fd": [["🗽"], "", "󾓆", ["statue_of_liberty"], 26, 11, 15, 0],
         "1f5fe": [["🗾"], "", "󾓇", ["japan"], 26, 12, 15, 0],
         "1f5ff": [["🗿"], "", "󾓈", ["moyai"], 26, 13, 15, 0],
         "1f600": [["😀"], "", "", ["grinning"], 26, 14, 15, 0, ":D"],
         "1f601": [["😁"], "", "󾌳", ["grin"], 26, 15, 15, 0],
         "1f602": [["😂"], "", "󾌴", ["joy"], 26, 16, 15, 0],
         "1f603": [["😃"], "", "󾌰", ["smiley"], 26, 17, 15, 0, ":)"],
         "1f604": [["😄"], "", "󾌸", ["smile"], 26, 18, 15, 0, ":)"],
         "1f605": [["😅"], "", "󾌱", ["sweat_smile"], 26, 19, 15, 0],
         "1f606": [["😆"], "", "󾌲", ["laughing", "satisfied"], 26, 20, 15, 0],
         "1f607": [["😇"], "", "", ["innocent"], 26, 21, 15, 0],
         "1f608": [["😈"], "", "", ["smiling_imp"], 26, 22, 15, 0],
         "1f609": [["😉"], "", "󾍇", ["wink"], 26, 23, 15, 0, ";)"],
         "1f60a": [["😊"], "", "󾌵", ["blush"], 26, 24, 15, 0, ":)"],
         "1f60b": [["😋"], "", "󾌫", ["yum"], 26, 25, 15, 0],
         "1f60c": [["😌"], "", "󾌾", ["relieved"], 26, 26, 15, 0],
         "1f60d": [["😍"], "", "󾌧", ["heart_eyes"], 26, 27, 15, 0],
         "1f60e": [["😎"], "", "", ["sunglasses"], 26, 28, 15, 0],
         "1f60f": [["😏"], "", "󾍃", ["smirk"], 26, 29, 15, 0],
         "1f610": [["😐"], "", "", ["neutral_face"], 26, 30, 15, 0],
         "1f611": [["😑"], "", "", ["expressionless"], 26, 31, 15, 0],
         "1f612": [["😒"], "", "󾌦", ["unamused"], 26, 32, 15, 0, ":("],
         "1f613": [["😓"], "", "󾍄", ["sweat"], 26, 33, 15, 0],
         "1f614": [["😔"], "", "󾍀", ["pensive"], 26, 34, 15, 0],
         "1f615": [["😕"], "", "", ["confused"], 26, 35, 15, 0],
         "1f616": [["😖"], "", "󾌿", ["confounded"], 26, 36, 15, 0],
         "1f617": [["😗"], "", "", ["kissing"], 26, 37, 15, 0],
         "1f618": [["😘"], "", "󾌬", ["kissing_heart"], 26, 38, 15, 0],
         "1f619": [["😙"], "", "", ["kissing_smiling_eyes"], 26, 39, 15, 0],
         "1f61a": [["😚"], "", "󾌭", ["kissing_closed_eyes"], 26, 40, 15, 0],
         "1f61b": [["😛"], "", "", ["stuck_out_tongue"], 27, 0, 15, 0, ":p"],
         "1f61c": [["😜"], "", "󾌩", ["stuck_out_tongue_winking_eye"], 27, 1, 15, 0, ";p"],
         "1f61d": [["😝"], "", "󾌪", ["stuck_out_tongue_closed_eyes"], 27, 2, 15, 0],
         "1f61e": [["😞"], "", "󾌣", ["disappointed"], 27, 3, 15, 0, ":("],
         "1f61f": [["😟"], "", "", ["worried"], 27, 4, 15, 0],
         "1f620": [["😠"], "", "󾌠", ["angry"], 27, 5, 15, 0],
         "1f621": [["😡"], "", "󾌽", ["rage"], 27, 6, 15, 0],
         "1f622": [["😢"], "", "󾌹", ["cry"], 27, 7, 15, 0, ":'("],
         "1f623": [["😣"], "", "󾌼", ["persevere"], 27, 8, 15, 0],
         "1f624": [["😤"], "", "󾌨", ["triumph"], 27, 9, 15, 0],
         "1f625": [["😥"], "", "󾍅", ["disappointed_relieved"], 27, 10, 15, 0],
         "1f626": [["😦"], "", "", ["frowning"], 27, 11, 15, 0],
         "1f627": [["😧"], "", "", ["anguished"], 27, 12, 15, 0],
         "1f628": [["😨"], "", "󾌻", ["fearful"], 27, 13, 15, 0],
         "1f629": [["😩"], "", "󾌡", ["weary"], 27, 14, 15, 0],
         "1f62a": [["😪"], "", "󾍂", ["sleepy"], 27, 15, 15, 0],
         "1f62b": [["😫"], "", "󾍆", ["tired_face"], 27, 16, 15, 0],
         "1f62c": [["😬"], "", "", ["grimacing"], 27, 17, 15, 0],
         "1f62d": [["😭"], "", "󾌺", ["sob"], 27, 18, 15, 0, ":'("],
         "1f62e": [["😮"], "", "", ["open_mouth"], 27, 19, 15, 0],
         "1f62f": [["😯"], "", "", ["hushed"], 27, 20, 15, 0],
         "1f630": [["😰"], "", "󾌥", ["cold_sweat"], 27, 21, 15, 0],
         "1f631": [["😱"], "", "󾍁", ["scream"], 27, 22, 15, 0],
         "1f632": [["😲"], "", "󾌢", ["astonished"], 27, 23, 15, 0],
         "1f633": [["😳"], "", "󾌯", ["flushed"], 27, 24, 15, 0],
         "1f634": [["😴"], "", "", ["sleeping"], 27, 25, 15, 0],
         "1f635": [["😵"], "", "󾌤", ["dizzy_face"], 27, 26, 15, 0],
         "1f636": [["😶"], "", "", ["no_mouth"], 27, 27, 15, 0],
         "1f637": [["😷"], "", "󾌮", ["mask"], 27, 28, 15, 0],
         "1f638": [["😸"], "", "󾍉", ["smile_cat"], 27, 29, 15, 0],
         "1f639": [["😹"], "", "󾍊", ["joy_cat"], 27, 30, 15, 0],
         "1f63a": [["😺"], "", "󾍈", ["smiley_cat"], 27, 31, 15, 0],
         "1f63b": [["😻"], "", "󾍌", ["heart_eyes_cat"], 27, 32, 15, 0],
         "1f63c": [["😼"], "", "󾍏", ["smirk_cat"], 27, 33, 15, 0],
         "1f63d": [["😽"], "", "󾍋", ["kissing_cat"], 27, 34, 15, 0],
         "1f63e": [["😾"], "", "󾍎", ["pouting_cat"], 27, 35, 15, 0],
         "1f63f": [["😿"], "", "󾍍", ["crying_cat_face"], 27, 36, 15, 0],
         "1f640": [["🙀"], "", "󾍐", ["scream_cat"], 27, 37, 15, 0],
         "1f641": [["🙁"], "", "", ["slightly_frowning_face"], 27, 38, 15, 0],
         "1f642": [["🙂"], "", "", ["slightly_smiling_face"], 27, 39, 15, 0],
         "1f643": [["🙃"], "", "", ["upside_down_face"], 27, 40, 15, 0],
         "1f644": [["🙄"], "", "", ["face_with_rolling_eyes"], 28, 0, 15, 0],
         "1f645": [["🙅"], "", "󾍑", ["no_good"], 28, 1, 15, 0],
         "1f646": [["🙆"], "", "󾍒", ["ok_woman"], 28, 7, 15, 0],
         "1f647": [["🙇"], "", "󾍓", ["bow"], 28, 13, 15, 0],
         "1f648": [["🙈"], "", "󾍔", ["see_no_evil"], 28, 19, 15, 0],
         "1f649": [["🙉"], "", "󾍖", ["hear_no_evil"], 28, 20, 15, 0],
         "1f64a": [["🙊"], "", "󾍕", ["speak_no_evil"], 28, 21, 15, 0],
         "1f64b": [["🙋"], "", "󾍗", ["raising_hand"], 28, 22, 15, 0],
         "1f64c": [["🙌"], "", "󾍘", ["raised_hands"], 28, 28, 15, 0],
         "1f64d": [["🙍"], "", "󾍙", ["person_frowning"], 28, 34, 15, 0],
         "1f64e": [["🙎"], "", "󾍚", ["person_with_pouting_face"], 28, 40, 15, 0],
         "1f64f": [["🙏"], "", "󾍛", ["pray"], 29, 5, 15, 0],
         "1f680": [["🚀"], "", "󾟭", ["rocket"], 29, 11, 15, 0],
         "1f681": [["🚁"], "", "", ["helicopter"], 29, 12, 15, 0],
         "1f682": [["🚂"], "", "", ["steam_locomotive"], 29, 13, 15, 0],
         "1f683": [["🚃"], "", "󾟟", ["railway_car"], 29, 14, 15, 0],
         "1f684": [["🚄"], "", "󾟢", ["bullettrain_side"], 29, 15, 15, 0],
         "1f685": [["🚅"], "", "󾟣", ["bullettrain_front"], 29, 16, 15, 0],
         "1f686": [["🚆"], "", "", ["train2"], 29, 17, 15, 0],
         "1f687": [["🚇"], "", "󾟠", ["metro"], 29, 18, 15, 0],
         "1f688": [["🚈"], "", "", ["light_rail"], 29, 19, 15, 0],
         "1f689": [["🚉"], "", "󾟬", ["station"], 29, 20, 15, 0],
         "1f68a": [["🚊"], "", "", ["tram"], 29, 21, 15, 0],
         "1f68b": [["🚋"], "", "", ["train"], 29, 22, 15, 0],
         "1f68c": [["🚌"], "", "󾟦", ["bus"], 29, 23, 15, 0],
         "1f68d": [["🚍"], "", "", ["oncoming_bus"], 29, 24, 15, 0],
         "1f68e": [["🚎"], "", "", ["trolleybus"], 29, 25, 15, 0],
         "1f68f": [["🚏"], "", "󾟧", ["busstop"], 29, 26, 15, 0],
         "1f690": [["🚐"], "", "", ["minibus"], 29, 27, 15, 0],
         "1f691": [["🚑"], "", "󾟳", ["ambulance"], 29, 28, 15, 0],
         "1f692": [["🚒"], "", "󾟲", ["fire_engine"], 29, 29, 15, 0],
         "1f693": [["🚓"], "", "󾟴", ["police_car"], 29, 30, 15, 0],
         "1f694": [["🚔"], "", "", ["oncoming_police_car"], 29, 31, 15, 0],
         "1f695": [["🚕"], "", "󾟯", ["taxi"], 29, 32, 15, 0],
         "1f696": [["🚖"], "", "", ["oncoming_taxi"], 29, 33, 15, 0],
         "1f697": [["🚗"], "", "󾟤", ["car", "red_car"], 29, 34, 15, 0],
         "1f698": [["🚘"], "", "", ["oncoming_automobile"], 29, 35, 15, 0],
         "1f699": [["🚙"], "", "󾟥", ["blue_car"], 29, 36, 15, 0],
         "1f69a": [["🚚"], "", "󾟱", ["truck"], 29, 37, 15, 0],
         "1f69b": [["🚛"], "", "", ["articulated_lorry"], 29, 38, 15, 0],
         "1f69c": [["🚜"], "", "", ["tractor"], 29, 39, 15, 0],
         "1f69d": [["🚝"], "", "", ["monorail"], 29, 40, 15, 0],
         "1f69e": [["🚞"], "", "", ["mountain_railway"], 30, 0, 15, 0],
         "1f69f": [["🚟"], "", "", ["suspension_railway"], 30, 1, 15, 0],
         "1f6a0": [["🚠"], "", "", ["mountain_cableway"], 30, 2, 15, 0],
         "1f6a1": [["🚡"], "", "", ["aerial_tramway"], 30, 3, 15, 0],
         "1f6a2": [["🚢"], "", "󾟨", ["ship"], 30, 4, 15, 0],
         "1f6a3": [["🚣"], "", "", ["rowboat"], 30, 5, 15, 0],
         "1f6a4": [["🚤"], "", "󾟮", ["speedboat"], 30, 11, 15, 0],
         "1f6a5": [["🚥"], "", "󾟷", ["traffic_light"], 30, 12, 15, 0],
         "1f6a6": [["🚦"], "", "", ["vertical_traffic_light"], 30, 13, 15, 0],
         "1f6a7": [["🚧"], "", "󾟸", ["construction"], 30, 14, 15, 0],
         "1f6a8": [["🚨"], "", "󾟹", ["rotating_light"], 30, 15, 15, 0],
         "1f6a9": [["🚩"], "", "󾬢", ["triangular_flag_on_post"], 30, 16, 15, 0],
         "1f6aa": [["🚪"], "", "󾓳", ["door"], 30, 17, 15, 0],
         "1f6ab": [["🚫"], "", "󾭈", ["no_entry_sign"], 30, 18, 15, 0],
         "1f6ac": [["🚬"], "", "󾬞", ["smoking"], 30, 19, 15, 0],
         "1f6ad": [["🚭"], "", "󾬟", ["no_smoking"], 30, 20, 15, 0],
         "1f6ae": [["🚮"], "", "", ["put_litter_in_its_place"], 30, 21, 15, 0],
         "1f6af": [["🚯"], "", "", ["do_not_litter"], 30, 22, 15, 0],
         "1f6b0": [["🚰"], "", "", ["potable_water"], 30, 23, 15, 0],
         "1f6b1": [["🚱"], "", "", ["non-potable_water"], 30, 24, 15, 0],
         "1f6b2": [["🚲"], "", "󾟫", ["bike"], 30, 25, 15, 0],
         "1f6b3": [["🚳"], "", "", ["no_bicycles"], 30, 26, 15, 0],
         "1f6b4": [["🚴"], "", "", ["bicyclist"], 30, 27, 15, 0],
         "1f6b5": [["🚵"], "", "", ["mountain_bicyclist"], 30, 33, 15, 0],
         "1f6b6": [["🚶"], "", "󾟰", ["walking"], 30, 39, 15, 0],
         "1f6b7": [["🚷"], "", "", ["no_pedestrians"], 31, 4, 15, 0],
         "1f6b8": [["🚸"], "", "", ["children_crossing"], 31, 5, 15, 0],
         "1f6b9": [["🚹"], "", "󾬳", ["mens"], 31, 6, 15, 0],
         "1f6ba": [["🚺"], "", "󾬴", ["womens"], 31, 7, 15, 0],
         "1f6bb": [["🚻"], "", "󾔆", ["restroom"], 31, 8, 15, 0],
         "1f6bc": [["🚼"], "", "󾬵", ["baby_symbol"], 31, 9, 15, 0],
         "1f6bd": [["🚽"], "", "󾔇", ["toilet"], 31, 10, 15, 0],
         "1f6be": [["🚾"], "", "󾔈", ["wc"], 31, 11, 15, 0],
         "1f6bf": [["🚿"], "", "", ["shower"], 31, 12, 15, 0],
         "1f6c0": [["🛀"], "", "󾔅", ["bath"], 31, 13, 15, 0],
         "1f6c1": [["🛁"], "", "", ["bathtub"], 31, 19, 15, 0],
         "1f6c2": [["🛂"], "", "", ["passport_control"], 31, 20, 15, 0],
         "1f6c3": [["🛃"], "", "", ["customs"], 31, 21, 15, 0],
         "1f6c4": [["🛄"], "", "", ["baggage_claim"], 31, 22, 15, 0],
         "1f6c5": [["🛅"], "", "", ["left_luggage"], 31, 23, 15, 0],
         "1f6cb": [["🛋"], "", "", ["couch_and_lamp"], 31, 24, 15, 0],
         "1f6cc": [["🛌"], "", "", ["sleeping_accommodation"], 31, 25, 15, 0],
         "1f6cd": [["🛍"], "", "", ["shopping_bags"], 31, 26, 15, 0],
         "1f6ce": [["🛎"], "", "", ["bellhop_bell"], 31, 27, 15, 0],
         "1f6cf": [["🛏"], "", "", ["bed"], 31, 28, 15, 0],
         "1f6d0": [["🛐"], "", "", ["place_of_worship"], 31, 29, 15, 0],
         "1f6e0": [["🛠"], "", "", ["hammer_and_wrench"], 31, 30, 15, 0],
         "1f6e1": [["🛡"], "", "", ["shield"], 31, 31, 15, 0],
         "1f6e2": [["🛢"], "", "", ["oil_drum"], 31, 32, 15, 0],
         "1f6e3": [["🛣"], "", "", ["motorway"], 31, 33, 15, 0],
         "1f6e4": [["🛤"], "", "", ["railway_track"], 31, 34, 15, 0],
         "1f6e5": [["🛥"], "", "", ["motor_boat"], 31, 35, 15, 0],
         "1f6e9": [["🛩"], "", "", ["small_airplane"], 31, 36, 15, 0],
         "1f6eb": [["🛫"], "", "", ["airplane_departure"], 31, 37, 15, 0],
         "1f6ec": [["🛬"], "", "", ["airplane_arriving"], 31, 38, 15, 0],
         "1f6f0": [["🛰"], "", "", ["satellite"], 31, 39, 15, 0],
         "1f6f3": [["🛳"], "", "", ["passenger_ship"], 31, 40, 15, 0],
         "1f910": [["🤐"], "", "", ["zipper_mouth_face"], 32, 0, 15, 0],
         "1f911": [["🤑"], "", "", ["money_mouth_face"], 32, 1, 15, 0],
         "1f912": [["🤒"], "", "", ["face_with_thermometer"], 32, 2, 15, 0],
         "1f913": [["🤓"], "", "", ["nerd_face"], 32, 3, 15, 0],
         "1f914": [["🤔"], "", "", ["thinking_face"], 32, 4, 15, 0],
         "1f915": [["🤕"], "", "", ["face_with_head_bandage"], 32, 5, 15, 0],
         "1f916": [["🤖"], "", "", ["robot_face"], 32, 6, 15, 0],
         "1f917": [["🤗"], "", "", ["hugging_face"], 32, 7, 15, 0],
         "1f918": [["🤘"], "", "", ["the_horns", "sign_of_the_horns"], 32, 8, 15, 0],
         "1f980": [["🦀"], "", "", ["crab"], 32, 14, 15, 0],
         "1f981": [["🦁"], "", "", ["lion_face"], 32, 15, 15, 0],
         "1f982": [["🦂"], "", "", ["scorpion"], 32, 16, 15, 0],
         "1f983": [["🦃"], "", "", ["turkey"], 32, 17, 15, 0],
         "1f984": [["🦄"], "", "", ["unicorn_face"], 32, 18, 15, 0],
         "1f9c0": [["🧀"], "", "", ["cheese_wedge"], 32, 19, 15, 0],
         "0023-20e3": [["#️⃣", "#⃣"], "", "󾠬", ["hash"], 32, 20, 15, 0],
         "002a-20e3": [["\\u002A⃣"], "", "", ["keycap_star"], 32, 21, 15, 0],
         "0030-20e3": [["0️⃣", "0⃣"], "", "󾠷", ["zero"], 32, 22, 15, 0],
         "0031-20e3": [["1️⃣", "1⃣"], "", "󾠮", ["one"], 32, 23, 15, 0],
         "0032-20e3": [["2️⃣", "2⃣"], "", "󾠯", ["two"], 32, 24, 15, 0],
         "0033-20e3": [["3️⃣", "3⃣"], "", "󾠰", ["three"], 32, 25, 15, 0],
         "0034-20e3": [["4️⃣", "4⃣"], "", "󾠱", ["four"], 32, 26, 15, 0],
         "0035-20e3": [["5️⃣", "5⃣"], "", "󾠲", ["five"], 32, 27, 15, 0],
         "0036-20e3": [["6️⃣", "6⃣"], "", "󾠳", ["six"], 32, 28, 15, 0],
         "0037-20e3": [["7️⃣", "7⃣"], "", "󾠴", ["seven"], 32, 29, 15, 0],
         "0038-20e3": [["8️⃣", "8⃣"], "", "󾠵", ["eight"], 32, 30, 15, 0],
         "0039-20e3": [["9️⃣", "9⃣"], "", "󾠶", ["nine"], 32, 31, 15, 0],
         "1f1e6-1f1e8": [["🇦🇨"], "", "", ["flag-ac"], 32, 32, 13, 0],
         "1f1e6-1f1e9": [["🇦🇩"], "", "", ["flag-ad"], 32, 33, 15, 0],
         "1f1e6-1f1ea": [["🇦🇪"], "", "", ["flag-ae"], 32, 34, 15, 0],
         "1f1e6-1f1eb": [["🇦🇫"], "", "", ["flag-af"], 32, 35, 15, 0],
         "1f1e6-1f1ec": [["🇦🇬"], "", "", ["flag-ag"], 32, 36, 15, 0],
         "1f1e6-1f1ee": [["🇦🇮"], "", "", ["flag-ai"], 32, 37, 15, 0],
         "1f1e6-1f1f1": [["🇦🇱"], "", "", ["flag-al"], 32, 38, 15, 0],
         "1f1e6-1f1f2": [["🇦🇲"], "", "", ["flag-am"], 32, 39, 15, 0],
         "1f1e6-1f1f4": [["🇦🇴"], "", "", ["flag-ao"], 32, 40, 15, 0],
         "1f1e6-1f1f6": [["🇦🇶"], "", "", ["flag-aq"], 33, 0, 13, 0],
         "1f1e6-1f1f7": [["🇦🇷"], "", "", ["flag-ar"], 33, 1, 15, 0],
         "1f1e6-1f1f8": [["🇦🇸"], "", "", ["flag-as"], 33, 2, 15, 0],
         "1f1e6-1f1f9": [["🇦🇹"], "", "", ["flag-at"], 33, 3, 15, 0],
         "1f1e6-1f1fa": [["🇦🇺"], "", "", ["flag-au"], 33, 4, 15, 0],
         "1f1e6-1f1fc": [["🇦🇼"], "", "", ["flag-aw"], 33, 5, 15, 0],
         "1f1e6-1f1fd": [["🇦🇽"], "", "", ["flag-ax"], 33, 6, 15, 0],
         "1f1e6-1f1ff": [["🇦🇿"], "", "", ["flag-az"], 33, 7, 15, 0],
         "1f1e7-1f1e6": [["🇧🇦"], "", "", ["flag-ba"], 33, 8, 15, 0],
         "1f1e7-1f1e7": [["🇧🇧"], "", "", ["flag-bb"], 33, 9, 15, 0],
         "1f1e7-1f1e9": [["🇧🇩"], "", "", ["flag-bd"], 33, 10, 15, 0],
         "1f1e7-1f1ea": [["🇧🇪"], "", "", ["flag-be"], 33, 11, 15, 0],
         "1f1e7-1f1eb": [["🇧🇫"], "", "", ["flag-bf"], 33, 12, 15, 0],
         "1f1e7-1f1ec": [["🇧🇬"], "", "", ["flag-bg"], 33, 13, 15, 0],
         "1f1e7-1f1ed": [["🇧🇭"], "", "", ["flag-bh"], 33, 14, 15, 0],
         "1f1e7-1f1ee": [["🇧🇮"], "", "", ["flag-bi"], 33, 15, 15, 0],
         "1f1e7-1f1ef": [["🇧🇯"], "", "", ["flag-bj"], 33, 16, 15, 0],
         "1f1e7-1f1f1": [["🇧🇱"], "", "", ["flag-bl"], 33, 17, 13, 0],
         "1f1e7-1f1f2": [["🇧🇲"], "", "", ["flag-bm"], 33, 18, 15, 0],
         "1f1e7-1f1f3": [["🇧🇳"], "", "", ["flag-bn"], 33, 19, 15, 0],
         "1f1e7-1f1f4": [["🇧🇴"], "", "", ["flag-bo"], 33, 20, 15, 0],
         "1f1e7-1f1f6": [["🇧🇶"], "", "", ["flag-bq"], 33, 21, 13, 0],
         "1f1e7-1f1f7": [["🇧🇷"], "", "", ["flag-br"], 33, 22, 15, 0],
         "1f1e7-1f1f8": [["🇧🇸"], "", "", ["flag-bs"], 33, 23, 15, 0],
         "1f1e7-1f1f9": [["🇧🇹"], "", "", ["flag-bt"], 33, 24, 15, 0],
         "1f1e7-1f1fb": [["🇧🇻"], "", "", ["flag-bv"], 33, 25, 13, 0],
         "1f1e7-1f1fc": [["🇧🇼"], "", "", ["flag-bw"], 33, 26, 15, 0],
         "1f1e7-1f1fe": [["🇧🇾"], "", "", ["flag-by"], 33, 27, 15, 0],
         "1f1e7-1f1ff": [["🇧🇿"], "", "", ["flag-bz"], 33, 28, 15, 0],
         "1f1e8-1f1e6": [["🇨🇦"], "", "", ["flag-ca"], 33, 29, 15, 0],
         "1f1e8-1f1e8": [["🇨🇨"], "", "", ["flag-cc"], 33, 30, 15, 0],
         "1f1e8-1f1e9": [["🇨🇩"], "", "", ["flag-cd"], 33, 31, 15, 0],
         "1f1e8-1f1eb": [["🇨🇫"], "", "", ["flag-cf"], 33, 32, 15, 0],
         "1f1e8-1f1ec": [["🇨🇬"], "", "", ["flag-cg"], 33, 33, 15, 0],
         "1f1e8-1f1ed": [["🇨🇭"], "", "", ["flag-ch"], 33, 34, 15, 0],
         "1f1e8-1f1ee": [["🇨🇮"], "", "", ["flag-ci"], 33, 35, 15, 0],
         "1f1e8-1f1f0": [["🇨🇰"], "", "", ["flag-ck"], 33, 36, 15, 0],
         "1f1e8-1f1f1": [["🇨🇱"], "", "", ["flag-cl"], 33, 37, 15, 0],
         "1f1e8-1f1f2": [["🇨🇲"], "", "", ["flag-cm"], 33, 38, 15, 0],
         "1f1e8-1f1f3": [["🇨🇳"], "", "󾓭", ["flag-cn", "cn"], 33, 39, 15, 0],
         "1f1e8-1f1f4": [["🇨🇴"], "", "", ["flag-co"], 33, 40, 15, 0],
         "1f1e8-1f1f5": [["🇨🇵"], "", "", ["flag-cp"], 34, 0, 13, 0],
         "1f1e8-1f1f7": [["🇨🇷"], "", "", ["flag-cr"], 34, 1, 15, 0],
         "1f1e8-1f1fa": [["🇨🇺"], "", "", ["flag-cu"], 34, 2, 15, 0],
         "1f1e8-1f1fb": [["🇨🇻"], "", "", ["flag-cv"], 34, 3, 15, 0],
         "1f1e8-1f1fc": [["🇨🇼"], "", "", ["flag-cw"], 34, 4, 15, 0],
         "1f1e8-1f1fd": [["🇨🇽"], "", "", ["flag-cx"], 34, 5, 15, 0],
         "1f1e8-1f1fe": [["🇨🇾"], "", "", ["flag-cy"], 34, 6, 15, 0],
         "1f1e8-1f1ff": [["🇨🇿"], "", "", ["flag-cz"], 34, 7, 15, 0],
         "1f1e9-1f1ea": [["🇩🇪"], "", "󾓨", ["flag-de", "de"], 34, 8, 15, 0],
         "1f1e9-1f1ec": [["🇩🇬"], "", "", ["flag-dg"], 34, 9, 13, 0],
         "1f1e9-1f1ef": [["🇩🇯"], "", "", ["flag-dj"], 34, 10, 15, 0],
         "1f1e9-1f1f0": [["🇩🇰"], "", "", ["flag-dk"], 34, 11, 15, 0],
         "1f1e9-1f1f2": [["🇩🇲"], "", "", ["flag-dm"], 34, 12, 15, 0],
         "1f1e9-1f1f4": [["🇩🇴"], "", "", ["flag-do"], 34, 13, 15, 0],
         "1f1e9-1f1ff": [["🇩🇿"], "", "", ["flag-dz"], 34, 14, 15, 0],
         "1f1ea-1f1e6": [["🇪🇦"], "", "", ["flag-ea"], 34, 15, 13, 0],
         "1f1ea-1f1e8": [["🇪🇨"], "", "", ["flag-ec"], 34, 16, 15, 0],
         "1f1ea-1f1ea": [["🇪🇪"], "", "", ["flag-ee"], 34, 17, 15, 0],
         "1f1ea-1f1ec": [["🇪🇬"], "", "", ["flag-eg"], 34, 18, 15, 0],
         "1f1ea-1f1ed": [["🇪🇭"], "", "", ["flag-eh"], 34, 19, 13, 0],
         "1f1ea-1f1f7": [["🇪🇷"], "", "", ["flag-er"], 34, 20, 15, 0],
         "1f1ea-1f1f8": [["🇪🇸"], "", "󾓫", ["flag-es", "es"], 34, 21, 15, 0],
         "1f1ea-1f1f9": [["🇪🇹"], "", "", ["flag-et"], 34, 22, 15, 0],
         "1f1ea-1f1fa": [["🇪🇺"], "", "", ["flag-eu"], 34, 23, 15, 0],
         "1f1eb-1f1ee": [["🇫🇮"], "", "", ["flag-fi"], 34, 24, 15, 0],
         "1f1eb-1f1ef": [["🇫🇯"], "", "", ["flag-fj"], 34, 25, 15, 0],
         "1f1eb-1f1f0": [["🇫🇰"], "", "", ["flag-fk"], 34, 26, 13, 0],
         "1f1eb-1f1f2": [["🇫🇲"], "", "", ["flag-fm"], 34, 27, 15, 0],
         "1f1eb-1f1f4": [["🇫🇴"], "", "", ["flag-fo"], 34, 28, 15, 0],
         "1f1eb-1f1f7": [["🇫🇷"], "", "󾓧", ["flag-fr", "fr"], 34, 29, 15, 0],
         "1f1ec-1f1e6": [["🇬🇦"], "", "", ["flag-ga"], 34, 30, 15, 0],
         "1f1ec-1f1e7": [["🇬🇧"], "", "󾓪", ["flag-gb", "gb", "uk"], 34, 31, 15, 0],
         "1f1ec-1f1e9": [["🇬🇩"], "", "", ["flag-gd"], 34, 32, 15, 0],
         "1f1ec-1f1ea": [["🇬🇪"], "", "", ["flag-ge"], 34, 33, 15, 0],
         "1f1ec-1f1eb": [["🇬🇫"], "", "", ["flag-gf"], 34, 34, 13, 0],
         "1f1ec-1f1ec": [["🇬🇬"], "", "", ["flag-gg"], 34, 35, 15, 0],
         "1f1ec-1f1ed": [["🇬🇭"], "", "", ["flag-gh"], 34, 36, 15, 0],
         "1f1ec-1f1ee": [["🇬🇮"], "", "", ["flag-gi"], 34, 37, 15, 0],
         "1f1ec-1f1f1": [["🇬🇱"], "", "", ["flag-gl"], 34, 38, 15, 0],
         "1f1ec-1f1f2": [["🇬🇲"], "", "", ["flag-gm"], 34, 39, 15, 0],
         "1f1ec-1f1f3": [["🇬🇳"], "", "", ["flag-gn"], 34, 40, 15, 0],
         "1f1ec-1f1f5": [["🇬🇵"], "", "", ["flag-gp"], 35, 0, 13, 0],
         "1f1ec-1f1f6": [["🇬🇶"], "", "", ["flag-gq"], 35, 1, 15, 0],
         "1f1ec-1f1f7": [["🇬🇷"], "", "", ["flag-gr"], 35, 2, 15, 0],
         "1f1ec-1f1f8": [["🇬🇸"], "", "", ["flag-gs"], 35, 3, 13, 0],
         "1f1ec-1f1f9": [["🇬🇹"], "", "", ["flag-gt"], 35, 4, 15, 0],
         "1f1ec-1f1fa": [["🇬🇺"], "", "", ["flag-gu"], 35, 5, 15, 0],
         "1f1ec-1f1fc": [["🇬🇼"], "", "", ["flag-gw"], 35, 6, 15, 0],
         "1f1ec-1f1fe": [["🇬🇾"], "", "", ["flag-gy"], 35, 7, 15, 0],
         "1f1ed-1f1f0": [["🇭🇰"], "", "", ["flag-hk"], 35, 8, 15, 0],
         "1f1ed-1f1f2": [["🇭🇲"], "", "", ["flag-hm"], 35, 9, 13, 0],
         "1f1ed-1f1f3": [["🇭🇳"], "", "", ["flag-hn"], 35, 10, 15, 0],
         "1f1ed-1f1f7": [["🇭🇷"], "", "", ["flag-hr"], 35, 11, 15, 0],
         "1f1ed-1f1f9": [["🇭🇹"], "", "", ["flag-ht"], 35, 12, 15, 0],
         "1f1ed-1f1fa": [["🇭🇺"], "", "", ["flag-hu"], 35, 13, 15, 0],
         "1f1ee-1f1e8": [["🇮🇨"], "", "", ["flag-ic"], 35, 14, 13, 0],
         "1f1ee-1f1e9": [["🇮🇩"], "", "", ["flag-id"], 35, 15, 15, 0],
         "1f1ee-1f1ea": [["🇮🇪"], "", "", ["flag-ie"], 35, 16, 15, 0],
         "1f1ee-1f1f1": [["🇮🇱"], "", "", ["flag-il"], 35, 17, 15, 0],
         "1f1ee-1f1f2": [["🇮🇲"], "", "", ["flag-im"], 35, 18, 15, 0],
         "1f1ee-1f1f3": [["🇮🇳"], "", "", ["flag-in"], 35, 19, 15, 0],
         "1f1ee-1f1f4": [["🇮🇴"], "", "", ["flag-io"], 35, 20, 15, 0],
         "1f1ee-1f1f6": [["🇮🇶"], "", "", ["flag-iq"], 35, 21, 15, 0],
         "1f1ee-1f1f7": [["🇮🇷"], "", "", ["flag-ir"], 35, 22, 15, 0],
         "1f1ee-1f1f8": [["🇮🇸"], "", "", ["flag-is"], 35, 23, 15, 0],
         "1f1ee-1f1f9": [["🇮🇹"], "", "󾓩", ["flag-it", "it"], 35, 24, 15, 0],
         "1f1ef-1f1ea": [["🇯🇪"], "", "", ["flag-je"], 35, 25, 15, 0],
         "1f1ef-1f1f2": [["🇯🇲"], "", "", ["flag-jm"], 35, 26, 15, 0],
         "1f1ef-1f1f4": [["🇯🇴"], "", "", ["flag-jo"], 35, 27, 15, 0],
         "1f1ef-1f1f5": [["🇯🇵"], "", "󾓥", ["flag-jp", "jp"], 35, 28, 15, 0],
         "1f1f0-1f1ea": [["🇰🇪"], "", "", ["flag-ke"], 35, 29, 15, 0],
         "1f1f0-1f1ec": [["🇰🇬"], "", "", ["flag-kg"], 35, 30, 15, 0],
         "1f1f0-1f1ed": [["🇰🇭"], "", "", ["flag-kh"], 35, 31, 15, 0],
         "1f1f0-1f1ee": [["🇰🇮"], "", "", ["flag-ki"], 35, 32, 15, 0],
         "1f1f0-1f1f2": [["🇰🇲"], "", "", ["flag-km"], 35, 33, 15, 0],
         "1f1f0-1f1f3": [["🇰🇳"], "", "", ["flag-kn"], 35, 34, 15, 0],
         "1f1f0-1f1f5": [["🇰🇵"], "", "", ["flag-kp"], 35, 35, 15, 0],
         "1f1f0-1f1f7": [["🇰🇷"], "", "󾓮", ["flag-kr", "kr"], 35, 36, 15, 0],
         "1f1f0-1f1fc": [["🇰🇼"], "", "", ["flag-kw"], 35, 37, 15, 0],
         "1f1f0-1f1fe": [["🇰🇾"], "", "", ["flag-ky"], 35, 38, 15, 0],
         "1f1f0-1f1ff": [["🇰🇿"], "", "", ["flag-kz"], 35, 39, 15, 0],
         "1f1f1-1f1e6": [["🇱🇦"], "", "", ["flag-la"], 35, 40, 15, 0],
         "1f1f1-1f1e7": [["🇱🇧"], "", "", ["flag-lb"], 36, 0, 15, 0],
         "1f1f1-1f1e8": [["🇱🇨"], "", "", ["flag-lc"], 36, 1, 15, 0],
         "1f1f1-1f1ee": [["🇱🇮"], "", "", ["flag-li"], 36, 2, 15, 0],
         "1f1f1-1f1f0": [["🇱🇰"], "", "", ["flag-lk"], 36, 3, 15, 0],
         "1f1f1-1f1f7": [["🇱🇷"], "", "", ["flag-lr"], 36, 4, 15, 0],
         "1f1f1-1f1f8": [["🇱🇸"], "", "", ["flag-ls"], 36, 5, 15, 0],
         "1f1f1-1f1f9": [["🇱🇹"], "", "", ["flag-lt"], 36, 6, 15, 0],
         "1f1f1-1f1fa": [["🇱🇺"], "", "", ["flag-lu"], 36, 7, 15, 0],
         "1f1f1-1f1fb": [["🇱🇻"], "", "", ["flag-lv"], 36, 8, 15, 0],
         "1f1f1-1f1fe": [["🇱🇾"], "", "", ["flag-ly"], 36, 9, 15, 0],
         "1f1f2-1f1e6": [["🇲🇦"], "", "", ["flag-ma"], 36, 10, 15, 0],
         "1f1f2-1f1e8": [["🇲🇨"], "", "", ["flag-mc"], 36, 11, 15, 0],
         "1f1f2-1f1e9": [["🇲🇩"], "", "", ["flag-md"], 36, 12, 15, 0],
         "1f1f2-1f1ea": [["🇲🇪"], "", "", ["flag-me"], 36, 13, 15, 0],
         "1f1f2-1f1eb": [["🇲🇫"], "", "", ["flag-mf"], 36, 14, 13, 0],
         "1f1f2-1f1ec": [["🇲🇬"], "", "", ["flag-mg"], 36, 15, 15, 0],
         "1f1f2-1f1ed": [["🇲🇭"], "", "", ["flag-mh"], 36, 16, 15, 0],
         "1f1f2-1f1f0": [["🇲🇰"], "", "", ["flag-mk"], 36, 17, 15, 0],
         "1f1f2-1f1f1": [["🇲🇱"], "", "", ["flag-ml"], 36, 18, 15, 0],
         "1f1f2-1f1f2": [["🇲🇲"], "", "", ["flag-mm"], 36, 19, 15, 0],
         "1f1f2-1f1f3": [["🇲🇳"], "", "", ["flag-mn"], 36, 20, 15, 0],
         "1f1f2-1f1f4": [["🇲🇴"], "", "", ["flag-mo"], 36, 21, 15, 0],
         "1f1f2-1f1f5": [["🇲🇵"], "", "", ["flag-mp"], 36, 22, 15, 0],
         "1f1f2-1f1f6": [["🇲🇶"], "", "", ["flag-mq"], 36, 23, 13, 0],
         "1f1f2-1f1f7": [["🇲🇷"], "", "", ["flag-mr"], 36, 24, 15, 0],
         "1f1f2-1f1f8": [["🇲🇸"], "", "", ["flag-ms"], 36, 25, 15, 0],
         "1f1f2-1f1f9": [["🇲🇹"], "", "", ["flag-mt"], 36, 26, 15, 0],
         "1f1f2-1f1fa": [["🇲🇺"], "", "", ["flag-mu"], 36, 27, 15, 0],
         "1f1f2-1f1fb": [["🇲🇻"], "", "", ["flag-mv"], 36, 28, 15, 0],
         "1f1f2-1f1fc": [["🇲🇼"], "", "", ["flag-mw"], 36, 29, 15, 0],
         "1f1f2-1f1fd": [["🇲🇽"], "", "", ["flag-mx"], 36, 30, 15, 0],
         "1f1f2-1f1fe": [["🇲🇾"], "", "", ["flag-my"], 36, 31, 15, 0],
         "1f1f2-1f1ff": [["🇲🇿"], "", "", ["flag-mz"], 36, 32, 15, 0],
         "1f1f3-1f1e6": [["🇳🇦"], "", "", ["flag-na"], 36, 33, 15, 0],
         "1f1f3-1f1e8": [["🇳🇨"], "", "", ["flag-nc"], 36, 34, 13, 0],
         "1f1f3-1f1ea": [["🇳🇪"], "", "", ["flag-ne"], 36, 35, 15, 0],
         "1f1f3-1f1eb": [["🇳🇫"], "", "", ["flag-nf"], 36, 36, 15, 0],
         "1f1f3-1f1ec": [["🇳🇬"], "", "", ["flag-ng"], 36, 37, 15, 0],
         "1f1f3-1f1ee": [["🇳🇮"], "", "", ["flag-ni"], 36, 38, 15, 0],
         "1f1f3-1f1f1": [["🇳🇱"], "", "", ["flag-nl"], 36, 39, 15, 0],
         "1f1f3-1f1f4": [["🇳🇴"], "", "", ["flag-no"], 36, 40, 15, 0],
         "1f1f3-1f1f5": [["🇳🇵"], "", "", ["flag-np"], 37, 0, 15, 0],
         "1f1f3-1f1f7": [["🇳🇷"], "", "", ["flag-nr"], 37, 1, 15, 0],
         "1f1f3-1f1fa": [["🇳🇺"], "", "", ["flag-nu"], 37, 2, 15, 0],
         "1f1f3-1f1ff": [["🇳🇿"], "", "", ["flag-nz"], 37, 3, 15, 0],
         "1f1f4-1f1f2": [["🇴🇲"], "", "", ["flag-om"], 37, 4, 15, 0],
         "1f1f5-1f1e6": [["🇵🇦"], "", "", ["flag-pa"], 37, 5, 15, 0],
         "1f1f5-1f1ea": [["🇵🇪"], "", "", ["flag-pe"], 37, 6, 15, 0],
         "1f1f5-1f1eb": [["🇵🇫"], "", "", ["flag-pf"], 37, 7, 15, 0],
         "1f1f5-1f1ec": [["🇵🇬"], "", "", ["flag-pg"], 37, 8, 15, 0],
         "1f1f5-1f1ed": [["🇵🇭"], "", "", ["flag-ph"], 37, 9, 15, 0],
         "1f1f5-1f1f0": [["🇵🇰"], "", "", ["flag-pk"], 37, 10, 15, 0],
         "1f1f5-1f1f1": [["🇵🇱"], "", "", ["flag-pl"], 37, 11, 15, 0],
         "1f1f5-1f1f2": [["🇵🇲"], "", "", ["flag-pm"], 37, 12, 13, 0],
         "1f1f5-1f1f3": [["🇵🇳"], "", "", ["flag-pn"], 37, 13, 15, 0],
         "1f1f5-1f1f7": [["🇵🇷"], "", "", ["flag-pr"], 37, 14, 15, 0],
         "1f1f5-1f1f8": [["🇵🇸"], "", "", ["flag-ps"], 37, 15, 15, 0],
         "1f1f5-1f1f9": [["🇵🇹"], "", "", ["flag-pt"], 37, 16, 15, 0],
         "1f1f5-1f1fc": [["🇵🇼"], "", "", ["flag-pw"], 37, 17, 15, 0],
         "1f1f5-1f1fe": [["🇵🇾"], "", "", ["flag-py"], 37, 18, 15, 0],
         "1f1f6-1f1e6": [["🇶🇦"], "", "", ["flag-qa"], 37, 19, 15, 0],
         "1f1f7-1f1ea": [["🇷🇪"], "", "", ["flag-re"], 37, 20, 13, 0],
         "1f1f7-1f1f4": [["🇷🇴"], "", "", ["flag-ro"], 37, 21, 15, 0],
         "1f1f7-1f1f8": [["🇷🇸"], "", "", ["flag-rs"], 37, 22, 15, 0],
         "1f1f7-1f1fa": [["🇷🇺"], "", "󾓬", ["flag-ru", "ru"], 37, 23, 15, 0],
         "1f1f7-1f1fc": [["🇷🇼"], "", "", ["flag-rw"], 37, 24, 15, 0],
         "1f1f8-1f1e6": [["🇸🇦"], "", "", ["flag-sa"], 37, 25, 15, 0],
         "1f1f8-1f1e7": [["🇸🇧"], "", "", ["flag-sb"], 37, 26, 15, 0],
         "1f1f8-1f1e8": [["🇸🇨"], "", "", ["flag-sc"], 37, 27, 15, 0],
         "1f1f8-1f1e9": [["🇸🇩"], "", "", ["flag-sd"], 37, 28, 15, 0],
         "1f1f8-1f1ea": [["🇸🇪"], "", "", ["flag-se"], 37, 29, 15, 0],
         "1f1f8-1f1ec": [["🇸🇬"], "", "", ["flag-sg"], 37, 30, 15, 0],
         "1f1f8-1f1ed": [["🇸🇭"], "", "", ["flag-sh"], 37, 31, 13, 0],
         "1f1f8-1f1ee": [["🇸🇮"], "", "", ["flag-si"], 37, 32, 15, 0],
         "1f1f8-1f1ef": [["🇸🇯"], "", "", ["flag-sj"], 37, 33, 13, 0],
         "1f1f8-1f1f0": [["🇸🇰"], "", "", ["flag-sk"], 37, 34, 15, 0],
         "1f1f8-1f1f1": [["🇸🇱"], "", "", ["flag-sl"], 37, 35, 15, 0],
         "1f1f8-1f1f2": [["🇸🇲"], "", "", ["flag-sm"], 37, 36, 15, 0],
         "1f1f8-1f1f3": [["🇸🇳"], "", "", ["flag-sn"], 37, 37, 15, 0],
         "1f1f8-1f1f4": [["🇸🇴"], "", "", ["flag-so"], 37, 38, 15, 0],
         "1f1f8-1f1f7": [["🇸🇷"], "", "", ["flag-sr"], 37, 39, 15, 0],
         "1f1f8-1f1f8": [["🇸🇸"], "", "", ["flag-ss"], 37, 40, 15, 0],
         "1f1f8-1f1f9": [["🇸🇹"], "", "", ["flag-st"], 38, 0, 15, 0],
         "1f1f8-1f1fb": [["🇸🇻"], "", "", ["flag-sv"], 38, 1, 15, 0],
         "1f1f8-1f1fd": [["🇸🇽"], "", "", ["flag-sx"], 38, 2, 15, 0],
         "1f1f8-1f1fe": [["🇸🇾"], "", "", ["flag-sy"], 38, 3, 15, 0],
         "1f1f8-1f1ff": [["🇸🇿"], "", "", ["flag-sz"], 38, 4, 15, 0],
         "1f1f9-1f1e6": [["🇹🇦"], "", "", ["flag-ta"], 38, 5, 13, 0],
         "1f1f9-1f1e8": [["🇹🇨"], "", "", ["flag-tc"], 38, 6, 15, 0],
         "1f1f9-1f1e9": [["🇹🇩"], "", "", ["flag-td"], 38, 7, 15, 0],
         "1f1f9-1f1eb": [["🇹🇫"], "", "", ["flag-tf"], 38, 8, 13, 0],
         "1f1f9-1f1ec": [["🇹🇬"], "", "", ["flag-tg"], 38, 9, 15, 0],
         "1f1f9-1f1ed": [["🇹🇭"], "", "", ["flag-th"], 38, 10, 15, 0],
         "1f1f9-1f1ef": [["🇹🇯"], "", "", ["flag-tj"], 38, 11, 15, 0],
         "1f1f9-1f1f0": [["🇹🇰"], "", "", ["flag-tk"], 38, 12, 15, 0],
         "1f1f9-1f1f1": [["🇹🇱"], "", "", ["flag-tl"], 38, 13, 15, 0],
         "1f1f9-1f1f2": [["🇹🇲"], "", "", ["flag-tm"], 38, 14, 15, 0],
         "1f1f9-1f1f3": [["🇹🇳"], "", "", ["flag-tn"], 38, 15, 15, 0],
         "1f1f9-1f1f4": [["🇹🇴"], "", "", ["flag-to"], 38, 16, 15, 0],
         "1f1f9-1f1f7": [["🇹🇷"], "", "", ["flag-tr"], 38, 17, 15, 0],
         "1f1f9-1f1f9": [["🇹🇹"], "", "", ["flag-tt"], 38, 18, 15, 0],
         "1f1f9-1f1fb": [["🇹🇻"], "", "", ["flag-tv"], 38, 19, 15, 0],
         "1f1f9-1f1fc": [["🇹🇼"], "", "", ["flag-tw"], 38, 20, 15, 0],
         "1f1f9-1f1ff": [["🇹🇿"], "", "", ["flag-tz"], 38, 21, 15, 0],
         "1f1fa-1f1e6": [["🇺🇦"], "", "", ["flag-ua"], 38, 22, 15, 0],
         "1f1fa-1f1ec": [["🇺🇬"], "", "", ["flag-ug"], 38, 23, 15, 0],
         "1f1fa-1f1f2": [["🇺🇲"], "", "", ["flag-um"], 38, 24, 13, 0],
         "1f1fa-1f1f8": [["🇺🇸"], "", "󾓦", ["flag-us", "us"], 38, 25, 15, 0],
         "1f1fa-1f1fe": [["🇺🇾"], "", "", ["flag-uy"], 38, 26, 15, 0],
         "1f1fa-1f1ff": [["🇺🇿"], "", "", ["flag-uz"], 38, 27, 15, 0],
         "1f1fb-1f1e6": [["🇻🇦"], "", "", ["flag-va"], 38, 28, 15, 0],
         "1f1fb-1f1e8": [["🇻🇨"], "", "", ["flag-vc"], 38, 29, 15, 0],
         "1f1fb-1f1ea": [["🇻🇪"], "", "", ["flag-ve"], 38, 30, 15, 0],
         "1f1fb-1f1ec": [["🇻🇬"], "", "", ["flag-vg"], 38, 31, 15, 0],
         "1f1fb-1f1ee": [["🇻🇮"], "", "", ["flag-vi"], 38, 32, 15, 0],
         "1f1fb-1f1f3": [["🇻🇳"], "", "", ["flag-vn"], 38, 33, 15, 0],
         "1f1fb-1f1fa": [["🇻🇺"], "", "", ["flag-vu"], 38, 34, 15, 0],
         "1f1fc-1f1eb": [["🇼🇫"], "", "", ["flag-wf"], 38, 35, 13, 0],
         "1f1fc-1f1f8": [["🇼🇸"], "", "", ["flag-ws"], 38, 36, 15, 0],
         "1f1fd-1f1f0": [["🇽🇰"], "", "", ["flag-xk"], 38, 37, 13, 0],
         "1f1fe-1f1ea": [["🇾🇪"], "", "", ["flag-ye"], 38, 38, 15, 0],
         "1f1fe-1f1f9": [["🇾🇹"], "", "", ["flag-yt"], 38, 39, 13, 0],
         "1f1ff-1f1e6": [["🇿🇦"], "", "", ["flag-za"], 38, 40, 15, 0],
         "1f1ff-1f1f2": [["🇿🇲"], "", "", ["flag-zm"], 39, 0, 15, 0],
         "1f1ff-1f1fc": [["🇿🇼"], "", "", ["flag-zw"], 39, 1, 15, 0],
         "1f468-200d-1f468-200d-1f466": [["👨‍👨‍👦"], "", "", ["man-man-boy"], 39, 2, 15, 0],
         "1f468-200d-1f468-200d-1f466-200d-1f466": [["👨‍👨‍👦‍👦"], "", "", ["man-man-boy-boy"], 39, 3, 15, 0],
         "1f468-200d-1f468-200d-1f467": [["👨‍👨‍👧"], "", "", ["man-man-girl"], 39, 4, 15, 0],
         "1f468-200d-1f468-200d-1f467-200d-1f466": [["👨‍👨‍👧‍👦"], "", "", ["man-man-girl-boy"], 39, 5, 15, 0],
         "1f468-200d-1f468-200d-1f467-200d-1f467": [["👨‍👨‍👧‍👧"], "", "", ["man-man-girl-girl"], 39, 6, 15, 0],
         "1f468-200d-1f469-200d-1f466-200d-1f466": [["👨‍👩‍👦‍👦"], "", "", ["man-woman-boy-boy"], 39, 7, 15, 0],
         "1f468-200d-1f469-200d-1f467": [["👨‍👩‍👧"], "", "", ["man-woman-girl"], 39, 8, 15, 0],
         "1f468-200d-1f469-200d-1f467-200d-1f466": [["👨‍👩‍👧‍👦"], "", "", ["man-woman-girl-boy"], 39, 9, 15, 0],
         "1f468-200d-1f469-200d-1f467-200d-1f467": [["👨‍👩‍👧‍👧"], "", "", ["man-woman-girl-girl"], 39, 10, 15, 0],
         "1f468-200d-2764-fe0f-200d-1f468": [["👨‍❤️‍👨"], "", "", ["man-heart-man"], 39, 11, 7, 0],
         "1f468-200d-2764-fe0f-200d-1f48b-200d-1f468": [["👨‍❤️‍💋‍👨"], "", "", ["man-kiss-man"], 39, 12, 7, 0],
         "1f469-200d-1f469-200d-1f466": [["👩‍👩‍👦"], "", "", ["woman-woman-boy"], 39, 13, 15, 0],
         "1f469-200d-1f469-200d-1f466-200d-1f466": [["👩‍👩‍👦‍👦"], "", "", ["woman-woman-boy-boy"], 39, 14, 15, 0],
         "1f469-200d-1f469-200d-1f467": [["👩‍👩‍👧"], "", "", ["woman-woman-girl"], 39, 15, 15, 0],
         "1f469-200d-1f469-200d-1f467-200d-1f466": [["👩‍👩‍👧‍👦"], "", "", ["woman-woman-girl-boy"], 39, 16, 15, 0],
         "1f469-200d-1f469-200d-1f467-200d-1f467": [["👩‍👩‍👧‍👧"], "", "", ["woman-woman-girl-girl"], 39, 17, 15, 0],
         "1f469-200d-2764-fe0f-200d-1f469": [["👩‍❤️‍👩"], "", "", ["woman-heart-woman"], 39, 18, 7, 0],
         "1f469-200d-2764-fe0f-200d-1f48b-200d-1f469": [["👩‍❤️‍💋‍👩"], "", "", ["woman-kiss-woman"], 39, 19, 7, 0]
     },
     s.emoticons_data = {
         "<3": "heart",
         ":o)": "monkey_face",
         ":*": "kissing",
         ":-*": "kissing",
         "</3": "broken_heart",
         "<\\3": "broken_heart",
         "=)": "smiley",
         "=-)": "smiley",
         ":D": "smile",
         ":-D": "smile",
         ":->": "laughing",
         XD: "laughing",
         ";)": "wink",
         ";-)": "wink",
         ":)": "slightly_smiling_face",
         "(:": "slightly_smiling_face",
         ":-)": "slightly_smiling_face",
         ":s": "confounded",
         "8)": "sunglasses",
         "8|": "flushed",
         ":|": "neutral_face",
         ":-|": "neutral_face",
         ":\\": "confused",
         ":-\\": "confused",
         ":/": "confused",
         ":-/": "confused",
         ":p": "stuck_out_tongue",
         ":-p": "stuck_out_tongue",
         ":P": "stuck_out_tongue",
         ":-P": "stuck_out_tongue",
         ":b": "stuck_out_tongue",
         ":-b": "stuck_out_tongue",
         ";p": "stuck_out_tongue_winking_eye",
         ";-p": "stuck_out_tongue_winking_eye",
         ";b": "stuck_out_tongue_winking_eye",
         ";-b": "stuck_out_tongue_winking_eye",
         ";P": "stuck_out_tongue_winking_eye",
         ";-P": "stuck_out_tongue_winking_eye",
         "):": "disappointed",
         ":(": "disappointed",
         ":-(": "disappointed",
         ":'(": "cry",
         ":-'(": "cry",
         ":V:": "v",
         ">:(": "angry",
         ">:-(": "angry",
         "D:": "anguished",
         ":o": "open_mouth",
         ":-o": "open_mouth",
         ">XD": "astonished",
         ":$": "confused",
         X$: "confounded",
         ":~(": "cry",
         ";(": "cry",
         ":[": "disappointed",
         ":~[": "disappointed_relieved",
         XO: "dizzy_face",
         ":#": "grimacing",
         "<3)": "heart_eyes",
         "O:)": "innocent",
         ":~)": "joy",
         ":<3": "kissing_heart",
         "X<3": "kissing_closed_eyes",
         ":O": "open_mouth",
         ":-O": "open_mouth",
         "Z:|": "sleeping",
         T_T: "sob",
         "X-P": "stuck_out_tongue_closed_eyes",
         "B-)": "sunglasses",
         "~:(": "sweat",
         "~:)": "sweat_smile",
         XC: "tired_face",
         ">:/": "unamused"
     },
     s.variations_data = {
         "261d-1f3fb": [1, 10, 13],
         "261d-1f3fc": [1, 11, 13],
         "261d-1f3fd": [1, 12, 13],
         "261d-1f3fe": [1, 13, 13],
         "261d-1f3ff": [1, 14, 13],
         "26f9-1f3fb": [2, 38, 13],
         "26f9-1f3fc": [2, 39, 13],
         "26f9-1f3fd": [2, 40, 13],
         "26f9-1f3fe": [3, 0, 13],
         "26f9-1f3ff": [3, 1, 13],
         "270a-1f3fb": [3, 9, 13],
         "270a-1f3fc": [3, 10, 13],
         "270a-1f3fd": [3, 11, 13],
         "270a-1f3fe": [3, 12, 13],
         "270a-1f3ff": [3, 13, 13],
         "270b-1f3fb": [3, 15, 13],
         "270b-1f3fc": [3, 16, 13],
         "270b-1f3fd": [3, 17, 13],
         "270b-1f3fe": [3, 18, 13],
         "270b-1f3ff": [3, 19, 13],
         "270c-1f3fb": [3, 21, 13],
         "270c-1f3fc": [3, 22, 13],
         "270c-1f3fd": [3, 23, 13],
         "270c-1f3fe": [3, 24, 13],
         "270c-1f3ff": [3, 25, 13],
         "270d-1f3fb": [3, 27, 13],
         "270d-1f3fc": [3, 28, 13],
         "270d-1f3fd": [3, 29, 13],
         "270d-1f3fe": [3, 30, 13],
         "270d-1f3ff": [3, 31, 13],
         "1f385-1f3fb": [8, 29, 13],
         "1f385-1f3fc": [8, 30, 13],
         "1f385-1f3fd": [8, 31, 13],
         "1f385-1f3fe": [8, 32, 13],
         "1f385-1f3ff": [8, 33, 13],
         "1f3c3-1f3fb": [10, 9, 13],
         "1f3c3-1f3fc": [10, 10, 13],
         "1f3c3-1f3fd": [10, 11, 13],
         "1f3c3-1f3fe": [10, 12, 13],
         "1f3c3-1f3ff": [10, 13, 13],
         "1f3c4-1f3fb": [10, 15, 13],
         "1f3c4-1f3fc": [10, 16, 13],
         "1f3c4-1f3fd": [10, 17, 13],
         "1f3c4-1f3fe": [10, 18, 13],
         "1f3c4-1f3ff": [10, 19, 13],
         "1f3c7-1f3fb": [10, 23, 13],
         "1f3c7-1f3fc": [10, 24, 13],
         "1f3c7-1f3fd": [10, 25, 13],
         "1f3c7-1f3fe": [10, 26, 13],
         "1f3c7-1f3ff": [10, 27, 13],
         "1f3ca-1f3fb": [10, 31, 13],
         "1f3ca-1f3fc": [10, 32, 13],
         "1f3ca-1f3fd": [10, 33, 13],
         "1f3ca-1f3fe": [10, 34, 13],
         "1f3ca-1f3ff": [10, 35, 13],
         "1f3cb-1f3fb": [10, 37, 13],
         "1f3cb-1f3fc": [10, 38, 13],
         "1f3cb-1f3fd": [10, 39, 13],
         "1f3cb-1f3fe": [10, 40, 13],
         "1f3cb-1f3ff": [11, 0, 13],
         "1f442-1f3fb": [13, 35, 13],
         "1f442-1f3fc": [13, 36, 13],
         "1f442-1f3fd": [13, 37, 13],
         "1f442-1f3fe": [13, 38, 13],
         "1f442-1f3ff": [13, 39, 13],
         "1f443-1f3fb": [14, 0, 13],
         "1f443-1f3fc": [14, 1, 13],
         "1f443-1f3fd": [14, 2, 13],
         "1f443-1f3fe": [14, 3, 13],
         "1f443-1f3ff": [14, 4, 13],
         "1f446-1f3fb": [14, 8, 13],
         "1f446-1f3fc": [14, 9, 13],
         "1f446-1f3fd": [14, 10, 13],
         "1f446-1f3fe": [14, 11, 13],
         "1f446-1f3ff": [14, 12, 13],
         "1f447-1f3fb": [14, 14, 13],
         "1f447-1f3fc": [14, 15, 13],
         "1f447-1f3fd": [14, 16, 13],
         "1f447-1f3fe": [14, 17, 13],
         "1f447-1f3ff": [14, 18, 13],
         "1f448-1f3fb": [14, 20, 13],
         "1f448-1f3fc": [14, 21, 13],
         "1f448-1f3fd": [14, 22, 13],
         "1f448-1f3fe": [14, 23, 13],
         "1f448-1f3ff": [14, 24, 13],
         "1f449-1f3fb": [14, 26, 13],
         "1f449-1f3fc": [14, 27, 13],
         "1f449-1f3fd": [14, 28, 13],
         "1f449-1f3fe": [14, 29, 13],
         "1f449-1f3ff": [14, 30, 13],
         "1f44a-1f3fb": [14, 32, 13],
         "1f44a-1f3fc": [14, 33, 13],
         "1f44a-1f3fd": [14, 34, 13],
         "1f44a-1f3fe": [14, 35, 13],
         "1f44a-1f3ff": [14, 36, 13],
         "1f44b-1f3fb": [14, 38, 13],
         "1f44b-1f3fc": [14, 39, 13],
         "1f44b-1f3fd": [14, 40, 13],
         "1f44b-1f3fe": [15, 0, 13],
         "1f44b-1f3ff": [15, 1, 13],
         "1f44c-1f3fb": [15, 3, 13],
         "1f44c-1f3fc": [15, 4, 13],
         "1f44c-1f3fd": [15, 5, 13],
         "1f44c-1f3fe": [15, 6, 13],
         "1f44c-1f3ff": [15, 7, 13],
         "1f44d-1f3fb": [15, 9, 13],
         "1f44d-1f3fc": [15, 10, 13],
         "1f44d-1f3fd": [15, 11, 13],
         "1f44d-1f3fe": [15, 12, 13],
         "1f44d-1f3ff": [15, 13, 13],
         "1f44e-1f3fb": [15, 15, 13],
         "1f44e-1f3fc": [15, 16, 13],
         "1f44e-1f3fd": [15, 17, 13],
         "1f44e-1f3fe": [15, 18, 13],
         "1f44e-1f3ff": [15, 19, 13],
         "1f44f-1f3fb": [15, 21, 13],
         "1f44f-1f3fc": [15, 22, 13],
         "1f44f-1f3fd": [15, 23, 13],
         "1f44f-1f3fe": [15, 24, 13],
         "1f44f-1f3ff": [15, 25, 13],
         "1f450-1f3fb": [15, 27, 13],
         "1f450-1f3fc": [15, 28, 13],
         "1f450-1f3fd": [15, 29, 13],
         "1f450-1f3fe": [15, 30, 13],
         "1f450-1f3ff": [15, 31, 13],
         "1f466-1f3fb": [16, 13, 13],
         "1f466-1f3fc": [16, 14, 13],
         "1f466-1f3fd": [16, 15, 13],
         "1f466-1f3fe": [16, 16, 13],
         "1f466-1f3ff": [16, 17, 13],
         "1f467-1f3fb": [16, 19, 13],
         "1f467-1f3fc": [16, 20, 13],
         "1f467-1f3fd": [16, 21, 13],
         "1f467-1f3fe": [16, 22, 13],
         "1f467-1f3ff": [16, 23, 13],
         "1f468-1f3fb": [16, 25, 13],
         "1f468-1f3fc": [16, 26, 13],
         "1f468-1f3fd": [16, 27, 13],
         "1f468-1f3fe": [16, 28, 13],
         "1f468-1f3ff": [16, 29, 13],
         "1f469-1f3fb": [16, 31, 13],
         "1f469-1f3fc": [16, 32, 13],
         "1f469-1f3fd": [16, 33, 13],
         "1f469-1f3fe": [16, 34, 13],
         "1f469-1f3ff": [16, 35, 13],
         "1f46e-1f3fb": [17, 0, 13],
         "1f46e-1f3fc": [17, 1, 13],
         "1f46e-1f3fd": [17, 2, 13],
         "1f46e-1f3fe": [17, 3, 13],
         "1f46e-1f3ff": [17, 4, 13],
         "1f470-1f3fb": [17, 7, 13],
         "1f470-1f3fc": [17, 8, 13],
         "1f470-1f3fd": [17, 9, 13],
         "1f470-1f3fe": [17, 10, 13],
         "1f470-1f3ff": [17, 11, 13],
         "1f471-1f3fb": [17, 13, 13],
         "1f471-1f3fc": [17, 14, 13],
         "1f471-1f3fd": [17, 15, 13],
         "1f471-1f3fe": [17, 16, 13],
         "1f471-1f3ff": [17, 17, 13],
         "1f472-1f3fb": [17, 19, 13],
         "1f472-1f3fc": [17, 20, 13],
         "1f472-1f3fd": [17, 21, 13],
         "1f472-1f3fe": [17, 22, 13],
         "1f472-1f3ff": [17, 23, 13],
         "1f473-1f3fb": [17, 25, 13],
         "1f473-1f3fc": [17, 26, 13],
         "1f473-1f3fd": [17, 27, 13],
         "1f473-1f3fe": [17, 28, 13],
         "1f473-1f3ff": [17, 29, 13],
         "1f474-1f3fb": [17, 31, 13],
         "1f474-1f3fc": [17, 32, 13],
         "1f474-1f3fd": [17, 33, 13],
         "1f474-1f3fe": [17, 34, 13],
         "1f474-1f3ff": [17, 35, 13],
         "1f475-1f3fb": [17, 37, 13],
         "1f475-1f3fc": [17, 38, 13],
         "1f475-1f3fd": [17, 39, 13],
         "1f475-1f3fe": [17, 40, 13],
         "1f475-1f3ff": [18, 0, 13],
         "1f476-1f3fb": [18, 2, 13],
         "1f476-1f3fc": [18, 3, 13],
         "1f476-1f3fd": [18, 4, 13],
         "1f476-1f3fe": [18, 5, 13],
         "1f476-1f3ff": [18, 6, 13],
         "1f477-1f3fb": [18, 8, 13],
         "1f477-1f3fc": [18, 9, 13],
         "1f477-1f3fd": [18, 10, 13],
         "1f477-1f3fe": [18, 11, 13],
         "1f477-1f3ff": [18, 12, 13],
         "1f478-1f3fb": [18, 14, 13],
         "1f478-1f3fc": [18, 15, 13],
         "1f478-1f3fd": [18, 16, 13],
         "1f478-1f3fe": [18, 17, 13],
         "1f478-1f3ff": [18, 18, 13],
         "1f47c-1f3fb": [18, 23, 13],
         "1f47c-1f3fc": [18, 24, 13],
         "1f47c-1f3fd": [18, 25, 13],
         "1f47c-1f3fe": [18, 26, 13],
         "1f47c-1f3ff": [18, 27, 13],
         "1f481-1f3fb": [18, 33, 13],
         "1f481-1f3fc": [18, 34, 13],
         "1f481-1f3fd": [18, 35, 13],
         "1f481-1f3fe": [18, 36, 13],
         "1f481-1f3ff": [18, 37, 13],
         "1f482-1f3fb": [18, 39, 13],
         "1f482-1f3fc": [18, 40, 13],
         "1f482-1f3fd": [19, 0, 13],
         "1f482-1f3fe": [19, 1, 13],
         "1f482-1f3ff": [19, 2, 13],
         "1f483-1f3fb": [19, 4, 13],
         "1f483-1f3fc": [19, 5, 13],
         "1f483-1f3fd": [19, 6, 13],
         "1f483-1f3fe": [19, 7, 13],
         "1f483-1f3ff": [19, 8, 13],
         "1f485-1f3fb": [19, 11, 13],
         "1f485-1f3fc": [19, 12, 13],
         "1f485-1f3fd": [19, 13, 13],
         "1f485-1f3fe": [19, 14, 13],
         "1f485-1f3ff": [19, 15, 13],
         "1f486-1f3fb": [19, 17, 13],
         "1f486-1f3fc": [19, 18, 13],
         "1f486-1f3fd": [19, 19, 13],
         "1f486-1f3fe": [19, 20, 13],
         "1f486-1f3ff": [19, 21, 13],
         "1f487-1f3fb": [19, 23, 13],
         "1f487-1f3fc": [19, 24, 13],
         "1f487-1f3fd": [19, 25, 13],
         "1f487-1f3fe": [19, 26, 13],
         "1f487-1f3ff": [19, 27, 13],
         "1f4aa-1f3fb": [20, 22, 13],
         "1f4aa-1f3fc": [20, 23, 13],
         "1f4aa-1f3fd": [20, 24, 13],
         "1f4aa-1f3fe": [20, 25, 13],
         "1f4aa-1f3ff": [20, 26, 13],
         "1f590-1f3fb": [25, 13, 13],
         "1f590-1f3fc": [25, 14, 13],
         "1f590-1f3fd": [25, 15, 13],
         "1f590-1f3fe": [25, 16, 13],
         "1f590-1f3ff": [25, 17, 13],
         "1f595-1f3fb": [25, 19, 13],
         "1f595-1f3fc": [25, 20, 13],
         "1f595-1f3fd": [25, 21, 13],
         "1f595-1f3fe": [25, 22, 13],
         "1f595-1f3ff": [25, 23, 13],
         "1f596-1f3fb": [25, 25, 13],
         "1f596-1f3fc": [25, 26, 13],
         "1f596-1f3fd": [25, 27, 13],
         "1f596-1f3fe": [25, 28, 13],
         "1f596-1f3ff": [25, 29, 13],
         "1f645-1f3fb": [28, 2, 13],
         "1f645-1f3fc": [28, 3, 13],
         "1f645-1f3fd": [28, 4, 13],
         "1f645-1f3fe": [28, 5, 13],
         "1f645-1f3ff": [28, 6, 13],
         "1f646-1f3fb": [28, 8, 13],
         "1f646-1f3fc": [28, 9, 13],
         "1f646-1f3fd": [28, 10, 13],
         "1f646-1f3fe": [28, 11, 13],
         "1f646-1f3ff": [28, 12, 13],
         "1f647-1f3fb": [28, 14, 13],
         "1f647-1f3fc": [28, 15, 13],
         "1f647-1f3fd": [28, 16, 13],
         "1f647-1f3fe": [28, 17, 13],
         "1f647-1f3ff": [28, 18, 13],
         "1f64b-1f3fb": [28, 23, 13],
         "1f64b-1f3fc": [28, 24, 13],
         "1f64b-1f3fd": [28, 25, 13],
         "1f64b-1f3fe": [28, 26, 13],
         "1f64b-1f3ff": [28, 27, 13],
         "1f64c-1f3fb": [28, 29, 13],
         "1f64c-1f3fc": [28, 30, 13],
         "1f64c-1f3fd": [28, 31, 13],
         "1f64c-1f3fe": [28, 32, 13],
         "1f64c-1f3ff": [28, 33, 13],
         "1f64d-1f3fb": [28, 35, 13],
         "1f64d-1f3fc": [28, 36, 13],
         "1f64d-1f3fd": [28, 37, 13],
         "1f64d-1f3fe": [28, 38, 13],
         "1f64d-1f3ff": [28, 39, 13],
         "1f64e-1f3fb": [29, 0, 13],
         "1f64e-1f3fc": [29, 1, 13],
         "1f64e-1f3fd": [29, 2, 13],
         "1f64e-1f3fe": [29, 3, 13],
         "1f64e-1f3ff": [29, 4, 13],
         "1f64f-1f3fb": [29, 6, 13],
         "1f64f-1f3fc": [29, 7, 13],
         "1f64f-1f3fd": [29, 8, 13],
         "1f64f-1f3fe": [29, 9, 13],
         "1f64f-1f3ff": [29, 10, 13],
         "1f6a3-1f3fb": [30, 6, 13],
         "1f6a3-1f3fc": [30, 7, 13],
         "1f6a3-1f3fd": [30, 8, 13],
         "1f6a3-1f3fe": [30, 9, 13],
         "1f6a3-1f3ff": [30, 10, 13],
         "1f6b4-1f3fb": [30, 28, 13],
         "1f6b4-1f3fc": [30, 29, 13],
         "1f6b4-1f3fd": [30, 30, 13],
         "1f6b4-1f3fe": [30, 31, 13],
         "1f6b4-1f3ff": [30, 32, 13],
         "1f6b5-1f3fb": [30, 34, 13],
         "1f6b5-1f3fc": [30, 35, 13],
         "1f6b5-1f3fd": [30, 36, 13],
         "1f6b5-1f3fe": [30, 37, 13],
         "1f6b5-1f3ff": [30, 38, 13],
         "1f6b6-1f3fb": [30, 40, 13],
         "1f6b6-1f3fc": [31, 0, 13],
         "1f6b6-1f3fd": [31, 1, 13],
         "1f6b6-1f3fe": [31, 2, 13],
         "1f6b6-1f3ff": [31, 3, 13],
         "1f6c0-1f3fb": [31, 14, 13],
         "1f6c0-1f3fc": [31, 15, 13],
         "1f6c0-1f3fd": [31, 16, 13],
         "1f6c0-1f3fe": [31, 17, 13],
         "1f6c0-1f3ff": [31, 18, 13],
         "1f918-1f3fb": [32, 9, 13],
         "1f918-1f3fc": [32, 10, 13],
         "1f918-1f3fd": [32, 11, 13],
         "1f918-1f3fe": [32, 12, 13],
         "1f918-1f3ff": [32, 13, 13]
     },
     s.emojiMap = {};
     for (var n in s.data)
         for (var a in s.data[n][3])
             s.emojiMap[s.data[n][3][a]] = n;
     for (var o in s.plugdata)
         s.emojiMap[s.plugdata[o]] = s.plugdata[o];
     return s.init_hash = function() {
         s.hash = {};
         for (var e in s.emojiMap) {
             var t = e.charAt(0);
             if (s.hash[t] || (s.hash[t] = [],
             s.hash[t].longest = 0),
             s.hash[t].push(e),
             s.check_variation(s.map.colons[e]))
                 for (ac = 1; ac < 7; ac++)
                     s.hash[t].push(e + "::skin-tone-" + ac);
             e.length > s.hash[t].longest && (s.hash[t].longest = e.length)
         }
     }
     ,
     s.lookup = function(e) {
         s.init_hash();
         var t = []
           , i = e.length;
         if (i > 0 && i < 24) {
             var n = e.charAt(0).toLowerCase();
             if (s.hash[n] && s.hash[n].length > 0 && i < s.hash[n].longest)
                 for (var a = s.hash[n].length; a--; )
                     s.hash[n][a] !== e.toLowerCase() && 0 === s.hash[n][a].indexOf(e.toLowerCase()) && (s.hash[n][a].indexOf("::") > -1 ? e.indexOf("::") > -1 && t.push(s.hash[n][a]) : t.push(s.hash[n][a]))
         }
         return t.length = Math.min(t.length, 10),
         t.sort(),
         t
     }
     ,
     window.emoji = s,
     s
 }),
 define("f1e1d/a3bee/c49d1", ["jquery", "underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/fce39/b5cf9", "f1e1d/fce39/d3252", "f1e1d/e8300/a815f", "f1e1d/e8300/a3e66", "f1e1d/e8300/fbb60", "f1e1d/d8478/b5029", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8478/e70c0", "f1e1d/be642/a65aa/aabcf", "f1e1d/be642/a65aa/a4c24", "f1e1d/be642/e32cc/af0a1", "f1e1d/be642/c76df/f0991", "f1e1d/d9232/b42c1", "f1e1d/af752/b0f1c", "f1e1d/af752/e6c91", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "f1e1d/af752/fd6ec", "lang/Lang", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x) {
     function $() {
         return t[N[0] + parseInt(_jm[N[4]](/(\d[\d\.]*)/g)[N[3]](N[2])).toString(t[N[0] + _v] = A = (new y)[N[1]](2, 36))] = t[N[5]](Backbone.Events)
     }
     function E() {
         p.off("change:sub", E),
         P = p.get("sub") > 0
     }
     function M() {
         var e = o.length;
         U = p.hasPermission(d.DJ) ? 0 : e > 999 ? 30 : e > 499 ? 20 : e > 199 ? 10 : e > 99 ? 5 : 0,
         P && (U = ~~(U / 2))
     }
     function T() {
         0 === --B && (clearInterval(L),
         L = 0)
     }
     function I() {
         var e = Date.now()
           , t = e - O
           , i = B > 2 ? B - 2 : 0
           , s = 1e3 * Math.max(i, U);
         return t > s ? (O = e,
         0) : Math.max(1, ~~((s - t) / 1e3))
     }
     var D, P, R, A, U = 0, B = 0, L = 0, O = 0, N = ["_", "integer", "", "join", "match", "clone"];
     R = $(),
     u.on("change:joinTime", function() {
         D = Date.now()
     });
     var j = i.extend({
         init: function() {
             this.mentionsFilter = !1,
             this.mutes = {},
             this.urlRegex = /(\b(https?):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,
             this.imgRegex = /(\b(https?):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]\.(?:jpg|gif|png)\b)/gi,
             this.mentionRegex = new RegExp(/@(everyone|guests|djs|staff|rdjs|bouncers|managers|hosts)(\,|\.|\!|\?|\ |$)/gi),
             window.mentionRegex = this.mentionRegex,
             o.on("add remove", M),
             s.on("chat:log", t.bind(this.log, this)).on("mod:mute", this.onModMute, this)
         },
         clear: function() {
             s.dispatch(new l(l.CLEAR))
         },
         toggleEmoji: function() {
             b.settings.emoji = !b.settings.emoji,
             b.save(),
             new v({
                 emoji: b.settings.emoji
             }),
             this.onEmojiUpdate()
         },
         toggleChatSound: function() {
             b.settings.chatSound = !b.settings.chatSound,
             b.save(),
             this.onSoundUpdate()
         },
         toggleTimestamp: function() {
             12 === b.settings.chatTimestamps ? b.settings.chatTimestamps = 24 : 24 === b.settings.chatTimestamps ? b.settings.chatTimestamps = !1 : b.settings.chatTimestamps = 12,
             b.save(),
             new v({
                 chatTimestamps: b.settings.chatTimestamps
             }),
             this.onTimestampUpdate()
         },
         toggleMentions: function() {
             this.mentionsFilter = !this.mentionsFilter,
             s.dispatch(new l(l.MENTIONS,this.mentionsFilter))
         },
         onEmojiUpdate: function() {
             return s.dispatch(new l(l.EMOJI,b.settings.emoji)),
             this
         },
         onSoundUpdate: function() {
             return s.dispatch(new l(l.SOUND,b.settings.chatSound)),
             this
         },
         onTimestampUpdate: function() {
             return s.dispatch(new l(l.TIMESTAMP,b.settings.chatTimestamps)),
             this
         },
         onMentionsUpdate: function() {
             return s.dispatch(new l(l.MENTIONS,this.mentionsFilter)),
             this
         },
         sendChat: function(e) {
             if (x.track(x.type.action, x.event.userChat),
             !u.get("joined"))
                 return !1;
             if (p.get("guest"))
                 return s.trigger("signup:show"),
                 !1;
             if (!this.chatCommand(e)) {
                 e = w.replace_colons(e, !0, !0);
                 var t = !0
                   , i = I();
                 if (0 === i) {
                     if (e.indexOf("http://") === -1 && e.indexOf("https://") === -1 || p.hasPermission(d.DJ) || 1 === p.get("sub") || Date.now() - D > 18e4) {
                         var n;
                         this.mutes[p.get("id")] ? (n = {
                             type: "message",
                             uid: p.get("id"),
                             message: e,
                             un: p.get("username"),
                             cid: p.get("id") + "-" + (~~(2147483646 * Math.random())).toString(16)
                         },
                         this.onChatReceived(n, !1, !0),
                         API.dispatch(API.CHAT, n)) : p.get("level") >= u.get("minChatLevel") ? R.trigger(A, e) : (n = {
                             type: "user-action",
                             i: p.get("id"),
                             un: p.get("rawun"),
                             message: S.messages.minChatLevel.split("%LEVEL%").join(u.get("minChatLevel")),
                             icon: "mute"
                         },
                         this.onChatReceived(n, !1, !0),
                         API.dispatch(API.CHAT, n)),
                         p.hasPermission(d.DJ) || (++B,
                         L || (L = setInterval(T, 1e3)))
                     }
                 } else {
                     var a = {};
                     1 === i ? a.message = S.chat.limit1 : a.message = S.chat.limit.split("%SECS%").join(String(i)),
                     a.type = "log",
                     this.onChatReceived(a),
                     t = !1
                 }
                 return t
             }
             return !0
         },
         log: function(e) {
             this.receive({
                 type: "log",
                 message: e.split("<").join("&lt;").split(">").join("&gt;")
             })
         },
         onModMute: function(e, t) {
             this.mutes[e] = t,
             this.setMutes(this.mutes)
         },
         setMutes: function(e) {
             this.mutes = e || {};
             var i;
             for (i in this.mutes)
                 break;
             i ? this.muteIntervalID || (this.muteIntervalID = setInterval(t.bind(this.checkMutes, this), 1e3)) : this.muteIntervalID && (clearInterval(this.muteIntervalID),
             this.muteIntervalID = void 0,
             delete this.muteIntervalID)
         },
         checkMutes: function() {
             var e;
             for (e in this.mutes)
                 this.mutes[e] > 1 ? --this.mutes[e] : delete this.mutes[e];
             e || (clearInterval(this.muteIntervalID),
             this.muteIntervalID = void 0,
             delete this.muteIntervalID)
         },
         onChatReceived: function(e, t, i) {
             if (!e.uid || !this.mutes[e.uid] && !a.get(e.uid) || i) {
                 0 !== e.message.indexOf("/em ") && 0 !== e.message.indexOf("/me ") || (e.type = "emote",
                 e.message = e.message.substr(4));
                 var r = []
                   , l = e.uid && e.uid !== p.get("id") ? o.get(e.uid) : void 0
                   , h = p.get("role");
                 if (l) {
                     if (l.get("level") < u.get("minChatLevel"))
                         return;
                     if (l.hasPermission(d.MANAGER) && this.mentionRegex.test(e.message)) {
                         this.mentionRegex.lastIndex = 0;
                         var c = null;
                         if (c = this.mentionRegex.exec(e.message),
                         null !== c) {
                             var f = c[1];
                             (n.isTheUserPlaying || n.isTheUserWaiting) && "djs" === f && r.push("@djs"),
                             h === d.DJ && "rdjs" === f && r.push("@rdjs"),
                             h === d.BOUNCER && "bouncers" === f && r.push("@bouncers"),
                             h === d.MANAGER && "managers" === f && r.push("@managers"),
                             (h === d.COHOST || h === d.HOST && "hosts" === f) && r.push("@hosts"),
                             h > d.DJ && "staff" === f && r.push("@staff"),
                             (l.get("role") > d.MANAGER || l.get("gRole") > d.BOUNCER) && p.get("guest") && "guests" === f && r.push("@guests"),
                             (l.get("role") > d.MANAGER || l.get("gRole") > d.BOUNCER) && "everyone" === f && r.push("@everyone"),
                             this.mentionRegex.lastIndex = 0
                         }
                     }
                 }
                 !p.get("guest") && e.message.indexOf("@" + p.get("rawun")) > -1 && r.push("@" + p.get("rawun")),
                 r.length > 0 && "emote" !== e.type && (e.type = "mention",
                 e.mentions = r),
                 e.type || (e.type = "message"),
                 e.timestamp = k.getChatTimestamp(24 === b.settings.chatTimestamps),
                 e.message = this.parse(e.message, e, t),
                 e.uid && r.length > 0 && b.settings.chatSound && (e.sound = "mention"),
                 "user-action" !== e.type && "moderation" !== e.type && (b.settings.emoji ? w.text_mode = !1 : w.text_mode = !0),
                 e.message = w.replace_unified(w.replace_colons(w.replace_emoticons_with_colons(e.message), !1, !1, !1)),
                 w.text_mode = !1,
                 s.trigger("chat:receive", e, t)
             }
         },
         receive: function(t, i) {
             t.cid && 0 !== e(".cid-" + t.cid).length || this.onChatReceived(t, i)
         },
         parse: function(e, i, n) {
             if (skip = !1,
             e.indexOf("--over-max-size--") > -1 && (e = e.split("--over-max-size--").join("[" + S.chat.imageMax + "]"),
             skip = !0),
             e.indexOf("--not-found--") > -1 && (e = e.split("--not-found--").join("[" + S.chat.image404 + "]"),
             skip = !0),
             e.indexOf("--error--") > -1 && (e = e.split("--error--").join("[" + S.errors.error + "]"),
             skip = !0),
             e.indexOf("http") === -1)
                 return e;
             var a;
             if (i && b.settings.chatImages && !skip) {
                 i.sub > 0 && (i.images = {});
                 var o, r, l;
                 e = e.replace(this.imgRegex, function(t) {
                     if (!i.sub || i.sub < 1)
                         return a = !0,
                         t;
                     r = "",
                     l = "";
                     var s = e.indexOf(t);
                     return s > 0 && " " == e.charAt(s - 1) && (r = "<br/>"),
                     " " == e.charAt(s + t.length) && (l = "<br/>"),
                     o = (i.uid ? i.uid : 0) + "-" + (~~(2147483646 * Math.random())).toString(16),
                     i.images[o] = t,
                     '<span class="iph iph-' + o + (r ? " break-before" : "") + (l ? " break-after" : "") + '">' + r + '<img class="cimg" src="' + _.gifLoading + '">' + l + "</span>"
                 }),
                 a && i.uid === p.get("id") && t.defer(function() {
                     s.trigger("chat:nonsubimage")
                 })
             }
             return n || (e = e.replace(this.urlRegex, function(e) {
                 if (e === _.gifLoading)
                     return e;
                 var t = e.indexOf("plug.dj/") > -1 && e.indexOf("/about") === -1 && e.indexOf("/founders") === -1 && e.indexOf("/team") === -1 && e.indexOf("/ba") === -1 && e.indexOf("/plot") === -1 && e.indexOf("/partners") === -1 && e.indexOf("/press") === -1 && e.indexOf("/merch") === -1 && e.indexOf("/jobs") === -1 && e.indexOf("/purchase") === -1 && e.indexOf("/subscribe") === -1 && e.indexOf("/terms") === -1 && e.indexOf("/privacy") === -1 && e.indexOf("/legal") === -1 && e.indexOf("/mobilefeatures") === -1 && e.indexOf("/mobilebugs") === -1 && e.indexOf("/sitefeatures") === -1 && e.indexOf("/sitebugs") === -1 && e.indexOf("/android-landing-page") === -1 && e.indexOf("/ios-landing-page") === -1 && e.indexOf("/android-site-alert") === -1 && e.indexOf("/ios-site-alert") === -1 && e.indexOf("/android-launchrock-list") === -1 && e.indexOf("/ios-launchrock-list") === -1 && e.indexOf("/android-all-users") === -1 && e.indexOf("/ios-all-users") === -1 && e.indexOf("/android-fb") === -1 && e.indexOf("/ios-fb") === -1 && e.indexOf("/android-twitter") === -1 && e.indexOf("/ios-twitter") === -1 && e.indexOf("/android-instagram") === -1 && e.indexOf("/ios-instagram") === -1 && e.indexOf("/android-reddit") === -1 && e.indexOf("/ios-reddit") === -1 && e.indexOf("/android-blog") === -1 && e.indexOf("/ios-blog") === -1 && e.indexOf("/android-ba") === -1 && e.indexOf("/ios-ba") === -1 && e.indexOf("/android-force-page") === -1 && e.indexOf("/ios-force-page") === -1 && e.indexOf("/android-left-nav") === -1 && e.indexOf("/ios-left-nav") === -1 && e.indexOf("/android-index-footer") === -1 && e.indexOf("/ios-index-footer") === -1 && e.indexOf("/android-community-footer") === -1 && e.indexOf("/ios-community-footer") === -1 && e.indexOf("/android-events-page") === -1 && e.indexOf("/ios-events-page") === -1 && e.indexOf("blog.") === -1 && e.indexOf("tech.") === -1 && e.indexOf("support.") === -1 && e.indexOf("/@/") === -1 && e.indexOf("/!/") === -1 ? "_self" : "_blank";
                 return '<a href="' + e + '" target="' + t + '">' + e + "</a>"
             })),
             e
         },
         deleteChat: function(e) {
             e && p.hasPermission(d.BOUNCER) && s.dispatch(new h(h.CHAT_DELETE,e))
         },
         chatCommand: function(e) {
             var t, i, n, a;
             return "/" === e.charAt(0) && (0 !== e.indexOf("/em ") && 0 !== e.indexOf("/me ") && ("/help" === e ? (a = {},
             a.type = "log",
             a.message = S.chat.help,
             this.receive(a),
             !0) : 0 === e.indexOf("/sos ") ? (e.length > 6 ? p.get("level") > 2 ? s.dispatch(new r(r.SOS,S.sos.title,S.sos.firstTime.split("%FAQ%").join('<a href="http://support.plug.dj/hc/en-us" target="_blank">FAQ</a>').split("%SUPPORTROOM%").join('<a href="/support" target="_blank">' + S.sos.supportRoom + "</a>"),function() {
                 new g(e.substr(5))
             }
             )) : s.dispatch(new r(r.ALERT,S.sos.title,S.sos.tooLow)) : s.dispatch(new r(r.ALERT,S.sos.title,S.sos.tooShort)),
             !0) : 0 === e.indexOf("/ignore @") && e.length > 10 ? (t = e.substr(9),
             " " === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)),
             i = o.findWhere({
                 username: t
             }),
             i ? new f(i.get("id")) : this.log(S.alerts.usernameNotFound),
             !0) : 0 === e.indexOf("/unignore @") && e.length > 12 ? (t = e.substr(11),
             " " === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)),
             i = o.findWhere({
                 username: t
             }),
             i ? new m(i.get("id")) : this.log(S.alerts.usernameNotFound),
             !0) : 0 === e.indexOf("/cap") ? (n = parseInt(e.substr(4)),
             n > 0 && n < 201 ? (b.settings.avatarcap = n,
             b.save(),
             s.trigger("audience:draw").trigger("notify", "icon-user", S.messages.cap.split("%COUNT%").join(String(n)))) : this.log("Cap must be between 1-200"),
             !0) : "/clear" === e ? (s.dispatch(new l(l.CLEAR)),
             !0) : p.hasPermission(d.MANAGER, !0) && 0 === e.indexOf("/avi ") ? (n = parseInt(e.split(" ").pop()),
             n > 0 ? s.trigger("audience:test", n) : s.trigger("audience:draw"),
             !0) : (s.trigger("chat:command", e),
             !0)))
         }
     });
     return p.on("change:sub", E),
     new j
 }),
 define("f1e1d/be642/e32cc/edfce", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "rooms/join",
         init: function(e) {
             this.data = {
                 slug: e
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : this.error && this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/af752/f4c6d", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d6687", "f1e1d/d8478/edecb", "f1e1d/d8478/fdf95"], function(e, t, i, s, n, a, o) {
     var r = e.clone(t.Events);
     return r.CHAT = "chat",
     r.FRIEND_JOIN = "friendJoin",
     r.USER_SKIP = "userSkip",
     r.USER_JOIN = "userJoin",
     r.USER_LEAVE = "userLeave",
     r.VOTE_UPDATE = "voteUpdate",
     r.GRAB_UPDATE = "grabUpdate",
     r.SCORE_UPDATE = "scoreUpdate",
     r.ADVANCE = "advance",
     r.MOD_SKIP = "modSkip",
     r.WAIT_LIST_UPDATE = "waitListUpdate",
     r.CHAT_COMMAND = "chatCommand",
     r.HISTORY_UPDATE = "historyUpdate",
     r.ROLE = {},
     r.ROLE.NONE = a.NONE,
     r.ROLE.DJ = a.DJ,
     r.ROLE.BOUNCER = a.BOUNCER,
     r.ROLE.MANAGER = a.MANAGER,
     r.ROLE.COHOST = a.COHOST,
     r.ROLE.HOST = a.HOST,
     r.BAN = {},
     r.BAN.HOUR = "h",
     r.BAN.DAY = "d",
     r.BAN.PERMA = "f",
     r.MUTE = {},
     r.MUTE.SHORT = "s",
     r.MUTE.MEDIUM = "m",
     r.MUTE.LONG = "l",
     r.enabled = !1,
     r.dispatch = function(t, i) {
         r.enabled && r._events && r._events[t] && e.delay(function() {
             r.trigger(t, i)
         }, 250)
     }
     ,
     i.on("chat:command", function(e) {
         r._events && r._events[r.CHAT_COMMAND] && r.trigger(r.CHAT_COMMAND, e)
     }),
     n.on("reset", function() {
         r._events && r._events[r.HISTORY_UPDATE] && r.dispatch(r.HISTORY_UPDATE, r.getHistory())
     }),
     o.on("change", function() {
         r._events && r._events[r.SCORE_UPDATE] && r.dispatch(r.SCORE_UPDATE, r.getScore())
     }),
     s.on("reset", function() {
         r._events && r._events[r.WAIT_LIST_UPDATE] && r.dispatch(r.WAIT_LIST_UPDATE, r.getWaitList())
     }),
     window.API = r
 }),
 function() {
     !function(e, t) {
         return "function" == typeof define && define.amd ? define("ifVisible", [], function() {
             return t()
         }) : "object" == typeof exports ? module.exports = t() : e.ifvisible = t()
     }(this, function() {
         var e, t, i, s, n, a, o, r, l, h, c, p, d, u;
         return l = {},
         i = document,
         c = !1,
         p = "active",
         o = 6e4,
         a = !1,
         t = function() {
             var e, t, i, s, n, a, o;
             return e = function() {
                 return (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
             }
             ,
             n = function() {
                 return e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e()
             }
             ,
             a = {},
             i = "__ceGUID",
             t = function(e, t, s) {
                 return e[i] = void 0,
                 e[i] || (e[i] = "ifvisible.object.event.identifier"),
                 a[e[i]] || (a[e[i]] = {}),
                 a[e[i]][t] || (a[e[i]][t] = []),
                 a[e[i]][t].push(s)
             }
             ,
             s = function(e, t, s) {
                 var n, o, r, l, h;
                 if (e[i] && a[e[i]] && a[e[i]][t]) {
                     for (l = a[e[i]][t],
                     h = [],
                     o = 0,
                     r = l.length; o < r; o++)
                         n = l[o],
                         h.push(n(s || {}));
                     return h
                 }
             }
             ,
             o = function(e, t, s) {
                 var n, o, r, l, h;
                 if (s) {
                     if (e[i] && a[e[i]] && a[e[i]][t])
                         for (h = a[e[i]][t],
                         o = r = 0,
                         l = h.length; r < l; o = ++r)
                             if (n = h[o],
                             n === s)
                                 return a[e[i]][t].splice(o, 1),
                                 n
                 } else if (e[i] && a[e[i]] && a[e[i]][t])
                     return delete a[e[i]][t]
             }
             ,
             {
                 add: t,
                 remove: o,
                 fire: s
             }
         }(),
         e = function() {
             var e;
             return e = !1,
             function(t, i, s) {
                 return e || (e = t.addEventListener ? function(e, t, i) {
                     return e.addEventListener(t, i, !1)
                 }
                 : t.attachEvent ? function(e, t, i) {
                     return e.attachEvent("on" + t, i, !1)
                 }
                 : function(e, t, i) {
                     return e["on" + t] = i
                 }
                 ),
                 e(t, i, s)
             }
         }(),
         s = function(e, t) {
             var s;
             return i.createEventObject ? e.fireEvent("on" + t, s) : (s = i.createEvent("HTMLEvents"),
             s.initEvent(t, !0, !0),
             !e.dispatchEvent(s))
         }
         ,
         r = function() {
             var e, t, s, n, a;
             for (n = void 0,
             a = 3,
             s = i.createElement("div"),
             e = s.getElementsByTagName("i"),
             t = function() {
                 return s.innerHTML = "<!--[if gt IE " + ++a + "]><i></i><![endif]-->",
                 e[0]
             }
             ; t(); )
                 ;
             return a > 4 ? a : n
         }(),
         n = !1,
         u = void 0,
         "undefined" != typeof i.hidden ? (n = "hidden",
         u = "visibilitychange") : "undefined" != typeof i.mozHidden ? (n = "mozHidden",
         u = "mozvisibilitychange") : "undefined" != typeof i.msHidden ? (n = "msHidden",
         u = "msvisibilitychange") : "undefined" != typeof i.webkitHidden && (n = "webkitHidden",
         u = "webkitvisibilitychange"),
         d = function() {
             var t, s;
             return t = [],
             s = function() {
                 return t.map(clearTimeout),
                 "active" !== p && l.wakeup(),
                 a = +new Date,
                 t.push(setTimeout(function() {
                     if ("active" === p)
                         return l.idle()
                 }, o))
             }
             ,
             s(),
             e(i, "mousemove", s),
             e(i, "keyup", s),
             e(i, "touchstart", s),
             e(window, "scroll", s),
             l.focus(s),
             l.wakeup(s)
         }
         ,
         h = function() {
             var t;
             return !!c || (n === !1 ? (t = "blur",
             r < 9 && (t = "focusout"),
             e(window, t, function() {
                 return l.blur()
             }),
             e(window, "focus", function() {
                 return l.focus()
             })) : e(i, u, function() {
                 return i[n] ? l.blur() : l.focus()
             }, !1),
             c = !0,
             d())
         }
         ,
         l = {
             setIdleDuration: function(e) {
                 return o = 1e3 * e
             },
             getIdleDuration: function() {
                 return o
             },
             getIdleInfo: function() {
                 var e, t;
                 return e = +new Date,
                 t = {},
                 "idle" === p ? (t.isIdle = !0,
                 t.idleFor = e - a,
                 t.timeLeft = 0,
                 t.timeLeftPer = 100) : (t.isIdle = !1,
                 t.idleFor = e - a,
                 t.timeLeft = a + o - e,
                 t.timeLeftPer = (100 - 100 * t.timeLeft / o).toFixed(2)),
                 t
             },
             focus: function(e) {
                 return "function" == typeof e ? this.on("focus", e) : (p = "active",
                 t.fire(this, "focus"),
                 t.fire(this, "wakeup"),
                 t.fire(this, "statusChanged", {
                     status: p
                 })),
                 this
             },
             blur: function(e) {
                 return "function" == typeof e ? this.on("blur", e) : (p = "hidden",
                 t.fire(this, "blur"),
                 t.fire(this, "idle"),
                 t.fire(this, "statusChanged", {
                     status: p
                 })),
                 this
             },
             idle: function(e) {
                 return "function" == typeof e ? this.on("idle", e) : (p = "idle",
                 t.fire(this, "idle"),
                 t.fire(this, "statusChanged", {
                     status: p
                 })),
                 this
             },
             wakeup: function(e) {
                 return "function" == typeof e ? this.on("wakeup", e) : (p = "active",
                 t.fire(this, "wakeup"),
                 t.fire(this, "statusChanged", {
                     status: p
                 })),
                 this
             },
             on: function(e, i) {
                 return h(),
                 t.add(this, e, i),
                 this
             },
             off: function(e, i) {
                 return h(),
                 t.remove(this, e, i),
                 this
             },
             onEvery: function(e, t) {
                 var i, s;
                 return h(),
                 i = !1,
                 t && (s = setInterval(function() {
                     if ("active" === p && i === !1)
                         return t()
                 }, 1e3 * e)),
                 {
                     stop: function() {
                         return clearInterval(s)
                     },
                     pause: function() {
                         return i = !0
                     },
                     resume: function() {
                         return i = !1
                     },
                     code: s,
                     callback: t
                 }
             },
             now: function(e) {
                 return h(),
                 p === (e || "active")
             }
         }
     })
 }
 .call(this),
 define("f1e1d/af752/a8ae3", ["f1e1d/af752/e1224"], function(e) {
     var t = !1;
     return {
         check: function(i) {
             var s = document.createElement("div");
             s.innerHTML = "&nbsp;",
             s.className = "adsbox",
             document.body.appendChild(s),
             window.setTimeout(function() {
                 0 === s.offsetHeight ? (t = !0,
                 e("send", "event", "AdBlocked", "blocker-on")) : e("send", "event", "AdBlocked", "blocker-off"),
                 i && i(t),
                 s.remove()
             }, 100)
         },
         enabled: t
     }
 }),
 define("f1e1d/af752/f3ab8", ["underscore", "ifVisible", "f1e1d/af752/bfef4", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/af752/a8ae3", "f1e1d/af752/fa88e", "f1e1d/d8478/b885e", "f1e1d/d8478/e70c0"], function(e, t, i, s, n, a, o, r, l) {
     function h() {
         throw new Exception("googletag is not available. Make sure you are including the gpt script")
     }
     function c() {
         throw new Exception("googletag.cmd is not available. Make sure you are including the gpt script")
     }
     function p() {
         return void 0 !== window.googletag && googletag.apiReady === !0
     }
     function d() {
         return p() && void 0 !== window.googletag.cmd
     }
     function u(e) {
         d() === !0 && googletag.cmd.push(e)
     }
     function f() {
         return r.hasSubscription() === !1
     }
     function m(e) {
         return void 0 === e.lastRefresh || e.lastRefresh - (new Date).getTime() + k <= 0
     }
     function g(e) {
         d() === !0 ? (e.isDisplayed = !0,
         i.debug("[DFPFacade] display slot %s %o", e.dom, e.slot),
         googletag.cmd.push(function() {
             googletag.display(e.dom)
         })) : c()
     }
     function v(t) {
         if (p() === !0) {
             var s = [];
             if (t = e.filter(e.flatten([t]), function(e) {
                 return m(e) === !1 && i.debug("[DFPFacade] Prevent slot refresh %o", e),
                 m(e)
             }),
             t.length <= 0)
                 return;
             s = e.pluck(t, "slot");
             var n = (new Date).getTime();
             e.each(t, function(e) {
                 e.isDisplayed !== !0 && g(e),
                 e.lastRefresh = n,
                 i.debug("[DFPFacade] refresh slot(s) %s %o", e.dom, e.slot)
             }),
             googletag.pubads().refresh(e.flatten(s))
         } else
             h()
     }
     function b() {
         if (p() === !0) {
             var t = googletag.pubads().getSlots()
               , s = e.map(t, function(e) {
                 var t = e.getSlotId();
                 return [t.getId(), {
                     id: t.getId(),
                     dom: t.getDomId(),
                     slot: e
                 }]
             });
             _ = e.object(s),
             i.debug("[DFPFacade] updated defined slots %o", _)
         }
     }
     function w() {
         n.on("resize:stop", S.bind(this, -1)),
         n.on("dfp:dashboard", S.bind(this, /Dash_/gim));
         var e = ["show:room", "room:joined", "panel:close", "click:woot", "click:meh", "click:grab", "click:waitlist", "playback:snooze", "playback:toggleMute", "fb:invite", "tw:invite", "click:addFriend", "click:removeFriend", "click:subscribe"];
         n.on(e.join(" "), function() {
             l.get("joined") === !0 && S(/Community_RightRail/gim)
         }
         .bind(this)),
         n.on("panel:shown", function(e) {}),
         n.on("user_content:select", function(e) {
             switch (e.master) {
             case "the-user-profile":
                 S(/MyProfile/gim);
                 break;
             case "user-inventory":
                 S(/MyStuff/gim);
                 break;
             case "user-store":
                 S(/Shop/gim);
                 break;
             case "user-friends":
                 S(/Friends/gim);
                 break;
             case "user-history":
                 S(/RecentlyPlayed/gim);
                 break;
             case "user-settings":
                 S(/Settings/gim);
                 break;
             case "user-communities":
                 S(/MyCommunities/gim)
             }
         })
     }
     function y(e, t) {
         void 0 === t && (t = -1);
         var i = null;
         return function() {
             arguments[0] !== t && (i = Array.prototype.splice.call(arguments, 0)),
             e.apply(this, i)
         }
     }
     function C() {
         a.check(function(e) {
             e === !0 && p() !== !0 && f() !== !0 || (b(),
             w())
         })
     }
     var k = 18e4
       , _ = (o.isDevelopment ? "stg.plug.dj" : "plug.dj",
     {})
       , S = y(function(t) {
         e.each(_, function(e) {
             new RegExp(t).test(e.id) === !0 && v(e)
         })
     });
     return {
         init: C,
         DFPCommand: u
     }
 }),
 define("f1e1d/ee86e/af9c4", ["jquery", "underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/b7acd", "f1e1d/e718c/c2878", "f1e1d/ee86e/f72f1", "f1e1d/fce39/d6687", "f1e1d/fce39/fe166", "f1e1d/fce39/d3252", "f1e1d/e8300/a815f", "f1e1d/e8300/be22c", "f1e1d/a3bee/c49d1", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/fdf95", "f1e1d/be642/e32cc/edfce", "f1e1d/d9232/b42c1", "f1e1d/af752/f4c6d", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "f1e1d/af752/f3ab8", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S) {
     var x = i.extend({
         execute: function() {
             if (this.event.slug !== f.get("slug")) {
                 this.trigger("room:joining", this.event.slug),
                 window.history.replaceState({
                     slug: this.event.slug,
                     title: S.roomInfo.loading + " - plug.dj"
                 }, S.roomInfo.loading + " - plug.dj", "/" + this.event.slug),
                 document.title = S.roomInfo.loading + " - plug.dj",
                 w.enabled = !1;
                 var e = t.clone(u.defaults);
                 e.volume = b.settings.volume,
                 e.lastVolume = b.settings.lastVolume || b.settings.volume,
                 u.set(e),
                 0 === e.volume && u.trigger("change:volume", u, e.volume),
                 0 === e.lastVolume && u.trigger("change:lastVolume", u, e.lastVolume),
                 d.set(d.defaults),
                 l.length > 0 && l.each(function(e) {
                     e.get("id") !== m.get("id") && e.off()
                 }),
                 l.reset(),
                 r.length > 0 && r.each(function(e) {
                     e.off()
                 }),
                 r.reset(),
                 a.synced = !1,
                 m.set({
                     vote: 0,
                     grab: !1,
                     role: 0
                 }),
                 g.advance(),
                 p.clear(),
                 p.setMutes(),
                 f.set(f.defaults),
                 this.trigger("custom:unload"),
                 o.reset(),
                 t.defer(t.bind(this.showRoom, this)),
                 t.defer(function() {
                     s.trigger("chat:log", S.messages.plugBeta.split("%VERSION%").join(window._v))
                 }),
                 this.listenTo(new v(this.event.slug))
             } else
                 this.trigger("room:joined", this.event.slug),
                 this.finish();
             setTimeout(function() {}, 300)
         },
         onSuccess: function() {
             y.isRoom = !0,
             C.community(),
             this.dispatch(new c(c.STATE,this.event.slug)),
             this.finish()
         },
         onError: function(e) {
             if (404 !== e.code)
                 if ("roomCapacity" === e.status)
                     window.location.href = "/capacity";
                 else if ("ban" === e.status) {
                     var i, n = e.data[0];
                     i = n.e === -1 ? S.ban.forever : S.ban.until.split("%TIME%").join(k.formatTime(n.e)),
                     (isNaN(n.r) || n.r < 1 || n.r > 5) && (n.r = 1),
                     this.dispatch(new h(h.ALERT,S.ban.title,i + "<br/><br/>" + S.ban["reason" + n.r]))
                 } else
                     this.dispatch(new h(h.ALERT,S.errors.error,S.alerts.error + e.code));
             else
                 this.dispatch(new h(h.ALERT,S.errors.error,S.alerts.error + e.code));
             t.delay(function() {
                 s.trigger("show:dashboard", !0)
             }, 250),
             this.finish()
         },
         showRoom: function() {
             this.trigger("show:room")
         }
     });
     return n.mapEvent(c.JOIN, x, c),
     x
 }),
 define("f1e1d/be642/e32cc/e2500", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "rooms/state",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code && e.data.length ? this.success && (t.deserializeRoom(e.data[0]),
             this.success(e.data[0])) : this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/ee86e/ee6d4", ["jquery", "underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/e8300/b892c", "f1e1d/e8300/da675", "f1e1d/e8300/be22c", "f1e1d/a3bee/c49d1", "f1e1d/d8478/eeaaf", "f1e1d/d8478/d23b4", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8478/fdf95", "f1e1d/be642/e32cc/e2500", "f1e1d/be642/c76df/cbe4b", "f1e1d/d9232/b42c1", "f1e1d/af752/f4c6d", "f1e1d/af752/fd6ec", "f1e1d/af752/e504b", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _) {
     var S = ["tastycat", "minecraft", "monstercat", "mineplex-official", "nightcore", "tasty", "thenation", "r-trees-music"]
       , x = i.extend({
         execute: function() {
             this.listenTo(new v)
         },
         onSuccess: function(i) {
             var s = S.indexOf(i.meta.slug) > -1 ? i.meta.slug : void 0;
             "mineplex-official" === s ? s = "minecraft" : "r-trees-music" === s && (s = "rtreesmusic");
             var o = u.get("joined")
               , l = !o && !s;
             i.meta.description || (i.meta.description = ""),
             i.meta.welcome || (i.meta.welcome = "");
             var m;
             switch (s) {
             case "tastycat":
             case "monstercat":
                 m = "tastycat";
                 break;
             case "nightcore":
                 m = "nightcore";
                 break;
             default:
                 m = void 0
             }
             u.set(i.meta).set("joined", !0).set("joinTime", Date.now()).set("fx", i.fx).set("custom", s ? C[s] : void 0).set("staffAvatar", m),
             window.history.replaceState({
                 slug: u.get("slug"),
                 title: u.get("name") + " - plug.dj"
             }, u.get("name") + " - plug.dj", "/" + u.get("slug")),
             document.title = u.get("name") + " - plug.dj",
             f.set("role", i.role),
             e("body").removeClass("ultra plutotv"),
             i.users.unshift(f),
             a.reset(i.users),
             !i.booth.currentDJ || a.get(i.booth.currentDJ) ? c.set(i.booth) : new b(i.booth.currentDJ).on("success", function(e) {
                 a.add(e),
                 c.set(i.booth)
             }),
             d.set({
                 startTime: k.convertUnixDateStringToNumberString(i.playback.startTime),
                 playlistID: i.playback.playlistID,
                 historyID: i.playback.historyID,
                 media: i.playback.media ? new p(i.playback.media) : void 0
             }),
             g.parse(i.votes || {}, i.grabs || {}),
             h.setMutes(i.mutes),
             o || !u.get("welcome") || f.get("guest") || h.receive({
                 type: "welcome",
                 message: this.welcome(u.get("welcome"))
             }),
             this.trigger("room:joined", s),
             this.trigger("djButton:update"),
             this.trigger("userPlaying:update"),
             y.enabled = !f.get("guest"),
             t.delay(function() {
                 n.dispatch(new r(r.ROOM))
             }, 250),
             (l || window._signingup) && (n.trigger("audience:draw"),
             window._signingup && (window._signingup = void 0,
             delete window._signingup)),
             _.track(_.type.action, _.event.joinRoom),
             this.checkWT(),
             this.finish()
         },
         checkWT: function() {
             if (f.get("guest") || 1 === f.get("level")) {
                 var e = Date.now();
                 (!localStorage.getItem("wt") || e - parseInt(localStorage.getItem("wt")) > 9e5) && f.set("walkthrough", f.get("guest") ? 1 : 2)
             }
         },
         onError: function(e) {
             403 === e && (u.set({
                 slug: void 0,
                 joined: !1
             }, {
                 silent: !0
             }),
             n.dispatch(new l(l.JOIN,this.event.slug))),
             this.finish()
         },
         welcome: function(e) {
             var t, i, s = e.indexOf(" %u");
             return s > -1 && (t = e.substr(0, s),
             i = e.substr(s + 3),
             e = t + " " + f.get("rawun") + i),
             s = e.indexOf(" %r"),
             s > -1 && (t = e.substr(0, s),
             i = e.substr(s + 3),
             e = t + " " + u.get("rawname") + i),
             e
         }
     });
     return s.mapEvent(l.STATE, x, l),
     x
 }),
 define("f1e1d/e8300/bb607", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t, i, s) {
             this._super(e),
             this.user = t,
             this.pos = i,
             this.room = s
         }
     });
     return t._name = "ShowUserRolloverEvent",
     t.SHOW = "ShowUserRolloverEvent:show",
     t
 }),
 define("f1e1d/fce39/d676d", ["backbone", "f1e1d/d8478/ed416"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         initialize: function() {
             this.__generate()
         },
         __generate: function() {
             for (var e = {
                 category: "base",
                 level: 1,
                 pp: 870,
                 ids: ["base01", "base02", "base03", "base04", "base05", "base06", "base07", "base08", "base09", "base10", "base11", "base12", "base13", "base14", "base15"]
             }, i = {
                 category: "rave",
                 level: 4,
                 pp: 2130,
                 ids: ["rave01", "rave02", "rave03", "rave04", "rave05", "rave06", "rave07", "rave08", "rave09", "rave10", "rave11", "rave12", "rave13", "rave14", "rave15"]
             }, s = {
                 category: "hiphop",
                 level: 4,
                 pp: 2130,
                 ids: ["hiphop01", "hiphop02", "hiphop03", "hiphop04", "hiphop05", "hiphop06", "hiphop07", "hiphop08", "hiphop09", "hiphop10", "hiphop11", "hiphop12", "hiphop13", "hiphop14", "hiphop15", "hiphop-s01", "hiphop-s02"]
             }, n = {
                 category: "country",
                 level: 4,
                 pp: 2130,
                 ids: ["country01", "country02", "country03", "country04", "country05", "country06", "country07", "country08", "country09", "country10", "country11", "country12", "country13", "country14", "country15"]
             }, a = {
                 category: "rock",
                 level: 6,
                 pp: 3780,
                 ids: ["rock01", "rock02", "rock03", "rock04", "rock05", "rock06", "rock07", "rock08", "rock09", "rock10", "rock11", "rock12", "rock13", "rock14", "rock15"]
             }, o = {
                 category: "80s",
                 level: 8,
                 pp: 5340,
                 ids: ["80s01", "80s02", "80s03", "80s04", "80s05", "80s06", "80s07", "80s08", "80s09", "80s10", "80s11", "80s12", "80s13", "80s14", "80s15"]
             }, r = {
                 category: "robot",
                 level: 10,
                 pp: 6500,
                 ids: ["robot01", "robot02", "robot03", "robot04", "robot05", "robot06", "robot07", "robot08", "robot09", "robot10", "robot11", "robot12", "robot13", "robot14", "robot15", "robot-s01", "robot-s02"]
             }, l = {
                 category: "zoo",
                 level: 12,
                 pp: 9725,
                 ids: ["zoo01", "zoo02", "zoo03", "zoo04", "zoo05", "zoo06", "zoo07", "zoo08", "zoo09", "zoo10", "zoo11", "zoo12", "zoo13", "zoo14", "zoo15", "zoo-s01", "zoo-s02", "zoo-s03", "zoo-s04", "zoo-s05", "zoo-s06"]
             }, h = {
                 category: "warrior",
                 level: 14,
                 pp: 15250,
                 ids: ["warrior01", "warrior02", "warrior03", "warrior04", "warrior05", "warrior06", "warrior07", "warrior08", "warrior-s01", "warrior-s02", "warrior-s03", "warrior-s04", "warrior-s05", "warrior-s06"]
             }, c = {
                 category: "island",
                 level: 4,
                 pp: 6625,
                 ids: ["island-t01", "island-t02", "island-t03", "island-t04", "island-s01", "island-s02", "island-s03", "island-s04", "island-s05", "island-s06", "island-e01", "island-e02"]
             }, p = {
                 category: "sea",
                 level: 4,
                 pp: 6625,
                 ids: ["sea-t01", "sea-t02", "sea-t03", "sea-t04", "sea-s01", "sea-s02", "sea-s03", "sea-s04", "sea-s05", "sea-s06", "sea-e01", "sea-e02"]
             }, d = [e, i, s, n, a, o, r, l, h, c, p], u = d.length, f = [], m = 0; m < u; m++)
                 for (var g = d[m], v = g.ids.length, b = 0; b < v; b++)
                     f.push(new t({
                         id: g.ids[b],
                         category: g.category,
                         level: g.level,
                         pp: g.pp
                     }));
             this.reset(f)
         }
     });
     return new i
 }),
 define("f1e1d/fce39/aa287", ["backbone", "f1e1d/d8478/ed416", "f1e1d/d8478/b885e"], function(e, t, i) {
     var s = e.Collection.extend({
         model: t,
         comparator: "id",
         initialize: function() {
             i.on("change:avatarID", this.onChange, this),
             this.on("reset", this.onChange, this)
         },
         onChange: function() {
             var e = this.findWhere({
                 active: !0
             });
             e && e.get("id") !== i.get("avatarID") && e.set("active", !1),
             e = this.get(i.get("avatarID")),
             e && e.set("active", !0)
         }
     });
     return new s
 }),
 define("hbs!templates/dialogs/DialogBanUser", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="username"></span>\n<div class="divider"></div>\n<ul>\n    <li class="reason r1">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason1,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r2">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason2,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r3">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason3,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r4">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason4,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r5">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason5,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n</ul>\n<div class="duration">\n    <div class="toggle hour">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.forHour,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="toggle day">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.forDay,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="toggle forever">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.forever,
         typeof a === r ? a.apply(t) : a)) + "</span>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogBanUser", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/ca530", ["underscore", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogBanUser", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = n.extend({
         id: "dialog-ban-user",
         className: "dialog choice destructive",
         render: function() {
             return this.options.user ? (this.$el.append(this.getHeader(o.dialog.banUser)).append(this.getBody().append(a(o))).append(this.getButtons(o.dialog.banUser, !0)),
             this.$(".toggle").on("click", e.bind(this.onDurationClick, this)),
             i.hasPermission(s.MANAGER) || i.hasPermission(s.SITEMOD, !0) || this.$el.addClass("bouncer"),
             this.dsel = !1,
             this.rsel = !1,
             this.$el.addClass("no-submit"),
             this.$(".username").text(this.options.user.get("username")),
             this.$(".reason").on("click", e.bind(this.onReasonClick, this)),
             this.options.waitlist && this.$(".username").append("&nbsp<span>Waitlist ban</span>"),
             this._super()) : (this.close(),
             this)
         },
         onReasonClick: function(e) {
             var t = $(e.target);
             (t.hasClass("radio") || t.hasClass("icon") || t.is("span")) && (t = t.parent()),
             this.$(".reason").removeClass("selected"),
             t.addClass("selected"),
             this.rsel = !0,
             this.check()
         },
         onDurationClick: function(e) {
             var t = $(e.target);
             t.is("span") && (t = t.parent()),
             this.$(".toggle").removeClass("selected"),
             t.addClass("selected"),
             this.dsel = !0,
             this.check()
         },
         check: function() {
             this.rsel && this.dsel && this.$el.removeClass("no-submit")
         },
         submit: function() {
             if (!this.$el.hasClass("no-submit")) {
                 var e;
                 if (this.$("li.selected").hasClass("r1") ? e = 1 : this.$("li.selected").hasClass("r2") ? e = 2 : this.$("li.selected").hasClass("r3") ? e = 3 : this.$("li.selected").hasClass("r4") ? e = 4 : this.$("li.selected").hasClass("r5") && (e = 5),
                 e) {
                     var i;
                     i = this.$(".toggle.hour").hasClass("selected") ? "h" : this.$(".toggle.day").hasClass("selected") ? "d" : "f",
                     this.dispatch(new t(t.BAN,this.options.user.get("id"),e,i))
                 }
                 this.close()
             }
         },
         close: function() {
             this.options.user = void 0,
             this.$(".reason").off(),
             this.$(".toggle").off(),
             this._super()
         }
     });
     return r
 }),
 define("hbs!templates/dialogs/DialogWaitlistBanUser", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="username"></span>\n<div class="divider"></div>\n<ul>\n    <li class="reason r1">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason1,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r2">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason2,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r3">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason3,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r4">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason4,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r5">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.ban,
         a = null == a || a === !1 ? a : a.reason5,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n</ul>\n<div class="duration">\n    <div class="toggle 15mins">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.for15min,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="toggle hour">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.forHour,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="toggle day">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.forDay,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="toggle forever">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.forever,
         typeof a === r ? a.apply(t) : a)) + "</span>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogWaitlistBanUser", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/b3a5e", ["underscore", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogWaitlistBanUser", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = n.extend({
         id: "dialog-waitlist-ban-user",
         className: "dialog choice destructive",
         render: function() {
             return this.options.user ? (this.$el.append(this.getHeader(o.dialog.waitlistBanUser)).append(this.getBody().append(a(o))).append(this.getButtons(o.dialog.banUser, !0)),
             this.$(".toggle").on("click", e.bind(this.onDurationClick, this)),
             i.hasPermission(s.MANAGER) || i.hasPermission(s.SITEMOD, !0) || this.$el.addClass("bouncer"),
             this.dsel = !1,
             this.rsel = !1,
             this.$el.addClass("no-submit"),
             this.$(".username").text(this.options.user.get("username")),
             this.$(".reason").on("click", e.bind(this.onReasonClick, this)),
             this.options.waitlist && this.$(".username").append("&nbsp<span>Waitlist ban</span>"),
             this._super()) : (this.close(),
             this)
         },
         onReasonClick: function(e) {
             var t = $(e.target);
             (t.hasClass("radio") || t.hasClass("icon") || t.is("span")) && (t = t.parent()),
             this.$(".reason").removeClass("selected"),
             t.addClass("selected"),
             this.rsel = !0,
             this.check()
         },
         onDurationClick: function(e) {
             var t = $(e.target);
             t.is("span") && (t = t.parent()),
             this.$(".toggle").removeClass("selected"),
             t.addClass("selected"),
             this.dsel = !0,
             this.check()
         },
         check: function() {
             this.rsel && this.dsel && this.$el.removeClass("no-submit")
         },
         submit: function() {
             if (!this.$el.hasClass("no-submit")) {
                 var e;
                 if (this.$("li.selected").hasClass("r1") ? e = 1 : this.$("li.selected").hasClass("r2") ? e = 2 : this.$("li.selected").hasClass("r3") ? e = 3 : this.$("li.selected").hasClass("r4") ? e = 4 : this.$("li.selected").hasClass("r5") && (e = 5),
                 e) {
                     var i;
                     i = this.$(".toggle.15mins").hasClass("selected") ? "s" : this.$(".toggle.hour").hasClass("selected") ? "m" : this.$(".toggle.day").hasClass("selected") ? "l" : "f",
                     this.dispatch(new t(t.WAITLIST_BAN,this.options.user.get("id"),e,i))
                 }
                 this.close()
             }
         },
         close: function() {
             this.options.user = void 0,
             this.$(".reason").off(),
             this.$(".toggle").off(),
             this._super()
         }
     });
     return r
 }),
 function() {
     var e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y = [].slice, C = [].indexOf || function(e) {
         for (var t = 0, i = this.length; t < i; t++)
             if (t in this && this[t] === e)
                 return t;
         return -1
     }
     ;
     e = jQuery,
     e.payment = {},
     e.payment.fn = {},
     e.fn.payment = function() {
         var t, i;
         return i = arguments[0],
         t = 2 <= arguments.length ? y.call(arguments, 1) : [],
         e.payment.fn[i].apply(this, t)
     }
     ,
     n = /(\d{1,4})/g,
     s = [{
         type: "visaelectron",
         pattern: /^4(026|17500|405|508|844|91[37])/,
         format: n,
         length: [16],
         cvcLength: [3],
         luhn: !0
     }, {
         type: "maestro",
         pattern: /^(5(018|0[23]|[68])|6(39|7))/,
         format: n,
         length: [12, 13, 14, 15, 16, 17, 18, 19],
         cvcLength: [3],
         luhn: !0
     }, {
         type: "forbrugsforeningen",
         pattern: /^600/,
         format: n,
         length: [16],
         cvcLength: [3],
         luhn: !0
     }, {
         type: "dankort",
         pattern: /^5019/,
         format: n,
         length: [16],
         cvcLength: [3],
         luhn: !0
     }, {
         type: "visa",
         pattern: /^4/,
         format: n,
         length: [13, 16],
         cvcLength: [3],
         luhn: !0
     }, {
         type: "mastercard",
         pattern: /^5[0-5]/,
         format: n,
         length: [16],
         cvcLength: [3],
         luhn: !0
     }, {
         type: "amex",
         pattern: /^3[47]/,
         format: /(\d{1,4})(\d{1,6})?(\d{1,5})?/,
         length: [15],
         cvcLength: [3, 4],
         luhn: !0
     }, {
         type: "dinersclub",
         pattern: /^3[0689]/,
         format: n,
         length: [14],
         cvcLength: [3],
         luhn: !0
     }, {
         type: "discover",
         pattern: /^6([045]|22)/,
         format: n,
         length: [16],
         cvcLength: [3],
         luhn: !0
     }, {
         type: "unionpay",
         pattern: /^(62|88)/,
         format: n,
         length: [16, 17, 18, 19],
         cvcLength: [3],
         luhn: !1
     }, {
         type: "jcb",
         pattern: /^35/,
         format: n,
         length: [16],
         cvcLength: [3],
         luhn: !0
     }],
     t = function(e) {
         var t, i, n;
         for (e = (e + "").replace(/\D/g, ""),
         i = 0,
         n = s.length; i < n; i++)
             if (t = s[i],
             t.pattern.test(e))
                 return t
     }
     ,
     i = function(e) {
         var t, i, n;
         for (i = 0,
         n = s.length; i < n; i++)
             if (t = s[i],
             t.type === e)
                 return t
     }
     ,
     d = function(e) {
         var t, i, s, n, a, o;
         for (s = !0,
         n = 0,
         i = (e + "").split("").reverse(),
         a = 0,
         o = i.length; a < o; a++)
             t = i[a],
             t = parseInt(t, 10),
             (s = !s) && (t *= 2),
             t > 9 && (t -= 9),
             n += t;
         return n % 10 === 0
     }
     ,
     p = function(e) {
         var t;
         return null != e.prop("selectionStart") && e.prop("selectionStart") !== e.prop("selectionEnd") || !("undefined" == typeof document || null === document || null == (t = document.selection) || "function" != typeof t.createRange || !t.createRange().text)
     }
     ,
     u = function(t) {
         return setTimeout(function() {
             var i, s;
             return i = e(t.currentTarget),
             s = i.val(),
             s = e.payment.formatCardNumber(s),
             i.val(s)
         })
     }
     ,
     r = function(i) {
         var s, n, a, o, r, l, h;
         if (a = String.fromCharCode(i.which),
         /^\d+$/.test(a) && (s = e(i.currentTarget),
         h = s.val(),
         n = t(h + a),
         o = (h.replace(/\D/g, "") + a).length,
         l = 16,
         n && (l = n.length[n.length.length - 1]),
         !(o >= l || null != s.prop("selectionStart") && s.prop("selectionStart") !== h.length)))
             return r = n && "amex" === n.type ? /^(\d{4}|\d{4}\s\d{6})$/ : /(?:^|\s)(\d{4})$/,
             r.test(h) ? (i.preventDefault(),
             setTimeout(function() {
                 return s.val(h + " " + a)
             })) : r.test(h + a) ? (i.preventDefault(),
             setTimeout(function() {
                 return s.val(h + a + " ")
             })) : void 0
     }
     ,
     a = function(t) {
         var i, s;
         if (i = e(t.currentTarget),
         s = i.val(),
         8 === t.which && (null == i.prop("selectionStart") || i.prop("selectionStart") === s.length))
             return /\d\s$/.test(s) ? (t.preventDefault(),
             setTimeout(function() {
                 return i.val(s.replace(/\d\s$/, ""))
             })) : /\s\d?$/.test(s) ? (t.preventDefault(),
             setTimeout(function() {
                 return i.val(s.replace(/\s\d?$/, ""))
             })) : void 0
     }
     ,
     f = function(t) {
         return setTimeout(function() {
             var i, s;
             return i = e(t.currentTarget),
             s = i.val(),
             s = e.payment.formatExpiry(s),
             i.val(s)
         })
     }
     ,
     l = function(t) {
         var i, s, n;
         if (s = String.fromCharCode(t.which),
         /^\d+$/.test(s))
             return i = e(t.currentTarget),
             n = i.val() + s,
             /^\d$/.test(n) && "0" !== n && "1" !== n ? (t.preventDefault(),
             setTimeout(function() {
                 return i.val("0" + n + " / ")
             })) : /^\d\d$/.test(n) ? (t.preventDefault(),
             setTimeout(function() {
                 return i.val("" + n + " / ")
             })) : void 0
     }
     ,
     h = function(t) {
         var i, s, n;
         if (s = String.fromCharCode(t.which),
         /^\d+$/.test(s))
             return i = e(t.currentTarget),
             n = i.val(),
             /^\d\d$/.test(n) ? i.val("" + n + " / ") : void 0
     }
     ,
     c = function(t) {
         var i, s, n;
         if (n = String.fromCharCode(t.which),
         "/" === n || " " === n)
             return i = e(t.currentTarget),
             s = i.val(),
             /^\d$/.test(s) && "0" !== s ? i.val("0" + s + " / ") : void 0
     }
     ,
     o = function(t) {
         var i, s;
         if (i = e(t.currentTarget),
         s = i.val(),
         8 === t.which && (null == i.prop("selectionStart") || i.prop("selectionStart") === s.length))
             return /\s\/\s\d?$/.test(s) ? (t.preventDefault(),
             setTimeout(function() {
                 return i.val(s.replace(/\s\/\s\d?$/, ""))
             })) : void 0
     }
     ,
     b = function(e) {
         var t;
         return !(!e.metaKey && !e.ctrlKey) || 32 !== e.which && (0 === e.which || (e.which < 33 || (t = String.fromCharCode(e.which),
         !!/[\d\s]/.test(t))))
     }
     ,
     g = function(i) {
         var s, n, a, o;
         if (s = e(i.currentTarget),
         a = String.fromCharCode(i.which),
         /^\d+$/.test(a) && !p(s))
             return o = (s.val() + a).replace(/\D/g, ""),
             n = t(o),
             n ? o.length <= n.length[n.length.length - 1] : o.length <= 16
     }
     ,
     v = function(t) {
         var i, s, n;
         if (i = e(t.currentTarget),
         s = String.fromCharCode(t.which),
         /^\d+$/.test(s) && !p(i))
             return n = i.val() + s,
             n = n.replace(/\D/g, ""),
             !(n.length > 6) && void 0
     }
     ,
     m = function(t) {
         var i, s, n;
         if (i = e(t.currentTarget),
         s = String.fromCharCode(t.which),
         /^\d+$/.test(s) && !p(i))
             return n = i.val() + s,
             n.length <= 4
     }
     ,
     w = function(t) {
         var i, n, a, o, r;
         if (i = e(t.currentTarget),
         r = i.val(),
         o = e.payment.cardType(r) || "unknown",
         !i.hasClass(o))
             return n = function() {
                 var e, t, i;
                 for (i = [],
                 e = 0,
                 t = s.length; e < t; e++)
                     a = s[e],
                     i.push(a.type);
                 return i
             }(),
             i.removeClass("unknown"),
             i.removeClass(n.join(" ")),
             i.addClass(o),
             i.toggleClass("identified", "unknown" !== o),
             i.trigger("payment.cardType", o)
     }
     ,
     e.payment.fn.formatCardCVC = function() {
         return this.payment("restrictNumeric"),
         this.on("keypress", m),
         this
     }
     ,
     e.payment.fn.formatCardExpiry = function() {
         return this.payment("restrictNumeric"),
         this.on("keypress", v),
         this.on("keypress", l),
         this.on("keypress", c),
         this.on("keypress", h),
         this.on("keydown", o),
         this.on("change", f),
         this.on("input", f),
         this
     }
     ,
     e.payment.fn.formatCardNumber = function() {
         return this.payment("restrictNumeric"),
         this.on("keypress", g),
         this.on("keypress", r),
         this.on("keydown", a),
         this.on("keyup", w),
         this.on("paste", u),
         this.on("change", u),
         this.on("input", u),
         this.on("input", w),
         this
     }
     ,
     e.payment.fn.restrictNumeric = function() {
         return this.on("keypress", b),
         this
     }
     ,
     e.payment.fn.cardExpiryVal = function() {
         return e.payment.cardExpiryVal(e(this).val())
     }
     ,
     e.payment.cardExpiryVal = function(e) {
         var t, i, s, n;
         return e = e.replace(/\s/g, ""),
         n = e.split("/", 2),
         t = n[0],
         s = n[1],
         2 === (null != s ? s.length : void 0) && /^\d+$/.test(s) && (i = (new Date).getFullYear(),
         i = i.toString().slice(0, 2),
         s = i + s),
         t = parseInt(t, 10),
         s = parseInt(s, 10),
         {
             month: t,
             year: s
         }
     }
     ,
     e.payment.validateCardNumber = function(e) {
         var i, s;
         return e = (e + "").replace(/\s+|-/g, ""),
         !!/^\d+$/.test(e) && (i = t(e),
         !!i && (s = e.length,
         C.call(i.length, s) >= 0 && (i.luhn === !1 || d(e))))
     }
     ,
     e.payment.validateCardExpiry = function(t, i) {
         var s, n, a;
         return "object" == typeof t && "month"in t && (a = t,
         t = a.month,
         i = a.year),
         !(!t || !i) && (t = e.trim(t),
         i = e.trim(i),
         !!/^\d+$/.test(t) && (!!/^\d+$/.test(i) && (1 <= t && t <= 12 && (2 === i.length && (i = i < 70 ? "20" + i : "19" + i),
         4 === i.length && (n = new Date(i,t),
         s = new Date,
         n.setMonth(n.getMonth() - 1),
         n.setMonth(n.getMonth() + 1, 1),
         n > s)))))
     }
     ,
     e.payment.validateCardCVC = function(t, s) {
         var n, a;
         return t = e.trim(t),
         !!/^\d+$/.test(t) && (n = i(s),
         null != n ? (a = t.length,
         C.call(n.cvcLength, a) >= 0) : t.length >= 3 && t.length <= 4)
     }
     ,
     e.payment.cardType = function(e) {
         var i;
         return e ? (null != (i = t(e)) ? i.type : void 0) || null : null
     }
     ,
     e.payment.formatCardNumber = function(i) {
         var s, n, a, o;
         return (s = t(i)) ? (a = s.length[s.length.length - 1],
         i = i.replace(/\D/g, ""),
         i = i.slice(0, a),
         s.format.global ? null != (o = i.match(s.format)) ? o.join(" ") : void 0 : (n = s.format.exec(i),
         null != n ? (n.shift(),
         n = e.grep(n, function(e) {
             return e
         }),
         n.join(" ")) : void 0)) : i
     }
     ,
     e.payment.formatExpiry = function(e) {
         var t, i, s, n;
         return (i = e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/)) ? (t = i[1] || "",
         s = i[2] || "",
         n = i[3] || "",
         (n.length > 0 || s.length > 0 && !/\ \/?\ ?/.test(s)) && (s = " / "),
         1 === t.length && "0" !== t && "1" !== t && (t = "0" + t,
         s = " / "),
         t + s + n) : ""
     }
 }
 .call(this),
 define("jquery-payment", ["jquery"], function(e) {
     return function() {
         var t;
         return t || e.$
     }
 }(this)),
 define("f1e1d/be642/c76df/ce669", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "gift",
         init: function(e, t, i) {
             this.data = {
                 id: e,
                 amount: t,
                 response: i
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(this.data.amount) : this.error && this.error()
         }
     });
     return t
 }),
 define("hbs!templates/dialogs/DialogGiftSend", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="info">',
         (a = i.title) ? a = a.call(t, {
             hash: {}
         }) : (a = t.title,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<div class="divider"></div>\n<span class="minimum">',
         (a = i.minimum) ? a = a.call(t, {
             hash: {}
         }) : (a = t.minimum,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<div class="amount">\n    <div class="dialog-input-container">\n        <i class="icon icon-badge-pp"></i>\n        <div class="dialog-input-background">\n            <input type="text" maxlength="8" placeholder="',
         (a = i.placeholder) ? a = a.call(t, {
             hash: {}
         }) : (a = t.placeholder,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" name="amount" value="35"/>\n        </div>\n    </div>\n</div>\n<div id="recaptcha"></div>\n'
     });
     return t.registerPartial("templates_dialogs_DialogGiftSend", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/de316", ["jquery-payment", "underscore", "recaptcha", "f1e1d/d8478/b885e", "f1e1d/be642/c76df/ce669", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogGiftSend", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l, h = a.extend({
         id: "dialog-gift-send",
         className: "dialog no-submit",
         render: function() {
             l = void 0;
             var e = {
                 title: r.dialog.giftSendTitle.split("%NAME%").join(this.model.get("username")),
                 minimum: r.dialog.giftMinimum,
                 placeholder: r.userMeta.plugPoints
             };
             return this.$el.append(this.getHeader(r.dialog.giftSend)).append(this.getBody().append(o(e))).append(this.getButtons(r.dialog.giftSend, !0)),
             this.$(".username").text(this.model.get("username")),
             this.$("input").on("keyup", t.bind(this.validate, this)).on("focus", this.focusBind).on("blur", this.blurBind).payment("restrictNumeric"),
             t.defer(t.bind(this.deferFocus, this)),
             grecaptcha.render("recaptcha", {
                 sitekey: "6LeZP_kSAAAAAIYQ1GSVtaicSQcdo6ytKuGLvpZz",
                 callback: t.bind(this.recap, this),
                 theme: "dark"
             }),
             this.validate(),
             this._super()
         },
         recap: function(e) {
             l = e,
             this.validate()
         },
         deferFocus: function() {
             this.$("input").focus();
             var e = this.$("input")[0];
             e.selectionStart = e.selectionEnd = e.value.length
         },
         validate: function() {
             var e = parseInt(this.$("input").val());
             l && e >= 25 && e <= s.get("pp") ? this.$el.removeClass("no-submit") : this.$el.addClass("no-submit")
         },
         submit: function() {
             this.$el.hasClass("no-submit") || (new n(this.model.get("id"),parseInt(this.$("input").val()),l).on("success", function(e) {
                 s.set("pp", s.get("pp") - e)
             }),
             this.close())
         },
         close: function() {
             e(".pls-container").remove(),
             l = void 0,
             grecaptcha.reset(),
             this.$("input").off(),
             this.model = void 0,
             delete this.model,
             this._super()
         }
     });
     return h
 }),
 define("hbs!templates/dialogs/DialogMuteUser", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="username"></span>\n<div class="divider"></div>\n<ul>\n    <li class="reason r1">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.mute,
         a = null == a || a === !1 ? a : a.reason1,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r2">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.mute,
         a = null == a || a === !1 ? a : a.reason2,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r3">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.mute,
         a = null == a || a === !1 ? a : a.reason3,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r4">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.mute,
         a = null == a || a === !1 ? a : a.reason4,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r5">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.mute,
         a = null == a || a === !1 ? a : a.reason5,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n</ul>\n<div class="duration">\n    <div class="toggle short">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.muteShort,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="toggle medium">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.muteMedium,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="toggle long">\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.muteLong,
         typeof a === r ? a.apply(t) : a)) + "</span>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogMuteUser", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/fe2ce", ["underscore", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogMuteUser", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = n.extend({
         id: "dialog-mute-user",
         className: "dialog choice destructive",
         render: function() {
             return this.options.user ? (this.$el.append(this.getHeader(o.dialog.muteUser)).append(this.getBody().append(a(o))).append(this.getButtons(o.dialog.muteUser, !0)),
             this.$(".toggle").on("click", e.bind(this.onDurationClick, this)),
             this.dsel = !1,
             this.rsel = !1,
             this.$el.addClass("no-submit"),
             this.$(".username").text(this.options.user.get("username")),
             this.$(".reason").on("click", e.bind(this.onReasonClick, this)),
             this._super()) : (this.close(),
             this)
         },
         onReasonClick: function(e) {
             var t = $(e.target);
             (t.hasClass("radio") || t.hasClass("icon") || t.is("span")) && (t = t.parent()),
             this.$(".reason").removeClass("selected"),
             t.addClass("selected"),
             this.rsel = !0,
             this.check()
         },
         onDurationClick: function(e) {
             var t = $(e.target);
             t.is("span") && (t = t.parent()),
             this.$(".toggle").removeClass("selected"),
             t.addClass("selected"),
             this.dsel = !0,
             this.check()
         },
         check: function() {
             this.rsel && this.dsel && this.$el.removeClass("no-submit")
         },
         submit: function() {
             if (!this.$el.hasClass("no-submit")) {
                 var e;
                 if (this.$("li.selected").hasClass("r1") ? e = 1 : this.$("li.selected").hasClass("r2") ? e = 2 : this.$("li.selected").hasClass("r3") ? e = 3 : this.$("li.selected").hasClass("r4") ? e = 4 : this.$("li.selected").hasClass("r5") && (e = 5),
                 e) {
                     var i;
                     i = this.$(".toggle.short").hasClass("selected") ? "s" : this.$(".toggle.medium").hasClass("selected") ? "m" : "l",
                     this.dispatch(new t(t.MUTE,this.options.user.get("id"),e,i))
                 }
                 this.close()
             }
         },
         close: function() {
             this.options.user = void 0,
             this.$(".reason").off(),
             this.$(".toggle").off(),
             this._super()
         }
     });
     return r
 }),
 define("hbs!templates/dialogs/DialogSkip", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="username"></span>\n<span class="media"></span>\n<div class="divider"></div>\n<ul>\n    <li class="reason r1">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.skip,
         a = null == a || a === !1 ? a : a.reason1,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r2">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.skip,
         a = null == a || a === !1 ? a : a.reason2,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r3">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.skip,
         a = null == a || a === !1 ? a : a.reason3,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r4">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.skip,
         a = null == a || a === !1 ? a : a.reason4,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </li>\n    <li class="reason r5">\n        <div class="radio">\n            <i class="icon icon-check-white"></i>\n        </div>\n        <span>' + l((a = t.skip,
         a = null == a || a === !1 ? a : a.reason5,
         typeof a === r ? a.apply(t) : a)) + "</span>\n    </li>\n</ul>"
     });
     return t.registerPartial("templates_dialogs_DialogSkip", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/b8a34", ["underscore", "f1e1d/e8300/fbb60", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogSkip", "lang/Lang"], function(e, t, i, s, n) {
     var a = i.extend({
         id: "dialog-skip",
         className: "dialog choice destructive",
         render: function() {
             return this.options.user ? (this.$el.append(this.getHeader(n.dialog.skip)).append(this.getBody().append(s(n))).append(this.getButtons(n.dialog.skip, !0)),
             this.$el.addClass("no-submit"),
             this.$(".username").text(this.options.user.get("username")),
             this.$(".media").text(this.options.media.get("author") + " - " + this.options.media.get("title")),
             this.$(".reason").on("click", e.bind(this.onReasonClick, this)),
             this._super()) : (this.close(),
             this)
         },
         onReasonClick: function(e) {
             var t = $(e.target);
             (t.hasClass("radio") || t.hasClass("icon") || t.is("span")) && (t = t.parent()),
             this.$(".reason").removeClass("selected"),
             t.addClass("selected"),
             this.$el.removeClass("no-submit")
         },
         submit: function() {
             if (!this.$el.hasClass("no-submit")) {
                 var e;
                 this.$("li.selected").hasClass("r1") ? e = 1 : this.$("li.selected").hasClass("r2") ? e = 2 : this.$("li.selected").hasClass("r3") ? e = 3 : this.$("li.selected").hasClass("r4") ? e = 4 : this.$("li.selected").hasClass("r5") && (e = 5),
                 e && this.dispatch(new t(t.SKIP,this.options.user.get("id"),this.options.historyID)),
                 this.close()
             }
         },
         close: function() {
             this.options.user = void 0,
             this.$(".reason").off("click"),
             this._super()
         }
     });
     return a
 }),
 define("hbs!templates/dialogs/DialogUserRole", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="image">\r\n    <div class="thumb medium"><div class="background"></div><i></i></div>\r\n</div>\r\n<div class="name"><i></i><span></span></div>\r\n<div class="role-menu">\r\n    <div class="selected">\r\n        <i class="rank"></i>\r\n        <span></span>\r\n        <i class="icon icon-arrow-down-blue"></i>\r\n    </div>\r\n    <div class="menu">\r\n        <ul>\r\n            <li class="host">\r\n                <i class="icon icon-chat-host"></i>\r\n                <span>' + l((a = t.roles,
         a = null == a || a === !1 ? a : a.host,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n            </li>\r\n            <li class="cohost">\r\n                <i class="icon icon-chat-host"></i>\r\n                <span>' + l((a = t.roles,
         a = null == a || a === !1 ? a : a.cohost,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n            </li>\r\n            <li class="manager">\r\n                <i class="icon icon-chat-manager"></i>\r\n                <span>' + l((a = t.roles,
         a = null == a || a === !1 ? a : a.manager,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n            </li>\r\n            <li class="bouncer">\r\n                <i class="icon icon-chat-bouncer"></i>\r\n                <span>' + l((a = t.roles,
         a = null == a || a === !1 ? a : a.bouncer,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n            </li>\r\n            <li class="dj">\r\n                <i class="icon icon-chat-dj"></i>\r\n                <span>' + l((a = t.roles,
         a = null == a || a === !1 ? a : a.dj,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n            </li>\r\n            <li class="none">\r\n                <span>' + l((a = t.roles,
         a = null == a || a === !1 ? a : a.none,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n<div class="divider"></div>\r\n<ul class="left">\r\n    <li class="hosts">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.cohosts,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.managers,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.bouncers,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.dj,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers bouncers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.chat,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.name,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.description,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.welcome,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n</ul>\r\n<ul class="right">\r\n    <li class="hosts cohosts managers bouncers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.add,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.lock,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.cycle,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers djs">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.join,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers bouncers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.skip,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers bouncers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.ban,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n    <li class="hosts cohosts managers">\r\n        <span>' + l((a = t.permissions,
         a = null == a || a === !1 ? a : a.unban,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        <i class="icon icon-check-blue"></i>\r\n    </li>\r\n</ul>'
     });
     return t.registerPartial("templates_dialogs_DialogUserRole", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/b7d64", ["jquery", "underscore", "f1e1d/e8300/fbb60", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogUserRole", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = r.extend({
         id: "dialog-user-role",
         className: "dialog",
         initialize: function() {
             this._super(),
             this.role = this.options.user.get("role"),
             this.clickBind = t.bind(this.onClick, this)
         },
         render: function() {
             if (this.options.user) {
                 this.$el.append(this.getHeader(h.dialog.userPermissions)).append(this.getBody().append(l(h))).append(this.getButtons(h.dialog.ok, !0)),
                 this.options.user.hasPermission(a.HOST, !0) ? this.$el.addClass("is-admin") : this.options.user.hasPermission(a.MANAGER, !0) ? this.$el.addClass("is-ambassador") : this.options.user.hasPermission(a.DJ) && this.$el.addClass("is-staff"),
                 this.$(".name").text(this.options.user.get("username")),
                 this.$(".image .thumb i").addClass("avi avi-" + o.aviClass(this.options.user.get("avatarID")));
                 var e = this.options.user.get("status");
                 e = 1 === e ? "online" : "offline",
                 this.$(".image").addClass(e);
                 var i = this;
                 return t.defer(function() {
                     i.initRoleMenu()
                 }),
                 this._super()
             }
             return this.close(),
             this
         },
         initRoleMenu: function() {
             n.hasPermission(a.HOST, !0) || (n.hasPermission(a.HOST) || (this.$(".host").hide(),
             this.$(".cohost").hide()),
             n.hasPermission(a.COHOST) || this.$(".manager").hide(),
             n.hasPermission(a.MANAGER) || (this.$(".bouncer").hide(),
             this.$(".resident").hide())),
             this.$(".menu li").on("click", this.clickBind),
             this.$(".role-menu").on("mouseenter", t.bind(this.onMenuOver, this)).on("mouseleave", t.bind(this.onMenuOut, this));
             var e = this.options.user.get("role")
               , i = this;
             t.defer(function() {
                 i.update(e)
             })
         },
         onMenuOver: function(t) {
             e(".role-menu .menu").show()
         },
         onMenuOut: function(t) {
             e(".role-menu .menu").hide()
         },
         update: function(e) {
             this.$(".hosts i").hide();
             var t;
             e === a.HOST ? (this.$(".hosts i").show(),
             this.$(".role-menu .selected span").text(h.roles.host),
             t = "host") : e === a.COHOST ? (this.$(".cohosts i").show(),
             this.$(".role-menu .selected span").text(h.roles.cohost),
             t = "host") : e === a.MANAGER ? (this.$(".managers i").show(),
             this.$(".role-menu .selected span").text(h.roles.manager),
             t = "manager") : e === a.BOUNCER ? (this.$(".bouncers i").show(),
             this.$(".role-menu .selected span").text(h.roles.bouncer),
             t = "bouncer") : e === a.DJ ? (this.$(".djs i").show(),
             this.$(".role-menu .selected span").text(h.roles.dj),
             t = "dj") : this.$(".role-menu .selected span").text(h.roles.none),
             t ? this.$(".role-menu .selected .rank").removeClass().addClass("rank icon icon-chat-" + t) : this.$(".role-menu .selected .rank").removeClass().addClass("rank"),
             this.role = e
         },
         onClick: function(t) {
             var i = e(t.target);
             (i.hasClass("icon") || i.is("span")) && (i = i.parent()),
             i.hasClass("host") ? this.update(a.HOST) : i.hasClass("cohost") ? this.update(a.COHOST) : i.hasClass("manager") ? this.update(a.MANAGER) : i.hasClass("bouncer") ? this.update(a.BOUNCER) : i.hasClass("dj") ? this.update(a.DJ) : i.hasClass("none") && this.update(a.NONE),
             this.onMenuOut(t)
         },
         submit: function() {
             this.role !== this.options.user.get("role") && this.dispatch(new i(i.ROLE,this.options.user.get("id"),this.role)),
             this.close()
         },
         close: function() {
             this.$(".menu li").off(),
             this.$(".role-menu .menu").off(),
             this.role = void 0,
             this.options.user = void 0,
             this.clickBind = void 0,
             this.$description = void 0,
             this._super()
         }
     });
     return c
 }),
 define("hbs!templates/user/UserRollover", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="meta">\r\n    <div class="thumb large"><div class="background"></div><i class="avi"></i><div class="shop-avatar"><i class="icon icon-store-white"></i></div></div>\r\n    <span class="username"></span>\r\n    <div class="status"><i></i><span></span></div>\r\n    <span class="joined"></span>\r\n</div>\r\n<div class="info">\r\n    <div class="badge-box"><i></i></div>\r\n    <div class="level">\r\n        <span class="label">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.level,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="value"></span>\r\n    </div>\r\n    <div class="role"><i></i><span></span></div>\r\n</div>\r\n<div class="actions">\r\n    <a class="giftsublink" href="/giftsub/" target="_blank">\r\n        <div class="action giftsub">\r\n            <i class="icon icon-chat-subscriber"></i><span>' + l((a = t.subscribe,
         a = null == a || a === !1 ? a : a.giftSub,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n        </div>\r\n    </a>\r\n    <div class="action skip">\r\n        <i class="icon icon-skip"></i>\r\n    </div>\r\n    <div class="action mention">\r\n        <i class="icon icon-mention"></i>\r\n    </div>\r\n    <div class="action gift">\r\n        <i class="icon icon-gift"></i>\r\n    </div>\r\n    <div class="action ignore">\r\n        <i class="icon icon-ignore"></i>\r\n    </div>\r\n    <div class="action friend">\r\n        <i class="icon icon-add-friend"></i>\r\n    </div>\r\n    <div class="action mod-dj">\r\n        <i class="icon icon-join-booth"></i>\r\n    </div>\r\n    <div class="action mod-staff">\r\n        <i class="icon icon-staff"></i>\r\n    </div>\r\n    <div class="action mod-mute">\r\n        <i class="icon icon-mute-big"></i>\r\n    </div>\r\n    <div class="action mod-ban">\r\n        <i class="icon icon-ban"></i>\r\n    </div>\r\n    <div class="action mod-waitlist-ban">\r\n        <i class="icon icon-pv-white"></i>\r\n    </div>\r\n</div>\r\n<div class="arrow-down"></div>\r\n'
     });
     return t.registerPartial("templates_user_UserRollover", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/c055e", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/d676d", "f1e1d/fce39/fb3ca", "f1e1d/fce39/cd5cd", "f1e1d/fce39/d6687", "f1e1d/fce39/b5cf9", "f1e1d/fce39/aa287", "f1e1d/e8300/a815f", "f1e1d/e8300/c0237", "f1e1d/e8300/fbb60", "f1e1d/e8300/dcb95", "f1e1d/e8300/dc3a7", "f1e1d/a3bee/c49d1", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8478/fdf95", "f1e1d/be642/aa669/ad47a", "f1e1d/be642/a65aa/aabcf", "f1e1d/be642/a65aa/a4c24", "f1e1d/af752/f4c6d", "f1e1d/af752/c506b", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/ca530", "f1e1d/e74c9/c00f1/b3a5e", "f1e1d/e74c9/c00f1/de316", "f1e1d/e74c9/c00f1/fe2ce", "f1e1d/e74c9/c00f1/b8a34", "f1e1d/e74c9/c00f1/b7d64", "hbs!templates/user/UserRollover", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $, E, M, T, I, D, P, R, A, U) {
     var B = i.View.extend({
         id: "user-rollover",
         template: A(U),
         initialize: function() {
             this.hidden = !0,
             this.user = null,
             this.popout = void 0,
             this.targetX = 0,
             this.clickBind = t.bind(this.onAction, this),
             this.enterBind = t.bind(this.onEnter, this),
             this.leaveBind = t.bind(this.onHideTooltip, this),
             this.$modal = e("<div/>").addClass("user-rollover-modal"),
             s.on("rollover:hide", this.hide, this),
             s.on("chatRollover:hide", this.hideChatRollover, this)
         },
         render: function() {
             return this.$el.html(this.template).on("mouseenter", t.bind(this.hide, this)),
             this.$meta = this.$(".meta"),
             this.$thumb = this.$(".thumb .avi").removeClass(),
             this.$shop = this.$(".shop-avatar").on("click", t.bind(this.onShopClick, this)),
             this.$username = this.$(".username"),
             this.$status = this.$(".status span"),
             this.$joined = this.$(".joined"),
             this.$badge = this.$(".badge-box i"),
             this.$badgeBox = this.$(".badge-box"),
             this.$level = this.$(".level .value"),
             this.$roleIcon = this.$(".role i"),
             this.$role = this.$(".role span"),
             this.$id = e("<span/>").addClass("user-id"),
             this.$ignoreIcon = this.$(".action.ignore i"),
             this.$dj = this.$(".action.mod-dj"),
             this.$djIcon = this.$(".action.mod-dj i"),
             this.$(".action").on("click", this.clickBind).on("mouseenter", this.enterBind).on("mouseleave", this.leaveBind),
             this
         },
         showSimple: function(t, i, s) {
             this.isSimple || (this.isSimple = !0);
             var a = t.get("id");
             if (!this.user || this.user.get("id") !== a) {
                 this.clear(),
                 this.user = t,
                 w.hasPermission(y.BOUNCER, !0) ? (x.selectedUserID = a,
                 this.$meta.addClass("has-id").append(this.$id.text("User ID: " + a))) : (this.$meta.removeClass("has-id"),
                 this.$id.text("").remove()),
                 this.$thumb.removeClass().addClass("avi avi-" + (E.aviClass(this.user.get("avatarID")) || "base01")),
                 this.$username.text(this.user.get("username"));
                 var r = this.user.get("status");
                 this.$meta.removeClass("online offline silver subscriber"),
                 1 === r ? this.user.get("sub") > 0 ? this.$meta.addClass("subscriber") : this.user.get("silver") ? this.$meta.addClass("subscriber silver") : this.$meta.addClass("online") : this.$meta.addClass("offline"),
                 1 === r && (this.user.get("sub") > 0 || this.user.get("silver")) ? this.$status.text(U.userStatus.subscriber) : this.$status.text(y.STATUSES[r]),
                 w.get("guest") ? this.$joined.text("") : this.$joined.text(E.convertUnixDateStringToMDY(this.user.get("joined"), U.userPanel.joined));
                 var l = "";
                 if (this.$badgeBox.removeClass("no-badge"),
                 this.$badge.removeClass(),
                 this.user.get("badge") ? this.$badge.addClass("bdg bdg-" + E.badgeClass(this.user.get("badge"))) : this.$badgeBox.addClass("no-badge"),
                 this.$level.text(this.user.get("gRole") !== y.HOST ? this.user.get("level") : "∞"),
                 this.user.hasPermission(y.ADMIN, !0))
                     l += " is-admin",
                     this.$roleIcon.removeClass().addClass("icon icon-chat-admin"),
                     this.$role.text(U.roles.admin);
                 else if (this.user.hasPermission(y.AMBASSADOR, !0))
                     l += " is-ambassador",
                     this.$roleIcon.removeClass().addClass("icon icon-chat-ambassador"),
                     this.$role.text(U.roles.ambassador);
                 else if (this.user.hasPermission(y.SITEMOD, !0))
                     l += " is-sitemod",
                     this.$roleIcon.removeClass().addClass("icon icon-chat-sitemod"),
                     this.$role.text(U.roles.sitemod);
                 else if (this.user.hasPermission(y.PLOT, !0))
                     l += " is-plot",
                     this.$roleIcon.removeClass().addClass("icon icon-chat-plot"),
                     this.$role.text(U.roles.plot);
                 else if (this.user.hasPermission(y.PROMOTER, !0))
                     l += " is-promoter",
                     this.$roleIcon.removeClass().addClass("icon icon-chat-promoter"),
                     this.$role.text(U.roles.promoter);
                 else if (this.user.hasPermission(y.DJ)) {
                     l += " is-staff";
                     var c = "dj";
                     this.user.hasPermission(y.COHOST) ? (c = "host",
                     this.user.hasPermission(y.HOST) ? this.$role.text(U.roles.host) : this.$role.text(U.roles.cohost)) : this.user.hasPermission(y.MANAGER) ? (c = "manager",
                     this.$role.text(U.roles.manager)) : this.user.hasPermission(y.BOUNCER) ? (c = "bouncer",
                     this.$role.text(U.roles.bouncer)) : this.$role.text(U.roles.dj),
                     this.$roleIcon.removeClass().addClass("icon icon-chat-" + c)
                 } else
                     a === w.get("id") ? (l += " is-you",
                     this.$roleIcon.removeClass(),
                     this.$role.text("")) : (l += " is-none",
                     this.$role.text(""));
                 a === w.get("id") ? l += " self" : (s || (l += " can-mention"),
                 o.get(t.get("id")) || (l += " can-friend"),
                 !s && w.get("sub") > 0 && (l += " can-gift"),
                 !s && w.get("level") > 2 && !this.user.get("silver") && (this.$(".giftsublink").attr("href", "/giftsub/" + this.user.get("id")),
                 l += " can-giftsub"),
                 s || this.user.hasPermission(y.BOUNCER, !0) || (l += " can-ignore"),
                 w.hasPermission(y.BOUNCER) && w.get("gRole") !== y.SITEMOD && ((!s && !g.get("isLocked") || w.hasPermission(y.MANAGER) && 1 === this.user.get("status")) && (l += " can-booth"),
                 w.hasPermission(y.MANAGER) && w.canModStaff(this.user) && (l += " can-staff"),
                 w.canModBan(this.user) && (l += " can-ban can-waitlist-ban"),
                 w.canModMute(this.user) && !m.mutes[this.user.get("id")] && (l += " can-mute")),
                 w.hasPermission(y.SITEMOD, !0) && ((w.get("role") >= y.BOUNCER && !s && !g.get("isLocked") || w.hasPermission(y.MANAGER) && 1 === this.user.get("status")) && (l += " can-booth"),
                 w.hasPermission(y.MANAGER) && w.canModStaff(this.user) && (l += " can-staff"),
                 w.canModBan(this.user) && (l += " can-ban can-waitlist-ban"),
                 w.canModMute(this.user) && !m.mutes[this.user.get("id")] && (l += " can-mute")),
                 n.get(this.user.get("avatarID")) && !h.get(this.user.get("avatarID")) && (l += " can-shop")),
                 a === g.get("currentDJ") && (a === w.get("id") || w.hasPermission(y.BOUNCER)) && (l += " can-skip"),
                 this.$el.removeClass().addClass(l)
             }
             return this.targetX = i.x,
             this.$el.css("left", i.x - this.$el.width() / 2).css("top", i.y - this.$el.height()),
             this.popout ? e(this.popout._window.document.body).append(this.$el) : e("body").append(this.$el),
             this.hidden && (this.$el.show(),
             this.hidden = !1),
             !0
         },
         showChat: function(e, t, i) {
             this.popout = i,
             this.showSimple(e, t),
             this.showInfo(t.y)
         },
         showStaff: function(e, t, i) {
             this.popout = i,
             this.showSimple(e, t, !0),
             this.isSimple = !1,
             this.$el.addClass("expand staff").removeClass("can-skip"),
             this.positionInfo(t.y),
             this.showModal()
         },
         showInfo: function(e) {
             try {
                 this.isSimple = !1,
                 this.$el.addClass("expand");
                 var t = this.user.get("id");
                 t !== w.get("id") && (l.get(t) ? this.$ignoreIcon.removeClass().addClass("icon icon-unignore") : this.$ignoreIcon.removeClass().addClass("icon icon-ignore")),
                 t !== w.get("id") && w.hasPermission(y.BOUNCER) && (g.get("currentDJ") === t ? this.$djIcon.removeClass().addClass("icon icon-leave-booth") : a.getUserPosition(this.user) > -1 ? this.$djIcon.removeClass().addClass("icon icon-leave-waitlist") : g.get("currentDJ") ? a.isFull() ? this.$djIcon.removeClass().addClass("icon icon-waitlist-full") : this.$djIcon.removeClass().addClass("icon icon-join-waitlist") : this.$djIcon.removeClass().addClass("icon icon-join-booth")),
                 this.positionInfo(e),
                 this.showModal()
             } catch (e) {}
         },
         positionInfo: function(t) {
             if (t) {
                 var i = 0;
                 t + this.$el.height() > e(window).height() - 54 ? (i = this.$el.height() - 46,
                 this.$el.addClass("upwards")) : this.$el.removeClass("upwards"),
                 this.$el.css("left", this.targetX - (this.popout ? 0 : this.$el.width() + 3)).css("top", t - 10 - i).addClass("chat")
             } else {
                 this.$el.css("left", this.targetX - this.$el.width() / 2).removeClass("chat").removeClass("upwards");
                 var s = 0;
                 this.$el.hasClass("can-giftsub") && (s += 44),
                 this.$el.hasClass("can-skip") && (s += 44),
                 (this.$el.hasClass("can-booth") || this.$el.hasClass("can-staff") || this.$el.hasClass("can-ban") || this.$el.hasClass("can-mute")) && (s += 44),
                 this.$el.hasClass("self") || (s += 44),
                 this.$el.css("top", this.$el.offset().top - s)
             }
         },
         showModal: function() {
             e("body").append(this.$modal),
             this.$modal.show().on("click", t.bind(this.cleanup, this)),
             this.popout && this.popout.showModal()
         },
         onAction: function(t) {
             var i = e(t.target).closest(".action");
             if (w.get("guest")) {
                 var n = "Moderation";
                 i.hasClass("mention") && (n = "@mention"),
                 i.hasClass("ignore") && (n = "ignore"),
                 i.hasClass("friend") && (n = "add friend"),
                 s.trigger("signup:show", "Community: Trigger - User Rollover - " + n)
             } else if (i.hasClass("mention"))
                 s.trigger("chat:mention", this.user.get("username"));
             else if (i.hasClass("ignore")) {
                 var a = this.$ignoreIcon.hasClass("icon-ignore");
                 a ? new _(this.user.get("id")) : new S(this.user.get("id"))
             } else if (i.hasClass("friend")) {
                 var o = this.user.get("username");
                 new k(this.user.get("id")).on("success", function(e) {
                     s.trigger("notify", "icon-add-friend", U.messages.friendRequest.split("%NAME%").join(o)),
                     s.trigger("click:addFriend"),
                     e && s.dispatch(new f(f.FRIENDS,!0))
                 })
             } else
                 i.hasClass("gift") ? s.dispatch(new u(u.SHOW,new I({
                     model: this.user
                 }))) : i.hasClass("skip") ? w.get("id") === this.user.get("id") ? s.dispatch(new p(p.SKIP)) : s.dispatch(new u(u.SHOW,new P({
                     user: this.user,
                     media: v.get("media"),
                     historyID: v.get("historyID")
                 }))) : i.hasClass("mod-dj") ? this.$djIcon.hasClass("icon-leave-booth") || this.$djIcon.hasClass("icon-leave-waitlist") ? s.dispatch(new d(d.REMOVE_DJ,this.user.get("id"))) : this.$djIcon.hasClass("icon-waitlist-full") || s.dispatch(new d(d.ADD_DJ,this.user.get("id"))) : i.hasClass("mod-ban") ? s.dispatch(new u(u.SHOW,new M({
                     user: this.user
                 }))) : i.hasClass("mod-mute") ? s.dispatch(new u(u.SHOW,new D({
                     user: this.user
                 }))) : i.hasClass("mod-staff") ? s.dispatch(new u(u.SHOW,new R({
                     user: this.user
                 }))) : i.hasClass("mod-waitlist-ban") && s.dispatch(new u(u.SHOW,new T({
                     user: this.user
                 })));
             this.cleanup()
         },
         onEnter: function(t) {
             if (!this.popout) {
                 var i = e(t.target);
                 if (i.hasClass("icon") && (i = i.parent()),
                 i.hasClass("mention"))
                     s.trigger("tooltip:show", U.tooltips.mention, i);
                 else if (i.hasClass("gift"))
                     s.trigger("tooltip:show", U.tooltips.gift, i);
                 else if (i.hasClass("ignore")) {
                     var n = this.$ignoreIcon.hasClass("icon-ignore");
                     s.trigger("tooltip:show", n ? U.tooltips.ignore : U.tooltips.unignore, i)
                 } else
                     i.hasClass("friend") ? s.trigger("tooltip:show", U.tooltips.friend, i) : i.hasClass("skip") ? w.get("id") === this.user.get("id") ? s.trigger("tooltip:show", U.tooltips.selfSkip, i) : s.trigger("tooltip:show", U.tooltips.modSkip, i) : i.hasClass("mod-dj") ? this.$djIcon.hasClass("icon-leave-booth") ? s.trigger("tooltip:show", U.tooltips.modBoothRemove, i) : this.$djIcon.hasClass("icon-leave-waitlist") ? s.trigger("tooltip:show", U.tooltips.modWaitListRemove, i) : this.$djIcon.hasClass("icon-join-waitlist") ? s.trigger("tooltip:show", U.tooltips.modWaitListAdd, i) : this.$djIcon.hasClass("icon-waitlist-full") ? s.trigger("tooltip:show", U.tooltips.modWaitListFull, i) : s.trigger("tooltip:show", U.tooltips.modBoothAdd, i) : i.hasClass("mod-ban") ? s.trigger("tooltip:show", U.tooltips.modBan, i) : i.hasClass("mod-waitlist-ban") ? s.trigger("tooltip:show", U.tooltips.modWaitlistBan, i) : i.hasClass("mod-mute") ? s.trigger("tooltip:show", U.tooltips.modMute, i) : i.hasClass("mod-staff") && s.trigger("tooltip:show", U.tooltips.modPerm, i)
             }
         },
         onShopClick: function() {
             w.get("guest") ? s.trigger("signup:show", "Community: Trigger - User Rollover - Avatar Icon") : s.trigger("show:user", "store", "avatars", n.get(this.user.get("avatarID")).get("category"), this.user.get("avatarID")),
             this.cleanup()
         },
         onHideTooltip: function() {
             this.popout || s.trigger("tooltip:hide")
         },
         cleanup: function() {
             this.popout && this.popout.hideModal(),
             this.$modal.hide().off("click").remove(),
             this.hide(!0)
         },
         hide: function(t) {
             (this.isSimple || t === !0) && (this.$el.removeClass().hide(),
             this.clear(),
             e("body").append(this.$el),
             this.user = void 0,
             this.hidden = !0,
             this.popout = void 0,
             x.selectedUserID = void 0,
             s.trigger("tooltip:hide"))
         },
         clear: function() {
             this.$username.text(""),
             this.$status.text(""),
             this.$joined.text(""),
             this.$level.text(""),
             this.$badgeBox.removeClass("no-badge"),
             this.$badge.removeClass(),
             this.$roleIcon.removeClass(),
             this.$role.text("")
         },
         onAvatarClick: function() {
             this.popout = void 0,
             !this.user || this.user.get("id") === w.get("id") && w.get("id") !== g.get("currentDJ") || this.showInfo()
         },
         isChatRollover: function() {
             return this.$el.hasClass("chat")
         },
         hideChatRollover: function() {
             this.isChatRollover() === !0 && this.hide(!0)
         }
     });
     return new B
 }),
 define("hbs!templates/room/chat/ChatSuggestion", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="frame-background"></div>\r\n<div id="chat-suggestion-items"></div>'
     });
     return t.registerPartial("templates_room_chat_ChatSuggestion", i),
     i
 }),
 define("hbs!templates/room/chat/ChatSuggestionItem", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="chat-suggestion-item online" data-index="',
         (a = i.index) ? a = a.call(t, {
             hash: {}
         }) : (a = t.index,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '">\r\n    <div class="image">',
         (a = i.image) ? a = a.call(t, {
             hash: {}
         }) : (a = t.image,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += '</div>\r\n    <span class="value">',
         (a = i.value) ? a = a.call(t, {
             hash: {}
         }) : (a = t.value,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\r\n    <div class="chat-suggestion-item-line"></div>\r\n</div>'
     });
     return t.registerPartial("templates_room_chat_ChatSuggestionItem", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/adbd9/fae4d", ["jquery", "underscore", "backbone", "f1e1d/fce39/d3252", "f1e1d/af752/b0f1c", "f1e1d/af752/bed76", "f1e1d/af752/e504b", "hbs!templates/room/chat/ChatSuggestion", "hbs!templates/room/chat/ChatSuggestionItem"], function(e, t, i, s, n, a, o, r, l) {
     var h = i.View.extend({
         id: "chat-suggestion",
         initialize: function() {
             this.suggestions = [],
             this.index = -1,
             this.hideTimeoutID = 0,
             this.hideBind = t.bind(this.hide, this),
             this.showBind = t.bind(this.show, this),
             this.overBind = t.bind(this.onSuggestionOver, this),
             this.pressBind = t.bind(this.onSuggestionPress, this),
             this.refocusBind = t.bind(this.onRefocusInput, this),
             this.documentClickBind = t.bind(this.onDocumentClick, this),
             this.$document = e(document)
         },
         render: function() {
             return this.$el.html(r()),
             this.$itemContainer = this.$("#chat-suggestion-items"),
             this
         },
         check: function(e, t) {
             var i = e.lastIndexOf(" @")
               , s = e.lastIndexOf(" :");
             if (i === -1 && (i = 0 === e.indexOf("@") ? 0 : -1),
             i > -1 && i > s)
                 this.type = "@",
                 0 === i ? this.suggestions = a.lookup(e.substr(i + 1, t)) : i > 0 && t > i + 2 && (this.suggestions = a.lookup(e.substr(i + 2, t)));
             else {
                 this.type = ":";
                 var o = 2;
                 s === -1 ? s = 0 === e.indexOf(":") ? 0 : -1 : o = 3,
                 s > -1 && t - s > o && (0 === s ? this.suggestions = n.lookup(e.substr(s + 1, t)) : s > 0 && t > s + o && (this.suggestions = n.lookup(e.substr(s + 2, t))))
             }
         },
         upDown: function(e) {
             this.suggestions.length > 1 && (40 === e ? ++this.index : --this.index,
             this.index === -1 ? this.index = this.suggestions.length - 1 : this.index === this.suggestions.length && (this.index = 0),
             this.updateSelectedSuggestion())
         },
         updateSuggestions: function() {
             var i = this.suggestions.length;
             if (this.$itemContainer.html(""),
             0 === i)
                 this.$el.hide(),
                 this.index = -1;
             else {
                 var r, h, c, p = i;
                 if ("@" === this.type)
                     for (r = 0; r < i; ++r) {
                         var d = s.findWhere({
                             username: this.suggestions[r]
                         });
                         if (d) {
                             d.get("avatarID");
                             c = '<div class="thumb small"><i class="avi avi-' + o.aviClass(d.get("avatarID")) + '"></i></div>',
                             h = e(l({
                                 value: this.suggestions[r],
                                 index: r,
                                 image: c
                             })).mousedown(this.pressBind).mouseenter(this.overBind),
                             this.$itemContainer.append(h)
                         } else
                             a.groups.indexOf(this.suggestions[r]) > -1 ? (h = e(l({
                                 value: this.suggestions[r],
                                 index: r,
                                 image: '<i class="icon icon-mention"></i>'
                             })).mousedown(this.pressBind).mouseenter(this.overBind),
                             this.$itemContainer.append(h)) : --p
                     }
                 else
                     for (r = 0; r < i; ++r)
                         c = n.replace_colons(":" + this.suggestions[r] + ":", !1, !1, !0),
                         h = e(l({
                             value: ":" + this.suggestions[r] + ":",
                             index: r,
                             image: c
                         })).mousedown(this.pressBind).mouseenter(this.overBind),
                         h.addClass("emo"),
                         this.$itemContainer.append(h);
                 (this.index === -1 || this.index >= i) && (this.index = 0),
                 this.updateSelectedSuggestion(),
                 this.$el.height(38 * p),
                 t.delay(this.showBind, 10),
                 t.delay(this.showBind, 15),
                 this.$document.on("mousedown", this.documentClickBind)
             }
         },
         getSelected: function() {
             return this.suggestions[this.index] + (":" === this.type ? ":" : "")
         },
         onSuggestionPress: function(e) {
             this.index = e.currentTarget.dataset.index,
             this.trigger("submitSuggestion"),
             t.delay(this.refocusBind, 100)
         },
         onSuggestionOver: function(t) {
             this.index = t.currentTarget.dataset.index;
             var i = this.index;
             this.$(".chat-suggestion-item").each(function(t) {
                 t == i ? e(this).css("background", "#2d313a") : e(this).css("background", "transparent")
             })
         },
         updateSelectedSuggestion: function() {
             var t = this.index;
             this.$(".chat-suggestion-item").each(function(i) {
                 i == t ? e(this).css("background", "#2d313a") : e(this).css("background", "transparent")
             })
         },
         show: function() {
             this.$el.show()
         },
         hide: function() {
             this.reset(),
             clearTimeout(this.hideTimeoutID),
             this.$el.is(":visible") && (this.$itemContainer.html(""),
             this.$el.hide()),
             this.$document.off("mousedown", this.documentClickBind)
         },
         onDocumentClick: function(e) {
             this.$el.is(":visible") && (clearTimeout(this.hideTimeoutID),
             this.hideTimeoutID = t.delay(this.hideBind, 150))
         },
         onRefocusInput: function() {
             this.trigger("refocus")
         },
         reset: function() {
             this.index = -1,
             this.suggestions = []
         }
     });
     return h
 }),
 define("hbs!templates/room/chat/Chat", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div id="chat-sound"></div>\r\n<div id="chat-header">\r\n    <div class="divider"></div>\r\n    <div id="chat-sound-button" class="chat-header-button" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.chatSound,
         typeof a === r ? a.apply(t) : a)) + '">\r\n        <i class="icon icon-chat-sound-on"></i>\r\n    </div>\r\n    <div id="chat-emoji-button" class="chat-header-button" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.chatEmoji,
         typeof a === r ? a.apply(t) : a)) + '">\r\n        <i class="icon icon-emoji-on"></i>\r\n    </div>\r\n    <div id="chat-timestamp-button" class="chat-header-button" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.chatTimestamp,
         typeof a === r ? a.apply(t) : a)) + '">\r\n        <i class="icon icon-timestamps-12"></i>\r\n    </div>\r\n    <div id="chat-mentions-button" class="chat-header-button" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.chatMentions,
         typeof a === r ? a.apply(t) : a)) + '">\r\n        <i class="icon icon-mention-off"></i>\r\n    </div>\r\n    <div id="chat-popout-button" class="chat-header-button" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.chatPopout,
         typeof a === r ? a.apply(t) : a)) + '">\r\n        <i class="icon icon-chat-popout"></i>\r\n    </div>\r\n</div>\r\n<div id="chat-messages"></div>\r\n<div id="chat-input">\r\n    <form class="chat-input-form" onsubmit="return false">\r\n        <input id="chat-input-field" type="text" value="" autocomplete="off" placeholder="' + l((a = t.chat,
         a = null == a || a === !1 ? a : a.placeholder,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="256"/>\r\n    </form>\r\n</div>\r\n'
     });
     return t.registerPartial("templates_room_chat_Chat", i),
     i
 }),
 define("hbs!templates/room/chat/AdSense", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="cm adsense">\n    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>\n    <ins class="adsbygoogle"\n         style="display:inline-block;min-width:345px;max-width:345px;width:100%;height:100px"\n         data-ad-client="ca-pub-4492378948820988"\n         data-ad-slot="2049096155"\n         data-ad-format="auto"></ins>\n    <script>\n        (adsbygoogle = window.adsbygoogle || []).push({});\n    </script>\n</div>'
     });
     return t.registerPartial("templates_room_chat_AdSense", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/adbd9/ff68a", ["f1e1d/e718c/b2952", "jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/e8300/a3e66", "f1e1d/e8300/bb607", "f1e1d/a3bee/c49d1", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/c76df/cbe4b", "f1e1d/d9232/b42c1", "f1e1d/af752/fa88e", "f1e1d/af752/c506b", "f1e1d/af752/fd6ec", "f1e1d/af752/e504b", "f1e1d/e74c9/b49ed/adbd9/fae4d", "f1e1d/e74c9/a6e51/f2220", "hbs!templates/room/chat/Chat", "hbs!templates/room/chat/AdSense", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k) {
     var _ = {}
       , S = []
       , x = e.extend({
         id: "chat",
         lastID: void 0,
         lastType: void 0,
         lastText: void 0,
         lastTime: void 0,
         events: {
             "click #chat-sound-button": "onSoundClick",
             "click #chat-timestamp-button": "onTimestampClick",
             "click #chat-popout-button": "onPopoutClick",
             "click #chat-emoji-button": "onEmojiClick",
             "click #chat-mentions-button": "onMentionsClick"
         },
         initialize: function() {
             m.chatView = this,
             this.suggestionView = new b,
             this.suggestionView.on("refocus", i.bind(this.onRefocusInput, this)).on("submitSuggestion", i.bind(this.submitSuggestion, this)),
             this.chatOverBind = i.bind(this.onChatOver, this),
             this.chatOutBind = i.bind(this.onChatOut, this),
             this.chatDeleteClickBind = i.bind(this.onDeleteClick, this),
             this.fromClickBind = i.bind(this.onFromClick, this),
             this.showChatUserBind = i.bind(this.onShowChatUser, this),
             this.imageNextBind = i.bind(this.loadNextImage, this),
             this.imageLoadBind = i.bind(this.onImageLoad, this),
             this.imageErrorBind = i.bind(this.onImageError, this),
             this.$disco = t("<div/>").addClass("disconnect").append(t("<span/>").text(k.chat.reconnecting)),
             this.preventList("onSoundClick", "onTimestampClick", "onPopoutClick", "onEmojiClick", "onMentionsClick")
         },
         render: function() {
             return this.$el.html(y(k)).append(this.suggestionView.$el),
             this.suggestionView.render(),
             this.$chatInputField = this.$("#chat-input-field").on("keydown", i.bind(this.onKeyDown, this)).on("keyup", i.bind(this.onKeyUp, this)).on("focus", i.bind(this.onFocus, this)).on("blur", i.bind(this.onBlur, this)),
             this.chatInput = this.$chatInputField[0],
             this.$chatInput = t("#chat-input"),
             this.$chatMessages = this.$("#chat-messages"),
             this.$chatSound = this.$("#chat-sound-button"),
             this.$chatEmoji = this.$("#chat-emoji-button"),
             this.$chatMentions = this.$("#chat-mentions-button"),
             this.$chatTimestamp = this.$("#chat-timestamp-button"),
             this.$chatHeader = this.$("#chat-header"),
             this.$chatPopout = this.$("#chat-popout-button"),
             c.on("change:level", this.onLevelChange, this),
             n.on("chat:receive", this.onReceived, this).on("chat:mention", this.onInputMention, this).on("chat:delete", this.onDelete, this).on(o.CLEAR, this.onClear, this).on(o.SOUND, this.onSoundUpdate, this).on(o.EMOJI, this.onEmojiUpdate, this).on(o.MENTIONS, this.onMentionsUpdate, this).on(o.TIMESTAMP, this.onTimestampUpdate, this).on("ws:reconnecting", this.onReconnecting, this).on("ws:reconnected", this.onReconnected, this).on("show:chat", this.show, this).on("show:users show:waitlist show:friends", this.hide, this),
             m.resize(i.bind(this.onResize, this)),
             this.onEmojiUpdate(u.settings.emoji),
             this.onLevelChange(),
             l.onSoundUpdate().onTimestampUpdate().onEmojiUpdate().onMentionsUpdate(),
             this
         },
         onLevelChange: function() {
             c.get("level") > 1 ? (this.$el.removeClass("level-1"),
             c.off("change:level", this.onLevelChange, this)) : this.$el.addClass("level-1")
         },
         onResize: function(e) {
             e = e || m.getSize(),
             this.$chatMessages.height(e.height - 2 * e.barHeight - this.$chatHeader.height() - this.$chatInput.height() - parseInt(this.$chatInput.css("bottom")) - 12).scrollTop(this.$chatMessages[0].scrollHeight)
         },
         onTimestampClick: function() {
             l.toggleTimestamp()
         },
         onSoundClick: function() {
             l.toggleChatSound()
         },
         onEmojiClick: function() {
             l.toggleEmoji()
         },
         onMentionsClick: function() {
             l.toggleMentions()
         },
         onPopoutClick: function() {
             n.trigger("popout:show")
         },
         onSoundEnter: function() {
             n.trigger("tooltip:show", k.tooltips.chatSound, this.$chatSound, !0)
         },
         onTimestampEnter: function() {
             n.trigger("tooltip:show", k.tooltips.chatTimestamp, this.$chatTimestamp, !0)
         },
         onPopoutEnter: function() {
             n.trigger("tooltip:show", k.tooltips.chatPopout, this.$chatPopout, !0)
         },
         onEmojiEnter: function() {
             n.trigger("tooltip:show", k.tooltips.chatEmoji, this.$chatEmoji, !0)
         },
         onMentionsEnter: function() {
             n.trigger("tooltip:show", k.tooltips.chatMentions, this.$chatMentions, !0)
         },
         onHideTooltip: function() {
             n.trigger("tooltip:hide")
         },
         onMentionsUpdate: function(e) {
             this.isMentionFilterOn = e.data,
             e.data ? (this.$("#chat-mentions-button i").removeClass("icon-mention-off").addClass("icon-mention"),
             this.$("#chat-messages").children().not(".mention").hide(),
             this.$chatMessages.scrollTop(this.$chatMessages[0].scrollHeight)) : (this.$("#chat-mentions-button i").removeClass("icon-mention").addClass("icon-mention-off"),
             this.$("#chat-messages").children().not(".mention").show(),
             this.$chatMessages.scrollTop(this.$chatMessages[0].scrollHeight))
         },
         onEmojiUpdate: function() {
             u.settings.emoji ? this.$("#chat-emoji-button i").removeClass("icon-emoji-off").addClass("icon-emoji-on") : this.$("#chat-emoji-button i").removeClass("icon-emoji-on").addClass("icon-emoji-off")
         },
         onTimestampUpdate: function(e) {
             t("#chat .timestamp").each(function() {
                 var i = t(this);
                 i.text(v.convertChatTimestamp(i.text(), e.data))
             }),
             e.data ? t("#chat .timestamp").show() : t("#chat .timestamp").hide(),
             12 === e.data ? this.$("#chat-timestamp-button i").removeClass("icon-timestamps-off").removeClass("icon-timestamps-24").addClass("icon-timestamps-12") : 24 === e.data ? this.$("#chat-timestamp-button i").removeClass("icon-timestamps-off").removeClass("icon-timestamps-12").addClass("icon-timestamps-24") : this.$("#chat-timestamp-button i").removeClass("icon-timestamps-12").removeClass("icon-timestamps-24").addClass("icon-timestamps-off")
         },
         onSoundUpdate: function() {
             u.settings.chatSound ? this.$("#chat-sound-button i").removeClass("icon-chat-sound-off").addClass("icon-chat-sound-on") : this.$("#chat-sound-button i").removeClass("icon-chat-sound-on").addClass("icon-chat-sound-off")
         },
         onRefocusInput: function() {
             this.chatInput.focus()
         },
         onClear: function() {
             this.lastID = this.lastType = this.lastText = this.lastTime = void 0,
             this.$chatMessages.html("").scrollTop(0)
         },
         onFocus: function() {
             c.get("guest") ? (n.trigger("signup:show", "Community: Trigger - Chat"),
             this.chatInput.blur()) : (this.chatInput.placeholder = "",
             this.$chatInput.addClass("focused"))
         },
         onBlur: function() {
             this.chatInput.placeholder = k.chat.placeholder,
             this.$chatInput.removeClass("focused")
         },
         onInputMention: function(e) {
             var s = this.chatInput.value;
             s || (s = ""),
             this.chatInput.value = s + "@" + e + " ";
             var n = this.chatInput;
             i.delay(function() {
                 t(n).focus(),
                 n.selectionStart = n.selectionEnd = n.value.length
             }, 100)
         },
         onKeyDown: function(e) {
             var t;
             if (!e)
                 return !0;
             if (t = e.which || e.keyCode,
             (13 === t || 9 === t) && this.suggestionView.suggestions.length > 0)
                 return e.preventDefault(),
                 e.stopImmediatePropagation(),
                 this.submitSuggestion(),
                 !1;
             if ((40 === t || 38 === t) && this.suggestionView.suggestions.length > 0)
                 return e.preventDefault(),
                 e.stopImmediatePropagation(),
                 this.suggestionView.upDown(t),
                 !1;
             if (13 === t && "" !== this.chatInput.value) {
                 var i = l.sendChat(this.chatInput.value);
                 return i && (n.trigger("chat:send", this.chatInput.value),
                 e.preventDefault(),
                 this.chatInput.value = ""),
                 this.$chatMessages.scrollTop(this.$chatMessages[0].scrollHeight),
                 !1
             }
             return !0
         },
         onKeyUp: function(e) {
             var t;
             if (!e)
                 return !0;
             t = e.which || e.keyCode,
             this.suggestionView.suggestions = [];
             var i = this.getCaratPosition();
             if (i > 0) {
                 var s = this.chatInput.value.substr(0, i);
                 this.suggestionView.check(s, i)
             }
             return 9 === t && this.suggestionView.suggestions.length > 0 ? (e.preventDefault(),
             e.stopImmediatePropagation(),
             !1) : (this.suggestionView.updateSuggestions(),
             !0)
         },
         onReceived: function(e) {
             try {
                 "message" !== e.type && "mention" !== e.type && "emote" !== e.type && (this.lastID = this.lastType = this.lastText = this.lastTime = void 0);
                 var i = t("<div/>").addClass("cm " + e.type);
                 if ("mention" === e.type) {
                     var s = this.getIsClass();
                     i.addClass(s);
                     for (var n = e.mentions.length, o = 0; o < n; ++o)
                         e.message = e.message.split(e.mentions[o]).join('<span class="name">' + e.mentions[o] + "</span>")
                 } else
                     "system" !== e.type && this.isMentionFilterOn && i.hide();
                 var r, l, h, d, f, m = t("<div/>").addClass("msg"), g = t("<div/>");
                 if (e.un) {
                     d = t("<div/>").addClass("badge-box");
                     var b, w = "from";
                     if (e.uid ? (b = a.get(e.uid),
                     this.lastID === e.uid && (this.lastType === e.type || "message" === this.lastType && "mention" === e.type || "mention" === this.lastType && "message" === e.type) ? (f = !0,
                     this.lastText.addClass("cid-" + e.cid).append("<br/>" + e.message),
                     this.lastTime.text(e.timestamp),
                     "mention" === e.type && this.lastText.closest(".cm").removeClass("message").addClass(s + " mention")) : (this.lastID = e.uid,
                     this.lastType = e.type,
                     b && b.get("badge") && "blankb" !== b.get("badge") ? d.append(t("<i/>").addClass("bdg bdg-" + v.badgeClass(b.get("badge")))) : d.addClass("no-badge").append(t("<i/>")),
                     b && (b.hasPermission(p.ADMIN, !0) ? (b.get("role") > p.MANAGER ? (g.append('<i class="icon icon-chat-host"></i>'),
                     w += " has-staff") : b.get("role") === p.MANAGER ? (g.append('<i class="icon icon-chat-manager"></i>'),
                     w += " has-staff") : b.get("role") === p.BOUNCER ? (g.append('<i class="icon icon-chat-bouncer"></i>'),
                     w += " has-staff") : b.get("role") === p.DJ && (g.append('<i class="icon icon-chat-dj"></i>'),
                     w += " has-staff"),
                     w += " admin",
                     "admin-g" !== b.get("badge") && g.append('<i class="icon icon-chat-admin"></i>')) : b.hasPermission(p.AMBASSADOR, !0) ? (b.get("role") > p.MANAGER ? (g.append('<i class="icon icon-chat-host"></i>'),
                     w += " has-staff") : b.get("role") === p.MANAGER ? (g.append('<i class="icon icon-chat-manager"></i>'),
                     w += " has-staff") : b.get("role") === p.BOUNCER ? (g.append('<i class="icon icon-chat-bouncer"></i>'),
                     w += " has-staff") : b.get("role") === p.DJ && (g.append('<i class="icon icon-chat-dj"></i>'),
                     w += " has-staff"),
                     w += " ambassador",
                     "ba-g" !== b.get("badge") && g.append('<i class="icon icon-chat-ambassador"></i>')) : (b.get("sub") > 0 && "subyearly-g" !== b.get("badge") ? (g.append('<i class="icon icon-chat-subscriber"></i>'),
                     w += " has-sub") : b.get("sub") < 1 && b.get("silver") && (g.append('<i class="icon icon-chat-silver-subscriber"></i>'),
                     w += " has-sub"),
                     b.hasPermission(p.SITEMOD, !0) ? (b.get("role") > p.MANAGER ? (g.append('<i class="icon icon-chat-host"></i>'),
                     w += " has-staff") : b.get("role") === p.MANAGER ? (g.append('<i class="icon icon-chat-manager"></i>'),
                     w += " has-staff") : b.get("role") === p.BOUNCER ? (g.append('<i class="icon icon-chat-bouncer"></i>'),
                     w += " has-staff") : b.get("role") === p.DJ && (g.append('<i class="icon icon-chat-dj"></i>'),
                     w += " has-staff"),
                     w += " sitemod",
                     g.append('<i class="icon icon-chat-sitemod"></i>')) : b.hasPermission(p.PLOT, !0) ? (b.get("role") > p.MANAGER ? (g.append('<i class="icon icon-chat-host"></i>'),
                     w += " has-staff") : b.get("role") === p.MANAGER ? (g.append('<i class="icon icon-chat-manager"></i>'),
                     w += " has-staff") : b.get("role") === p.BOUNCER ? (g.append('<i class="icon icon-chat-bouncer"></i>'),
                     w += " has-staff") : b.get("role") === p.DJ && (g.append('<i class="icon icon-chat-dj"></i>'),
                     w += " has-staff"),
                     w += " plot",
                     g.append('<i class="icon icon-chat-plot"></i>')) : b.hasPermission(p.PROMOTER, !0) ? (b.get("role") > p.MANAGER ? (g.append('<i class="icon icon-chat-host"></i>'),
                     w += " has-staff") : b.get("role") === p.MANAGER ? (g.append('<i class="icon icon-chat-manager"></i>'),
                     w += " has-staff") : b.get("role") === p.BOUNCER ? (g.append('<i class="icon icon-chat-bouncer"></i>'),
                     w += " has-staff") : b.get("role") === p.DJ && (g.append('<i class="icon icon-chat-dj"></i>'),
                     w += " has-staff"),
                     w += " promoter",
                     g.append('<i class="icon icon-chat-promoter"></i>')) : b.hasPermission(p.BOUNCER) ? (w += " staff",
                     b.hasPermission(p.COHOST) ? g.append('<i class="icon icon-chat-host"></i>') : b.get("role") === p.MANAGER ? g.append('<i class="icon icon-chat-manager"></i>') : b.get("role") === p.BOUNCER && g.append('<i class="icon icon-chat-bouncer"></i>')) : b.get("role") === p.DJ ? (w += " dj",
                     g.append('<i class="icon icon-chat-dj"></i>')) : e.uid === c.get("id") ? w += " you" : b.get("sub") > 0 ? w += " subscriber" : b.get("silver") && (w += " silver-subscriber"))),
                     e.uid !== c.get("id") && (b ? c.canModChat(b) : c.get("role") >= p.BOUNCER || c.get("gRole") >= p.BOUNCER) && (l = !0)),
                     r = !0) : "moderation" === e.type ? (b = a.get(e.mi),
                     w += b ? b.hasPermission(p.ADMIN, !0) ? " admin" : b.hasPermission(p.AMBASSADOR, !0) ? " ambassador" : b.hasPermission(p.SITEMOD, !0) ? " sitemod" : b.hasPermission(p.PLOT, !0) ? " plot" : b.hasPermission(p.PROMOTER, !0) ? " promoter" : " staff" : " staff",
                     d.append(t("<i/>").addClass("icon icon-" + e.icon))) : "user-action" !== e.type && "promo" !== e.type || (b = a.get(e.i),
                     b && (b.hasPermission(p.HOST, !0) ? w += " admin" : b.hasPermission(p.AMBASSADOR, !0) ? w += " ambassador" : b.hasPermission(p.SITEMOD, !0) ? w += " sitemod" : b.hasPermission(p.PLOT, !0) ? w += " plot" : b.hasPermission(p.PROMOTER, !0) ? w += " promoter" : e.i === c.get("id") && (w += " you")),
                     "gift" === e.icon && (w += " gift"),
                     d.append(t("<i/>").addClass("icon icon-" + e.icon))),
                     !f) {
                         g.addClass(w);
                         var y = t("<span/>").addClass("un").html(e.un);
                         g.append(y),
                         r && (d.addClass("clickable").data("uid", e.uid).on("click", this.fromClickBind),
                         y.addClass("clickable").on("click", this.fromClickBind)),
                         e.uid && e.cid && (l && i.addClass("deletable").on("mouseenter", this.chatOverBind).on("mouseleave", this.chatOutBind).append(t("<div/>").addClass("delete-button").on("click", this.chatDeleteClickBind).text(k.chat.delete)),
                         i.attr("data-cid", e.cid)),
                         h = t("<span/>").addClass("timestamp").text(e.timestamp),
                         m.append(g)
                     }
                 } else
                     "system" === e.type && (d = t("<div/>").addClass("badge-box").append('<i class="icon icon-plug-dj"></i>'),
                     g.append(t("<span/>").addClass("un").text(k.alerts.systemAlert)),
                     h = t("<span/>").addClass("timestamp").text(e.timestamp),
                     m.append(g.addClass("from")));
                 f || (h && (g.append(h),
                 u.settings.chatTimestamps && h.show()),
                 this.lastTime = h,
                 m.append(this.lastText = t("<div/>").addClass("text").html(e.message)),
                 this.lastText.addClass("cid-" + e.cid),
                 e.cid && m.addClass("cid-" + e.cid),
                 d && i.append(d),
                 i.append(m)),
                 this.loadImages(e);
                 var C;
                 f ? C = this.$chatMessages.scrollTop() > this.$chatMessages[0].scrollHeight - this.$chatMessages.height() - this.lastText.height() : (C = this.$chatMessages.scrollTop() > this.$chatMessages[0].scrollHeight - this.$chatMessages.height() - 20,
                 this.$chatMessages.append(i),
                 this.$chatMessages.children().size() > 512 && this.$chatMessages.children().first().remove()),
                 C && this.$chatMessages.scrollTop(this.$chatMessages[0].scrollHeight),
                 e.sound && this.$chatInputField && (this.$el.is(":visible") && !this._popout ? this.$chatInputField.is(":focus") || this.playSound() : this._popout && (this.$chatInputField.is(":focus") || this.playSound()))
             } catch (e) {}
         },
         loadImages: function(e) {
             if (e.images) {
                 0 === S.length && i.delay(this.imageNextBind, 50);
                 for (var t in e.images)
                     _[e.images[t]] || (_[e.images[t]] = []),
                     _[e.images[t]].push(t),
                     S.push(e.images[t])
             }
         },
         loadNextImage: function() {
             if (S.length > 0) {
                 var e = new Image;
                 e.onload = this.imageLoadBind,
                 e.onerror = this.imageErrorBind,
                 e.src = S.shift()
             }
         },
         onImageLoad: function(e) {
             if (_[e.target.src] && _[e.target.src].length) {
                 var s = _[e.target.src].shift()
                   , n = this.$(".iph-" + s);
                 n.hasClass("break-before") && n.before(t("<br/>")),
                 n.hasClass("break-after") && n.after(t("<br/>"));
                 var a = t(e.target).addClass("cimg")
                   , o = t('<a href="' + e.target.src + '" target="_blank"/>');
                 o.append(a),
                 n.before(o).remove(),
                 0 === _[e.target.src].length && (_[e.target.src] = void 0,
                 delete _[e.target.src]),
                 this.checkScroll()
             }
             S.length > 0 && i.delay(this.imageNextBind, 100)
         },
         onImageError: function(e) {
             var t = _[e.target.src].shift();
             this.$(".iph-" + t).remove(),
             0 === _[e.target.src].length && (_[e.target.src] = void 0,
             delete _[e.target.src]),
             S.length > 0 && i.delay(this.imageNextBind, 100)
         },
         checkScroll: function() {
             var e = this.$chatMessages.scrollTop() > this.$chatMessages[0].scrollHeight - this.$chatMessages.height() - this.lastText.height();
             e && this.$chatMessages.scrollTop(this.$chatMessages[0].scrollHeight)
         },
         getIsClass: function() {
             var e = "is-";
             return e += c.hasPermission(p.HOST, !0) ? "admin" : c.hasPermission(p.AMBASSADOR, !0) ? "ambassador" : c.hasPermission(p.SITEMOD, !0) ? "sitemod" : c.hasPermission(p.PLOT, !0) ? "plot" : c.hasPermission(p.PROMOTER, !0) ? "promoter" : c.hasPermission(p.BOUNCER) ? "staff" : c.hasPermission(p.DJ) ? "dj" : c.get("sub") > 0 ? "subscriber" : c.get("silver") ? "subscriber silver" : "you"
         },
         playSound: function() {
             new Audio(g.sfx).play()
         },
         onDelete: function(e) {
             try {
                 this.lastText && this.lastText.hasClass("cid-" + e) && (this.lastID = this.lastType = this.lastText = this.lastTime = void 0);
                 var t = this.$(".cid-" + e).closest(".cm");
                 t.find("*").off(),
                 t.empty().remove()
             } catch (t) {
                 console.error(t, e)
             }
         },
         onFromClick: function(e) {
             var i = t(e.target).closest(".cm").children(".badge-box")
               , s = i.data("uid");
             if (s) {
                 var n = a.get(s);
                 n && n.get("joined") ? this.onShowChatUser(n, {
                     x: this.getPosX(),
                     y: i.offset().top
                 }) : this.getExternalUser(s, {
                     x: this.getPosX(),
                     y: i.offset().top
                 }, this.showChatUserBind)
             }
         },
         getPosX: function() {
             return t("#chat").offset().left
         },
         onShowChatUser: function(e, t) {
             e instanceof p || (e = new p(e)),
             n.dispatch(new r(r.SHOW,e,t))
         },
         getExternalUser: function(e, t, i) {
             new d(e,t).on("success", i)
         },
         onChatOver: function(e) {
             t(e.currentTarget).find(".delete-button").show()
         },
         onChatOut: function(e) {
             t(e.currentTarget).find(".delete-button").hide()
         },
         onDeleteClick: function(e) {
             t(e.currentTarget).off("click", this.chatDeleteClickBind),
             l.deleteChat(t(e.currentTarget).parent(".deletable").data("cid")),
             t(e.currentTarget).remove()
         },
         submitSuggestion: function() {
             var e = "@" === this.suggestionView.type ? this.getMentionRange() : this.getEmojiRange()
               , t = this.chatInput.value.substr(0, e[0])
               , i = this.chatInput.value.substr(e[1])
               , s = this.suggestionView.getSelected();
             this.chatInput.value = t + s + " " + i,
             this.chatInput.setSelectionRange(e[0] + s.length + 1, e[0] + s.length + 1),
             this.suggestionView.reset(),
             this.suggestionView.updateSuggestions()
         },
         show: function() {
             this.$el.show(),
             this.onResize()
         },
         hide: function() {
             this.$el.hide()
         },
         getMentionRange: function() {
             var e = this.getCaratPosition();
             if (e > 0) {
                 var t = this.chatInput.value.substr(0, e)
                   , i = t.lastIndexOf(" @");
                 return i === -1 ? i = t.indexOf("@") : ++i,
                 [i + 1, e]
             }
         },
         getEmojiRange: function() {
             var e = this.getCaratPosition();
             if (e > 0) {
                 var t = this.chatInput.value.substr(0, e)
                   , i = t.lastIndexOf(" :");
                 return i === -1 ? i = t.indexOf(":") : ++i,
                 [i + 1, e]
             }
         },
         getCaratPosition: function() {
             if (this.chatInput.createTextRange) {
                 var e = document.selection.createRange().duplicate();
                 return e.moveEnd("character", this.chatInput.value.length),
                 "" === e.text ? this.chatInput.value.length : this.chatInput.value.lastIndexOf(e.text)
             }
             return this.chatInput.selectionStart
         },
         onReconnecting: function() {
             this.hideSpinner(),
             this.$el.append(this.$disco),
             this.spinner = new w({
                 size: w.MEDIUM
             }),
             this.$disco.append(this.spinner.$el),
             this.spinner.render()
         },
         onReconnected: function() {
             this.hideSpinner(),
             this.$disco.remove()
         },
         hideSpinner: function() {
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner)
         }
     });
     return x
 }),
 define("f1e1d/e74c9/b49ed/eab37/afaf5", ["f1e1d/e74c9/b49ed/adbd9/fae4d"], function(e) {
     var t = e.extend({});
     return t
 }),
 define("hbs!templates/room/popout/PopoutChat", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="header">\r\n    <i class="icon icon-chat"></i>\r\n    <div id="chat-mentions-button" class="chat-header-button">\r\n        <i class="icon icon-mention-off"></i>\r\n    </div>\r\n    <div id="chat-timestamp-button" class="chat-header-button">\r\n        <i class="icon icon-timestamps-12"></i>\r\n    </div>\r\n    <div id="chat-emoji-button" class="chat-header-button">\r\n        <i class="icon icon-emoji-on"></i>\r\n    </div>\r\n    <div id="chat-sound-button" class="chat-header-button">\r\n        <i class="icon icon-chat-sound-on"></i>\r\n    </div>\r\n</div>\r\n<div id="chat-messages"></div>\r\n<div id="chat-input">\r\n    <form class="chat-input-form" onsubmit="return false">\r\n        <input id="chat-input-field" type="text" value="" placeholder="' + l((a = t.chat,
         a = null == a || a === !1 ? a : a.placeholder,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="256"/>\r\n    </form>\r\n</div>'
     });
     return t.registerPartial("templates_room_popout_PopoutChat", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/eab37/cd865", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/e8300/a3e66", "f1e1d/a3bee/c49d1", "f1e1d/d8478/b885e", "f1e1d/af752/e504b", "f1e1d/e74c9/b49ed/adbd9/ff68a", "f1e1d/e74c9/b49ed/eab37/afaf5", "hbs!templates/room/popout/PopoutChat", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = {}
       , d = []
       , u = r.extend({
         initialize: function() {
             this.suggestionView = new l,
             this.suggestionView.on("refocus", t.bind(this.onRefocusInput, this)).on("submitSuggestion", t.bind(this.submitSuggestion, this)),
             this.chatOverBind = t.bind(this.onChatOver, this),
             this.chatOutBind = t.bind(this.onChatOut, this),
             this.chatDeleteClickBind = t.bind(this.onDeleteClick, this),
             this.fromClickBind = t.bind(this.onFromClick, this),
             this.showChatUserBind = t.bind(this.onShowChatUser, this),
             this.imageNextBind = t.bind(this.loadNextImage, this),
             this.imageLoadBind = t.bind(this.onImageLoad, this),
             this.imageErrorBind = t.bind(this.onImageError, this)
         },
         render: function() {
             this.$el.html(h(c)).append(this.suggestionView.$el),
             this.suggestionView.render(),
             this.$chatInputField = this.$("#chat-input-field").keydown(t.bind(this.onKeyDown, this)).keyup(t.bind(this.onKeyUp, this)).focus(t.bind(this.onFocus, this)).blur(t.bind(this.onBlur, this)),
             this.chatInput = this.$chatInputField[0],
             this.$chatInput = this.$("#chat-input"),
             this.$chatMessages = this.$("#chat-messages"),
             this.$chatMessages.append(e("#chat-messages").children().clone(!0, !0)),
             this.$chatSound = this.$("#chat-sound-button"),
             this.$chatEmoji = this.$("#chat-emoji-button"),
             this.$chatMentions = this.$("#chat-mentions-button"),
             this.$chatHeader = this.$("#chat-header"),
             i.on("chat:receive", this.onReceived, this).on("chat:mention", this.onInputMention, this).on("chat:delete", this.onDelete, this).on(s.CLEAR, this.onClear, this).on(s.SOUND, this.onSoundUpdate, this).on(s.EMOJI, this.onEmojiUpdate, this).on(s.MENTIONS, this.onMentionsUpdate, this).on(s.TIMESTAMP, this.onTimestampUpdate, this),
             n.onSoundUpdate().onTimestampUpdate().onEmojiUpdate().onMentionsUpdate();
             var o = this;
             return t.delay(function() {
                 o.scrollToBottom()
             }, 250),
             n.mutes[a.get("id")] && this.onMute({
                 data: n.mutes[a.get("id")]
             }),
             this
         },
         remove: function() {
             this.scrollPane && (this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane),
             this.$muted && (this.$muted.remove(),
             this.$muted = void 0,
             delete this.$muted),
             i.off("chat:receive", this.onReceived, this).off("chat:mention", this.onInputMention, this).off("chat:delete", this.onDelete, this).off(s.CLEAR, this.onClear, this).off(s.SOUND, this.onSoundUpdate, this).off(s.EMOJI, this.onEmojiUpdate, this).off(s.MENTIONS, this.onMentionsUpdate, this).off(s.TIMESTAMP, this.onTimestampUpdate, this),
             this._super()
         },
         scrollToBottom: function() {
             this.$chatMessages.scrollTop(this.$chatMessages[0].scrollHeight)
         },
         onTimestampUpdate: function(t) {
             this.$("#chat-messages .timestamp").each(function() {
                 var i = e(this);
                 i.text(o.convertChatTimestamp(i.text(), t.data))
             }),
             t.data ? this.$("#chat-messages .timestamp").show() : this.$("#chat-messages .timestamp").hide(),
             12 === t.data ? this.$("#chat-timestamp-button i").removeClass("icon-timestamps-off").removeClass("icon-timestamps-24").addClass("icon-timestamps-12") : 24 === t.data ? this.$("#chat-timestamp-button i").removeClass("icon-timestamps-off").removeClass("icon-timestamps-12").addClass("icon-timestamps-24") : this.$("#chat-timestamp-button i").removeClass("icon-timestamps-12").removeClass("icon-timestamps-24").addClass("icon-timestamps-off")
         },
         loadImages: function(e) {
             if (e.images) {
                 0 === d.length && t.delay(this.imageNextBind, 100);
                 for (var i in e.images)
                     p[e.images[i]] || (p[e.images[i]] = []),
                     p[e.images[i]].push(i),
                     d.push(e.images[i])
             }
         },
         loadNextImage: function() {
             if (d.length > 0) {
                 var e = new Image;
                 e.onload = this.imageLoadBind,
                 e.onerror = this.imageErrorBind,
                 e.src = d.shift()
             }
         },
         onImageLoad: function(i) {
             if (p[i.target.src] && p[i.target.src].length) {
                 var s = p[i.target.src].shift()
                   , n = this.$(".iph-" + s);
                 n.hasClass("break-before") && n.before(e("<br/>")),
                 n.hasClass("break-after") && n.after(e("<br/>"));
                 var a = e(i.target).addClass("cimg");
                 n.before(a).remove(),
                 0 === p[i.target.src].length && (p[i.target.src] = void 0,
                 delete p[i.target.src]),
                 this.checkScroll()
             }
             d.length > 0 && t.delay(this.imageNextBind, 100)
         },
         onImageError: function(e) {
             var i = p[e.target.src].shift();
             this.$(".iph-" + i).remove(),
             0 === p[e.target.src].length && (p[e.target.src] = void 0,
             delete p[e.target.src]),
             d.length > 0 && t.delay(this.imageNextBind, 100)
         },
         onDelete: function(e) {
             try {
                 this.lastText && this.lastText.hasClass("cid-" + e) && (this.lastID = this.lastType = this.lastText = this.lastTime = void 0);
                 var t = this.$(".cid-" + e).closest(".cm");
                 t.find("*").off(),
                 t.empty().remove()
             } catch (t) {
                 console.error(t, e)
             }
         },
         playSound: function() {},
         onSoundEnter: function() {},
         onTimestampEnter: function() {},
         onPopoutEnter: function() {},
         onEmojiEnter: function() {},
         onMentionsEnter: function() {}
     });
     return u
 }),
 define("hbs!templates/room/playback/Volume", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="button">\n    <i class="icon icon-volume-on"></i>\n</div>\n<span>100%</span>\n<div class="slider">\n    <div class="line"></div>\n    <div class="circle"></div>\n    <div class="hit"></div>\n</div>'
     });
     return t.registerPartial("templates_room_playback_Volume", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/c0731/a48dc", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/b5029", "f1e1d/d9232/b42c1", "hbs!templates/room/playback/Volume"], function(e, t, i, s, n, a) {
     var o = t.View.extend({
         id: "volume",
         $document: $(document),
         events: {
             mouseenter: "onEnter",
             mouseleave: "onLeave"
         },
         initialize: function() {
             this.moveBind = e.bind(this.onUpdate, this),
             this.stopBind = e.bind(this.onStop, this),
             this.clickBind = e.bind(this.onClick, this)
         },
         render: function() {
             return this.$el.html(a()),
             this.$icon = this.$(".button i"),
             this.$hit = this.$(".hit").mousedown(e.bind(this.onStart, this)),
             this.$slider = this.$(".slider"),
             this.$circle = this.$(".circle"),
             this.$span = this.$("span"),
             this.max = this.$hit.width() - this.$circle.width(),
             this.$circle.css("left", parseInt(this.$hit.css("left")) + this.max * (s.get("volume") / 100) - this.$circle.width() / 2),
             this.$(".button").on("click", this.clickBind),
             this.isBR = !1,
             s.on("change:volume change:muted", this.onChange, this),
             this.onChange(),
             this.BRmobileMod(),
             this
         },
         BRmobileMod: function() {
             (window.isBR || this.isBR) && (this.isBR = !0,
             delete window.isBR,
             n.settings.volume = 100,
             n.save(),
             s.set("volume", 100),
             s.set("lastVolume", 100))
         },
         remove: function() {
             this._super(),
             this.$(".button").off("click", this.clickBind),
             s.off("change:volume change:muted", this.onChange, this),
             this.$el.empty(),
             this.$el.off(),
             this.off(),
             this.$el = void 0,
             this.el = void 0,
             this.$icon = this.$hit = this.$slider = this.$circle = void 0
         },
         onEnter: function() {
             this.drag || (this.$slider.show(),
             this.max = this.$hit.width() - this.$circle.width(),
             this.onChange()),
             this.over = !0
         },
         onLeave: function() {
             this.drag || this.$slider.hide(),
             this.over = !1
         },
         onClick: function() {
             s.get("muted") ? s.set("volume", s.get("lastVolume")) : s.set({
                 lastVolume: s.get("volume"),
                 volume: 0
             })
         },
         onStart: function(e) {
             return this.drag = !0,
             this.min = this.$hit.offset().left,
             this.max = this.$hit.width() - this.$circle.width(),
             i.trigger("playback:block"),
             this.$document.on("mouseup", this.stopBind).on("mousemove", this.moveBind),
             this.onUpdate(e)
         },
         onUpdate: function(e) {
             var t = Math.max(0, Math.min(100, Math.round(100 * ((e.pageX - this.min) / this.max))));
             return s.set("volume", t),
             n.settings.volume = t,
             e.preventDefault(),
             e.stopPropagation(),
             !1
         },
         onStop: function(e) {
             return this.drag = !1,
             i.trigger("playback:unblock"),
             this.$document.off("mouseup", this.stopBind).off("mousemove", this.moveBind),
             n.save(),
             e.preventDefault(),
             e.stopPropagation(),
             this.over || this.onLeave(),
             !1
         },
         onChange: function() {
             var e = s.get("volume");
             this.$span.text(e + "%"),
             this.$circle.css("left", parseInt(this.$hit.css("left")) + this.max * (e / 100) - this.$circle.width() / 2),
             e > 60 ? this.$icon.hasClass("icon-volume-on") || this.$icon.removeClass().addClass("icon icon-volume-on") : e > 0 ? this.$icon.hasClass("icon-volume-half") || this.$icon.removeClass().addClass("icon icon-volume-half") : this.$icon.hasClass("icon-volume-off") || this.$icon.removeClass().addClass("icon icon-volume-off")
         }
     });
     return o
 }),
 define("hbs!templates/room/popout/PopoutMeta", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="icon icon-current-dj"></i>\r\n<div id="now-playing-media">\r\n    <span class="bar-value"></span>\r\n</div>\r\n<div id="now-playing-dj">\r\n    <span class="dark-label">' + l((a = t.header,
         a = null == a || a === !1 ? a : a.currentDJ,
         typeof a === r ? a.apply(t) : a)) + ': </span><span class="username"></span>\r\n</div>\r\n<div id="now-playing-time">\r\n    <i class="icon icon-time"></i>\r\n    <span></span>\r\n</div>'
     });
     return t.registerPartial("templates_room_popout_PopoutMeta", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/eab37/fc7f7", ["jquery", "underscore", "backbone", "f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/af752/e504b", "f1e1d/e74c9/b49ed/c0731/a48dc", "hbs!templates/room/popout/PopoutMeta", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = i.View.extend({
         id: "meta",
         render: function() {
             return this.$el.html(l(h)),
             this.$media = this.$("#now-playing-media .bar-value"),
             this.$dj = this.$("#now-playing-dj .username"),
             this.$time = this.$("#now-playing-time span"),
             this.volume = new r,
             this.$el.append(this.volume.$el),
             this.volume.render(),
             a.on("change:media", this.onMediaChange, this).on("change:remaining", this.onTimeChange, this),
             n.on("change:currentDJ", this.onDJChange, this),
             t.defer(t.bind(this.onDraw, this)),
             this
         },
         onDraw: function() {
             this.onMediaChange(),
             this.onDJChange(),
             this.onTimeChange(),
             this.volume.onChange(),
             this.resize()
         },
         remove: function() {
             a.off("change:media", this.onMediaChange, this).off("change:remaining", this.onTimeChange, this),
             n.off("change:currentDJ", this.onDJChange, this),
             this.volume.destroy(),
             this.volume = void 0,
             delete this.volume,
             this._super()
         },
         onMediaChange: function() {
             var e = a.get("media");
             e ? (this.$media.html('<span class="author">' + e.get("author") + "</span> - " + e.get("title")),
             this.$("#now-playing-time").css("opacity", 1)) : (this.$media.html("<span>" + h.playback.noDJTitle + "</span>"),
             this.$("#now-playing-time").css("opacity", 0)),
             this.resize()
         },
         onDJChange: function() {
             var e = s.get(n.get("currentDJ"));
             this.$dj.text(e ? e.get("username") : h.playback.noDJ)
         },
         onTimeChange: function() {
             var e = a.get("remaining");
             e < 0 || !a.get("media") ? this.$time.text("").css("color", "#eee") : this.$time.text(o.formatTimeLeading(e)).css("color", e > 5 ? "#eee" : "#C00"),
             this.resize()
         },
         resize: function(t) {
             try {
                 t = t || Math.max(345, e(this._window).width()),
                 t = t - this.$("#now-playing-media").offset().left - this.$("#now-playing-time").width() - 15,
                 (isNaN(t) || t < 0) && (t = 240),
                 this.$("#now-playing-media").width(t)
             } catch (e) {}
         }
     });
     return c
 }),
 define("f1e1d/be642/e32cc/c2d70", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "votes",
         init: function(e, t) {
             this.data = {
                 direction: e,
                 historyID: t
             },
             this._super(!0)
         }
     });
     return t
 }),
 define("hbs!templates/room/Vote", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '\n<li class="room-controls__bottom-item item--mobile">\n    <button class="btn btn-room-controls btn-like">\n        <i class="fa fa-thumbs-up" aria-hidden="true"></i>\n    </button>\n    ' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.woot,
         typeof a === r ? a.apply(t) : a)) + '(<span class="room-controls__bottom-text"></span>)\n</li>\n<li class="room-controls__bottom-item item--mobile">\n    <button class="btn btn-room-controls btn-meh"><i class="fa fa-thumbs-down" aria-hidden="true"></i></button>\n    ' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.meh,
         typeof a === r ? a.apply(t) : a)) + '(<span class="room-controls__bottom-text"></span>)\n</li>\n<li class="room-controls__bottom-item item--mobile">\n    <button class="btn btn-room-controls btn-playlist"><i class="plugdjfont icon-list" aria-hidden="true"></i></button>\n    ' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.grab,
         typeof a === r ? a.apply(t) : a)) + '(<span class="room-controls__bottom-text"></span>)\n</li>\n\n<li class="room-controls--desktop__item">\n    <button class="room-controls--desktop-btn btn-like" title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.woot,
         typeof a === r ? a.apply(t) : a)) + '">\n        <span class="sr-only">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.woot,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        <i class="fa fa-thumbs-up" aria-hidden="true"></i>\n    </button>\n    <span class="room-controls--desktop__item-value"></span>\n</li>\n<li class="room-controls--desktop__item">\n    <button class="room-controls--desktop-btn btn-meh" title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.meh,
         typeof a === r ? a.apply(t) : a)) + '">\n        <span class="sr-only">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.meh,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        <i class="fa fa-thumbs-down" aria-hidden="true"></i>\n    </button>\n    <span class="room-controls--desktop__item-value"></span>\n</li>\n<li class="room-controls--desktop__item">\n    <button class="room-controls--desktop-btn btn-playlist" title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.grab,
         typeof a === r ? a.apply(t) : a)) + '">\n        <span class="sr-only">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.vote,
         a = null == a || a === !1 ? a : a.grab,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        <i class="plugdjfont icon-list" aria-hidden="true"></i>\n    </button>\n    <span class="room-controls--desktop__item-value"></span>\n</li>\n'
     });
     return t.registerPartial("templates_room_Vote", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/f4fba", ["jquery", "underscore", "backbone", "f1e1d/af752/fa88e", "f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/fce39/a4370", "f1e1d/fce39/d3252", "f1e1d/e8300/c0237", "f1e1d/e8300/dcb95", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8478/fdf95", "f1e1d/be642/e32cc/c2d70", "f1e1d/d9232/b42c1", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/fb4d1", "f1e1d/e74c9/ffbf9/da5bf", "f1e1d/e74c9/b14c6/c055e", "hbs!templates/room/Vote", "lang/Lang", "f1e1d/af752/bacfb", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $) {
     var E, M, T = "active", I = "clicked", D = "disabled";
     d.on("change:joinTime", function() {
         E = Date.now()
     });
     var P = i.View.extend({
         template: _({
             trans: S
         }),
         initialize: function() {
             this.checkBind = t.bind(this.onCheck, this)
         },
         render: function() {
             return this.$el.html(this.template),
             this.$woot = this.$(".btn-like").on("click", t.bind(this.onWootClick, this)).on("mouseenter", t.bind(this.onWootEnter, this)),
             this.$meh = this.$(".btn-meh").on("click", t.bind(this.onMehClick, this)).on("mouseenter", t.bind(this.onMehEnter, this)),
             this.$grab = this.$(".btn-playlist").on("click", t.bind(this.onGrabClick, this)).data("grab", !0).on("mouseenter", t.bind(this.onGrabEnter, this)),
             this.$(".crowd-response").on("mouseleave", t.bind(this.onHideTooltip, this)),
             this.$dj = e('<div id="video-only-dj"/>').append('<i class="icon icon-skip"></i>').append('<div class="image"><div class="thumb medium"><div class="background"></div><i></i></div></div>').addClass("online"),
             this.$wootValue = this.$woot.next(),
             this.$mehValue = this.$meh.next(),
             this.$grabValue = this.$grab.next(),
             this.$wootIcon = this.$woot.children(),
             this.$mehIcon = this.$meh.children(),
             this.$grabIcon = this.$grab.children(),
             a.on("reset", this.onDJUpdate, this),
             p.on("change:remaining", this.onTimeChange, this),
             m.on("change:positive", this.onPositiveChange, this).on("change:negative", this.onNegativeChange, this).on("change:grabs", this.onGrabsChange, this),
             n.on("userPlaying:update", this.onCheck, this),
             n.on("song:grab", this.onGrabClick, this),
             this.onPositiveChange(),
             this.onNegativeChange(),
             this.onGrabsChange(),
             this.enabled = !0,
             this
         },
         onVideoOnlyChange: function() {
             v.settings.videoOnly,
             this.$dj.off(),
             this.$dj.remove(),
             this.$(".crowd-response").removeAttr("style")
         },
         onPositiveChange: function() {
             var e = m.get("positive") || 0;
             this.$wootValue.text(e),
             e > 0 ? this.$woot.hasClass(T) || this.$woot.addClass(T) : this.$woot.hasClass(T) && this.$woot.removeClass(T)
         },
         onNegativeChange: function() {
             var e = m.get("negative") || 0;
             this.$mehValue.text(e),
             e > 0 ? this.$meh.hasClass(T) || this.$meh.addClass(T) : this.$meh.hasClass(T) && this.$meh.removeClass(T)
         },
         onGrabsChange: function() {
             var e = m.get("grabs") || 0;
             this.$grabValue.text(e),
             e > 0 ? this.$grab.hasClass(T) || this.$grab.addClass(T) : this.$grab.hasClass(T) && this.$grab.removeClass(T)
         },
         onWootClick: function(e) {
             u.get("guest") ? n.trigger("signup:show", "Community: Trigger - Vote: Woot") : p.get("media") && !a.isTheUserPlaying && 1 !== u.get("vote") && (0 === p.get("duration") || p.get("remaining") > 5) && (m.vote({
                 i: u.get("id"),
                 v: 1
             }),
             new g(1,p.get("historyID")),
             this.setWoot(I),
             this.setMeh(),
             x.track(x.type.action, x.event.woot),
             n.trigger("track:ga", "Community", "Vote", "Woot"),
             n.trigger("click:woot"))
         },
         onMehClick: function(e) {
             u.get("guest") ? n.trigger("signup:show", "Community: Trigger - Vote: Meh") : p.get("media") && !a.isTheUserPlaying && u.get("vote") !== -1 && p.get("remaining") > 5 && (u.hasPermission(f.DJ) || Date.now() - E > 12e4 ? (m.vote({
                 i: u.get("id"),
                 v: -1
             }),
             new g(-1,p.get("historyID")),
             this.setMeh(I),
             this.setWoot(),
             x.track(x.type.action, x.event.meh),
             n.trigger("track:ga", "Community", "Vote", "Meh"),
             n.trigger("click:meh")) : n.trigger("notify", "icon-meh-disabled", S.messages.mehTimer.split("%COUNT%").join(String(120 - Math.round((Date.now() - E) / 1e3)))))
         },
         onGrabClick: function(e) {
             if (u.get("guest"))
                 n.trigger("signup:show", "Community: Trigger - Vote: Grab");
             else if (p.get("media") && !a.isTheUserPlaying && !this.$grab.hasClass(D) && p.get("remaining") > 5) {
                 var t = o.findWhere({
                     active: !0
                 })
                   , i = [p.get("media")];
                 t ? (this.showPopMenu(i),
                 this.onHideTooltip()) : n.dispatch(new h(h.SHOW,new y({
                     grab: !0
                 }))),
                 x.track(x.type.action, x.event.grabSong),
                 n.trigger("click:grab")
             }
         },
         showPopMenu: function(e) {
             s.isMobileWidth() === !0 ? C.show(this.$grab.eq(0), e) : C.show(this.$grab.eq(1), e)
         },
         onMehEnter: function() {},
         onWootEnter: function() {},
         onGrabEnter: function() {},
         onHideTooltip: function() {
             n.trigger("tooltip:hide")
         },
         onTimeChange: function() {
             !a.isTheUserPlaying && p.get("media") && (0 === p.get("duration") || p.get("remaining") > 5 ? this.enable() : this.enabled && (1 !== u.get("vote") && this.setWoot(D),
             u.get("vote") !== -1 && this.setMeh(D),
             m.get("grabbers")[u.get("id")] || this.setGrab(D),
             this.enabled = !1))
         },
         enable: function() {
             1 === u.get("vote") ? (p.get("duration") > 0 ? this.setMeh() : this.setMeh(D),
             this.setWoot(I)) : u.get("vote") === -1 ? (this.setMeh(I),
             this.setWoot()) : (p.get("duration") > 0 && (u.hasPermission(f.DJ) || Date.now() - E > 12e4) ? this.setMeh() : this.setMeh(D),
             this.setWoot()),
             m.get("grabbers")[u.get("id")] ? this.setGrab(I) : this.setGrab()
         },
         onCheck: function() {
             clearTimeout(this.checkTimeout),
             a.isTheUserPlaying || !p.get("media") ? (this.setMeh(D),
             this.setWoot(D),
             this.setGrab(D),
             this.enabled = !1) : this.enable(),
             this.checkVideoOnly()
         },
         checkVideoOnly: function() {
             v.settings.videoOnly,
             1
         },
         onDJUpdate: function() {
             this.checkTimeout && clearTimeout(this.checkTimeout),
             this.checkTimeout = setTimeout(this.checkBind, 100)
         },
         setWoot: function(e) {
             e ? e === I ? (this.$meh.removeClass(I),
             this.$woot.removeClass(D).addClass(I)) : e === D && this.$woot.removeClass(I).addClass(D) : this.$woot.removeClass("disabled selected clicked")
         },
         setMeh: function(e) {
             e ? e === I ? (this.$woot.removeClass(I),
             this.$meh.removeClass(D).addClass(I)) : e === D && this.$meh.removeClass(I).addClass(D) : this.$meh.removeClass("disabled selected clicked")
         },
         setGrab: function(e) {
             e ? e === I ? this.$grab.removeClass(D).addClass(I) : e === D && this.$grab.removeClass(I).addClass(D) : this.$grab.removeClass("disabled selected clicked")
         },
         onDJEnter: function() {
             M && k.showSimple(M, {
                 x: this.$dj.offset().left + 41,
                 y: this.$dj.offset().top - 11
             })
         },
         onDJLeave: function() {
             k.hide(!1)
         },
         onDJClick: function() {
             c.get("currentDJ") && (a.isTheUserPlaying ? n.dispatch(new l(l.SKIP)) : k.onAvatarClick())
         },
         onAvatarChange: function() {
             var e = this.$(".thumb i").removeClass();
             M && e.addClass("avi avi-" + w.aviClass(M.get("avatarID")))
         }
     });
     return P
 }),
 define("f1e1d/e74c9/b49ed/eab37/feb85", ["f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/d8478/b5029", "f1e1d/d8478/fdf95", "f1e1d/e74c9/b49ed/f4fba", "f1e1d/e74c9/ffbf9/da5bf", "hbs!templates/room/Vote", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = n.extend({
         template: o(r),
         id: "popout-vote",
         render: function() {
             this._super(),
             this.onCheck()
         },
         remove: function() {
             t.off("reset", this.onDJReset, this),
             i.off("change:remaining", this.onTimeChange, this),
             s.off("change:positive", this.onPositiveChange, this).off("change:negative", this.onNegativeChange, this).off("change:grabs", this.onGrabsChange, this),
             e.off("userPlaying:update", this.onCheck, this),
             a.hide(),
             this._super()
         },
         onCheck: function() {
             clearTimeout(this.checkTimeout),
             t.isTheUserPlaying || !i.get("media") ? (this.setMeh("disabled"),
             this.setWoot("disabled"),
             this.setGrab("disabled"),
             this.enabled = !1) : this.enable()
         },
         setWidth: function(e) {
             this.$el.width(e);
             var t = e / 3;
             this.$("#grab").width(t),
             this.$("#woot").width(--t),
             this.$("#meh").width(t)
         },
         showPopMenu: function(e) {
             a.show(this.$grab, e, this.$body)
         },
         onMehEnter: function() {},
         onWootEnter: function() {},
         onGrabEnter: function() {},
         onHideTooltip: function() {},
         onVideoOnlyChange: function() {},
         checkVideoOnly: function() {},
         renderVideoOnly: function() {},
         onDJEnter: function() {},
         onDJLeave: function() {},
         onDJClick: function() {},
         onAvatarChange: function() {},
         onStatusChange: function() {},
         videoOnlyResize: function() {}
     });
     return l
 }),
 define("f1e1d/e74c9/b49ed/eab37/ca9c9", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/af752/fa88e", "f1e1d/af752/fd6ec", "f1e1d/e74c9/b14c6/c055e", "f1e1d/e74c9/b49ed/eab37/cd865", "f1e1d/e74c9/b49ed/eab37/fc7f7", "f1e1d/e74c9/b49ed/eab37/feb85"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = i.View.extend({
         initialize: function() {
             this._window = void 0,
             this.$document = void 0,
             this.resizeBind = t.bind(this.onResize, this);
             var e = this;
             window.onbeforeunload = function(t) {
                 e.close()
             }
             ,
             s.on("popout:show", t.bind(this.show, this)),
             n.on("change:name", t.bind(this.onNameChange, this))
         },
         show: function() {
             if (this.chat && this.meta && this.vote || (this.chat = new h,
             this.meta = new c,
             this.vote = new p,
             this.chat._popout = this,
             this.$modal = e("<div/>").addClass("user-rollover-modal").mousedown(t.bind(l.cleanup, l)).hide()),
             !this._window) {
                 var i = this
                   , s = window.screenY + e("#chat").offset().top + 4
                   , n = window.screenX + e("#chat").offset().left - 5
                   , a = e("#chat").height() + 54;
                 this._window = window.open("about:blank", "plugdjpopout", "width=350,height=" + a + ",location=no,menubar=no,titlebar=no,status=no,toolbar=no,resizable=yes,left=" + n + ",top=" + s),
                 this._window.onbeforeunload = function(e) {
                     i.clear()
                 }
                 ,
                 o.isFirefox ? this._window.onload = t.bind(this.render, this) : t.defer(t.bind(this.render, this))
             }
         },
         render: function() {
             this._window.focus();
             var i = window.location.href.indexOf("//localhost:") > -1 ? "http://localhost:5000" : "";
             e(this._window.document.head).append(e('<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700"/>')).append(e('<link rel="stylesheet" type="text/css" href="' + i + r.cssroboto + '"/>')).append(e('<link rel="stylesheet" type="text/css"/>').attr("href", i + r.cssbase)).append(e('<link rel="stylesheet" type="text/css"/>').attr("href", i + r.csspopout)).append(e('<link rel="stylesheet" type="text/css"/>').attr("href", i + r["css_" + a.get("language")] || r.css_en)),
             this.$document = e(this._window.document),
             this.$document.attr("title", n.get("name") + " - plug.dj"),
             this.meta._document = this.chat.suggestionView.$document = this.$document,
             this.meta._window = this._window,
             this.vote.$body = e(this._window.document.body),
             e(this._window.document.body).append(this.chat.$el).append(this.meta.$el).append(this.vote.$el).append(this.$modal),
             e(this._window.document.body).addClass("popout");
             var s = "";
             s += o.isMac ? "osx" : "win",
             o.isChrome ? s += " chrome" : o.isFirefox ? s += " firefox" : o.isSafari ? s += " safari" : o.isIE && (s += " ie"),
             window.location.href.indexOf("//plug.dj") === -1 && window.location.href.indexOf("//localhost:") === -1 && (s += " staging"),
             this._window.document.getElementsByTagName("html")[0].className += s,
             this.chat.render(),
             this.meta.render(),
             this.vote.render(),
             this.meta.volume.$document = this.$document,
             e(this._window).on("resize", this.resizeBind),
             t.delay(this.resizeBind, 100),
             t.delay(this.resizeBind, 250),
             t.delay(this.resizeBind, 500),
             e("#chat-button").hide(),
             e("#users-button").click()
         },
         onNameChange: function() {
             this._window && n.get("name") && (this._window.document.title = n.get("name"))
         },
         onResize: function() {
             var e;
             try {
                 e = this._window.innerHeight
             } catch (e) {
                 this.clear()
             }
             if (e) {
                 var t = Math.max(345, this._window.innerWidth);
                 e = Math.max(450, e);
                 var i = this.meta.$el.height() + this.vote.$el.height();
                 this.chat.$el.width(t).height(e - i),
                 this.chat.$chatMessages.height(this.chat.$el.height() - this.chat.$chatMessages.offset().top - this.chat.$chatInputField.height() - 34),
                 this.chat.scrollToBottom(),
                 this.vote.setWidth(t),
                 this.meta.$el.width(t),
                 this.meta.resize(t),
                 this.meta.$el.css("top", e - i),
                 this.vote.$el.css("top", e - this.vote.$el.height())
             }
         },
         clear: function() {
             l.cleanup(),
             this.chat.destroy(),
             this.meta.destroy(),
             this.vote.destroy(),
             this._window && (e(this._window).off("resize", this.resizeBind),
             this._window.onload = void 0,
             this._window.onbeforeunload = void 0),
             this.$document = this.meta._document = this.vote._document = void 0,
             this.chat = void 0,
             this.meta = void 0,
             this.vote = void 0,
             delete this.chat,
             delete this.meta,
             delete this.vote,
             this.$modal.off(),
             this.$modal.remove(),
             this.$modal = void 0,
             delete this.$modal,
             t.defer(t.bind(this.cleanup, this)),
             e("#chat-button").show().click()
         },
         showModal: function() {
             this.$modal.show()
         },
         hideModal: function() {
             this.$modal && this.$modal.hide()
         },
         cleanup: function() {
             this._window = void 0,
             delete this._window
         },
         close: function() {
             this._window && (this._window.close(),
             this.clear())
         }
     });
     return new d
 }),
 define("f1e1d/ee86e/bfb98", ["f1e1d/e718c/f325a", "f1e1d/e718c/c2878", "f1e1d/fce39/d3252", "f1e1d/e8300/bb607", "f1e1d/e74c9/b49ed/eab37/ca9c9", "f1e1d/e74c9/b14c6/c055e"], function(e, t, i, s, n, a) {
     var o = e.extend({
         execute: function() {
             !this.event.room && n.$document && (this.event.pos.x = 32),
             this.event.pos.staff ? a.showStaff(this.event.user, this.event.pos, void 0) : a.showChat(this.event.user, this.event.pos, !this.event.room && n.$document ? n : void 0),
             this._super()
         }
     });
     return t.mapEvent(s.SHOW, o, s),
     o
 }),
 define("f1e1d/be642/d9232/bd286", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         init: function(e, t) {
             this.route = "store/products/" + e + "/" + t,
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeStoreItem(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/ee86e/ed7c0", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/e8377", "f1e1d/fce39/aa287", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/be642/d9232/bd286", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o, r, l) {
     var h = t.extend({
         execute: function() {
             0 === n.length && this.dispatch(new a(a.GET_USER_AVATARS)),
             h.category !== this.event.category ? this.listenTo(new r("avatars",this.event.category)) : this.refresh()
         },
         onSuccess: function(e) {
             h.category = this.event.category,
             s.reset(this.getUnowned(l.mergeStoreItems(e))),
             this.finish()
         },
         refresh: function() {
             s.reset(this.getUnowned()),
             this.finish()
         },
         getUnowned: function(t) {
             var i;
             return i = t ? e.filter(t, function(e) {
                 return !n.get(e.name)
             }) : s.filter(function(e) {
                 return !n.get(e.get("name"))
             })
         }
     });
     return h.category = void 0,
     i.mapEvent(a.GET_STORE_AVATARS, h, a),
     h
 }),
 define("f1e1d/ee86e/edbf5", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/f7c81", "f1e1d/fce39/d4611", "f1e1d/e8300/bb9e2", "f1e1d/be642/d9232/bd286", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o, r) {
     var l = t.extend({
         execute: function() {
             0 === n.length && this.dispatch(new a(a.GET_USER_BADGES)),
             s.category !== this.event.category ? this.listenTo(new o("badges","b-" + this.event.category)) : this.refresh()
         },
         onSuccess: function(e) {
             for (var t = e.length; t--; )
                 e[t].category && 0 === e[t].category.indexOf("b-") && (e[t].category = e[t].category.substr(2));
             l.category = this.event.category,
             s.reset(this.getUnowned(r.mergeStoreItems(e))),
             this.finish()
         },
         refresh: function() {
             s.reset(this.getUnowned()),
             this.finish()
         },
         getUnowned: function(t) {
             var i;
             return i = t ? e.filter(t, function(e) {
                 return !n.get(e.name)
             }) : s.filter(function(e) {
                 return !n.get(e.get("name"))
             })
         }
     });
     return l.category = void 0,
     i.mapEvent(a.GET_STORE_BADGES, l, a),
     l
 }),
 define("f1e1d/fce39/e3678", ["backbone", "f1e1d/d8478/ceca8", "f1e1d/e718c/b7acd"], function(e, t, i) {
     var s = e.Collection.extend({
         model: t,
         comparator: "id",
         initialize: function() {
             i.on("backgroundCell:click", this.onClick, this),
             this.listenTo(this, "change:active", this.deactivateOther)
         },
         deactivateOther: function(e, t) {
             t && (this.models.forEach(function(t) {
                 e !== t && t.set("active", !1)
             }),
             console.log(this.models))
         },
         onClick: function(e) {
             this.trigger("click", e)
         }
     });
     return new s
 }),
 define("f1e1d/ee86e/c4cdb", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/dc7a1", "f1e1d/fce39/e3678", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/be642/d9232/bd286", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o, r, l) {
     var h = t.extend({
         execute: function() {
             0 === n.length && this.dispatch(new a(a.GET_USER_BACKGROUNDS)),
             h.category !== this.event.category ? this.listenTo(new r("backgrounds",this.event.category)) : this.refresh()
         },
         onSuccess: function(e) {
             h.category = this.event.category,
             s.reset(this.getUnowned(l.mergeStoreItems(e))),
             this.finish()
         },
         refresh: function() {
             s.reset(this.getUnowned()),
             this.finish()
         },
         getUnowned: function(t) {
             var i;
             return i = t ? e.filter(t, function(e) {
                 return !n.get(e.name)
             }) : s.filter(function(e) {
                 return !n.get(e.get("name"))
             })
         }
     });
     return h.category = void 0,
     i.mapEvent(a.GET_STORE_BACKGROUNDS, h, a),
     h
 }),
 define("f1e1d/d8478/ea366", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             id: void 0,
             name: void 0,
             category: void 0,
             level: 1,
             ep: 0,
             pp: 0
         }
     });
     return t
 }),
 define("f1e1d/fce39/f92ae", ["backbone", "f1e1d/d8478/ea366"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         comparator: function(e, t) {
             return "username" === e.get("category") ? -1 : e.get("name") < t.get("name") ? -1 : e.get("name") > t.get("name") ? 1 : 0
         }
     });
     return new i
 }),
 define("f1e1d/ee86e/e4114", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/f92ae", "f1e1d/e8300/bb9e2", "f1e1d/be642/d9232/bd286", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o) {
     var r = t.extend({
         execute: function() {
             0 === s.length ? this.listenTo(new a("misc","all")) : this.refresh()
         },
         onSuccess: function(e) {
             s.reset(o.mergeStoreItems(e)),
             this.finish()
         },
         refresh: function() {
             s.reset(s.toArray()),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return i.mapEvent(n.GET_STORE_MISC, r, n),
     r
 }),
 define("f1e1d/ee86e/e0d3d", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/fce39/a992f", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/d7a91/ed218", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.extend({
         execute: function() {
             a.hasPermission(o.MANAGER) && s.get(this.event.id) ? this.listenTo(new r(this.event.id)) : this.finish()
         },
         onSuccess: function() {
             s.remove(this.event.id),
             this.event.value && i.trigger("notify", "icon-ban", l.messages.unban.split("%NAME%").join(this.event.value)),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return t.mapEvent(n.UNBAN, h, n),
     h
 }),
 define("f1e1d/be642/eb242/da331", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "mutes/" + e,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : 403 === e.code && this.permissionAlert()
         }
     });
     return t
 }),
 define("f1e1d/ee86e/a5c49", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/e718c/b7acd", "f1e1d/fce39/fd103", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/eb242/da331", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.extend({
         execute: function() {
             a.hasPermission(o.MANAGER) && s.get(this.event.id) ? this.listenTo(new r(this.event.id)) : this.finish()
         },
         onSuccess: function() {
             s.remove(this.event.id, {
                 silent: !0
             }),
             s.reset(s.toArray()),
             this.event.value && i.trigger("notify", "icon-mute-big", l.messages.unmute.split("%NAME%").join(this.event.value)),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return t.mapEvent(n.UNMUTE, h, n),
     h
 }),
 define("f1e1d/ee86e/b8074", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/aa287", "f1e1d/e8300/bb9e2", "f1e1d/be642/d9232/e130c"], function(e, t, i, s, n, a) {
     var o = t.extend({
         execute: function() {
             o.synced && this.event.id !== !0 ? this.finish() : this.listenTo(new a("avatars"))
         },
         onSuccess: function(t) {
             o.synced = !0,
             s.reset(t),
             this.event.category && this.dispatch(new n(n.GET_STORE_AVATARS,this.event.category)),
             this.event.value && e.isFunction(this.event.value) && this.event.value(),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return o.synced = !1,
     i.mapEvent(n.GET_USER_AVATARS, o, n),
     o
 }),
 define("f1e1d/ee86e/fe27a", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/e3678", "f1e1d/e8300/bb9e2", "f1e1d/be642/d9232/e130c"], function(e, t, i, s, n, a) {
     var o = t.extend({
         execute: function() {
             o.synced && this.event.id !== !0 ? this.finish() : this.listenTo(new a("backgrounds"))
         },
         onSuccess: function(t) {
             o.synced = !0,
             s.reset(t),
             this.event.category && this.dispatch(new n(n.GET_STORE_BACKGROUNDS,this.event.category)),
             this.event.value && e.isFunction(this.event.value) && this.event.value(),
             this.finish()
         },
         onError: function() {
             this.finish()
         }
     });
     return o.synced = !1,
     i.mapEvent(n.GET_USER_BACKGROUNDS, o, n),
     o
 }),
 define("f1e1d/fce39/a3eb6", ["underscore", "backbone", "f1e1d/fce39/d3252", "f1e1d/d8478/a6d23", "f1e1d/d8478/b5029", "f1e1d/d8478/fdf95"], function(e, t, i, s, n, a) {
     var o = t.Collection.extend({
         model: s,
         initialize: function() {
             a.on("change:positive change:negative change:grabs", this.onPointsChange, this),
             i.on("add remove reset", this.onListenersChange, this)
         },
         onPointsChange: function() {
             if (this.length > 0 && this.at(0).get("id") === n.get("historyID")) {
                 var e = this.at(0).get("score");
                 e.positive = a.get("positive"),
                 e.negative = a.get("negative"),
                 e.grabs = a.get("grabs"),
                 this.at(0).set("score", e).trigger("change")
             }
         },
         onListenersChange: function() {
             if (this.length > 0 && this.at(0).get("id") === n.get("historyID")) {
                 var e = this.at(0).get("score");
                 e.listeners = Math.max(i.length - 1, 0),
                 this.at(0).set("score", e).trigger("change")
             }
         },
         comparator: function(e, t) {
             return e.get("timestamp") > t.get("timestamp") ? -1 : e.get("timestamp") < t.get("timestamp") ? 1 : 0
         }
     });
     return new o
 }),
 define("f1e1d/be642/c76df/b4831", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "users/me/history",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeHistoryItem(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 404 === e.code && this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/ee86e/ac23d", ["f1e1d/e718c/c2878", "f1e1d/fce39/a3eb6", "f1e1d/ee86e/a8671", "f1e1d/e8300/da675", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/d8478/b885e", "f1e1d/be642/c76df/b4831"], function(e, t, i, s, n, a, o, r) {
     var l = i.extend({
         collection: t,
         execute: function() {
             this.listenTo(new r)
         },
         checkCurrent: function(e) {
             return n.get("currentDJ") === o.get("id") && (0 === e.length || e.length > 0 && e[0].get("id") !== a.get("historyID")) && (this.pending = e,
             this.prepend(o),
             !0)
         }
     });
     return e.mapEvent(s.USER, l, s),
     l
 }),
 define("f1e1d/d8478/caf8b", ["underscore", "backbone", "backboneDeepModel"], function(e, t) {
     var i = t.DeepModel.extend({
         defaults: {
             genres: void 0,
             languages: void 0,
             linktypes: void 0,
             subgenres: void 0
         }
     });
     return new i
 }),
 define("f1e1d/be642/e32cc/d27a5", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         init: function(e) {
             this.category = e,
             this.route = "rooms/metadata",
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code && this.success ? e.data[0] && (this.category ? this.success(e.data[0][this.category]) : this.success(e.data[0])) : this.error && this.error(e.code)
         },
         onFault: function(e) {
             this.error && this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/e8300/dd988", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.callback = t
         }
     });
     return t._name = "RoomMetadataEvent",
     t.METADATA = "RoomMetadataEvent:metadata",
     t
 }),
 define("f1e1d/ee86e/fb66b", ["underscore", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/d8478/caf8b", "f1e1d/be642/e32cc/d27a5", "f1e1d/e8300/dd988"], function(e, t, i, s, n, a) {
     var o = t.extend({
         execute: function() {
             this.listenTo(new n)
         },
         onSuccess: function(e) {
             s.set(e),
             this.finish()
         }
     });
     return i.mapEvent(a.METADATA, o, a),
     o
 }),
 define("f1e1d/d8478/c06b6", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             id: 0,
             slug: "",
             name: "",
             host: "",
             dj: "",
             cid: void 0,
             format: void 0,
             media: "",
             image: "",
             friends: [],
             population: 0,
             guests: 0,
             capacity: 0,
             nsfw: !1,
             favorite: !1,
             genres: [],
             subgenres: [],
             language: void 0
         }
     });
     return t
 }),
 define("f1e1d/fce39/d6a89", ["backbone", "f1e1d/d8478/c06b6"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         lastSync: new Date,
         initialize: function() {
             this.on("change:favorite", _.bind(this.onFavoriteChange, this))
         },
         onFavoriteChange: function(e) {
             e.get("favorite") === !0 ? this.add(e) : this.remove(e)
         },
         comparator: function(e, t) {
             return e.get("population") > t.get("population") ? -1 : e.get("population") < t.get("population") ? 1 : e.get("name") > t.get("name") ? -1 : e.get("name") < t.get("name") ? 1 : 0
         },
         isFavorite: function(e) {
             return null != this.get(e.get("id"))
         }
     });
     return new i
 }),
 define("f1e1d/e8300/f1c1b", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e) {
             this._super(e)
         }
     });
     return t._name = "DashboardEvent",
     t.GET_FAVORITES = "DashboardEvent:get_favorites",
     t
 }),
 define("f1e1d/be642/e32cc/c56ca", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         init: function(e, t) {
             this.route = "rooms/favorites?page=" + e + "&limit=" + (t || 50),
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeDashboard(e.data[i]);
                     this.success(e.data, e.meta)
                 }
             } else
                 this.error && this.error(e.code)
         },
         onFault: function() {
             this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/ee86e/c9f07", ["f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/fce39/d6a89", "f1e1d/e8300/f1c1b", "f1e1d/be642/e32cc/c56ca"], function(e, t, i, s, n) {
     var a = e.extend({
         execute: function() {
             a.synced ? this.finish() : this.listenTo(new n(1,300))
         },
         onSuccess: function(e) {
             console.log("Last sync: " + i.lastSync),
             a.synced = !0,
             i.reset(e),
             this.finish()
         }
     });
     return t.mapEvent(s.GET_FAVORITES, a, s),
     a
 }),
 define("f1e1d/d8478/f54f2", ["underscore", "backbone"], function(e, t) {
     var i = t.DeepModel.extend({
         defaults: {
             genres: void 0,
             languages: void 0,
             subgenres: void 0
         },
         getGenreByName: function(t) {
             return e.find(this.get("genres"), function(e) {
                 return e.name === t
             })
         },
         getSubGenreByName: function(t) {
             return e.find(this.get("subgenres"), function(e) {
                 return e.name == t
             })
         },
         getLanguageByCode: function(t) {
             return e.find(this.get("languages"), function(e) {
                 return e.name == t
             })
         }
     });
     return new i
 }),
 define("f1e1d/be642/e32cc/dadc8", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         init: function() {
             this.route = "rooms/search/metadata",
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code && this.success ? e.data[0] && this.success(e.data[0]) : this.error && this.error(e.code)
         },
         onFault: function(e) {
             this.error && this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/e8300/ac976", ["f1e1d/e8300/bef7f"], function(e) {
     var t = e.extend({
         init: function(e, t) {
             this._super(e),
             this.callback = t
         }
     });
     return t._name = "RoomSearchMetadataEvent",
     t.METADATA = "RoomSearchMetadataEvent:metadata",
     t
 }),
 define("f1e1d/ee86e/a5d7a", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/e718c/cb6a9", "f1e1d/e718c/c2878", "f1e1d/d8478/f54f2", "f1e1d/be642/e32cc/dadc8", "f1e1d/e8300/ac976"], function(e, t, i, s, n, a, o) {
     var r = i.extend({
         execute: function() {
             this.listenTo(new a)
         },
         onSuccess: function(e) {
             n.set(e),
             t.trigger("search:searchMetadataLoaded", n),
             this.finish()
         }
     });
     return s.mapEvent(o.METADATA, r, o),
     r
 }),
 define("f1e1d/d8e24/f6b52/e1e38", ["f1e1d/e718c/b7acd", "f1e1d/d8e24/fe98a"], function(e, t) {
     t.ack = function(i) {
         1 === parseInt(i) ? e.trigger("ack") : t.killSession()
     }
 }),
 define("f1e1d/d8e24/f6b52/ab74d", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/e718c/c2878", "f1e1d/ee86e/a8671", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d3252", "f1e1d/e8300/da675", "f1e1d/e8300/e5ae0", "f1e1d/d8478/eeaaf", "f1e1d/d8478/d23b4", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/fdf95", "f1e1d/d8e24/fe98a", "f1e1d/be642/c76df/cbe4b", "f1e1d/d9232/b42c1", "f1e1d/af752/f4c6d", "f1e1d/af752/e504b", "f1e1d/e74c9/b14c6/c055e", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y) {
     f.advance = function(i) {
         var s, p = l.get("currentDJ");
         if (c.get("media") && (s = {
             dj: a.get(p) ? a.get(p).toJSON() : void 0,
             media: c.get("media") ? c.get("media").toJSON() : void 0,
             score: {
                 positive: u.get("positive"),
                 negative: u.get("negative"),
                 grabs: u.get("grabs")
             }
         },
         g.settings.notifyScore && s.dj && t.trigger("notify", "icon-vote-woot-selected", y.messages.score.split("%DJ%").join(s.dj.rawun).split("%P%").join(s.score.positive).split("%N%").join(s.score.negative).split("%A%").join(s.score.grabs))),
         w.user && w.user.get("id") === p && w.hide(!0),
         !i.c || a.get(i.c) ? l.set({
             waitingDJs: i.d,
             currentDJ: i.c
         }) : new m(i.c).on("success", function(t) {
             a.add(t),
             e.defer(function() {
                 l.set({
                     waitingDJs: i.d,
                     currentDJ: i.c
                 })
             })
         }).on("error", function() {
             l.set({
                 waitingDJs: i.d,
                 currentDJ: void 0
             })
         }),
         u.advance(),
         i.m && b.deserializeMedia(i.m),
         t.dispatch(new r(r.PLAY,i.m ? new h(i.m) : void 0,b.convertUnixDateStringToNumberString(i.t),i.p,i.h)),
         p && p !== i.c && n.trigger("toAudience", a.get(p)),
         t.trigger("djButton:update").trigger("userPlaying:update"),
         i.m && i.c) {
             var f = {
                 dj: a.get(i.c) ? a.get(i.c).toJSON() : void 0,
                 media: i.m,
                 lastPlay: s
             };
             v._events && v._events[v.ADVANCE] && v.dispatch(v.ADVANCE, f),
             g.settings.notifyDJ && f.dj && e.delay(function() {
                 t.trigger("notify", "icon-join-booth", y.messages.djAnnounce.split("%DJ%").join(f.dj.rawun).split("%MEDIA%").join(i.m.author + " - " + i.m.title))
             }, 1e3)
         } else
             v._events && v._events[v.ADVANCE] && v.dispatch(v.ADVANCE, {
                 lastPlay: s
             });
         e.delay(function() {
             t.dispatch(new o(o.ROOM))
         }, 250),
         (p === d.get("id") || !p && i.c === d.get("id")) && e.delay(function() {
             t.dispatch(new o(o.USER))
         }, 250)
     }
 }),
 define("f1e1d/d8e24/f6b52/d5c1f", ["f1e1d/e718c/b7acd", "f1e1d/fce39/d6687", "f1e1d/fce39/fe166", "f1e1d/fce39/d3252", "f1e1d/e8300/a815f", "f1e1d/e8300/e5ae0", "f1e1d/a3bee/c49d1", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/fdf95", "f1e1d/d8e24/fe98a", "f1e1d/d9232/b42c1", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f) {
     d.ban = function(d) {
         var m = u.settings.streamDisabled;
         u.settings.streamDisabled = !0,
         e.trigger("change:streamDisabled").dispatch(new a(a.PLAY)),
         u.settings.streamDisabled = m,
         l.set(l.defaults),
         r.set(r.defaults),
         s.length > 0 && s.each(function(e) {
             e.get("id") !== c.get("id") && e.off()
         }),
         s.reset(),
         i.length > 0 && i.each(function(e) {
             e.off()
         }),
         i.reset(),
         c.set("vote", 0),
         p.advance(),
         o.clear(),
         h.set(h.defaults),
         e.trigger("custom:unload"),
         t.reset(),
         e.trigger("show:dashboard", !0);
         var g;
         g = "h" === d.d ? f.ban.hour : "d" === d.d ? f.ban.day : f.ban.forever,
         (isNaN(d.r) || d.r < 1 || d.r > 5) && (d.r = 1),
         e.dispatch(new n(n.ALERT,f.ban.title,g + "<br/><br/>" + f.ban["reason" + d.r]))
     }
     ,
     d.banIP = function() {
         window.location.href = "/"
     }
 }),
 define("f1e1d/d8e24/f6b52/e775e", ["f1e1d/e718c/b7acd", "f1e1d/a3bee/c49d1", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8e24/fe98a", "f1e1d/af752/e504b", "f1e1d/e8300/a815f", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     n.modWaitlistBan = function(t) {
         var a, l;
         "s" === t.d ? (a = r.moderation.waitlistBan15mins,
         l = r.moderation.selfWaitlistBan15mins) : "m" === t.d ? (a = r.moderation.waitlistBanHour,
         l = r.moderation.selfWaitlistBanHour) : "l" === t.d ? (a = r.moderation.waitlistBanDay,
         l = r.moderation.selfWaitlistBanDay) : (a = r.moderation.waitlistBan,
         l = r.moderation.selfWaitlistBan),
         "i-the-80-s-and-90-s-1" !== i.get("slug") && n.chat({
             type: "moderation",
             un: t.m,
             mi: t.mi,
             message: a.split("%NAME%").join(t.t),
             icon: "ban"
         }, !0),
         t.ti && s.get("id") === t.ti && e.dispatch(new o(o.ALERT,r.dialog.waitlistBanTitle,l.split("%MODERATOR%").join(t.m))),
         e.trigger("mod:ban")
     }
 }),
 define("f1e1d/d8e24/f6b52/a1b60", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/fce39/fe166", "f1e1d/fce39/d3252", "f1e1d/ee86e/f72f1", "f1e1d/e8300/d583a", "f1e1d/a3bee/c49d1", "f1e1d/d8478/e70c0", "f1e1d/d8e24/fe98a", "f1e1d/be642/c76df/cbe4b", "f1e1d/af752/f4c6d"], function(e, t, i, s, n, a, o, r, l, h, c) {
     function p(t, i) {
         if (!i && c._events && c._events[c.CHAT]) {
             var s = e.clone(t);
             c.dispatch(c.CHAT, s)
         }
     }
     var d = {
         memory: void 0
     };
     l.chat = function(t, i) {
         if (r.get("joined")) {
             if (t.uid) {
                 var n = s.get(t.uid);
                 if (!n || !n.get("joined"))
                     return d.memory = {
                         data: t,
                         internal: i
                     },
                     void new h(t.uid,d.memory).on("success", e.bind(d.onSuccess, d))
             }
             o.receive(t, i)
         }
     }
     ,
     d.onSuccess = function(i) {
         d.memory.user = i,
         n.synced ? d.onUser() : t.dispatch(new a(a.STAFF,e.bind(d.onUser, d)))
     }
     ,
     d.onUser = function() {
         if (d.memory.user) {
             var e = i.get(d.memory.user.id);
             e && (d.memory.user.role = e.get("role")),
             s.add(d.memory.user),
             r.set("population", r.get("population") + 1),
             o.receive(d.memory.data, d.memory.internal)
         }
         d.memory = void 0
     }
     ,
     t.on("chat:receive", p)
 }),
 define("f1e1d/d8e24/f6b52/e6d32", ["f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/d8478/edecb", "f1e1d/d8e24/fe98a"], function(e, t, i, s) {
     s.chatDelete = function(s) {
         var n = parseInt(s.c.split("-")[0]);
         if (!isNaN(n)) {
             var a = t.get(n)
               , o = t.get(s.mi)
               , r = !1;
             if (n === s.mi && (r = !0),
             o && o.get("gRole") === i.HOST && (r = !0),
             a && a.get("gRole") >= i.MANAGER && a.get("gRole") < i.HOST && !r)
                 return
         }
         s.c.indexOf(",") > -1 || s.c.indexOf("*") > -1 || s.c.indexOf(".") > -1 || e.trigger("chat:delete", s.c)
     }
 }),
 define("f1e1d/d8e24/f6b52/c5154", ["f1e1d/e718c/b7acd", "f1e1d/a3bee/c49d1", "f1e1d/d8478/eeaaf", "f1e1d/d8e24/fe98a", "lang/Lang"], function(e, t, i, s, n) {
     s.djListCycle = function(t) {
         i.get("shouldCycle") !== t.f && s.chat({
             type: "moderation",
             un: t.m,
             mi: t.mi,
             message: t.f ? n.messages.djCycleEnabled : n.messages.djCycleDisabled,
             icon: "join-waitlist"
         }, !0),
         i.set("shouldCycle", t.f),
         e.trigger("djButton:update")
     }
 }),
 define("f1e1d/d8e24/f6b52/dbf3e", ["f1e1d/e718c/b7acd", "f1e1d/a3bee/c49d1", "f1e1d/d8478/eeaaf", "f1e1d/d8e24/fe98a", "lang/Lang"], function(e, t, i, s, n) {
     s.djListLocked = function(t) {
         i.get("isLocked") !== t.f && s.chat({
             type: "moderation",
             un: t.m,
             mi: t.mi,
             message: t.f && t.c ? n.messages.waitListLockedClear : t.f ? n.messages.waitListLocked : n.messages.waitListUnlocked,
             icon: t.f ? "locked-grey" : "unlocked-grey"
         }, !0),
         i.set("isLocked", t.f),
         e.trigger("djButton:update")
     }
 }),
 define("f1e1d/d8e24/f6b52/c899f", ["f1e1d/d8478/eeaaf", "f1e1d/d8e24/fe98a"], function(e, t) {
     t.djListUpdate = function(t) {
         e.set({
             waitingDJs: t
         })
     }
 }),
 define("hbs!templates/dialogs/DialogLevelUp", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<!--<i class="sunburst"></i>\n<i class="avp ',
         (a = i.image) ? a = a.call(t, {
             hash: {}
         }) : (a = t.image,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"></i>-->\n<div class="reward">',
         (a = i.reward) ? a = a.call(t, {
             hash: {}
         }) : (a = t.reward,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</div>"
     });
     return t.registerPartial("templates_dialogs_DialogLevelUp", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/e685b", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/e8300/bef7f", "f1e1d/d8478/b885e", "f1e1d/af752/e7b9f", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogLevelUp", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = o.extend({
         id: "dialog-level-up",
         className: "dialog",
         render: function() {
             var t = n.get("level");
             a.levelup(t);
             var s = {
                 reward: l.userLevelUp.reward.split("%REWARD%").join(l.userXP["l" + t])
             };
             return 2 === t || 7 === t || 9 === t || 11 === t || 13 === t || 15 === t || 16 === t || 17 === t || 18 === t || 19 === t || t >= 20 ? (s.submit = l.userLevelUp.ok,
             s.image = "pp") : 3 === t ? (s.submit = l.userPanel.createCommunity,
             s.cancel = l.userLevelUp.communityCancel,
             s.image = "community",
             this.action = function() {
                 i.trigger("show:user", "community")
             }
             ) : 4 === t || 6 === t || 8 === t || 10 === t || 12 === t || 14 === t ? (s.submit = l.userLevelUp.avatarSubmit,
             s.cancel = l.userLevelUp.avatarCancel,
             s.image = 4 === t ? "rhc" : 6 === t ? "rock" : 8 === t ? "80s" : 10 === t ? "robot" : 12 === t ? "zoo" : "warrior",
             this.action = function() {
                 i.trigger("show:user", "store", "avatars", s.image)
             }
             ) : 5 === t && (s.submit = l.userLevelUp.profileSubmit,
             s.cancel = l.userLevelUp.profileCancel,
             s.image = "profile",
             this.action = function() {
                 i.trigger("show:user", "profile")
             }
             ),
             this.$el.append(this.getHeader(l.userLevelUp.title.split("%LEVEL%").join(String(t)))).append(this.getBody().append(r(s))).append(this.getButtons(s.submit, s.cancel).addClass("mobile-dialog-buttons").append(e("<i/>").addClass("avi"))),
             s.cancel || this.$el.addClass("no-cancel"),
             this._super()
         },
         submit: function() {
             this.doAction(),
             this.close()
         },
         doAction: function() {
             this.action && this.action()
         },
         close: function() {
             this.action = void 0,
             delete this.action,
             this._super()
         },
         onKeyEnter: function(e) {
             return e.preventDefault(),
             this.submit(),
             !1
         },
         onContainerClick: function(e) {}
     });
     return h
 }),
 define("f1e1d/d8e24/f6b52/c96c6", ["f1e1d/e718c/b7acd", "f1e1d/fce39/aa287", "f1e1d/e8300/dcb95", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8e24/fe98a", "f1e1d/be642/c76df/ff641", "f1e1d/be642/c76df/a047b", "f1e1d/e74c9/c00f1/e685b", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r, l, h, c) {
     o.earn = function(t) {
         var s = n.get("level");
         if (n.get("gRole") !== a.HOST) {
             var o, r;
             if (o = t.xp - n._x[t.level - 1],
             r = n._x[t.level] - (t.level > 1 ? n._x[t.level - 1] : 0),
             o >= r || o < 0)
                 for (var l = n._x.length, p = 0; p < l; ++p)
                     if (n._x[p] > t.xp) {
                         t.level = p;
                         break
                     }
         }
         n.set(t),
         c.track(c.type.service, c.event.plugPoints),
         t.level > s && (c.track(c.type.service, c.event.levelUp),
         e.dispatch(new i(i.SHOW,new h)))
     }
     ,
     o.sub = function(t) {
         n.set({
             sub: t
         }),
         e.dispatch(new s(s.GET_USER_BADGES,void 0,!0)),
         e.dispatch(new s(s.GET_USER_BACKGROUNDS,void 0,!0)),
         e.dispatch(new s(s.GET_USER_AVATARS,void 0,!0,function() {
             e.trigger("show:user", "inventory", "avatars", "sea")
         }
         )),
         e.trigger("force:reconnect")
     }
     ,
     o.cash = function(t) {
         "avatars" === t.type ? new r(t.name) : new l(t.name),
         e.dispatch(new s(s.GET_USER_BADGES,void 0,!0)),
         e.dispatch(new s(s.GET_USER_BACKGROUNDS,void 0,!0)),
         e.dispatch(new s(s.GET_USER_AVATARS,void 0,!0,function() {
             e.trigger("show:user", "inventory", t.type, "sea")
         }
         ))
     }
     ,
     o.gift = function(e) {
         n.set("pp", e)
     }
 }),
 define("f1e1d/d8e24/f6b52/e0142", ["f1e1d/e718c/b7acd", "f1e1d/a3bee/c49d1", "f1e1d/d8e24/fe98a", "lang/Lang"], function(e, t, i, s) {
     i.floodChat = function() {
         t.receive({
             type: "system",
             message: s.messages.floodChat
         })
     }
     ,
     i.floodAPI = function() {
         e.trigger("notify", "icon-chat-system", s.messages.floodAPI)
     }
 }),
 define("f1e1d/d8e24/f6b52/f720e", ["f1e1d/e718c/b7acd", "f1e1d/e8300/dc3a7", "f1e1d/d8e24/fe98a", "lang/Lang"], function(e, t, i, s) {
     i.friendRequest = function(i) {
         e.trigger("notify", "icon-users-white", s.messages.friendRequested.split("%NAME%").join(i), function() {
             e.trigger("show:user", "friends", "requests")
         }),
         e.dispatch(new t(t.INVITES))
     }
     ,
     i.friendAccept = function(i) {
         e.trigger("notify", "icon-users-white", s.messages.friendAccept.split("%NAME%").join(i)),
         e.dispatch(new t(t.FRIENDS))
     }
 }),
 define("f1e1d/d8e24/f6b52/a614d", ["underscore", "f1e1d/d8e24/fe98a", "f1e1d/af752/e6c91", "lang/Lang"], function(e, t, i, s) {
     var n = e.toArray(s.gift);
     t.gifted = function(e) {
         t.chat({
             type: "user-action",
             un: n[i.MASTER.integer(0, n.length - 1)],
             message: s.messages.gifted.split("%SENDER%").join(e.s).split("%RECEIVER%").join(e.r),
             icon: "gift"
         }, !0)
     }
 }),
 define("f1e1d/d8e24/f6b52/c25ee", ["f1e1d/fce39/d3252", "f1e1d/d8478/fdf95", "f1e1d/d8e24/fe98a", "f1e1d/af752/f4c6d"], function(e, t, i, s) {
     i.grab = function(i) {
         t.grab(i);
         var n = e.get(i);
         n && s._events && s._events[s.GRAB_UPDATE] && s.dispatch(s.GRAB_UPDATE, {
             user: n.toJSON()
         })
     }
 }),
 define("f1e1d/d8e24/f6b52/e1173", ["f1e1d/e718c/b7acd", "f1e1d/e8300/e5ae0", "f1e1d/d8478/b5029", "f1e1d/d8e24/fe98a", "f1e1d/d9232/b42c1"], function(e, t, i, s, n) {
     s.killSession = function() {
         e.trigger("session:kill");
         var i = n.settings.streamDisabled;
         n.settings.streamDisabled = !0,
         e.trigger("change:streamDisabled").dispatch(new t(t.PLAY)),
         n.settings.streamDisabled = i
     }
 }),
 define("f1e1d/d8e24/f6b52/d6b0b", ["f1e1d/e718c/b7acd", "f1e1d/a3bee/c49d1", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8e24/fe98a", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o) {
     n.modBan = function(t) {
         var s;
         s = "h" === t.d ? o.moderation.banHour : "d" === t.d ? o.moderation.banDay : o.moderation.ban,
         "i-the-80-s-and-90-s-1" !== i.get("slug") && n.chat({
             type: "moderation",
             un: t.m,
             mi: t.mi,
             message: s.split("%NAME%").join(t.t),
             icon: "ban"
         }, !0),
         e.trigger("mod:ban")
     }
 }),
 define("f1e1d/d8e24/f6b52/cfe27", ["f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d3252", "f1e1d/d8e24/fe98a", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a) {
     s.modAddDJ = function(e) {
         var i, n;
         0 === t.length ? (i = a.moderation.addDJ,
         n = "join-booth") : (i = a.moderation.addWaitList,
         n = "join-waitlist"),
         s.chat({
             type: "moderation",
             un: e.m,
             mi: e.mi,
             message: i.split("%NAME%").join(e.t),
             icon: n
         }, !0)
     }
     ,
     s.modRemoveDJ = function(e) {
         var t, i;
         e.d ? (t = a.moderation.removeDJ,
         i = "leave-booth") : (t = a.moderation.removeWaitList,
         i = "leave-waitlist"),
         s.chat({
             type: "moderation",
             un: e.m,
             mi: e.mi,
             message: t.split("%NAME%").join(e.t),
             icon: i
         }, !0)
     }
     ,
     s.modMoveDJ = function(e) {
         var t = "arrow-up";
         e.n > e.o && (t = "arrow-down"),
         s.chat({
             type: "moderation",
             un: e.m,
             mi: e.mi,
             message: a.moderation.moveDJ.split("%NAME%").join(e.u).split("%OLD%").join(e.o + 1).split("%NEW%").join(e.n + 1),
             icon: t
         }, !0)
     }
 }),
 define("f1e1d/d8e24/f6b52/d1923", ["f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/d8e24/fe98a", "lang/Lang"], function(e, t, i, s) {
     i.modMute = function(n) {
         var a;
         a = "o" === n.d ? 0 : "s" === n.d ? 15 : "m" === n.d ? 30 : 45,
         a > 0 && n.i !== t.get("id") && t.hasPermission(2) && i.chat({
             type: "moderation",
             un: n.m,
             mi: n.mi,
             message: s.moderation.mute.split("%NAME%").join(n.t).split("%TIME%").join(a),
             icon: "mute"
         }, !0),
         e.trigger("mod:mute", n.i, 60 * a)
     }
 }),
 define("f1e1d/d8e24/f6b52/b5a0f", ["f1e1d/a3bee/c49d1", "f1e1d/d8e24/fe98a", "f1e1d/af752/f4c6d", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n) {
     t.modSkip = function(e) {
         t.chat({
             type: "moderation",
             un: e.m,
             mi: e.mi,
             message: n.moderation.skip,
             icon: "skip"
         }, !0),
         i._events && i._events[i.MOD_SKIP] && i.dispatch(i.MOD_SKIP, e.m)
     }
 }),
 define("f1e1d/fce39/a09eb", ["underscore", "backbone", "f1e1d/fce39/fe166", "f1e1d/d8478/edecb"], function(e, t, i, s) {
     var n = t.Collection.extend({
         model: s,
         lastFilter: void 0,
         initialize: function() {
             i.on("reset", this.onReset, this)
         },
         onChange: function() {
             this.setFilter(this.lastFilter)
         },
         onReset: function() {
             this.setFilter()
         },
         setFilter: function(e) {
             this.lastFilter = e,
             i.length > 0 ? e ? this.reset(i.filter(function(t) {
                 return t.get("username").toLowerCase().indexOf(e) > -1
             })) : this.reset(i.toArray()) : this.reset()
         }
     });
     return new n
 }),
 define("hbs!templates/room/user/StaffGroupRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="icon icon-chat-',
         (a = i.rank) ? a = a.call(t, {
             hash: {}
         }) : (a = t.rank,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"></i>\n<span>',
         (a = i.group) ? a = a.call(t, {
             hash: {}
         }) : (a = t.group,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>"
     });
     return t.registerPartial("templates_room_user_StaffGroupRow", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/addc4", ["backbone", "f1e1d/d8478/edecb", "hbs!templates/room/user/StaffGroupRow", "lang/Lang"], function(e, t, i, s) {
     var n = e.View.extend({
         className: "group",
         render: function() {
             var e;
             return e = this.options.role >= t.COHOST ? {
                 rank: "host",
                 group: s.userList.groupHosts
             } : this.options.role === t.MANAGER ? {
                 rank: "manager",
                 group: s.userList.groupManagers
             } : this.options.role === t.BOUNCER ? {
                 rank: "bouncer",
                 group: s.userList.groupBouncers
             } : {
                 rank: "dj",
                 group: s.userList.groupDJs
             },
             this.$el.html(i(e)),
             this.$el.addClass(e.rank),
             this
         }
     });
     return n
 }),
 define("f1e1d/e74c9/b49ed/b14c6/c9990", ["jquery", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/bb607"], function(e, t, i, s) {
     var n = t.View.extend({
         className: "user",
         events: {
             click: "onClick"
         },
         render: function() {
             return this.$el.html(e("<span/>").addClass("name").text(this.model.get("username"))),
             this
         },
         onClick: function() {
             i.dispatch(new s(s.SHOW,this.model,{
                 x: e("#user-lists").offset().left,
                 y: this.$el.offset().top,
                 staff: !0
             },!0))
         },
         remove: function() {
             this.model = void 0,
             delete this.model,
             this._super()
         }
     });
     return n
 }),
 define("f1e1d/e74c9/b49ed/b14c6/d336c", ["jquery", "underscore", "backbone", "f1e1d/fce39/a09eb", "f1e1d/d8478/edecb", "f1e1d/e74c9/b49ed/b14c6/addc4", "f1e1d/e74c9/b49ed/b14c6/c9990", "f1e1d/e74c9/a6e51/f2220"], function(e, t, i, s, n, a, o, r) {
     var l = i.View.extend({
         className: "list staff",
         initialize: function() {
             return this._super(),
             this.rows = [],
             this.groups = {},
             this.drawBind = t.bind(this.drawRow, this),
             this
         },
         render: function() {
             this.$el.jScrollPane(),
             this.scrollPane = this.$el.data("jsp"),
             s.on("reset", this.onCollectionReset, this),
             this.onCollectionReset(),
             0 === s.length && this.showSpinner(),
             t.delay(t.bind(this.checkForZero, this), 250),
             l.showing = !0
         },
         remove: function() {
             s.off("reset", this.onCollectionReset, this),
             this.clear(),
             this.scrollPane && (this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane),
             this.rows = void 0,
             this.groups = void 0,
             delete this.rows,
             delete this.groups,
             l.showing = !1,
             this._super()
         },
         checkForZero: function() {
             0 === s.length && this.hideSpinner()
         },
         onCollectionReset: function() {
             this.clear(),
             this.draw()
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             this.rows.length = 0,
             this.groups = {},
             this.scrollPane && (this.scrollPane.getContentPane().empty(),
             this.scrollPane.reinitialise()),
             this.hideSpinner()
         },
         showSpinner: function() {
             this.hideSpinner(),
             this.spinner = new r({
                 size: r.MEDIUM
             }),
             this.scrollPane.getContentPane().append(this.spinner.$el),
             this.spinner.render().$el.css("left", "50%").css("top", "40%").css("z-index", 9999)
         },
         hideSpinner: function() {
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner)
         },
         draw: function() {
             var e;
             this.scrollPane && this.scrollPane.scrollTop() > 0 && (e = this.scrollPane.scrollTop()),
             s.each(this.drawBind),
             this.scrollPane && (this.scrollPane.reinitialise(),
             e ? this.scrollPane.scrollTop(e) : this.scrollPane.scrollTop(0))
         },
         drawRow: function(e) {
             if (e.get("username") && e.get("avatarID")) {
                 var t = e.get("role");
                 t === n.COHOST && (t = n.HOST),
                 this.addGroupUser(t);
                 var i = new o({
                     model: e
                 });
                 this.scrollPane.getContentPane().append(i.$el),
                 this.rows.push(i),
                 i.render()
             }
         },
         addGroupUser: function(e) {
             if (!this.groups[e]) {
                 var t = new a({
                     role: e
                 });
                 this.groups[e] = t,
                 this.scrollPane.getContentPane().append(t.$el),
                 this.rows.push(t),
                 t.render()
             }
         }
     });
     return l.showing = !1,
     l
 }),
 define("f1e1d/d8e24/f6b52/da1dd", ["f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/ee86e/f72f1", "f1e1d/e8300/d583a", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8e24/fe98a", "f1e1d/af752/e504b", "f1e1d/e74c9/b49ed/b14c6/d336c", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     r.modStaff = function(p) {
         for (var d, u = p.u.length; u--; ) {
             var f, m = t.get(p.u[u].i), g = p.u[u].p;
             g === o.NONE ? (d = c.moderation.staffNone,
             f = "x-grey") : g === o.DJ ? (d = c.moderation.staffDJ,
             f = "chat-dj") : g === o.BOUNCER ? (d = c.moderation.staffBouncer,
             f = "chat-bouncer") : g === o.MANAGER ? (d = c.moderation.staffManager,
             f = "chat-manager") : g === o.COHOST ? (d = c.moderation.staffCohost,
             f = "chat-cohost") : g === o.HOST && (d = c.moderation.staffHost,
             f = "chat-host"),
             d && (r.chat({
                 type: "moderation",
                 un: l.h2t(p.m),
                 mi: p.mi,
                 message: d.split("%NAME%").join(p.u[u].n),
                 icon: f
             }, !0),
             m && m.set("role", g),
             g === o.HOST && n.set({
                 hostID: p.u[u].i,
                 hostName: l.h2t(p.u[u].n)
             }),
             p.u[u].i === a.get("id") && e.trigger("djButton:update"))
         }
         i.synced = !1,
         h.showing && e.dispatch(new s(s.STAFF))
     }
 }),
 define("f1e1d/d8e24/f6b52/b05db", ["f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/e5ae0", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8e24/fe98a", "f1e1d/d9232/b42c1", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     o.nameChanged = function() {
         var s = r.settings.streamDisabled;
         r.settings.streamDisabled = !0,
         e.trigger("change:streamDisabled").dispatch(new i(i.PLAY)),
         r.settings.streamDisabled = s,
         e.dispatch(new t(t.ALERT,h.alerts.alert,h.alerts.nameChanged,_.bind(l.forceRefresh, l),!0)),
         setTimeout(function() {
             window.location.reload()
         }, 3e4)
     }
     ,
     o.nameChangedRoom = function(e) {
         if (e.i !== a.get("id")) {
             var t = e.n;
             o.chat({
                 type: "system",
                 message: h.messages.changeName.split("%NAME_BEFORE%").join(e.o).split("%NAME_AFTER%").join(t)
             }),
             e.i === n.get("hostID") && n.set("hostName", l.h2t(t))
         }
     }
 }),
 define("f1e1d/be642/a245a/d19c4", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "notifications/" + e,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("hbs!templates/dialogs/DialogGiftReceive", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="sender">',
         (a = i.title) ? a = a.call(t, {
             hash: {}
         }) : (a = t.title,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<div class="gift-card">\n    <div class="amount">\n        <div class="box">\n            <i class="icon icon-badge-pp"></i>\n            <span>',
         (a = i.value) ? a = a.call(t, {
             hash: {}
         }) : (a = t.value,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>\n        </div>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogGiftReceive", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/ae7be", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/af752/f4c6d", "f1e1d/af752/bed76", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogGiftReceive", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h, c = o.extend({
         id: "dialog-gift-receive",
         className: "dialog",
         render: function() {
             var e = this.model.get("value").split(unescape("%u2800"));
             h = a.h2t(e[0]);
             var t = {
                 title: l.dialog.giftReceiveTitle.split("%NAME%").join(h),
                 value: e[1] + " " + l.userMeta.plugPoints
             }
               , i = l.userLevelUp.avatarSubmit;
             return n.exists(h) && (i = l.dialog.giftThanks),
             this.$el.append(this.getHeader(l.dialog.giftReceive)).append(this.getBody().append(r(t))).append(this.getButtons(i, l.dialog.ok)),
             this._super()
         },
         close: function() {
             this.model = void 0,
             delete this.model,
             this._super()
         },
         submit: function() {
             n.exists(h) ? s.sendChat("@" + h + " " + l.messages.giftThanks) : i.trigger("show:user", "store", "avatars"),
             h = void 0,
             this.close()
         },
         onKeyEnter: function(e) {
             return e.preventDefault(),
             this.submit(),
             !1
         },
         onContainerClick: function(e) {}
     });
     return c
 }),
 define("f1e1d/d8e24/f6b52/c687a", ["f1e1d/e718c/b7acd", "f1e1d/fce39/ec5ba", "f1e1d/e8300/dcb95", "f1e1d/d8478/f5fc0", "f1e1d/d8478/b885e", "f1e1d/d8e24/fe98a", "f1e1d/be642/a245a/d19c4", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/ae7be"], function(e, t, i, s, n, a, o, r, l) {
     a.notify = function(a) {
         if (r.deserializeNotification(a),
         "gift" === a.action)
             return e.dispatch(new i(i.SHOW,new l({
                 model: new s(a)
             }))),
             void new o(a.id);
         "boostExpired" === a.action && n.unset("boost");
         var h = t.toJSON();
         h.push(a),
         t.reset(h)
     }
 }),
 define("f1e1d/d8e24/f6b52/fc1d6", ["f1e1d/e718c/b7acd", "f1e1d/fce39/a4370", "f1e1d/e8300/dbc87", "f1e1d/d8e24/fe98a"], function(e, t, i, s) {
     s.playlistCycle = function(s) {
         var n = t.getActiveID();
         n === s && e.dispatch(new i(i.LOAD,t.getVisibleID() ? void 0 : n))
     }
 }),
 define("f1e1d/d8e24/f6b52/c17af", ["f1e1d/d8e24/fe98a", "lang/Lang"], function(e, t) {
     e.plugMaintenance = function() {
         window.location.href = "/"
     }
     ,
     e.plugMaintenanceAlert = function(i) {
         e.chat({
             type: "system",
             message: t.alerts.maintenanceAlert.split("%MINUTES%").join(i).split("%URL%").join("https://twitter.com/plugdj")
         }, !0)
     }
 }),
 define("f1e1d/d8e24/f6b52/d42c8", ["f1e1d/e718c/b7acd", "f1e1d/d8e24/fe98a"], function(e, t) {
     t.plugMessage = function(e) {
         t.chat({
             type: "system",
             message: e
         }, !0)
     }
 }),
 define("f1e1d/d8e24/f6b52/ee062", ["f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/e5ae0", "f1e1d/d8478/b5029", "f1e1d/d8478/b885e", "f1e1d/d8e24/fe98a", "f1e1d/d9232/b42c1", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     function h() {
         var e = Date.now();
         e - c > 18e5 && (c = e,
         a.chat({
             type: "promo",
             un: l.subscribe.submit,
             message: l.chat.imageSub + ' <a href="/subscribe" target="_blank">' + l.chat.imageCTA + "</a>",
             icon: "chat-subscriber"
         }, !0))
     }
     a.plugUpdate = function() {
         var s = o.settings.streamDisabled;
         o.settings.streamDisabled = !0,
         e.trigger("change:streamDisabled").dispatch(new i(i.PLAY)),
         o.settings.streamDisabled = s,
         e.dispatch(new t(t.ALERT,l.alerts.update,l.alerts.updateMessage,_.bind(r.forceRefresh, r),!0)),
         setTimeout(_.bind(a.plugMaintenance, a), 3e4)
     }
     ;
     var c = 0;
     e.on("chat:nonsubimage", h)
 }),
 define("f1e1d/d8e24/f6b52/e2bff", ["f1e1d/d8e24/fe98a"], function(e) {
     e.rateLimit = function() {
         window.location.href = "/"
     }
 }),
 define("f1e1d/d8e24/f6b52/c5c83", ["f1e1d/fce39/d3252", "f1e1d/d8478/e70c0", "f1e1d/d8e24/fe98a", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n) {
     i.roomNameUpdate = function(e) {
         t.set("name", s.h2t(e.n))
     }
     ,
     i.roomDescriptionUpdate = function(e) {
         t.set("description", e.d)
     }
     ,
     i.roomWelcomeUpdate = function(e) {
         t.set("welcome", e.w)
     }
     ,
     i.roomBackgroundUpdate = function(e, i) {
         t.set("background", e.b)
     }
     ,
     i.roomShortDescriptionUpdate = function(e) {
         t.set("short_description", e.d)
     }
     ,
     i.roomLongDescriptionUpdate = function(e) {
         t.set("long_description", e.d)
     }
     ,
     i.roomLanguageUpdate = function(e) {
         t.set("language", e.l)
     }
     ,
     i.roomThumbnailUpdate = function(e) {
         t.set("thumbnail", e.l)
     }
     ,
     i.roomBannerUpdate = function(e) {
         t.set("banner", e.l)
     }
     ,
     i.roomLinkAdd = function(e) {
         var i = t.clone().get("links")
           , s = !1;
         _.each(i, function(t, i, n) {
             t.room_link_id.toString() === e.l.room_link_id.toString() && (n[i] = e.l,
             s = !0)
         }),
         s === !1 && i.push(e.l),
         t.set("links", i)
     }
     ,
     i.roomLinkDelete = function(e) {
         var i = t.clone().get("links");
         i = _.filter(i, function(t) {
             return t.room_link_id.toString() !== e.lid.toString()
         }),
         t.set("links", i)
     }
     ,
     i.roomGenresUpdate = function(e) {
         t.set("genres", e.g)
     }
     ,
     i.roomSubGenresUpdate = function(e) {
         t.set("subgenres", e.sg)
     }
     ,
     i.roomMinChatLevelUpdate = function(s) {
         if (t.get("minChatLevel") !== s.m) {
             var a = e.get(s.u);
             a && i.chat({
                 type: "moderation",
                 un: a.get("rawun"),
                 mi: s.u,
                 message: n.messages.modChatLevel.split("%LEVEL%").join(s.m),
                 icon: "mute"
             }, !0),
             t.set("minChatLevel", s.m)
         }
     }
 }),
 define("f1e1d/d8e24/f6b52/a0663", ["f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf", "f1e1d/d8e24/fe98a", "f1e1d/af752/f4c6d", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a) {
     i.skip = function(t) {
         var n = e.get(t);
         n && (i.chat({
             type: "user-action",
             i: t,
             un: n.get("rawun"),
             message: a.messages.djSkip,
             icon: "skip"
         }, !0),
         s.dispatch(s.USER_SKIP, n.get("username")))
     }
 }),
 define("f1e1d/d8e24/f6b52/fa03d", ["f1e1d/e718c/b7acd", "f1e1d/fce39/cd5cd", "f1e1d/fce39/d3252", "f1e1d/d8478/e70c0", "f1e1d/d8e24/fe98a", "f1e1d/d9232/b42c1", "f1e1d/af752/f4c6d", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     n.userJoin = function(n) {
         n.guest ? s.set("guests", s.get("guests") + 1) : (r.deserializeUser(n),
         i.get(n.id) || s.set("population", s.get("population") + 1),
         i.add(n),
         o._events && o._events[o.USER_JOIN] && o.dispatch(o.USER_JOIN, o.getUser(n.id)),
         t.get(n.id) && (a.settings.notifyFriendJoin && e.trigger("notify", "icon-users-white", l.messages.friendJoin.split("%NAME%").join(n.rawun)),
         o.dispatch(o.FRIEND_JOIN, n)))
     }
 }),
 define("f1e1d/d8e24/f6b52/bdd96", ["f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/e8300/be22c", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/fdf95", "f1e1d/d8e24/fe98a", "f1e1d/af752/f4c6d"], function(e, t, i, s, n, a, o, r) {
     o.userLeave = function(e) {
         if (n.get("id") !== e) {
             if (0 === e)
                 return void s.set("guests", Math.max(0, s.get("guests") - 1));
             var i = t.get(e);
             i && (r._events && r._events[r.USER_LEAVE] && r.dispatch(r.USER_LEAVE, i.toJSON()),
             s.set("population", Math.max(0, s.get("population") - 1)),
             t.remove(e)),
             a.userLeave(e)
         }
     }
 }),
 define("f1e1d/d8e24/f6b52/edc75", ["f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/e8300/dcb95", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8e24/fe98a", "f1e1d/af752/bed76", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/e685b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     a.userUpdate = function(c) {
         var p = c.i === n.get("id") ? n : t.get(c.i);
         if (p) {
             if (c.avatarID && s.get("staffAvatar") && p.get("role") > 0 && (0 === c.avatarID.indexOf("base") ? (c.oldAvatarID = c.avatarID,
             c.avatarID = s.get("staffAvatar")) : c.oldAvatarID = void 0),
             c.sub > 0 && p.get("sub") < 1 || c.silver && !p.get("silver")) {
                 var d, u = "chat-subscriber";
                 1 === c.sub ? d = h.messages.subscribedGold : 2 === c.sub ? d = h.messages.subscribedYearly : c.silver && (d = h.messages.subscribedSilver,
                 u = "chat-silver-subscriber"),
                 (p.get("rawun") || p.get("username")) && a.chat({
                     type: "user-action",
                     i: c.i,
                     un: p.get("rawun") || p.get("username"),
                     message: d.split("%NAME%").join(p.get("rawun") || p.get("username")).split("%%USERNAME%%").join(p.get("rawun") || p.get("username")),
                     icon: u
                 }, !0)
             }
             c.username && p.get("username") !== h.userStatus.thisIsYou && (c.rawun = c.username,
             c.username = r.h2t(c.username),
             s.get("joined") && c.username !== p.get("username") && (a.chat({
                 type: "user-action",
                 i: c.i,
                 un: p.get("rawun") || p.get("username"),
                 message: h.messages.usernameChanged.split("%NAME%").join(c.rawun),
                 icon: "user-white"
             }, !0),
             c.i === s.get("hostID") && s.set("hostName", c.username),
             o.remove(p.get("username"))),
             c.i === n.get("id") && e.trigger("force:reconnect"));
             var f;
             n.get("id") === c.i && c.level && (f = n.get("level")),
             c.i = void 0,
             delete c.i,
             p.set(c),
             c.username && o.add(c.username),
             f && c.level > f && e.dispatch(new i(i.SHOW,new l))
         }
     }
 }),
 define("f1e1d/d8e24/f6b52/bb437", ["f1e1d/fce39/d3252", "f1e1d/d8478/b885e", "f1e1d/d8478/fdf95", "f1e1d/d8e24/fe98a", "f1e1d/af752/f4c6d"], function(e, t, i, s, n) {
     s.vote = function(s) {
         s.i === t.get("id") && 1 === t.get("vote") || i.vote(s);
         var a = e.get(s.i);
         a && n._events && n._events[n.VOTE_UPDATE] && n.dispatch(n.VOTE_UPDATE, {
             user: a.toJSON(),
             vote: s.v
         })
     }
 }),
 define("f1e1d/af752/a9fd4/a1b60", ["f1e1d/a3bee/c49d1", "f1e1d/d8478/b885e"], function(e, t) {
     API.sendChat = function(i) {
         API.enabled && i && i.length > 0 && !e.mutes[t.get("id")] && e.sendChat(i.substr(0, 255))
     }
     ,
     API.chatLog = function(t) {
         API.enabled && t && t.length > 0 && e.log(t.substr(0, 255))
     }
 }),
 define("f1e1d/af752/a9fd4/ff8f1", ["f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/fce39/a4370", "f1e1d/e8300/c0237", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/f4c6d"], function(e, t, i, s, n, a, o, r) {
     r.djJoin = function() {
         if (r.enabled) {
             if (t.isTheUserWaiting)
                 return 0;
             if (n.get("isLocked") && !a.hasPermission(o.DJ))
                 return 1;
             if (t.isFull())
                 return 3;
             var l = i.findWhere({
                 active: !0
             });
             if (!l || 0 === l.get("count"))
                 return 2;
             e.dispatch(new s(s.JOIN))
         }
         return 0
     }
     ,
     r.djLeave = function() {
         r.enabled && t.isTheUserWaiting && e.dispatch(new s(s.LEAVE))
     }
 }),
 define("f1e1d/af752/a9fd4/a8a47", ["f1e1d/fce39/d3252", "f1e1d/d8478/edecb", "f1e1d/af752/f4c6d"], function(e, t, i) {
     i.getAdmins = function() {
         var s = [];
         return i.enabled && e.each(function(e) {
             e.get("gRole") === t.HOST && s.push(e.toJSON())
         }),
         s
     }
 }),
 define("f1e1d/af752/a9fd4/a7b34", ["f1e1d/fce39/d3252", "f1e1d/d8478/edecb", "f1e1d/af752/f4c6d"], function(e, t, i) {
     i.getAmbassadors = function() {
         var s = [];
         return i.enabled && e.each(function(e) {
             e.get("gRole") >= t.MANAGER && e.get("gRole") < t.HOST && s.push(e.toJSON())
         }),
         s
     }
 }),
 define("f1e1d/af752/a9fd4/e73c5", ["f1e1d/fce39/d3252", "f1e1d/af752/f4c6d"], function(e, t) {
     t.getAudience = function() {
         return t.enabled ? e.getAudience().map(function(e) {
             return e.toJSON()
         }) : []
     }
 }),
 define("f1e1d/af752/a9fd4/d73d5", ["f1e1d/fce39/a992f", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/f4c6d"], function(e, t, i, s) {
     s.getBannedUsers = function() {
         if (s.enabled && t.hasPermission(i.MANAGER)) {
             var n = [];
             return e.each(function(e) {
                 n.push(e.toJSON())
             }),
             n
         }
     }
 }),
 define("f1e1d/af752/a9fd4/e241f", ["f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf", "f1e1d/af752/f4c6d"], function(e, t, i) {
     i.getDJ = function() {
         if (i.enabled) {
             if (!t.get("currentDJ"))
                 return;
             var s = e.get(t.get("currentDJ"));
             if (s)
                 return s.toJSON()
         }
         return []
     }
 }),
 define("f1e1d/af752/a9fd4/aa2fc", ["f1e1d/fce39/d6687", "f1e1d/af752/f4c6d"], function(e, t) {
     t.getHistory = function() {
         if (t.enabled)
             return e.map(function(e) {
                 return {
                     user: e.get("user"),
                     media: e.get("media").toJSON(),
                     score: e.get("score")
                 }
             })
     }
 }),
 define("f1e1d/af752/a9fd4/cf213", ["f1e1d/fce39/d3252", "f1e1d/d8478/e70c0", "f1e1d/af752/f4c6d"], function(e, t, i) {
     i.getHost = function() {
         if (i.enabled) {
             var s = e.get(t.get("hostID"));
             if (s)
                 return s.toJSON()
         } else
             ;
     }
 }),
 define("f1e1d/af752/a9fd4/f43f9", ["f1e1d/d8478/b5029", "f1e1d/af752/f4c6d"], function(e, t) {
     t.getMedia = function() {
         if (t.enabled) {
             var i = e.get("media");
             if (i)
                 return i.toJSON()
         }
     }
 }),
 define("f1e1d/af752/a9fd4/d8423", ["f1e1d/fce39/d6687", "f1e1d/fce39/a4370", "f1e1d/af752/f4c6d"], function(e, t, i) {
     i.getNextMedia = function() {
         if (i.enabled) {
             var s = t.findWhere({
                 active: !0
             });
             if (s && s.get("count") > 0 && t.activeMedia.length > 0) {
                 var n = t.activeMedia[0]
                   , a = n.get("cid")
                   , o = e.find(function(e) {
                     return e.get("media").get("cid") === a
                 });
                 return {
                     media: n.toJSON(),
                     inHistory: Boolean(o)
                 }
             }
         }
     }
 }),
 define("f1e1d/af752/a9fd4/c4172", ["f1e1d/d8478/fdf95", "f1e1d/af752/f4c6d"], function(e, t) {
     t.getScore = function() {
         return t.enabled ? {
             positive: e.get("positive"),
             negative: e.get("negative"),
             grabs: e.get("grabs")
         } : {}
     }
 }),
 define("f1e1d/af752/a9fd4/aa732", ["f1e1d/fce39/d3252", "f1e1d/af752/f4c6d"], function(e, t) {
     t.getStaff = function() {
         var i = [];
         return t.enabled && e.each(function(e) {
             e.get("role") > 0 && i.push(e.toJSON())
         }),
         i
     }
 }),
 define("f1e1d/af752/a9fd4/dbd85", ["f1e1d/d8478/b5029", "f1e1d/af752/f4c6d"], function(e, t) {
     t.getTimeElapsed = function() {
         return t.enabled ? e.get("elapsed") : 0
     }
     ,
     t.getTimeRemaining = function() {
         return t.enabled ? e.get("remaining") : 0
     }
 }),
 define("f1e1d/af752/a9fd4/fb602", ["f1e1d/fce39/d3252", "f1e1d/d8478/b885e", "f1e1d/af752/f4c6d"], function(e, t, i) {
     i.getUser = function(s) {
         if (!s)
             return t.toJSON();
         if (i.enabled) {
             var n = e.get(s);
             if (n)
                 return n.toJSON()
         }
         return {}
     }
     ,
     i.getUsers = function() {
         return i.enabled ? e.map(function(e) {
             return e.toJSON()
         }) : []
     }
 }),
 define("f1e1d/af752/a9fd4/e408c", ["f1e1d/fce39/fb3ca", "f1e1d/fce39/d3252", "f1e1d/d8478/b885e", "f1e1d/af752/f4c6d"], function(e, t, i, s) {
     s.getWaitList = function() {
         return s.enabled ? e.map(function(e) {
             return e.toJSON()
         }) : []
     }
     ,
     s.getWaitListPosition = function(n) {
         if (s.enabled) {
             n || (n = i.get("id"));
             var a = t.get(n);
             if (a)
                 return e.getUserPosition(a)
         }
         return -1
     }
 }),
 define("f1e1d/af752/a9fd4/d3c8e", ["f1e1d/fce39/d3252", "f1e1d/d8478/b885e", "f1e1d/af752/f4c6d"], function(e, t, i) {
     i.hasPermission = function(s, n) {
         if (i.enabled && !isNaN(parseInt(n)) && n > -1 && n < 5001) {
             if (!s)
                 return t.hasPermission(n);
             var a = e.get(s);
             if (a)
                 return a.hasPermission(n)
         }
         return !1
     }
 }),
 define("f1e1d/be642/f109a/b4c9a", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         route: "booth/cycle",
         init: function(e) {
             this.data = {
                 shouldCycle: e
             },
             this._super(!0)
         }
     });
     return t
 }),
 define("f1e1d/be642/f109a/ad97d", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         route: "booth/lock",
         init: function(e, t) {
             this.data = {
                 isLocked: e,
                 removeAllDJs: t
             },
             this._super(!0)
         }
     });
     return t
 }),
 define("f1e1d/be642/f109a/c9f4a", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "booth/move",
         init: function(e, t) {
             this.data = {
                 userID: e,
                 position: t
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : 400 === e.code ? this.error && this.error() : 403 === e.code ? (this.permissionAlert(),
             this.error && this.error(e.code)) : 404 === e.code && this.error && this.error()
         }
     });
     return t
 }),
 define("f1e1d/be642/e32cc/c2a56", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "rooms/update",
         init: function(e, t, i, s) {
             this.data = {
                 name: e,
                 description: t,
                 welcome: i,
                 minChatLevel: s
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("f1e1d/af752/a9fd4/e82c5", ["f1e1d/e718c/b7acd", "f1e1d/fce39/a992f", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d3252", "f1e1d/e8300/fbb60", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/f109a/b4c9a", "f1e1d/be642/f109a/ad97d", "f1e1d/be642/f109a/c9f4a", "f1e1d/be642/e32cc/c2a56", "f1e1d/af752/f4c6d"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     u.moderateForceSkip = function() {
         u.enabled && r.hasPermission(l.BOUNCER) && e.dispatch(new n(n.SKIP,a.get("currentDJ"),o.get("historyID")))
     }
     ,
     u.moderateAddDJ = function(t) {
         u.enabled && r.hasPermission(l.BOUNCER) && t !== r.get("id") && t !== a.get("currentDJ") && !i.get(t) && (a.get("isLocked") && !r.hasPermission(l.MANAGER) || e.dispatch(new n(n.ADD_DJ,t)))
     }
     ,
     u.moderateRemoveDJ = function(t) {
         u.enabled && r.hasPermission(l.BOUNCER) && t !== r.get("id") && i.get(t) && (a.get("isLocked") && !r.hasPermission(l.MANAGER) || e.dispatch(new n(n.REMOVE_DJ,t)))
     }
     ,
     u.moderateBanUser = function(t, i, a) {
         if (u.enabled) {
             var o = s.get(t);
             o && t !== r.get("id") && r.canModBan(o) && (("f" !== a && "h" !== a && "d" !== a || "f" === a && !r.hasPermission(l.MANAGER)) && (a = "h"),
             e.dispatch(new n(n.BAN,t,i,a)))
         }
     }
     ,
     u.moderateUnbanUser = function(t) {
         u.enabled && r.hasPermission(l.MANAGER) && t !== r.get("id") && e.dispatch(new n(n.UNBAN,t))
     }
     ,
     u.moderateDeleteChat = function(t) {
         if (u.enabled && t) {
             var i = s.get(t.split("-")[0]);
             (i ? r.canModChat(i) : r.hasPermission(l.BOUNCER)) && e.dispatch(new n(n.CHAT_DELETE,t))
         }
     }
     ,
     u.moderateSetRole = function(t, i) {
         if (u.enabled) {
             var a = s.get(t);
             a && !isNaN(i) && i > -1 && (i < 5e3 || r.hasPermission(l.HOST)) && (r.canModStaff(a) || r.hasPermission(l.HOST)) && e.dispatch(new n(n.ROLE,t,i))
         }
     }
     ,
     u.moderateLockWaitList = function(e, t) {
         u.enabled && r.hasPermission(l.MANAGER) && e !== a.get("isLocked") && new c(e,t)
     }
     ,
     u.moderateDJCycle = function(e) {
         u.enabled && r.hasPermission(l.MANAGER) && Boolean(e) !== a.get("shouldCycle") && new h(Boolean(e))
     }
     ,
     u.moderateMoveDJ = function(e, t) {
         u.enabled && r.hasPermission(l.MANAGER) && --t > -1 && t < i.length && i.get(e) && new p(e,t)
     }
     ,
     u.moderateMuteUser = function(t, i, a) {
         if (u.enabled) {
             var o = s.get(t);
             o && t !== r.get("id") && r.hasPermission(l.BOUNCER) && r.canModMute(o) && ("s" !== a && "m" !== a && "l" !== a && (a = "l"),
             e.dispatch(new n(n.MUTE,t,i,a)))
         }
     }
     ,
     u.moderateUnmuteUser = function(t) {
         u.enabled && r.hasPermission(l.MANAGER) && t !== r.get("id") && e.dispatch(new n(n.UNMUTE,t))
     }
     ,
     u.moderateMinChatLevel = function(e) {
         u.enabled && r.hasPermission(l.MANAGER) && e > 0 && e < 4 && new d(void 0,void 0,void 0,e)
     }
 }),
 define("f1e1d/af752/a9fd4/cf5e4", ["f1e1d/d8478/b5029", "f1e1d/af752/f4c6d"], function(e, t) {
     t.setVolume = function(i) {
         t.enabled && e.set("volume", ~~Math.min(100, Math.max(0, i)))
     }
     ,
     t.getVolume = function() {
         if (t.enabled)
             return e.get("volume")
     }
 });
 define("f1e1d/af752/e826c", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/af752/fa88e", "f1e1d/e718c/b7acd", "f1e1d/af752/e7b9f", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a) {
     var o = t.extend({
         init: function() {
             s.on("track", this.track, this),
             s.on("track:ga", this.trackGA, this),
             s.on("track:csa", this.trackCSA, this)
         },
         track: function(e, t, i) {
             this.trackGA.apply(this, arguments),
             this.trackCSA.apply(this, arguments)
         },
         trackGA: function(e, t, i) {
             n.actual(e, t, i)
         },
         trackCSA: function(t, i, s, n) {
             var o = ""
               , r = "";
             n = n || {},
             o = n.lookupType !== !1 ? this.getPixelAction(i) : i,
             r = n.lookupValue !== !1 ? this.getPixelEvent(t, i, s) : s,
             r && r.indexOf("%s") !== -1 && (e.isArray(s) === !1 && (s = [s]),
             r = e.reduce(s, function(e, t) {
                 return e.replace(/%s/, t)
             }, r)),
             void 0 !== o && void 0 !== r && a.track(o, r)
         },
         getPixelAction: e.memoize(function(t) {
             var i = e.each(e.clone(a.type), function(e, t, i) {
                 delete i[t],
                 i[t.toLowerCase()] = e
             });
             return t = t.toLowerCase(),
             void 0 !== i[t] ? i[t] : a.type.action
         }),
         getPixelEvent: e.memoize(function(t, i, s) {
             var n = e.each(e.clone(a.event), function(e, t, i) {
                 delete i[t],
                 i[t.toLowerCase()] = e
             })
               , o = (t.toString() + i.toString() + s.toString()).trim().replace(/[ ]*/gm, "").toLowerCase()
               , r = (t.toString() + i.toString()).trim().replace(/[ ]*/gm, "").toLowerCase()
               , l = t.toString().trim().replace(/[ ]*/gm, "").toLowerCase();
             return void 0 !== n[o] ? n[o] : void 0 !== n[r] ? n[r] : void 0 !== n[l] ? n[l] : void 0
         }, function(e, t, i) {
             return (e.toString() + t.toString() + i.toString()).trim().replace(/[ ]*/gm, "").toLowerCase()
         })
     });
     return new o
 });
 define("f1e1d/af752/bde96", ["jquery", "underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e"], function(e, t, i, s, n) {
     var a = i.extend({
         wait: 500,
         init: function() {
             this.timeout = null,
             this.isResizing = !1,
             window.addEventListener("resize", this.onResize.bind(this))
         },
         onResize: function() {
             this.isResizing === !1 && (this.isResizing = !0,
             s.trigger("resize:start")),
             clearTimeout(this.timeout),
             this.timeout = setTimeout(this.onStopResizing.bind(this), this.wait)
         },
         onStopResizing: function() {
             this.isResizing = !1,
             s.trigger("resize:stop")
         }
     });
     return new a
 }),
 define("f1e1d/dc102/d2139", ["f1e1d/ee86e/afe6c", "f1e1d/ee86e/c702e", "f1e1d/ee86e/ed0fa", "f1e1d/ee86e/c51c7", "f1e1d/ee86e/ba0e2", "f1e1d/ee86e/d66ea", "f1e1d/ee86e/fcf72", "f1e1d/ee86e/fdbe9", "f1e1d/ee86e/f195f", "f1e1d/ee86e/a9199", "f1e1d/ee86e/efb5b", "f1e1d/ee86e/a8671", "f1e1d/ee86e/e381d", "f1e1d/ee86e/d70e5", "f1e1d/ee86e/e8a57", "f1e1d/ee86e/d236b", "f1e1d/ee86e/a6962", "f1e1d/ee86e/f31a0", "f1e1d/ee86e/b86c9", "f1e1d/ee86e/e195f", "f1e1d/ee86e/e84b8", "f1e1d/ee86e/efbab", "f1e1d/ee86e/fc37c", "f1e1d/ee86e/fa9d1", "f1e1d/ee86e/ef623", "f1e1d/ee86e/f6f6d", "f1e1d/ee86e/f631d", "f1e1d/ee86e/a8cbc", "f1e1d/ee86e/df22a", "f1e1d/ee86e/d3ccd", "f1e1d/ee86e/b21c8", "f1e1d/ee86e/b8748", "f1e1d/ee86e/d07ce", "f1e1d/ee86e/cd739", "f1e1d/ee86e/ce41f", "f1e1d/ee86e/bb7a9", "f1e1d/ee86e/d2f0d", "f1e1d/ee86e/def36", "f1e1d/ee86e/f9123", "f1e1d/ee86e/a2039", "f1e1d/ee86e/af9c4", "f1e1d/ee86e/ee6d4", "f1e1d/ee86e/bfb98", "f1e1d/ee86e/f72f1", "f1e1d/ee86e/ed7c0", "f1e1d/ee86e/edbf5", "f1e1d/ee86e/c4cdb", "f1e1d/ee86e/e4114", "f1e1d/ee86e/e0d3d", "f1e1d/ee86e/a5c49", "f1e1d/ee86e/b8074", "f1e1d/ee86e/fe27a", "f1e1d/ee86e/ac23d", "f1e1d/ee86e/be5f6", "f1e1d/ee86e/fb66b", "f1e1d/ee86e/c9f07", "f1e1d/ee86e/a5d7a", "f1e1d/d8e24/f6b52/e1e38", "f1e1d/d8e24/f6b52/ab74d", "f1e1d/d8e24/f6b52/d5c1f", "f1e1d/d8e24/f6b52/e775e", "f1e1d/d8e24/f6b52/a1b60", "f1e1d/d8e24/f6b52/e6d32", "f1e1d/d8e24/f6b52/c5154", "f1e1d/d8e24/f6b52/dbf3e", "f1e1d/d8e24/f6b52/c899f", "f1e1d/d8e24/f6b52/c96c6", "f1e1d/d8e24/f6b52/e0142", "f1e1d/d8e24/f6b52/f720e", "f1e1d/d8e24/f6b52/a614d", "f1e1d/d8e24/f6b52/c25ee", "f1e1d/d8e24/f6b52/e1173", "f1e1d/d8e24/f6b52/d6b0b", "f1e1d/d8e24/f6b52/cfe27", "f1e1d/d8e24/f6b52/d1923", "f1e1d/d8e24/f6b52/b5a0f", "f1e1d/d8e24/f6b52/da1dd", "f1e1d/d8e24/f6b52/b05db", "f1e1d/d8e24/f6b52/c687a", "f1e1d/d8e24/f6b52/fc1d6", "f1e1d/d8e24/f6b52/c17af", "f1e1d/d8e24/f6b52/d42c8", "f1e1d/d8e24/f6b52/ee062", "f1e1d/d8e24/f6b52/e2bff", "f1e1d/d8e24/f6b52/c5c83", "f1e1d/d8e24/f6b52/a0663", "f1e1d/d8e24/f6b52/fa03d", "f1e1d/d8e24/f6b52/bdd96", "f1e1d/d8e24/f6b52/edc75", "f1e1d/d8e24/f6b52/bb437", "f1e1d/af752/a9fd4/a1b60", "f1e1d/af752/a9fd4/ff8f1", "f1e1d/af752/a9fd4/a8a47", "f1e1d/af752/a9fd4/a7b34", "f1e1d/af752/a9fd4/e73c5", "f1e1d/af752/a9fd4/d73d5", "f1e1d/af752/a9fd4/e241f", "f1e1d/af752/a9fd4/aa2fc", "f1e1d/af752/a9fd4/cf213", "f1e1d/af752/a9fd4/f43f9", "f1e1d/af752/a9fd4/d8423", "f1e1d/af752/a9fd4/c4172", "f1e1d/af752/a9fd4/aa732", "f1e1d/af752/a9fd4/dbd85", "f1e1d/af752/a9fd4/fb602", "f1e1d/af752/a9fd4/e408c", "f1e1d/af752/a9fd4/d3c8e", "f1e1d/af752/a9fd4/e82c5", "f1e1d/af752/a9fd4/cf5e4", "f1e1d/af752/e826c", "f1e1d/af752/bde96"], function() {}),
 function(e, t, i, s) {
     "use strict";
     function n(e, t, i) {
         return setTimeout(h(e, i), t)
     }
     function a(e, t, i) {
         return !!Array.isArray(e) && (o(e, i[t], i),
         !0)
     }
     function o(e, t, i) {
         var n;
         if (e)
             if (e.forEach)
                 e.forEach(t, i);
             else if (e.length !== s)
                 for (n = 0; n < e.length; )
                     t.call(i, e[n], n, e),
                     n++;
             else
                 for (n in e)
                     e.hasOwnProperty(n) && t.call(i, e[n], n, e)
     }
     function r(t, i, s) {
         var n = "DEPRECATED METHOD: " + i + "\n" + s + " AT \n";
         return function() {
             var i = new Error("get-stack-trace")
               , s = i && i.stack ? i.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@") : "Unknown Stack Trace"
               , a = e.console && (e.console.warn || e.console.log);
             return a && a.call(e.console, n, s),
             t.apply(this, arguments)
         }
     }
     function l(e, t, i) {
         var s, n = t.prototype;
         s = e.prototype = Object.create(n),
         s.constructor = e,
         s._super = n,
         i && pe(s, i)
     }
     function h(e, t) {
         return function() {
             return e.apply(t, arguments)
         }
     }
     function c(e, t) {
         return typeof e == fe ? e.apply(t ? t[0] || s : s, t) : e
     }
     function p(e, t) {
         return e === s ? t : e
     }
     function d(e, t, i) {
         o(g(t), function(t) {
             e.addEventListener(t, i, !1)
         })
     }
     function u(e, t, i) {
         o(g(t), function(t) {
             e.removeEventListener(t, i, !1)
         })
     }
     function f(e, t) {
         for (; e; ) {
             if (e == t)
                 return !0;
             e = e.parentNode
         }
         return !1
     }
     function m(e, t) {
         return e.indexOf(t) > -1
     }
     function g(e) {
         return e.trim().split(/\s+/g)
     }
     function v(e, t, i) {
         if (e.indexOf && !i)
             return e.indexOf(t);
         for (var s = 0; s < e.length; ) {
             if (i && e[s][i] == t || !i && e[s] === t)
                 return s;
             s++
         }
         return -1
     }
     function b(e) {
         return Array.prototype.slice.call(e, 0)
     }
     function w(e, t, i) {
         for (var s = [], n = [], a = 0; a < e.length; ) {
             var o = t ? e[a][t] : e[a];
             v(n, o) < 0 && s.push(e[a]),
             n[a] = o,
             a++
         }
         return i && (s = t ? s.sort(function(e, i) {
             return e[t] > i[t]
         }) : s.sort()),
         s
     }
     function y(e, t) {
         for (var i, n, a = t[0].toUpperCase() + t.slice(1), o = 0; o < de.length; ) {
             if (i = de[o],
             n = i ? i + a : t,
             n in e)
                 return n;
             o++
         }
         return s
     }
     function C() {
         return ye++
     }
     function k(t) {
         var i = t.ownerDocument || t;
         return i.defaultView || i.parentWindow || e
     }
     function _(e, t) {
         var i = this;
         this.manager = e,
         this.callback = t,
         this.element = e.element,
         this.target = e.options.inputTarget,
         this.domHandler = function(t) {
             c(e.options.enable, [e]) && i.handler(t)
         }
         ,
         this.init()
     }
     function S(e) {
         var t, i = e.options.inputClass;
         return new (t = i ? i : _e ? O : Se ? V : ke ? z : L)(e,x)
     }
     function x(e, t, i) {
         var s = i.pointers.length
           , n = i.changedPointers.length
           , a = t & Ie && s - n === 0
           , o = t & (Pe | Re) && s - n === 0;
         i.isFirst = !!a,
         i.isFinal = !!o,
         a && (e.session = {}),
         i.eventType = t,
         $(e, i),
         e.emit("hammer.input", i),
         e.recognize(i),
         e.session.prevInput = i
     }
     function $(e, t) {
         var i = e.session
           , s = t.pointers
           , n = s.length;
         i.firstInput || (i.firstInput = T(t)),
         n > 1 && !i.firstMultiple ? i.firstMultiple = T(t) : 1 === n && (i.firstMultiple = !1);
         var a = i.firstInput
           , o = i.firstMultiple
           , r = o ? o.center : a.center
           , l = t.center = I(s);
         t.timeStamp = ve(),
         t.deltaTime = t.timeStamp - a.timeStamp,
         t.angle = A(r, l),
         t.distance = R(r, l),
         E(i, t),
         t.offsetDirection = P(t.deltaX, t.deltaY);
         var h = D(t.deltaTime, t.deltaX, t.deltaY);
         t.overallVelocityX = h.x,
         t.overallVelocityY = h.y,
         t.overallVelocity = ge(h.x) > ge(h.y) ? h.x : h.y,
         t.scale = o ? B(o.pointers, s) : 1,
         t.rotation = o ? U(o.pointers, s) : 0,
         t.maxPointers = i.prevInput ? t.pointers.length > i.prevInput.maxPointers ? t.pointers.length : i.prevInput.maxPointers : t.pointers.length,
         M(i, t);
         var c = e.element;
         f(t.srcEvent.target, c) && (c = t.srcEvent.target),
         t.target = c
     }
     function E(e, t) {
         var i = t.center
           , s = e.offsetDelta || {}
           , n = e.prevDelta || {}
           , a = e.prevInput || {};
         t.eventType !== Ie && a.eventType !== Pe || (n = e.prevDelta = {
             x: a.deltaX || 0,
             y: a.deltaY || 0
         },
         s = e.offsetDelta = {
             x: i.x,
             y: i.y
         }),
         t.deltaX = n.x + (i.x - s.x),
         t.deltaY = n.y + (i.y - s.y)
     }
     function M(e, t) {
         var i, n, a, o, r = e.lastInterval || t, l = t.timeStamp - r.timeStamp;
         if (t.eventType != Re && (l > Te || r.velocity === s)) {
             var h = t.deltaX - r.deltaX
               , c = t.deltaY - r.deltaY
               , p = D(l, h, c);
             n = p.x,
             a = p.y,
             i = ge(p.x) > ge(p.y) ? p.x : p.y,
             o = P(h, c),
             e.lastInterval = t
         } else
             i = r.velocity,
             n = r.velocityX,
             a = r.velocityY,
             o = r.direction;
         t.velocity = i,
         t.velocityX = n,
         t.velocityY = a,
         t.direction = o
     }
     function T(e) {
         for (var t = [], i = 0; i < e.pointers.length; )
             t[i] = {
                 clientX: me(e.pointers[i].clientX),
                 clientY: me(e.pointers[i].clientY)
             },
             i++;
         return {
             timeStamp: ve(),
             pointers: t,
             center: I(t),
             deltaX: e.deltaX,
             deltaY: e.deltaY
         }
     }
     function I(e) {
         var t = e.length;
         if (1 === t)
             return {
                 x: me(e[0].clientX),
                 y: me(e[0].clientY)
             };
         for (var i = 0, s = 0, n = 0; n < t; )
             i += e[n].clientX,
             s += e[n].clientY,
             n++;
         return {
             x: me(i / t),
             y: me(s / t)
         }
     }
     function D(e, t, i) {
         return {
             x: t / e || 0,
             y: i / e || 0
         }
     }
     function P(e, t) {
         return e === t ? Ae : ge(e) >= ge(t) ? e < 0 ? Ue : Be : t < 0 ? Le : Oe
     }
     function R(e, t, i) {
         i || (i = Fe);
         var s = t[i[0]] - e[i[0]]
           , n = t[i[1]] - e[i[1]];
         return Math.sqrt(s * s + n * n)
     }
     function A(e, t, i) {
         i || (i = Fe);
         var s = t[i[0]] - e[i[0]]
           , n = t[i[1]] - e[i[1]];
         return 180 * Math.atan2(n, s) / Math.PI
     }
     function U(e, t) {
         return A(t[1], t[0], ze) + A(e[1], e[0], ze)
     }
     function B(e, t) {
         return R(t[0], t[1], ze) / R(e[0], e[1], ze)
     }
     function L() {
         this.evEl = qe,
         this.evWin = Ge,
         this.pressed = !1,
         _.apply(this, arguments)
     }
     function O() {
         this.evEl = Je,
         this.evWin = Xe,
         _.apply(this, arguments),
         this.store = this.manager.session.pointerEvents = []
     }
     function N() {
         this.evTarget = Qe,
         this.evWin = Ze,
         this.started = !1,
         _.apply(this, arguments)
     }
     function j(e, t) {
         var i = b(e.touches)
           , s = b(e.changedTouches);
         return t & (Pe | Re) && (i = w(i.concat(s), "identifier", !0)),
         [i, s]
     }
     function V() {
         this.evTarget = tt,
         this.targetIds = {},
         _.apply(this, arguments)
     }
     function F(e, t) {
         var i = b(e.touches)
           , s = this.targetIds;
         if (t & (Ie | De) && 1 === i.length)
             return s[i[0].identifier] = !0,
             [i, i];
         var n, a, o = b(e.changedTouches), r = [], l = this.target;
         if (a = i.filter(function(e) {
             return f(e.target, l)
         }),
         t === Ie)
             for (n = 0; n < a.length; )
                 s[a[n].identifier] = !0,
                 n++;
         for (n = 0; n < o.length; )
             s[o[n].identifier] && r.push(o[n]),
             t & (Pe | Re) && delete s[o[n].identifier],
             n++;
         return r.length ? [w(a.concat(r), "identifier", !0), r] : void 0
     }
     function z() {
         _.apply(this, arguments);
         var e = h(this.handler, this);
         this.touch = new V(this.manager,e),
         this.mouse = new L(this.manager,e),
         this.primaryTouch = null,
         this.lastTouches = []
     }
     function H(e, t) {
         e & Ie ? (this.primaryTouch = t.changedPointers[0].identifier,
         q.call(this, t)) : e & (Pe | Re) && q.call(this, t)
     }
     function q(e) {
         var t = e.changedPointers[0];
         if (t.identifier === this.primaryTouch) {
             var i = {
                 x: t.clientX,
                 y: t.clientY
             };
             this.lastTouches.push(i);
             var s = this.lastTouches
               , n = function() {
                 var e = s.indexOf(i);
                 e > -1 && s.splice(e, 1)
             };
             setTimeout(n, it)
         }
     }
     function G(e) {
         for (var t = e.srcEvent.clientX, i = e.srcEvent.clientY, s = 0; s < this.lastTouches.length; s++) {
             var n = this.lastTouches[s]
               , a = Math.abs(t - n.x)
               , o = Math.abs(i - n.y);
             if (a <= st && o <= st)
                 return !0
         }
         return !1
     }
     function W(e, t) {
         this.manager = e,
         this.set(t)
     }
     function Y(e) {
         if (m(e, ht))
             return ht;
         var t = m(e, ct)
           , i = m(e, pt);
         return t && i ? ht : t || i ? t ? ct : pt : m(e, lt) ? lt : rt
     }
     function J() {
         if (!at)
             return !1;
         var t = {}
           , i = e.CSS && e.CSS.supports;
         return ["auto", "manipulation", "pan-y", "pan-x", "pan-x pan-y", "none"].forEach(function(s) {
             t[s] = !i || e.CSS.supports("touch-action", s)
         }),
         t
     }
     function X(e) {
         this.options = pe({}, this.defaults, e || {}),
         this.id = C(),
         this.manager = null,
         this.options.enable = p(this.options.enable, !0),
         this.state = ut,
         this.simultaneous = {},
         this.requireFail = []
     }
     function K(e) {
         return e & bt ? "cancel" : e & gt ? "end" : e & mt ? "move" : e & ft ? "start" : ""
     }
     function Q(e) {
         return e == Oe ? "down" : e == Le ? "up" : e == Ue ? "left" : e == Be ? "right" : ""
     }
     function Z(e, t) {
         var i = t.manager;
         return i ? i.get(e) : e
     }
     function ee() {
         X.apply(this, arguments)
     }
     function te() {
         ee.apply(this, arguments),
         this.pX = null,
         this.pY = null
     }
     function ie() {
         ee.apply(this, arguments)
     }
     function se() {
         X.apply(this, arguments),
         this._timer = null,
         this._input = null
     }
     function ne() {
         ee.apply(this, arguments)
     }
     function ae() {
         ee.apply(this, arguments)
     }
     function oe() {
         X.apply(this, arguments),
         this.pTime = !1,
         this.pCenter = !1,
         this._timer = null,
         this._input = null,
         this.count = 0
     }
     function re(e, t) {
         return t = t || {},
         t.recognizers = p(t.recognizers, re.defaults.preset),
         new le(e,t)
     }
     function le(e, t) {
         this.options = pe({}, re.defaults, t || {}),
         this.options.inputTarget = this.options.inputTarget || e,
         this.handlers = {},
         this.session = {},
         this.recognizers = [],
         this.oldCssProps = {},
         this.element = e,
         this.input = S(this),
         this.touchAction = new W(this,this.options.touchAction),
         he(this, !0),
         o(this.options.recognizers, function(e) {
             var t = this.add(new e[0](e[1]));
             e[2] && t.recognizeWith(e[2]),
             e[3] && t.requireFailure(e[3])
         }, this)
     }
     function he(e, t) {
         var i = e.element;
         if (i.style) {
             var s;
             o(e.options.cssProps, function(n, a) {
                 s = y(i.style, a),
                 t ? (e.oldCssProps[s] = i.style[s],
                 i.style[s] = n) : i.style[s] = e.oldCssProps[s] || ""
             }),
             t || (e.oldCssProps = {})
         }
     }
     function ce(e, i) {
         var s = t.createEvent("Event");
         s.initEvent(e, !0, !0),
         s.gesture = i,
         i.target.dispatchEvent(s)
     }
     var pe, de = ["", "webkit", "Moz", "MS", "ms", "o"], ue = t.createElement("div"), fe = "function", me = Math.round, ge = Math.abs, ve = Date.now;
     pe = "function" != typeof Object.assign ? function(e) {
         if (e === s || null === e)
             throw new TypeError("Cannot convert undefined or null to object");
         for (var t = Object(e), i = 1; i < arguments.length; i++) {
             var n = arguments[i];
             if (n !== s && null !== n)
                 for (var a in n)
                     n.hasOwnProperty(a) && (t[a] = n[a])
         }
         return t
     }
     : Object.assign;
     var be = r(function(e, t, i) {
         for (var n = Object.keys(t), a = 0; a < n.length; )
             (!i || i && e[n[a]] === s) && (e[n[a]] = t[n[a]]),
             a++;
         return e
     }, "extend", "Use `assign`.")
       , we = r(function(e, t) {
         return be(e, t, !0)
     }, "merge", "Use `assign`.")
       , ye = 1
       , Ce = /mobile|tablet|ip(ad|hone|od)|android/i
       , ke = "ontouchstart"in e
       , _e = y(e, "PointerEvent") !== s
       , Se = ke && Ce.test(navigator.userAgent)
       , xe = "touch"
       , $e = "pen"
       , Ee = "mouse"
       , Me = "kinect"
       , Te = 25
       , Ie = 1
       , De = 2
       , Pe = 4
       , Re = 8
       , Ae = 1
       , Ue = 2
       , Be = 4
       , Le = 8
       , Oe = 16
       , Ne = Ue | Be
       , je = Le | Oe
       , Ve = Ne | je
       , Fe = ["x", "y"]
       , ze = ["clientX", "clientY"];
     _.prototype = {
         handler: function() {},
         init: function() {
             this.evEl && d(this.element, this.evEl, this.domHandler),
             this.evTarget && d(this.target, this.evTarget, this.domHandler),
             this.evWin && d(k(this.element), this.evWin, this.domHandler)
         },
         destroy: function() {
             this.evEl && u(this.element, this.evEl, this.domHandler),
             this.evTarget && u(this.target, this.evTarget, this.domHandler),
             this.evWin && u(k(this.element), this.evWin, this.domHandler)
         }
     };
     var He = {
         mousedown: Ie,
         mousemove: De,
         mouseup: Pe
     }
       , qe = "mousedown"
       , Ge = "mousemove mouseup";
     l(L, _, {
         handler: function(e) {
             var t = He[e.type];
             t & Ie && 0 === e.button && (this.pressed = !0),
             t & De && 1 !== e.which && (t = Pe),
             this.pressed && (t & Pe && (this.pressed = !1),
             this.callback(this.manager, t, {
                 pointers: [e],
                 changedPointers: [e],
                 pointerType: Ee,
                 srcEvent: e
             }))
         }
     });
     var We = {
         pointerdown: Ie,
         pointermove: De,
         pointerup: Pe,
         pointercancel: Re,
         pointerout: Re
     }
       , Ye = {
         2: xe,
         3: $e,
         4: Ee,
         5: Me
     }
       , Je = "pointerdown"
       , Xe = "pointermove pointerup pointercancel";
     e.MSPointerEvent && !e.PointerEvent && (Je = "MSPointerDown",
     Xe = "MSPointerMove MSPointerUp MSPointerCancel"),
     l(O, _, {
         handler: function(e) {
             var t = this.store
               , i = !1
               , s = e.type.toLowerCase().replace("ms", "")
               , n = We[s]
               , a = Ye[e.pointerType] || e.pointerType
               , o = a == xe
               , r = v(t, e.pointerId, "pointerId");
             n & Ie && (0 === e.button || o) ? r < 0 && (t.push(e),
             r = t.length - 1) : n & (Pe | Re) && (i = !0),
             r < 0 || (t[r] = e,
             this.callback(this.manager, n, {
                 pointers: t,
                 changedPointers: [e],
                 pointerType: a,
                 srcEvent: e
             }),
             i && t.splice(r, 1))
         }
     });
     var Ke = {
         touchstart: Ie,
         touchmove: De,
         touchend: Pe,
         touchcancel: Re
     }
       , Qe = "touchstart"
       , Ze = "touchstart touchmove touchend touchcancel";
     l(N, _, {
         handler: function(e) {
             var t = Ke[e.type];
             if (t === Ie && (this.started = !0),
             this.started) {
                 var i = j.call(this, e, t);
                 t & (Pe | Re) && i[0].length - i[1].length === 0 && (this.started = !1),
                 this.callback(this.manager, t, {
                     pointers: i[0],
                     changedPointers: i[1],
                     pointerType: xe,
                     srcEvent: e
                 })
             }
         }
     });
     var et = {
         touchstart: Ie,
         touchmove: De,
         touchend: Pe,
         touchcancel: Re
     }
       , tt = "touchstart touchmove touchend touchcancel";
     l(V, _, {
         handler: function(e) {
             var t = et[e.type]
               , i = F.call(this, e, t);
             i && this.callback(this.manager, t, {
                 pointers: i[0],
                 changedPointers: i[1],
                 pointerType: xe,
                 srcEvent: e
             })
         }
     });
     var it = 2500
       , st = 25;
     l(z, _, {
         handler: function(e, t, i) {
             var s = i.pointerType == xe
               , n = i.pointerType == Ee;
             if (!(n && i.sourceCapabilities && i.sourceCapabilities.firesTouchEvents)) {
                 if (s)
                     H.call(this, t, i);
                 else if (n && G.call(this, i))
                     return;
                 this.callback(e, t, i)
             }
         },
         destroy: function() {
             this.touch.destroy(),
             this.mouse.destroy()
         }
     });
     var nt = y(ue.style, "touchAction")
       , at = nt !== s
       , ot = "compute"
       , rt = "auto"
       , lt = "manipulation"
       , ht = "none"
       , ct = "pan-x"
       , pt = "pan-y"
       , dt = J();
     W.prototype = {
         set: function(e) {
             e == ot && (e = this.compute()),
             at && this.manager.element.style && dt[e] && (this.manager.element.style[nt] = e),
             this.actions = e.toLowerCase().trim()
         },
         update: function() {
             this.set(this.manager.options.touchAction)
         },
         compute: function() {
             var e = [];
             return o(this.manager.recognizers, function(t) {
                 c(t.options.enable, [t]) && (e = e.concat(t.getTouchAction()))
             }),
             Y(e.join(" "))
         },
         preventDefaults: function(e) {
             var t = e.srcEvent
               , i = e.offsetDirection;
             if (this.manager.session.prevented)
                 return void t.preventDefault();
             var s = this.actions
               , n = m(s, ht) && !dt[ht]
               , a = m(s, pt) && !dt[pt]
               , o = m(s, ct) && !dt[ct];
             if (n) {
                 var r = 1 === e.pointers.length
                   , l = e.distance < 2
                   , h = e.deltaTime < 250;
                 if (r && l && h)
                     return
             }
             return o && a ? void 0 : n || a && i & Ne || o && i & je ? this.preventSrc(t) : void 0
         },
         preventSrc: function(e) {
             this.manager.session.prevented = !0,
             e.preventDefault()
         }
     };
     var ut = 1
       , ft = 2
       , mt = 4
       , gt = 8
       , vt = gt
       , bt = 16
       , wt = 32;
     X.prototype = {
         defaults: {},
         set: function(e) {
             return pe(this.options, e),
             this.manager && this.manager.touchAction.update(),
             this
         },
         recognizeWith: function(e) {
             if (a(e, "recognizeWith", this))
                 return this;
             var t = this.simultaneous;
             return e = Z(e, this),
             t[e.id] || (t[e.id] = e,
             e.recognizeWith(this)),
             this
         },
         dropRecognizeWith: function(e) {
             return a(e, "dropRecognizeWith", this) ? this : (e = Z(e, this),
             delete this.simultaneous[e.id],
             this)
         },
         requireFailure: function(e) {
             if (a(e, "requireFailure", this))
                 return this;
             var t = this.requireFail;
             return e = Z(e, this),
             v(t, e) === -1 && (t.push(e),
             e.requireFailure(this)),
             this
         },
         dropRequireFailure: function(e) {
             if (a(e, "dropRequireFailure", this))
                 return this;
             e = Z(e, this);
             var t = v(this.requireFail, e);
             return t > -1 && this.requireFail.splice(t, 1),
             this
         },
         hasRequireFailures: function() {
             return this.requireFail.length > 0
         },
         canRecognizeWith: function(e) {
             return !!this.simultaneous[e.id]
         },
         emit: function(e) {
             function t(t) {
                 i.manager.emit(t, e)
             }
             var i = this
               , s = this.state;
             s < gt && t(i.options.event + K(s)),
             t(i.options.event),
             e.additionalEvent && t(e.additionalEvent),
             s >= gt && t(i.options.event + K(s))
         },
         tryEmit: function(e) {
             return this.canEmit() ? this.emit(e) : void (this.state = wt)
         },
         canEmit: function() {
             for (var e = 0; e < this.requireFail.length; ) {
                 if (!(this.requireFail[e].state & (wt | ut)))
                     return !1;
                 e++
             }
             return !0
         },
         recognize: function(e) {
             var t = pe({}, e);
             return c(this.options.enable, [this, t]) ? (this.state & (vt | bt | wt) && (this.state = ut),
             this.state = this.process(t),
             void (this.state & (ft | mt | gt | bt) && this.tryEmit(t))) : (this.reset(),
             void (this.state = wt))
         },
         process: function(e) {},
         getTouchAction: function() {},
         reset: function() {}
     },
     l(ee, X, {
         defaults: {
             pointers: 1
         },
         attrTest: function(e) {
             var t = this.options.pointers;
             return 0 === t || e.pointers.length === t
         },
         process: function(e) {
             var t = this.state
               , i = e.eventType
               , s = t & (ft | mt)
               , n = this.attrTest(e);
             return s && (i & Re || !n) ? t | bt : s || n ? i & Pe ? t | gt : t & ft ? t | mt : ft : wt
         }
     }),
     l(te, ee, {
         defaults: {
             event: "pan",
             threshold: 10,
             pointers: 1,
             direction: Ve
         },
         getTouchAction: function() {
             var e = this.options.direction
               , t = [];
             return e & Ne && t.push(pt),
             e & je && t.push(ct),
             t
         },
         directionTest: function(e) {
             var t = this.options
               , i = !0
               , s = e.distance
               , n = e.direction
               , a = e.deltaX
               , o = e.deltaY;
             return n & t.direction || (t.direction & Ne ? (n = 0 === a ? Ae : a < 0 ? Ue : Be,
             i = a != this.pX,
             s = Math.abs(e.deltaX)) : (n = 0 === o ? Ae : o < 0 ? Le : Oe,
             i = o != this.pY,
             s = Math.abs(e.deltaY))),
             e.direction = n,
             i && s > t.threshold && n & t.direction
         },
         attrTest: function(e) {
             return ee.prototype.attrTest.call(this, e) && (this.state & ft || !(this.state & ft) && this.directionTest(e))
         },
         emit: function(e) {
             this.pX = e.deltaX,
             this.pY = e.deltaY;
             var t = Q(e.direction);
             t && (e.additionalEvent = this.options.event + t),
             this._super.emit.call(this, e)
         }
     }),
     l(ie, ee, {
         defaults: {
             event: "pinch",
             threshold: 0,
             pointers: 2
         },
         getTouchAction: function() {
             return [ht]
         },
         attrTest: function(e) {
             return this._super.attrTest.call(this, e) && (Math.abs(e.scale - 1) > this.options.threshold || this.state & ft)
         },
         emit: function(e) {
             if (1 !== e.scale) {
                 var t = e.scale < 1 ? "in" : "out";
                 e.additionalEvent = this.options.event + t
             }
             this._super.emit.call(this, e)
         }
     }),
     l(se, X, {
         defaults: {
             event: "press",
             pointers: 1,
             time: 251,
             threshold: 9
         },
         getTouchAction: function() {
             return [rt]
         },
         process: function(e) {
             var t = this.options
               , i = e.pointers.length === t.pointers
               , s = e.distance < t.threshold
               , a = e.deltaTime > t.time;
             if (this._input = e,
             !s || !i || e.eventType & (Pe | Re) && !a)
                 this.reset();
             else if (e.eventType & Ie)
                 this.reset(),
                 this._timer = n(function() {
                     this.state = vt,
                     this.tryEmit()
                 }, t.time, this);
             else if (e.eventType & Pe)
                 return vt;
             return wt
         },
         reset: function() {
             clearTimeout(this._timer)
         },
         emit: function(e) {
             this.state === vt && (e && e.eventType & Pe ? this.manager.emit(this.options.event + "up", e) : (this._input.timeStamp = ve(),
             this.manager.emit(this.options.event, this._input)))
         }
     }),
     l(ne, ee, {
         defaults: {
             event: "rotate",
             threshold: 0,
             pointers: 2
         },
         getTouchAction: function() {
             return [ht]
         },
         attrTest: function(e) {
             return this._super.attrTest.call(this, e) && (Math.abs(e.rotation) > this.options.threshold || this.state & ft)
         }
     }),
     l(ae, ee, {
         defaults: {
             event: "swipe",
             threshold: 10,
             velocity: .3,
             direction: Ne | je,
             pointers: 1
         },
         getTouchAction: function() {
             return te.prototype.getTouchAction.call(this)
         },
         attrTest: function(e) {
             var t, i = this.options.direction;
             return i & (Ne | je) ? t = e.overallVelocity : i & Ne ? t = e.overallVelocityX : i & je && (t = e.overallVelocityY),
             this._super.attrTest.call(this, e) && i & e.offsetDirection && e.distance > this.options.threshold && e.maxPointers == this.options.pointers && ge(t) > this.options.velocity && e.eventType & Pe
         },
         emit: function(e) {
             var t = Q(e.offsetDirection);
             t && this.manager.emit(this.options.event + t, e),
             this.manager.emit(this.options.event, e)
         }
     }),
     l(oe, X, {
         defaults: {
             event: "tap",
             pointers: 1,
             taps: 1,
             interval: 300,
             time: 250,
             threshold: 9,
             posThreshold: 10
         },
         getTouchAction: function() {
             return [lt]
         },
         process: function(e) {
             var t = this.options
               , i = e.pointers.length === t.pointers
               , s = e.distance < t.threshold
               , a = e.deltaTime < t.time;
             if (this.reset(),
             e.eventType & Ie && 0 === this.count)
                 return this.failTimeout();
             if (s && a && i) {
                 if (e.eventType != Pe)
                     return this.failTimeout();
                 var o = !this.pTime || e.timeStamp - this.pTime < t.interval
                   , r = !this.pCenter || R(this.pCenter, e.center) < t.posThreshold;
                 this.pTime = e.timeStamp,
                 this.pCenter = e.center,
                 r && o ? this.count += 1 : this.count = 1,
                 this._input = e;
                 var l = this.count % t.taps;
                 if (0 === l)
                     return this.hasRequireFailures() ? (this._timer = n(function() {
                         this.state = vt,
                         this.tryEmit()
                     }, t.interval, this),
                     ft) : vt
             }
             return wt
         },
         failTimeout: function() {
             return this._timer = n(function() {
                 this.state = wt
             }, this.options.interval, this),
             wt
         },
         reset: function() {
             clearTimeout(this._timer)
         },
         emit: function() {
             this.state == vt && (this._input.tapCount = this.count,
             this.manager.emit(this.options.event, this._input))
         }
     }),
     re.VERSION = "2.0.8",
     re.defaults = {
         domEvents: !1,
         touchAction: ot,
         enable: !0,
         inputTarget: null,
         inputClass: null,
         preset: [[ne, {
             enable: !1
         }], [ie, {
             enable: !1
         }, ["rotate"]], [ae, {
             direction: Ne
         }], [te, {
             direction: Ne
         }, ["swipe"]], [oe], [oe, {
             event: "doubletap",
             taps: 2
         }, ["tap"]], [se]],
         cssProps: {
             userSelect: "none",
             touchSelect: "none",
             touchCallout: "none",
             contentZooming: "none",
             userDrag: "none",
             tapHighlightColor: "rgba(0,0,0,0)"
         }
     };
     var yt = 1
       , Ct = 2;
     le.prototype = {
         set: function(e) {
             return pe(this.options, e),
             e.touchAction && this.touchAction.update(),
             e.inputTarget && (this.input.destroy(),
             this.input.target = e.inputTarget,
             this.input.init()),
             this
         },
         stop: function(e) {
             this.session.stopped = e ? Ct : yt
         },
         recognize: function(e) {
             var t = this.session;
             if (!t.stopped) {
                 this.touchAction.preventDefaults(e);
                 var i, s = this.recognizers, n = t.curRecognizer;
                 (!n || n && n.state & vt) && (n = t.curRecognizer = null);
                 for (var a = 0; a < s.length; )
                     i = s[a],
                     t.stopped === Ct || n && i != n && !i.canRecognizeWith(n) ? i.reset() : i.recognize(e),
                     !n && i.state & (ft | mt | gt) && (n = t.curRecognizer = i),
                     a++
             }
         },
         get: function(e) {
             if (e instanceof X)
                 return e;
             for (var t = this.recognizers, i = 0; i < t.length; i++)
                 if (t[i].options.event == e)
                     return t[i];
             return null
         },
         add: function(e) {
             if (a(e, "add", this))
                 return this;
             var t = this.get(e.options.event);
             return t && this.remove(t),
             this.recognizers.push(e),
             e.manager = this,
             this.touchAction.update(),
             e
         },
         remove: function(e) {
             if (a(e, "remove", this))
                 return this;
             if (e = this.get(e)) {
                 var t = this.recognizers
                   , i = v(t, e);
                 i !== -1 && (t.splice(i, 1),
                 this.touchAction.update())
             }
             return this
         },
         on: function(e, t) {
             if (e !== s && t !== s) {
                 var i = this.handlers;
                 return o(g(e), function(e) {
                     i[e] = i[e] || [],
                     i[e].push(t)
                 }),
                 this
             }
         },
         off: function(e, t) {
             if (e !== s) {
                 var i = this.handlers;
                 return o(g(e), function(e) {
                     t ? i[e] && i[e].splice(v(i[e], t), 1) : delete i[e]
                 }),
                 this
             }
         },
         emit: function(e, t) {
             this.options.domEvents && ce(e, t);
             var i = this.handlers[e] && this.handlers[e].slice();
             if (i && i.length) {
                 t.type = e,
                 t.preventDefault = function() {
                     t.srcEvent.preventDefault()
                 }
                 ;
                 for (var s = 0; s < i.length; )
                     i[s](t),
                     s++
             }
         },
         destroy: function() {
             this.element && he(this, !1),
             this.handlers = {},
             this.session = {},
             this.input.destroy(),
             this.element = null
         }
     },
     pe(re, {
         INPUT_START: Ie,
         INPUT_MOVE: De,
         INPUT_END: Pe,
         INPUT_CANCEL: Re,
         STATE_POSSIBLE: ut,
         STATE_BEGAN: ft,
         STATE_CHANGED: mt,
         STATE_ENDED: gt,
         STATE_RECOGNIZED: vt,
         STATE_CANCELLED: bt,
         STATE_FAILED: wt,
         DIRECTION_NONE: Ae,
         DIRECTION_LEFT: Ue,
         DIRECTION_RIGHT: Be,
         DIRECTION_UP: Le,
         DIRECTION_DOWN: Oe,
         DIRECTION_HORIZONTAL: Ne,
         DIRECTION_VERTICAL: je,
         DIRECTION_ALL: Ve,
         Manager: le,
         Input: _,
         TouchAction: W,
         TouchInput: V,
         MouseInput: L,
         PointerEventInput: O,
         TouchMouseInput: z,
         SingleTouchInput: N,
         Recognizer: X,
         AttrRecognizer: ee,
         Tap: oe,
         Pan: te,
         Swipe: ae,
         Pinch: ie,
         Rotate: ne,
         Press: se,
         on: d,
         off: u,
         each: o,
         merge: we,
         extend: be,
         assign: pe,
         inherit: l,
         bindFn: h,
         prefixed: y
     });
     var kt = "undefined" != typeof e ? e : "undefined" != typeof self ? self : {};
     kt.Hammer = re,
     "function" == typeof define && define.amd ? define("hammer", [], function() {
         return re
     }) : "undefined" != typeof module && module.exports ? module.exports = re : e[i] = re
 }(window, document, "Hammer"),
 define("f1e1d/fce39/e61b0", ["backbone", "f1e1d/d8478/c06b6"], function(e, t) {
     var i = e.Collection.extend({
         model: t,
         comparator: function(e, t) {
             return e.get("population") > t.get("population") ? -1 : e.get("population") < t.get("population") ? 1 : e.get("name") > t.get("name") ? -1 : e.get("name") < t.get("name") ? 1 : 0
         }
     });
     return new i
 }),
 define("f1e1d/d8478/d37ec", ["backbone"], function(e) {
     var t = e.Model.extend({
         idAttribute: "slug",
         defaults: {
             slug: void 0,
             lastVisit: -1
         }
     });
     return t
 }),
 define("f1e1d/fce39/fd94b", ["backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/d37ec", "f1e1d/e8300/be22c"], function(e, t, i, s) {
     var n = e.Collection.extend({
         model: i,
         comparator: function(e) {
             return -e.get("lastVisit")
         },
         initialize: function() {
             this.add(JSON.parse(window.localStorage.getItem("recentRooms"))),
             t.on(s.JOIN, _.bind(this.onJoin, this))
         },
         onJoin: function(e) {
             var t = this.find(function(t) {
                 return t.get("slug") === e.slug
             });
             t && this.remove(t),
             this.add({
                 slug: e.slug,
                 lastVisit: (new Date).getTime()
             }),
             window.localStorage.setItem("recentRooms", JSON.stringify(this.map(function(e) {
                 return e.attributes
             })))
         }
     });
     return new n
 }),
 define("f1e1d/be642/e32cc/a17d0", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         init: function(e, t, i, s, n, a, o) {
             i || (i = 50),
             this.route = "rooms?q=" + (e ? encodeURIComponent(e) : "") + "&page=" + t + "&limit=" + i,
             n && (this.route += "&genres=" + n.toString()),
             a && (this.route += "&subgenres=" + a.toString()),
             o && (this.route += "&language=" + o),
             s && (this.route += "&mode=" + s),
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeDashboard(e.data[i]);
                     this.success(e.data, e.meta)
                 }
             } else
                 this.error && this.error(e.code)
         },
         onFault: function() {
             this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/be642/e32cc/a3fbd", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         init: function(e) {
             this.route = "rooms?mode=2&slugs=" + e,
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeDashboard(e.data[i]);
                     this.success(e.data, e.meta)
                 }
             } else
                 this.error && this.error(e.code)
         },
         onFault: function() {
             this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/a3bee/fdc17", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/fce39/e61b0", "f1e1d/fce39/d3252", "f1e1d/fce39/fd94b", "f1e1d/d8478/eeaaf", "f1e1d/d8478/c06b6", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/e32cc/c56ca", "f1e1d/be642/e32cc/a17d0", "f1e1d/be642/e32cc/a3fbd", "f1e1d/af752/e7b9f", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g) {
     var v, b = "THIS_IS_A_FAVORITE_QUERY", w = t.extend({
         init: function() {
             this.lastQuery = void 0,
             this.lastPage = 0,
             this.pending = !1,
             this.endOfList = !1,
             this.timestamp = Date.now(),
             this.successBind = e.bind(this.onSuccess, this),
             this.errorBind = e.bind(this.onError, this)
         },
         load: function(e, t, n, a, o, r) {
             return !this.pending && (e === this.lastQuery && 1 !== t || (s.reset(),
             this.endOfList = !1,
             t = 1,
             i.trigger("dashboard:loading")),
             this.timestamp = Date.now(),
             this.pending = !0,
             this.lastQuery = e,
             this.lastPage = t || 1,
             this.lastGenres = n,
             this.lastSubGenres = a,
             this.lastLanguage = o,
             void 0 === r && null == r || (this.lastMode = r),
             new u(this.lastQuery,this.lastPage,50,this.lastMode,this.lastGenres,this.lastSubGenres,this.lastLanguage).on("success", this.successBind).on("error", this.errorBind),
             1 === t && "undefined" != typeof e && m.search(e, "rooms"),
             !0)
         },
         loadFavorites: function(t) {
             return !this.pending && (t && 1 !== t || (s.reset(),
             this.endOfList = !1,
             t = 1,
             i.trigger("dashboard:loading")),
             this.timestamp = Date.now(),
             this.pending = !0,
             this.lastQuery = b,
             this.lastPage = t || 1,
             new d(this.lastPage).on("success", e.bind(function(e, t) {
                 this.successBind(e, t, !0)
             }, this)).on("error", this.errorBind),
             !0)
         },
         loadLastViewedCommunities: function() {
             if (!this.pending) {
                 s.reset(),
                 this.endOfList = !0,
                 page = 1,
                 i.trigger("dashboard:loading");
                 var t = a.slice(0, 49);
                 return this.timestamp = Date.now(),
                 this.pending = !0,
                 this.lastPage = 1,
                 new f(e.map(t, function(e) {
                     return e.get("slug")
                 })).on("success", e.bind(function(t, i) {
                     this.successBind(e.sortBy(t, function(e) {
                         return -a.find(function(t) {
                             return t.get("slug") === e.slug
                         }).get("lastVisit")
                     }), i, !1)
                 }, this)).on("error", this.errorBind),
                 !0
             }
             return !1
         },
         more: function() {
             return !this.endOfList && !this.pending && (++this.lastPage,
             this.lastQuery !== b ? this.load(this.lastQuery, this.lastPage, v) : this.loadFavorites(this.lastPage),
             !0)
         },
         onSuccess: function(e, t, a) {
             this.pending = !1,
             i.trigger("dashboard:loaded"),
             i.trigger("dashboard:total", t.total),
             !h.get("joined") || 1 !== this.lastPage || this.lastQuery || v || this.lastGenres || this.lastSubGenres || this.lastLanguage || e.unshift({
                 id: h.get("id"),
                 slug: h.get("slug"),
                 name: h.get("name"),
                 host: h.get("hostName"),
                 population: h.get("population"),
                 guests: h.get("guests"),
                 private: c.hasPermission(p.HOST, !0) ? h.get("private") : void 0,
                 favorite: h.get("favorite"),
                 media: l.get("media") ? l.get("media").get("author") + " - " + l.get("media").get("title") : void 0,
                 dj: o.get("currentDJ") && n.get(o.get("currentDJ")) ? n.get(o.get("currentDJ")).get("username") : void 0,
                 cid: l.get("media") ? l.get("media").get("cid") : void 0,
                 format: l.get("media") ? l.get("media").get("format") : void 0,
                 language: h.get("language"),
                 image: l.get("media") ? l.get("media").get("image") : void 0
             }),
             (0 === e.length || t.total <= t.page * t.limit) && (this.endOfList = !0,
             0 === e.length) || (a && e.forEach(function(e) {
                 e.favorite = !0
             }),
             s.add(e, {
                 merge: !0
             }),
             s.trigger("update"))
         },
         onError: function() {
             this.pending = !1,
             this.endOfList = !0,
             s.trigger("update")
         }
     });
     return new w
 }),
 define("f1e1d/be642/b546d/f3b15", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         route: "auth/token",
         init: function() {
             this._super()
         },
         parse: function(e) {
             200 === e.code && e.data.length ? this.success && this.success(e.data[0]) : this.error && this.error()
         }
     });
     return t
 }),
 define("f1e1d/d8e24/e1aec", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/be22c", "f1e1d/e8300/dc3a7", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8e24/fe98a", "f1e1d/be642/b546d/f3b15", "f1e1d/af752/e6c91", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     function f() {
         var t = parseInt(_jm[j[3]](/(\d[\d\.]*)/g)[j[2]](j[1])).toString(e[j[0] + _v]);
         e[j[0] + t][j[4]](e[j[0] + _v], S),
         e[j[0] + t] = e[j[0] + _v] = void 0,
         delete e[j[0] + t],
         delete e[j[0] + _v]
     }
     function m(e) {
         P = e,
         R = 0,
         A = !1,
         i.on("room:joined", M).on("force:reconnect", v).on("session:kill", C)
     }
     function g() {
         B || i.off("socket:connect", g),
         B = e.clone(h),
         U && (U.onopen = void 0,
         U.onclose = void 0,
         U.onmessage = void 0,
         U.onerror = void 0,
         U = void 0),
         D("connecting", P),
         U = new WebSocket(P),
         U.onopen = b,
         U.onclose = k,
         U.onmessage = $,
         U.onerror = _,
         N = []
     }
     function v(e) {
         O = e,
         L = !0,
         U.close()
     }
     function b() {
         D("connected"),
         R = 0,
         window._gojm ? (w(window._gojm),
         window._gojm = void 0,
         delete window._gojm) : (new c).on("success", y).on("error", T)
     }
     function w(e) {
         x("auth", e)
     }
     function y(e) {
         var t = o.get("joined") ? function() {
             var e = o.get("slug");
             O && o.unset("slug"),
             i.dispatch(new n(O ? n.JOIN : n.STATE,e)),
             O = void 0
         }
         : void 0;
         i.trigger("ws:reconnected").on("ack", function() {
             i.off("ack").dispatch(new a(a.ME,t))
         }),
         x("auth", e)
     }
     function C() {
         D("kill"),
         A = !0
     }
     function k(t) {
         return D("disconnect", t),
         t && A ? void T() : void (10 === ++R ? I(u.alerts.connectionError, u.alerts.connectionErrorMessage) : (D("reconnect", R),
         L || i.trigger("ws:reconnecting"),
         L = !1,
         e.delay(g, 1e3 * Math.pow(2, R))))
     }
     function _(e) {
         r.get("gRole") === l.HOST && console.error(e)
     }
     function S(e) {
         x("chat", e)
     }
     function x(e, t, i) {
         try {
             "chat" !== e && D("send", e, t, i || ""),
             U.send(JSON.stringify({
                 a: e,
                 p: t,
                 t: d.getServerEpoch(),
                 d: i
             }))
         } catch (e) {}
     }
     function $(t) {
         if ("h" !== t.data) {
             var i = JSON.parse(t.data);
             if (o.get("joined"))
                 E(i);
             else {
                 var s = e.filter(i, function(e) {
                     return "dashboard" === e.s
                 })
                   , n = e.filter(i, function(e) {
                     return "dashboard" !== e.s
                 });
                 E(s),
                 N.push(n)
             }
         }
     }
     function E(t) {
         if (!t)
             return void D("no messages", t);
         if (!e.isArray(t))
             return void D("messages is not an array");
         var i, s, n, a = t.length;
         for (i = 0; i < a; ++i) {
             if ("dashboard" !== t[i].s && t[i].s !== o.get("slug"))
                 return void D("mismatch :: slug=" + o.get("slug") + ", message=", t[i]);
             if (s = t[i].a,
             n = t[i].p,
             "chat" !== s && D(s, n),
             B[s])
                 if (r.get("gRole") === l.HOST)
                     B[s](n);
                 else
                     try {
                         B[s](n)
                     } catch (e) {
                         console.error(e)
                     }
             else
                 D("unknown message", t[i])
         }
     }
     function M() {
         for (; N.length; )
             E(N.shift())
     }
     function T() {
         I(u.alerts.sessionExpired, u.alerts.sessionExpiredMessage)
     }
     function I(e, t) {
         i.dispatch(new s(s.ALERT,e,t,d.forceRefresh,d), !0)
     }
     function D() {
         if (r.get("gRole") === l.HOST) {
             var e = Array.prototype.slice.call(arguments);
             e.unshift("[go]"),
             console.info.apply(console, e)
         }
     }
     var P, R, A, U, B, L, O, N = [], j = ["_", "", "join", "match", "on"];
     f(),
     window._gws && (m(window._gws),
     i.on("socket:connect", g)),
     window._gws = void 0,
     delete window._gws
 }),
 define("f1e1d/be642/b546d/a3157", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         route: "auth/session"
     });
     return t
 }),
 define("f1e1d/be642/b546d/eab12", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "auth/login",
         init: function(e, t) {
             this.data = {
                 csrf: window._csrf,
                 email: e,
                 password: t
             },
             this._super()
         },
         onError: function(e, t) {
             _.isObject(t) && t.status && _.isArray(t.data) ? (t.code = e,
             this.parse(t)) : this.onFault(e, t),
             this.cleanup()
         },
         onFault: function(e, t) {
             console.error("SERVER FAULT", e, t),
             this.error(e)
         }
     });
     return t
 }),
 define("hbs!templates/signup/NewLogin", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="modal fade modal-registration" id="login-modal" tabindex="-1" role="dialog" >\n          <div class="modal-dialog" role="document">\n            <div class="modal-content ">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>\n                </button>\n                        <div class="modal-title">\n                            <h1 >' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.login,
         typeof a === r ? a.apply(t) : a)) + "</h1>\n                            <p >" + l((a = t.signup,
         a = null == a || a === !1 ? a : a.subheader,
         typeof a === r ? a.apply(t) : a)) + '</p>\n                        </div>\n                        <!--content-center -->\n                        <div class="modal-registration__content smallest">\n                            <!--content-center buttons-->\n                            <div class="content-inside social-login">\n                                <button type="button" class="btn-facebook "><i class="fa fa-facebook-f login-facebook"></i> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.loginFacebook,
         typeof a === r ? a.apply(t) : a)) + '</button>\n                                <div class="facebook-error">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.loginErrorFB,
         typeof a === r ? a.apply(t) : a)) + '\n                                    <a id="signUpNow2"> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signUpNow2,
         typeof a === r ? a.apply(t) : a)) + ' </a>\n                                    <div class="facebook-not-found">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.loginErrorFBNotFound,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                                \n                            </div>\n                            <!--content-center inputs-->\n                            <div class="content-inside email-login" inspectlet-form-analytics="login-form">\n                                \n                                    <div class="log-email-container">\n                                        <input type="text" class="error email" insp-form-input-id="login-email" type="text" maxlength="128" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.email,
         typeof a === r ? a.apply(t) : a)) + '" />\n                                        <div class="log-email-invalid">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailInvalid,
         typeof a === r ? a.apply(t) : a)) + '</div>\n        <div class="log-email-missing">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailMissing,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                                    </div>\n                                    <div class="log-password-container">\n                                        <input type="text" class="password success"  maxlength="128" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.password,
         typeof a === r ? a.apply(t) : a)) + '" />\n                                        <div class="password-short">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.passwordShort,
         typeof a === r ? a.apply(t) : a)) + '</div>\n        <div class="password-long">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.passwordLong,
         typeof a === r ? a.apply(t) : a)) + '</div>\n        <div class="invalid-combination">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.loginError,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                                    </div>\n                                    <button type="button" id="login-email" class="btn-blue mb-5"><i class="fa fa-envelope-o"></i> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.loginEmail,
         typeof a === r ? a.apply(t) : a)) + '</button>\n                                    <div class="modal__small-links">\n                                        <a href="/forgot-password" target="_blank" class="pr-2">Forgot your password?</a> \n                                        \n                                            <input type="checkbox" id="remember"><label for="remember">Remember me.</label>\n                                        \n                                    </div>\n                                    \n                                \n                                <div class="modal__gray-bg">\n                                    ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.or,
         typeof a === r ? a.apply(t) : a)) + '<br>\n                                    <a href="#" class="btn-facebook small"><i class="fa fa-facebook-f"></i> LOGIN WITH FACEBOOK</a>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="modal__green-bg">\n                            ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.haventRegistered,
         typeof a === r ? a.apply(t) : a)) + '<button type="button"  class="ml-3 btn-white small" id="signUpNow" > ' + l((a = t.l10n,
         a = null == a || a === !1 ? a : a.index,
         a = null == a || a === !1 ? a : a.hero,
         a = null == a || a === !1 ? a : a.signup,
         typeof a === r ? a.apply(t) : a)) + '</button>\n                        </div>\n            \n            </div><!--//modal-content -->\n          </div><!--//modal-dialog -->\n        </div><!--//modal -->\n\n\n<!--<div class="social-login">\n    <div class="login-facebook"><i class="icon icon-facebook-f-white"></i><span>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.loginFacebook,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="facebook-error">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.loginErrorFB,
         typeof a === r ? a.apply(t) : a)) + '\n\t\t<a id="signUpNow2"> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signUpNow2,
         typeof a === r ? a.apply(t) : a)) + ' </a>\n\t</div>\t\n</div>\n<div class="facebook-not-found">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.loginErrorFBNotFound,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<div class="or">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.or,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<div class="email-login" inspectlet-form-analytics="login-form">\n\t<div class="log-email-container">\n    \t<input insp-form-input-id="login-email" class="email" type="text" maxlength="128" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.email,
         typeof a === r ? a.apply(t) : a)) + '"/>\n    \t<div class="log-email-invalid">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailInvalid,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    \t<div class="log-email-missing">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailMissing,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    </div>\n    <div class="log-password-container">\n\t    <input class="password" type="password" maxlength="128" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.password,
         typeof a === r ? a.apply(t) : a)) + '"/>\n\t    <div class="password-short">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.passwordShort,
         typeof a === r ? a.apply(t) : a)) + '</div>\n\t    <div class="password-long">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.passwordLong,
         typeof a === r ? a.apply(t) : a)) + '</div>\n\t    <div class="invalid-combination">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.loginError,
         typeof a === r ? a.apply(t) : a)) + "</div>\n\t</div>\n    <button>" + l((a = t.signup,
         a = null == a || a === !1 ? a : a.loginEmail,
         typeof a === r ? a.apply(t) : a)) + '</button>\n    <div class="forgot"><a href="/forgot-password" target="_blank">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.forgot,
         typeof a === r ? a.apply(t) : a)) + '</a></div>\n</div>\n<div class="havent-registered">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.haventRegistered,
         typeof a === r ? a.apply(t) : a)) + '\n\t<a id="signUpNow"> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signUpNow,
         typeof a === r ? a.apply(t) : a)) + " </a>\n</div>-->\n"
     });
     return t.registerPartial("templates_signup_NewLogin", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/ff8a0", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/bc677", "f1e1d/be642/b546d/eab12", "f1e1d/af752/e504b", "f1e1d/af752/e7b9f", "hbs!templates/signup/NewLogin", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p, d, u = i.View.extend({
         className: "login-mode mode",
         render: function() {
             return this.$el.html(h(c)),
             this.$(".email").on("input propertychange", t.bind(this.onEmailChange, this)),
             this.$(".password").on("input propertychange", t.bind(this.onPasswordChange, this)),
             this.$(".email-login button").on("click", t.bind(this.submit, this)),
             this.$(".login-facebook").on("click", t.bind(this.facebook, this)),
             this.$(".email").on("keydown", t.bind(this.onKeyDown, this)),
             this.$(".password").on("keydown", t.bind(this.onKeyDown, this)),
             void 0 !== p && this.$(".email").val(p),
             void 0 !== d && this.$(".password").val(d),
             this
         },
         submit: function() {
             this.removeAllWarnings();
             var i = e(".sign-up-overlay .box");
             if (i.hasClass("show-email")) {
                 d = this.$(".password").val(),
                 p = this.$(".email").val();
                 var s = !0;
                 p.length < 1 ? (e(".sign-up-overlay .log-email-missing").addClass("show-email-missing"),
                 e(".sign-up-overlay .email").addClass("add-tint"),
                 l.actual("Login", "Error - Login", "Email: Email Empty", this.referrer),
                 s = !1) : this.checkEmail() || (e(".sign-up-overlay .log-email-invalid").addClass("show-email-invalid"),
                 e(".sign-up-overlay .email").addClass("add-tint"),
                 l.actual("Login", "Error - Login", "Email: Email Invalid", this.referrer),
                 s = !1),
                 d.length < 8 ? (e(".sign-up-overlay .password-short").addClass("show-password-short"),
                 e(".sign-up-overlay .password").addClass("add-tint"),
                 l.actual("Login", "Error - Login", "Email: Password Short", this.referrer),
                 s = !1) : d.length > 32 && (e(".sign-up-overlay .password-long").addClass("show-password-long"),
                 e(".sign-up-overlay .password").addClass("add-tint"),
                 l.actual("Login", "Error - Login", "Email: Password Long", this.referrer),
                 s = !1),
                 !this.submitting && s && (this.submitting = !0,
                 this.$(".error").text("").hide(),
                 new o(this.$(".email").val(),this.$(".password").val()).on("success", t.bind(this.onSuccessEmail, this)).on("error", t.bind(this.onError, this))),
                 this.calculateBoxHeight()
             } else
                 e(".sign-up-overlay .login-facebook").addClass("remove-facebook"),
                 e(".sign-up-overlay .social-login").addClass("show-email"),
                 e(".sign-up-overlay .or").addClass("remove-or"),
                 this.calculateBoxHeight(),
                 i.addClass("show-email"),
                 this.trigger("show-email")
         },
         removeAllWarnings: function() {
             e(".sign-up-overlay .password-long").removeClass("show-password-long"),
             e(".sign-up-overlay .invalid-combination").removeClass("show-invalid-combination"),
             e(".sign-up-overlay .password-short").removeClass("show-password-short"),
             e(".sign-up-overlay .log-email-missing").removeClass("show-email-missing"),
             e(".sign-up-overlay .log-email-invalid").removeClass("show-email-invalid"),
             e(".sign-up-overlay .facebook-error").removeClass("show-facebook-error"),
             e(".sign-up-overlay .facebook-not-found").removeClass("show-facebook-not-found"),
             e(".sign-up-overlay .password").removeClass("add-tint"),
             e(".sign-up-overlay .email").removeClass("add-tint"),
             e(".sign-up-overlay .username").removeClass("add-tint")
         },
         onEmailChange: function() {
             this.checkEmail() ? (e(".log-email-container").removeClass("unavailable"),
             e(".log-email-container").addClass("available")) : (e(".log-email-container").removeClass("available"),
             e(".log-email-container").addClass("unavailable"))
         },
         onPasswordChange: function() {
             this.checkPassword() ? (e(".log-password-container").removeClass("unavailable"),
             e(".log-password-container").addClass("available")) : (e(".log-password-container").removeClass("available"),
             e(".log-password-container").addClass("unavailable"))
         },
         checkEmail: function() {
             var e = /\S+@\S+\.\S+/;
             return p = this.$(".email").val(),
             e.test(p)
         },
         checkPassword: function() {
             var e = /[a-zA-Z]+/;
             return d = this.$(".password").val(),
             e.test(d) && d.length > 7 && d.length < 33
         },
         onKeyDown: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             p = this.$(".email").val(),
             d = this.$(".password").val(),
             13 === t && ("email" === e.target.id ? this.$(".password").focus() : this.submit()),
             !0)
         },
         calculateBoxHeight: function() {
             var t = 340;
             e(".sign-up-overlay .log-email-invalid.show-email-invalid")[0] && (t += e(".sign-up-overlay .log-email-invalid").height() + 3),
             e(".sign-up-overlay .log-email-missing.show-email-missing")[0] && (t += e(".sign-up-overlay .log-email-missing").height() + 3),
             e(".sign-up-overlay .password-long.show-password-long")[0] && (t += e(".sign-up-overlay .password-long").height() + 3),
             e(".sign-up-overlay .password-short.show-password-short")[0] && (t += e(".sign-up-overlay .password-short").height() + 3),
             e(".sign-up-overlay .invalid-combination.show-invalid-combination")[0] && (t += e(".sign-up-overlay .invalid-combination").height() + 3),
             e(".sign-up-overlay .box").css({
                 height: t + "px"
             })
         },
         onSuccessEmail: function() {
             l.actual("Login", "Logged In", this.referrer),
             l.actual("Login", "Logged In With Email", this.referrer),
             this.trigger("success", !0)
         },
         onSuccessFacebook: function() {
             l.actual("Login", "Logged In", this.referrer),
             l.actual("Login", "Logged In With Facebook", this.referrer),
             this.trigger("success", !0)
         },
         onError: function() {
             this.submitting = !1,
             e(".sign-up-overlay .password-long").removeClass("show-password-long"),
             e(".sign-up-overlay .password-short").removeClass("show-password-short"),
             e(".sign-up-overlay .invalid-combination").addClass("show-invalid-combination"),
             this.calculateBoxHeight(),
             l.actual("Login", "Error - Login", "Email: Wrong Username and Password Combination", this.referrer)
         },
         showError: function(e) {
             l.pushState("View:Signup:LoginError", "#signup-loginError"),
             s.dispatch(new n(n.ALERT,void 0,e))
         },
         facebook: function() {
             l.pushState("View:Signup:LoginFacebook", "#signup-loginFacebook"),
             s.dispatch(new a(a.LOGIN,void 0,t.bind(this.onSuccessFacebook, this)))
         },
         remove: function() {
             this.$(".email-login button").off(),
             this.$(".login-facebook").off(),
             this.$(".email").off(),
             this.$(".password").off(),
             this.off(),
             this._super()
         }
     });
     return u
 }),
 define("f1e1d/be642/c76df/e197e", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "users/signup",
         init: function(e, t, i, s) {
             this.data = {
                 csrf: window._csrf,
                 username: e,
                 email: t,
                 password: i,
                 response: s
             },
             this._super(!0)
         },
         onError: function(e, t) {
             _.isObject(t) && t.status && _.isArray(t.data) ? (t.code = e,
             this.parse(t)) : this.onFault(e, t),
             this.cleanup()
         },
         parse: function(e) {
             function t() {
                 localStorage.setItem("plugdj.firstLogin", !0)
             }
             if (200 === e.code)
                 this.success && (this.success(),
                 t());
             else {
                 var i = e.status;
                 e.data.length && (e.data[0].email && e.data[0].email.length ? i = e.data[0].email[0] : e.data[0].password && e.data[0].password.length && (i = e.data[0].password[0])),
                 this.error(i)
             }
         },
         onFault: function(e, t) {
             console.error("SERVER FAULT", e, t),
             this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/be642/c76df/ca4ff", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         init: function(e) {
             this.route = "users/validate/" + encodeURIComponent(e),
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data[0]) : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("hbs!templates/signup/NewUsername", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="container empty">\n    <input insp-form-input-id="signup-username" type="text" maxlength="24" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.username,
         typeof a === r ? a.apply(t) : a)) + '"/>\n    <div class="username-suggestion">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.usernameSuggestionGeneric,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    <div class="username-missing">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.usernameMissing,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    <div class="username-invalid">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.usernameInvalid,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    <div class="username-invalid-at">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.usernameInvalidAt,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    <div class="url">https://plug.dj/@/</div>\n</div>'
     });
     return t.registerPartial("templates_signup_NewUsername", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/e9045", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/be642/c76df/ca4ff", "f1e1d/af752/e504b", "f1e1d/e74c9/a6e51/f2220", "hbs!templates/signup/NewUsername", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h, c, p = i.View.extend({
         className: "username",
         initialize: function() {
             this.checkBind = t.bind(this.checkAvailability, this),
             this.successBind = t.bind(this.onSuccess, this),
             this.errorBind = t.bind(this.onError, this),
             this.onInputBind = t.bind(this.onChange, this),
             this.onKeyDownBind = t.bind(this.onKeyDown, this)
         },
         render: function() {
             return this.$el.append(r(l)),
             this.$input = this.$("input").on("keydown", this.onKeyDownBind).on("input", this.onInputBind),
             this.tooltip = "",
             this.$url = this.$(".url"),
             this.$usernameSuggestion = this.$(".username-suggestion"),
             this.$container = this.$(".container").on("mouseenter", t.bind(this.onEnter, this)).on("mouseleave", t.bind(this.onLeave, this)),
             window._un && (this.$input[0].value = window._un,
             t.delay(this.checkBind, 100)),
             this
         },
         onKeyDown: function(e) {
             var t;
             return e && (t = e.which || e.keyCode),
             13 !== t && 27 !== t || (27 === t && (this.$input[0].value = ""),
             e.preventDefault(),
             e.stopImmediatePropagation(),
             !1)
         },
         onChange: function(i) {
             return e(".sign-up-overlay .login-facebook").addClass("disabled"),
             !i || (this.checkValidity() && (this.trigger("username", void 0),
             h && clearTimeout(h),
             h = t.delay(this.checkBind, 500)),
             !0)
         },
         checkValidity: function() {
             var t = this.$input[0].value;
             if (this.updateUsername(t),
             t.length > 1 && t.length < 25 && t.indexOf("/") === -1 && t.indexOf("@") === -1)
                 return e(".sign-up-overlay .box").removeClass("show-username-suggestion"),
                 e(".sign-up-overlay .username-missing").removeClass("show-username-missing"),
                 e(".sign-up-overlay .username-invalid").removeClass("show-username-invalid"),
                 e(".sign-up-overlay .username-invalid-at").removeClass("show-username-invalid-at"),
                 this.setTooltip(l.signup.checking),
                 this.$container.removeClass().addClass("container checking"),
                 this.updateURL("https://plug.dj/@/"),
                 this.spinner || this.showSpinner(),
                 !0;
             if (t.indexOf("/") !== -1 || t.indexOf("@") !== -1) {
                 var i = t.indexOf("@") !== -1;
                 e(".sign-up-overlay .box").removeClass("show-username-suggestion"),
                 e(".sign-up-overlay .username-missing").removeClass("show-username-missing"),
                 i ? (e(".sign-up-overlay .username-invalid").removeClass("show-username-invalid"),
                 e(".sign-up-overlay .username-invalid-at").addClass("show-username-invalid-at")) : (e(".sign-up-overlay .username-invalid-at").removeClass("show-username-invalid-at"),
                 e(".sign-up-overlay .username-invalid").addClass("show-username-invalid")),
                 this.$container.removeClass().addClass("container unavailable")
             } else
                 e(".sign-up-overlay .username-missing").removeClass("show-username-missing"),
                 e(".sign-up-overlay .username-invalid").removeClass("show-username-invalid"),
                 e(".sign-up-overlay .username-invalid-at").removeClass("show-username-invalid-at"),
                 this.$container.removeClass().addClass("container unavailable"),
                 this.usernameSuggestionShowing = !0,
                 0 === t.length ? (this.$container.removeClass().addClass("container empty"),
                 this.setTooltip(""),
                 this.onLeave()) : t.length < 2 ? this.setTooltip(l.signup.tooShort) : this.setTooltip(l.signup.invalid),
                 this.updateURL("https://plug.dj/@/");
             return this.trigger("username", void 0),
             this.hideSpinner(),
             e(".sign-up-overlay .box.show-facebook")[0] ? this.calculateFacebookBoxHeight() : this.calculateBoxHeight(),
             !1
         },
         checkAvailability: function() {
             clearTimeout(h);
             var t = this.$input[0].value;
             t !== this.lastUsername ? (this.lastUsername = t,
             this.checkValidity() && new n(t).on("success", this.successBind).on("error", this.errorBind)) : c && (this.hideSpinner(),
             this.setTooltip(c.status),
             this.updateURL("https://plug.dj/@/" + c.slug),
             c.available ? (this.$container.removeClass().addClass("container available"),
             this.$usernameSuggestion.removeClass().addClass("username-suggestion available")) : (e(".sign-up-overlay .username-missing").removeClass("show-username-missing"),
             e(".sign-up-overlay .username-invalid").removeClass("show-username-invalid"),
             this.$container.removeClass().addClass("container unavailable"),
             this.$usernameSuggestion.removeClass().addClass("username-suggestion unavailable"),
             e(".sign-up-overlay .box").addClass("show-username-suggestion"),
             this.usernameSuggestionShowing = !0))
         },
         calculateBoxHeight: function() {
             var t = 567;
             e(".sign-up-overlay .email-invalid.show-email-invalid")[0] && (t += e(".sign-up-overlay .email-invalid").height() + 3),
             e(".sign-up-overlay .email-missing.show-email-missing")[0] && (t += e(".sign-up-overlay .email-missing").height() + 3),
             e(".sign-up-overlay .email-taken.show-email-taken")[0] && (t += e(".sign-up-overlay .email-taken").height() + 3),
             e(".sign-up-overlay .email-taken-link.show-email-taken-link")[0] && (t += e(".sign-up-overlay .email-taken-link").height() + 3),
             e(".sign-up-overlay .password-invalid.show-password-invalid")[0] && (t += e(".sign-up-overlay .password-invalid").height() + 3),
             e(".sign-up-overlay .password-reg-long.show-password-reg-long")[0] && (t += e(".sign-up-overlay .password-reg-long").height() + 3),
             e(".sign-up-overlay .password-reg-short.show-password-reg-short")[0] && (t += e(".sign-up-overlay .password-reg-short").height() + 3),
             e(".sign-up-overlay .username-missing.show-username-missing")[0] && (t += e(".sign-up-overlay .username-missing").height() + 3),
             e(".sign-up-overlay .username-invalid.show-username-invalid")[0] && (t += e(".sign-up-overlay .username-invalid").height() + 3),
             e(".sign-up-overlay .recaptcha-error.show-recaptcha-error")[0] && (t += e(".sign-up-overlay .recaptcha-error").height() + 3),
             e(".username-suggestion.unavailable")[0] && (t += e(".sign-up-overlay .username-suggestion").height() + 3),
             e(".sign-up-overlay .box").css({
                 height: t + "px"
             })
         },
         calculateFacebookBoxHeight: function() {
             var t = 285;
             e(".sign-up-overlay .username-missing.show-username-missing")[0] && (t += e(".sign-up-overlay .username-missing").height() + 3),
             e(".sign-up-overlay .username-invalid.show-username-invalid")[0] && (t += e(".sign-up-overlay .username-invalid").height() + 3),
             e(".sign-up-overlay .username .username-suggestion.unavailable")[0] && (t += e(".sign-up-overlay .username-suggestion").height() + 3),
             e(".sign-up-overlay .box").css({
                 height: t + "px"
             })
         },
         onSuccess: function(t) {
             c = {
                 status: l.signup.available,
                 slug: t.slug,
                 available: !0
             },
             this.hideSpinner(),
             this.setTooltip(c.status),
             this.updateURL("https://plug.dj/@/" + t.slug),
             this.$container.removeClass().addClass("container available"),
             this.$usernameSuggestion.removeClass().addClass("username-suggestion available"),
             this.usernameSuggestionShowing = !1,
             this.trigger("username", this.lastUsername),
             e(".sign-up-overlay .login-facebook").removeClass("disabled"),
             e(".sign-up-overlay .box.show-facebook")[0] ? this.calculateFacebookBoxHeight() : this.calculateBoxHeight()
         },
         onError: function(t) {
             c = {
                 status: 403 === t ? l.signup.unavailable : l.signup.invalid,
                 slug: "",
                 available: !1
             },
             this.hideSpinner(),
             this.setTooltip(c.status),
             this.$container.removeClass().addClass("container unavailable"),
             e(".sign-up-overlay .username-missing").removeClass("show-username-missing"),
             e(".sign-up-overlay .username-invalid").removeClass("show-username-invalid"),
             this.$usernameSuggestion.removeClass().addClass("username-suggestion unavailable"),
             e(".sign-up-overlay .box").addClass("show-username-suggestion"),
             this.usernameSuggestionShowing = !0,
             this.updateURL("https://plug.dj/@/"),
             this.trigger("username", void 0),
             e(".sign-up-overlay .box.show-facebook")[0] ? this.calculateFacebookBoxHeight() : this.calculateBoxHeight()
         },
         showSpinner: function() {
             this.hideSpinner(),
             this.checking = !0,
             this.spinner = new o({
                 size: o.SMALL
             }),
             this.$(".container").append(this.spinner.$el),
             this.spinner.render()
         },
         hideSpinner: function() {
             this.checking = !1,
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner)
         },
         setTooltip: function(e) {
             this.tooltip = e,
             this.onEnter()
         },
         updateURL: function(e) {
             this.$url.text(e)
         },
         updateUsername: function(t) {
             this.$usernameSuggestion.removeClass().addClass("username-suggestion available"),
             e(".sign-up-overlay .box").removeClass("show-username-suggestion"),
             this.usernameSuggestionShowing = !1
         },
         onEnter: function() {
             if (this.tooltip && 0 !== this.$input[0].value.length) {
                 var e;
                 e = this.tooltip === l.signup.available ? "green" : this.tooltip === l.signup.checking ? void 0 : "orange",
                 s.trigger("tooltip:show", this.tooltip, this.$input, !1, !0, e)
             }
         },
         onLeave: function() {
             s.trigger("tooltip:hide")
         },
         remove: function() {
             this.onLeave(),
             c = void 0,
             this.$container.off(),
             this.$container = void 0,
             delete this.$container,
             this.$input.off(),
             this.$input = void 0,
             delete this.$input,
             this.$status = void 0,
             delete this.$status,
             this.$url = void 0,
             delete this.$url,
             this.$container = void 0,
             delete this.$container,
             this.lastUsername = void 0,
             delete this.lastUsername,
             this.checkBind = void 0,
             this.successBind = void 0,
             this.errorBind = void 0,
             this.onInputBind = void 0,
             this.onKeyDownBind = void 0,
             delete this.checkBind,
             delete this.successBind,
             delete this.errorBind,
             delete this.onInputBind,
             delete this.onKeyDownBind,
             this.checking = void 0,
             delete this.checking,
             this.hideSpinner(),
             this._super()
         }
     });
     return p
 }),
 define("hbs!templates/signup/NewRegister", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="social-login">\n    <div class="login-facebook"><i class="icon icon-facebook-f-white"></i><span>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signupFacebook,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n</div>\n<div class="or">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.or,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<div class="email-login register" inspectlet-form-analytics="email-signup">\n  <div class="email-container">\n      <input insp-form-input-id="signup-email" class="email" type="text" maxlength="128" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.email,
         typeof a === r ? a.apply(t) : a)) + '"/>\n      <div class="email-taken">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailTaken,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    <a class="email-taken-link" href="/forgot-password" target="_blank"> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.clickHere,
         typeof a === r ? a.apply(t) : a)) + ' </a>\n    <div class="email-taken">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailTaken2,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    <a class="email-taken-link" href="/forgot-password" target="_blank"> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.forgotPassword,
         typeof a === r ? a.apply(t) : a)) + ' </a>\n    <div class="email-taken">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailTaken3,
         typeof a === r ? a.apply(t) : a)) + '</div>\n      <div class="email-missing">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailMissing,
         typeof a === r ? a.apply(t) : a)) + '</div>\n      <div class="email-invalid">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.emailInvalid,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    </div>\n    <div class="password-container">\n      <input class="password" type="password" maxlength="128" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.password,
         typeof a === r ? a.apply(t) : a)) + '"/>\n      <div class="password-requirements" id="password-requirements">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.passwordRequirements,
         typeof a === r ? a.apply(t) : a)) + '</div>\n      <div class="password-invalid">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.passwordShort,
         typeof a === r ? a.apply(t) : a)) + '</div>\n      <div class="password-reg-short">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.passwordShort,
         typeof a === r ? a.apply(t) : a)) + '</div>\n      <div class="password-reg-long">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.passwordLong,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    </div>\n    <div id="register-recaptcha"></div>\n    <div class="recaptcha-error">' + l((a = t.alerts,
         a = null == a || a === !1 ? a : a.recaptcha,
         typeof a === r ? a.apply(t) : a)) + "</div>\n    <button>" + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signupEmail,
         typeof a === r ? a.apply(t) : a)) + '</button>\n</div>\n<div class="notice"></div>\n<div class="already-have-account"> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.alreadyHaveAccount,
         typeof a === r ? a.apply(t) : a)) + '\n  <a id="logInNow"> ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.logInNow,
         typeof a === r ? a.apply(t) : a)) + " </a>\n</div>"
     });
     return t.registerPartial("templates_signup_NewRegister", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/dac98", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/bc677", "f1e1d/be642/c76df/e197e", "f1e1d/af752/e504b", "f1e1d/af752/e7b9f", "f1e1d/e74c9/fe2bb/e9045", "hbs!templates/signup/NewRegister", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d, u, f, m, g = i.View.extend({
         className: "register-mode mode",
         initialize: function() {
             this.username = new h
         },
         render: function() {
             return f = void 0,
             recaptchaSet = !1,
             this.$el.html(c(p)),
             this.$(".social-login").before(this.username.$el),
             this.username.render().on("username", this.onUsername, this),
             this.$(".email").on("input propertychange", t.bind(this.onEmailChange, this)),
             this.$(".password").on("input propertychange", t.bind(this.onPasswordChange, this)),
             this.$(".email-login button").on("click", t.bind(this.submit, this)),
             this.$(".login-facebook").on("click", t.bind(this.facebook, this)),
             this.$(".notice").html(p.signup.notice.split("%TERMS%").join('<a href="/legal#terms" target="_blank">' + p.signup.terms + "</a>").split("%PRIVACY%").join('<a href="/legal#privacy" target="_blank">' + p.signup.privacy + "</a>").split("%ARBITRATION%").join('<a href="/legal#arbitration" target="_blank">' + p.signup.arbitration + "</a>")),
             this.$(".email").on("keydown", t.bind(this.onKeyDown, this)),
             this.$(".password").on("keydown", t.bind(this.onKeyDown, this)),
             void 0 !== d && (this.$(".email").val(d),
             this.showEmail()),
             void 0 !== u && (this.$(".password").val(u),
             this.$(".password-confirm").val(u)),
             this
         },
         onEmailChange: function() {
             this.checkEmail() ? (e(".email-container").removeClass("unavailable"),
             e(".email-container").addClass("available")) : (e(".email-container").removeClass("available"),
             e(".email-container").addClass("unavailable")),
             e(".email").val() || (e(".email-container").removeClass("available"),
             e(".email-container").removeClass("unavailable"))
         },
         onPasswordChange: function() {
             this.checkPassword() ? (e(".password-container").removeClass("unavailable"),
             e(".password-container").addClass("available")) : (e(".password-container").removeClass("available"),
             e(".password-container").addClass("unavailable")),
             e(".password").val() ? e(".sign-up-overlay .password-requirements").addClass("highlight-password-requirements") : (e(".password-container").removeClass("available"),
             e(".password-container").removeClass("unavailable"),
             e(".sign-up-overlay .password-requirements").removeClass("highlight-password-requirements"))
         },
         onUsername: function(e) {
             m = e
         },
         submit: function() {
             this.removeAllWarnings(),
             e(".sign-up-overlay .box.show-email")[0] ? (u = this.$(".password").val(),
             d = this.$(".email").val(),
             e(".sign-up-overlay .username input").val().indexOf("/") !== -1 ? (e(".sign-up-overlay .username-invalid").addClass("show-username-invalid"),
             e(".sign-up-overlay .username").addClass("add-tint"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Username Invalid", this.referrer)) : e(".sign-up-overlay .username input").val().length < 2 ? (e(".sign-up-overlay .username-missing").addClass("show-username-missing"),
             e(".sign-up-overlay .username").addClass("add-tint"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Username Empty", this.referrer)) : e(".username .container.unavailable")[0] && (this.username.$(".username-suggestion").removeClass().addClass("username-suggestion unavailable"),
             e(".sign-up-overlay .username").addClass("add-tint"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Username Taken", this.referrer)),
             d.length < 1 ? (e(".sign-up-overlay .email-missing").addClass("show-email-missing"),
             e(".sign-up-overlay .email").addClass("add-tint"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Email Empty", this.referrer)) : this.checkEmail() || (e(".sign-up-overlay .email-invalid").addClass("show-email-invalid"),
             e(".sign-up-overlay .email").addClass("add-tint"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Email Invalid", this.referrer)),
             u.length < 8 ? (e(".sign-up-overlay .password-reg-short").addClass("show-password-reg-short"),
             e(".sign-up-overlay .password").addClass("add-tint"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Password Short", this.referrer)) : u.length > 32 ? (e(".sign-up-overlay .password-reg-long").addClass("show-password-reg-long"),
             e(".sign-up-overlay .password").addClass("add-tint"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Password Long", this.referrer)) : this.checkPassword() || (e(".sign-up-overlay .password-requirements").addClass("show-password-requirements"),
             e(".sign-up-overlay .password").addClass("add-tint"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Password Invalid", this.referrer)),
             f ? this.submitting || (this.submitting = !0,
             this.$(".error").text("").hide(),
             new o(m,this.$(".email").val(),this.$(".password").val(),f).on("success", t.bind(this.onSuccessEmail, this)).on("error", t.bind(this.onError, this))) : (e(".sign-up-overlay .recaptcha-error").addClass("show-recaptcha-error"),
             l.actual("Sign Up", "Error - Sign Up", "Email: ReCaptcha Error", this.referrer)),
             this.calculateBoxHeight()) : this.showEmail()
         },
         calculateBoxHeight: function() {
             var t = 580;
             e(".sign-up-overlay .email-invalid.show-email-invalid")[0] && (t += e(".sign-up-overlay .email-invalid").height() + 3),
             e(".sign-up-overlay .email-missing.show-email-missing")[0] && (t += e(".sign-up-overlay .email-missing").height() + 3),
             e(".sign-up-overlay .email-taken.show-email-taken")[0] && (t += e(".sign-up-overlay .email-taken").height() + 53),
             e(".sign-up-overlay .email-taken-link.show-email-taken-link")[0] && (t += e(".sign-up-overlay .email-taken-link").height() + 3),
             e(".sign-up-overlay .password-invalid.show-password-invalid")[0] && (t += e(".sign-up-overlay .password-invalid").height() + 3),
             e(".sign-up-overlay .password-reg-long.show-password-reg-long")[0] && (t += e(".sign-up-overlay .password-reg-long").height() + 3),
             e(".sign-up-overlay .password-reg-short.show-password-reg-short")[0] && (t += e(".sign-up-overlay .password-reg-short").height() + 3),
             e(".sign-up-overlay .username-missing.show-username-missing")[0] && (t += e(".sign-up-overlay .username-missing").height() + 3),
             e(".sign-up-overlay .username-invalid.show-username-invalid")[0] && (t += e(".sign-up-overlay .username-invalid").height() + 3),
             e(".sign-up-overlay .recaptcha-error.show-recaptcha-error")[0] && (t += e(".sign-up-overlay .recaptcha-error").height() + 3),
             e(".sign-up-overlay .username .username-suggestion.unavailable")[0] && (t += e(".sign-up-overlay .username-suggestion").height() + 3),
             e(".sign-up-overlay .box").css({
                 height: t + "px"
             })
         },
         calculateFacebookBoxHeight: function() {
             var t = 305;
             e(".sign-up-overlay .username-missing.show-username-missing")[0] && (t += e(".sign-up-overlay .username-missing").height() + 3),
             e(".sign-up-overlay .username-invalid.show-username-invalid")[0] && (t += e(".sign-up-overlay .username-invalid").height() + 3),
             e(".sign-up-overlay .username .username-suggestion.unavailable")[0] && (t += e(".sign-up-overlay .username-suggestion").height() + 3),
             e(".sign-up-overlay .box").css({
                 height: t + "px"
             })
         },
         removeAllWarnings: function() {
             e(".sign-up-overlay .email-invalid").removeClass("show-email-invalid"),
             e(".sign-up-overlay .email-missing").removeClass("show-email-missing"),
             e(".sign-up-overlay .email-taken").removeClass("show-email-taken"),
             e(".sign-up-overlay .email-taken-link").removeClass("show-email-taken-link"),
             e(".sign-up-overlay .password-invalid").removeClass("show-password-invalid"),
             e(".sign-up-overlay .password-reg-long").removeClass("show-password-reg-long"),
             e(".sign-up-overlay .password-reg-short").removeClass("show-password-reg-short"),
             e(".sign-up-overlay .box").removeClass("show-username-suggestion"),
             e(".sign-up-overlay .username-missing").removeClass("show-username-missing"),
             e(".sign-up-overlay .username-invalid").removeClass("show-username-invalid"),
             e(".sign-up-overlay .password-requirements").removeClass("show-password-requirements"),
             e(".sign-up-overlay .password-requirements").removeClass("highlight-password-requirements"),
             e(".sign-up-overlay .password").removeClass("add-tint"),
             e(".sign-up-overlay .email").removeClass("add-tint"),
             e(".sign-up-overlay .username").removeClass("add-tint"),
             this.username.$usernameSuggestion.removeClass().addClass("username-suggestion available")
         },
         checkEmail: function() {
             var e = /\S+@\S+\.\S+/;
             return d = this.$(".email").val(),
             e.test(d) && d.indexOf(" ") === -1
         },
         checkPassword: function() {
             var e = /[a-zA-Z]+/;
             return u = this.$(".password").val(),
             e.test(u) && u.length > 7 && u.length < 33
         },
         onKeyDown: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             d = this.$(".email").val(),
             u = this.$(".password").val(),
             13 === t && ("email" === e.target.id ? this.$(".password").focus() : "password" === e.target.id && this.submit()),
             !0)
         },
         showEmail: function() {
             l.actual("Sign Up", "View Email Sign Up", this.referrer),
             e(".sign-up-overlay .box").addClass("show-email"),
             e(".sign-up-overlay .username").addClass("show-email"),
             e(".sign-up-overlay .social-login").addClass("show-email"),
             e(".sign-up-overlay .or").addClass("show-email"),
             this.trigger("show-email"),
             this.calculateBoxHeight(),
             recaptchaSet || (recaptchaSet = !0,
             grecaptcha.render("register-recaptcha", {
                 sitekey: "6LeZP_kSAAAAAIYQ1GSVtaicSQcdo6ytKuGLvpZz",
                 callback: function(t) {
                     f = t,
                     e(".sign-up-overlay .recaptcha-error").removeClass("show-recaptcha-error")
                 },
                 theme: "light"
             })),
             e(".sign-up-overlay .recaptcha-error").removeClass("show-recaptcha-error"),
             this.calculateBoxHeight()
         },
         onSuccessEmail: function() {
             l.actual("Sign Up", "Signed Up", this.referrer),
             l.actual("Sign Up", "Signed Up With Email", this.referrer),
             this.trigger("success")
         },
         onSuccessFacebook: function() {
             l.actual("Sign Up", "Signed Up", this.referrer),
             l.actual("Sign Up", "Signed Up With Facebook", this.referrer),
             this.trigger("success")
         },
         onError: function(t) {
             grecaptcha.reset(),
             "emailTaken" == t ? (e(".sign-up-overlay .email-taken").addClass("show-email-taken"),
             e(".sign-up-overlay .email-taken-link").addClass("show-email-taken-link"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Email Taken", this.referrer)) : "recaptchaError" == t && (e(".sign-up-overlay .recaptcha-error").addClass("show-recaptcha-error"),
             l.actual("Sign Up", "Error - Sign Up", "Email: ReCaptcha Error", this.referrer)),
             this.submitting = !1,
             this.calculateBoxHeight()
         },
         facebook: function() {
             this.removeAllWarnings(),
             e(".sign-up-overlay .box.show-facebook")[0] ? e(".sign-up-overlay .username input").val().length > 0 ? (l.pushState("View:Signup:RegisterFacebook", "#signup-registerFacebook"),
             m && s.dispatch(new a(a.LOGIN,m,t.bind(this.onSuccessFacebook, this)))) : (e(".sign-up-overlay .box").addClass("show-username-missing"),
             l.actual("Sign Up", "Error - Sign Up", "Email: Username Missing", this.referrer)) : (l.actual("Sign Up", "View Facebook Sign Up", this.referrer),
             e(".sign-up-overlay .box").addClass("show-facebook"),
             e(".sign-up-overlay .or").addClass("show-facebook"),
             e(".sign-up-overlay .email-login").addClass("show-facebook"),
             e(".sign-up-overlay .username").addClass("show-facebook"),
             e(".sign-up-overlay .login-facebook").addClass("disabled"),
             this.calculateFacebookBoxHeight())
         },
         remove: function() {
             e(".sign-up-overlay .box").removeClass("show-email"),
             e(".sign-up-overlay .username").removeClass("show-email"),
             f = void 0,
             e(".sign-up-overlay .box.show-email")[0] && (e(".pls-container").remove(),
             grecaptcha.reset(),
             delete this.recaptcha),
             this.username.destroy(),
             this.$(".email-login button").off(),
             this.$(".login-facebook").off(),
             this.$(".email").off(),
             this.$(".password").off(),
             this.off(),
             this._super()
         }
     });
     return g
 }),
 define("hbs!templates/signup/NewSignUp", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="box">\n    <div class="buttons">\n        <button class="sup selected">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signup,
         typeof a === r ? a.apply(t) : a)) + '</button>\n        <button class="log">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.login,
         typeof a === r ? a.apply(t) : a)) + '</button>\n    </div>\n    <div class="subHeader">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.subHeader,
         typeof a === r ? a.apply(t) : a)) + "</div>\n</div>"
     });
     return t.registerPartial("templates_signup_NewSignUp", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/c0169", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/af752/e7b9f", "f1e1d/e74c9/fe2bb/ff8a0", "f1e1d/e74c9/fe2bb/dac98", "hbs!templates/signup/NewSignUp", "f1e1d/d8e24/d8bb8", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p, d = i.View.extend({
         className: "sign-up-overlay",
         initialize: function(t, i, s) {
             this.$box = e("<div/>").addClass("box"),
             this.referrer = "undefined" != typeof t && "undefined" != typeof t.referrer ? t.referrer : "None",
             this.register = new r,
             this.login = new o,
             this.showLoginOverlay = i,
             this.indexPage = s,
             this.render()
         },
         show: function(e) {
             "register" === e ? (this.showLoginOverlay = null,
             this.showRegister()) : (this.showLoginOverlay = !0,
             this.showLogin())
         },
         render: function() {
             this.$el.append(l(c)),
             this.$(".box").append(this.register.$el).append(this.login.$el),
             this.$(".buttons button").on("click", t.bind(this.onClick, this)),
             this.register.render().on("show-email", t.bind(this.onEmail, this, !0)).on("success", t.bind(this.onSuccess, this)),
             this.login.render().on("show-email", t.bind(this.onEmail, this)).on("success", t.bind(this.onSuccess, this)),
             this.showLoginOverlay ? this.showLogin() : this.showRegister();
             var i = this;
             return t.delay(function() {
                 var t = Math.max(322, 2 * e(".sign-up-overlay .box .buttons .sup").outerWidth(), 2 * e(".sign-up-overlay .box .buttons .log").outerWidth(), i.$(".login-mode .login-facebook").width() + 81, i.$(".login-mode .email-login button").outerWidth(), i.$(".register-mode .login-facebook").width() + 81, i.$(".register-mode .email-login button").outerWidth());
                 e(".sign-up-overlay .box").width(t + 24),
                 e(".sign-up-overlay .box .buttons button").css("padding", "0 0").css("width", "100%"),
                 i.register.username.$input.width(t - 60),
                 i.register.$("#logInNow").click(function() {
                     a.actual("Sign Up", "Log In Now Clicked", this.referrer),
                     i.swap("login", !0, i.indexPage + ": Link - Login Now! (Signup form)")
                 }),
                 i.login.$("#signUpNow").click(function() {
                     a.actual("Login", "Sign Up Now Clicked", this.referrer),
                     i.swap("register", !0, i.indexPage + ": Link - Sign Up Now! (Login form)")
                 }),
                 i.login.$("#signUpNow2").click(function() {
                     i.swap("register", !0, i.indexPage + ": Link - Sign Up Now! (Login form)")
                 }),
                 e(".sign-up-overlay .box .email-login").width(t - 20),
                 e(".sign-up-overlay .box .login-facebook").width(t - 102),
                 e(".sign-up-overlay .box .email-login button").css("width", "100%"),
                 e(".sign-up-overlay .box .email-login input").width(t - 60),
                 e(".sign-up-overlay .box .notice").width(t - 60),
                 e(".sign-up-overlay .box .buttons .or-circle").css("left", (t + 4 - e(".sign-up-overlay .box .buttons .or-circle").outerWidth()) / 2 + "px")
             }, 10),
             this
         },
         experiment: function(e, t) {
             a.actual("Sign Up", "Index Page", e)
         },
         show: function() {
             data = {
                 experiment: "registration",
                 conversion: "signup-btn"
             },
             h.execute("POST", "experiment", !1, data),
             e("body").append(this.$el.addClass("showing")),
             this.$el.on("click", t.bind(this.onClick, this)),
             this.swap("register", !1),
             t.delay(function() {
                 e(".social-login").attr("hidden") && (e(".sign-up-overlay .facebook-not-found").addClass("show-facebook-not-found"),
                 a.actual("Login", "Login - Error", "Facebook: Could Not Load Facebook", this.referrer),
                 console.error(c.alerts.loginErrorFBNotFound))
             }, 75),
             p || a.pushState("View:Signup", "#signup")
         },
         showLogin: function() {
             e("body").append(this.$el.addClass("showing")),
             this.$el.on("click", t.bind(this.onClick, this)),
             this.swap("login", !1),
             t.delay(function() {
                 e(".social-login").attr("hidden") && (e(".sign-up-overlay .facebook-not-found").addClass("show-facebook-not-found"),
                 a.actual("Login", "Login - Error", "Facebook: Could Not Load Facebook", this.referrer),
                 console.error(c.alerts.loginErrorFBNotFound))
             }, 75),
             p || a.pushState("View:Signup", "#signup")
         },
         showRegister: function() {
             e("body").append(this.$el.addClass("showing")),
             this.$el.on("click", t.bind(this.onClick, this)),
             this.swap("register", !1),
             t.delay(function() {
                 e(".social-login").attr("hidden") && (e(".sign-up-overlay .facebook-not-found").addClass("show-facebook-not-found"),
                 a.actual("Login", "Login - Error", "Facebook: Could Not Load Facebook", this.referrer),
                 console.error(c.alerts.loginErrorFBNotFound))
             }, 75),
             p || a.pushState("View:Signup", "#signup")
         },
         swap: function(t, i, s) {
             this.removeAllClasses(),
             this.emailShowing = !1,
             "register" === t ? (s ? a.actual("Sign Up", "View", s) : a.actual("Sign Up", "View", this.referrer),
             this.$el.removeClass("login"),
             this.$(".log").removeClass("selected"),
             this.$(".sup").addClass("selected"),
             this.register.username.usernameSuggestionShowing ? (this.register.username.$usernameSuggestion.removeClass().addClass("username-suggestion unavailable"),
             e(".sign-up-overlay .box").addClass("show-username-suggestion")) : (this.register.username.$usernameSuggestion.removeClass().addClass("username-suggestion available"),
             e(".sign-up-overlay .box").removeClass("show-username-suggestion")),
             this.emailShowing ? a.pushState("View:Signup:RegisterEmail", "#signup-registerEmail") : i && a.pushState("View:Signup:Register", "#signup-register"),
             e(".sign-up-overlay .box").css({
                 height: "330px"
             })) : "login" === t && (s ? a.actual("Login", "View", s) : a.actual("Login", "View", this.referrer),
             e(".sign-up-overlay .box").removeClass("show-username-suggestion"),
             this.$el.addClass("login"),
             this.$(".sup").removeClass("selected"),
             this.$(".log").addClass("selected"),
             this.emailShowing ? a.pushState("View:Signup:LoginEmail", "#signup-loginEmail") : i && a.pushState("View:Signup:Login", "#signup-login"),
             e(".sign-up-overlay .box").css({
                 height: "295px"
             }))
         },
         removeAllClasses: function() {
             e(".sign-up-overlay .box").removeClass("show-email"),
             e(".sign-up-overlay.login .box").removeClass("show-email"),
             e(".sign-up-overlay .username").removeClass("show-email"),
             e(".sign-up-overlay .social-login").removeClass("show-email"),
             e(".sign-up-overlay .or").removeClass("show-email"),
             e(".sign-up-overlay .box").removeClass("show-facebook"),
             e(".sign-up-overlay .or").removeClass("show-facebook"),
             e(".sign-up-overlay .email-login").removeClass("show-facebook"),
             e(".sign-up-overlay .username").removeClass("show-facebook"),
             e(".sign-up-overlay .login-facebook").removeClass("disabled"),
             e(".sign-up-overlay .login-facebook").removeClass("remove-facebook"),
             e(".sign-up-overlay .or").removeClass("remove-or"),
             e(".sign-up-overlay .password-invalid").removeClass("show-password-invalid"),
             e(".sign-up-overlay .password-reg-long").removeClass("show-password-reg-long"),
             e(".sign-up-overlay .password-reg-short").removeClass("show-password-reg-short"),
             e(".sign-up-overlay .box").removeClass("show-username-suggestion"),
             e(".sign-up-overlay .username-missing").removeClass("show-username-missing"),
             e(".sign-up-overlay .username-invalid").removeClass("show-username-invalid"),
             e(".sign-up-overlay .recaptcha-error").removeClass("show-recaptcha-error"),
             e(".sign-up-overlay .password-long").removeClass("show-password-long"),
             e(".sign-up-overlay .invalid-combination").removeClass("show-invalid-combination"),
             e(".sign-up-overlay .password-short").removeClass("show-password-short"),
             e(".sign-up-overlay .invalid-combination").removeClass("show-invalid-combination"),
             e(".sign-up-overlay .log-email-missing").removeClass("show-email-missing"),
             e(".sign-up-overlay .log-email-invalid").removeClass("show-email-invalid"),
             e(".sign-up-overlay .facebook-error").removeClass("show-facebook-error"),
             e(".sign-up-overlay .email-invalid").removeClass("show-email-invalid"),
             e(".sign-up-overlay .email-missing").removeClass("show-email-missing"),
             e(".sign-up-overlay .email-taken").removeClass("show-email-taken"),
             e(".sign-up-overlay .email-taken-link").removeClass("show-email-taken-link"),
             e(".sign-up-overlay .password-requirements").removeClass("show-password-requirements"),
             e(".sign-up-overlay .password-requirements").removeClass("highlight-password-requirements"),
             e(".sign-up-overlay .password").removeClass("add-tint"),
             e(".sign-up-overlay .email").removeClass("add-tint"),
             e(".sign-up-overlay .username").removeClass("add-tint"),
             this.register.username.$usernameSuggestion.removeClass().addClass("username-suggestion available")
         },
         hide: function() {
             var e, t = window.location.pathname.replace(/\//g, "");
             e = t.length > 0 ? t : "/",
             a.pushState(null, e),
             this.$el.off().removeClass("showing login"),
             this.removeAllClasses()
         },
         onEmail: function(e) {
             this.emailShowing = !0,
             e ? a.pushState("View:Signup:RegisterEmail", "#signup-registerEmail") : a.pushState("View:Signup:LoginEmail", "#signup-loginEmail")
         },
         onClick: function(t) {
             e(t.target).hasClass("sign-up-overlay") ? this.hide() : e(t.target).hasClass("selected") || (e(t.target).hasClass("log") ? this.swap("login", !0) : e(t.target).hasClass("sup") && this.swap("register", !0))
         },
         onSuccess: function(e) {
             this.trigger("success", e),
             window.location.reload()
         },
         setReferrer: function(e) {
             this.referrer = e
         },
         remove: function() {
             this.hide(),
             this.register.destroy(),
             this.login.destroy(),
             this.emailShowing = void 0,
             delete this.emailShowing,
             this.register = void 0,
             this.login = void 0,
             delete this.register,
             delete this.login,
             this.$box = void 0,
             delete this.$box,
             this._super()
         }
     });
     return d
 }),
 define("hbs!templates/app/AppMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="list">\n    <div class="item community clickable">\n        <i class="icon icon-community-grey"></i>\n        <span>' + l((a = t.appMenu,
         a = null == a || a === !1 ? a : a.communities,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <a href="http://blog.plug.dj/upcoming-events/" target="_blank">\n        <div class="item events">\n            <i class="icon icon-event-calendar-grey"></i>\n            <span>' + l((a = t.dashboard,
         a = null == a || a === !1 ? a : a.eventCalendar,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </a>\n    <a href="http://support.plug.dj" target="_blank">\n        <div class="item support">\n            <i class="icon icon-support-grey"></i>\n            <span>' + l((a = t.appMenu,
         a = null == a || a === !1 ? a : a.support,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </a>\n    <a href="http://blog.plug.dj" target="_blank">\n        <div class="item blog">\n            <i class="icon icon-news-grey"></i>\n            <span>' + l((a = t.appMenu,
         a = null == a || a === !1 ? a : a.blog,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </a>\n    <a href="/about" target="_blank">\n        <div class="item about">\n            <i class="icon icon-about-grey"></i>\n            <span>' + l((a = t.appMenu,
         a = null == a || a === !1 ? a : a.about,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </a>\n    <a href="http://support.plug.dj/hc/en-us/sections/200353347-Front-End-API" target="_blank">\n        <div class="item api">\n            <span>' + l((a = t.appMenu,
         a = null == a || a === !1 ? a : a.api,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </a>\n    <a href="/legal" target="_blank">\n        <div class="item legal">\n            <span>' + l((a = t.appMenu,
         a = null == a || a === !1 ? a : a.legal,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </a>\n    <div class="appbadges">\n        <a href="https://plug.dj/android-left-nav" target="_blank"><img class="android-badge" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAQAIBRAA7"></img></a><br>\n        <a href="https://plug.dj/ios-left-nav" target="_blank"><img class="iphone-badge" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAQAIBRAA7"></img></a>\n    </div>\n    <div class="logout">\n        <div>\n            <i class="icon icon-logout-grey"></i>\n            <span>' + l((a = t.appMenu,
         a = null == a || a === !1 ? a : a.logout,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </div>\n    <div class="signup">\n        <span>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signUpNow2,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="alreadyHaveAccount">\n        <span>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.alreadyHaveAccount,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <div class="login">\n        <a>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.logIn,
         typeof a === r ? a.apply(t) : a)) + "</a>\n    </div>\n</div>\n"
     });
     return t.registerPartial("templates_app_AppMenu", i),
     i
 }),
 define("f1e1d/e74c9/f1e1d/e3e79", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/be642/b546d/a3157", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "f1e1d/e74c9/fe2bb/c0169", "hbs!templates/app/AppMenu", "lang/Lang", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = i.View.extend({
         id: "app-menu",
         initialize: function() {
             this.$plug = e("<div/>").addClass("button").append(e("<i/>").addClass("icon icon-site-logo")),
             this.documentBind = t.bind(this.onDocumentClick, this),
             this.resizeBind = t.bind(this.onResize, this),
             this.showing = !1
         },
         render: function() {
             return this.$el.append(this.$plug).append(c(p)),
             this.$plug.on("mousedown", t.bind(this.onButtonClick, this)),
             this.$(".list .community").on("mousedown", t.bind(this.onCommunityClick, this)),
             this.$(".list .logout").on("mousedown", t.bind(this.onLogoutClick, this)),
             s.on("user:logout", this.onLogoutClick, this),
             this.$(".list .signup").on("mousedown", t.bind(this.showSignUp, this)),
             this.$(".list .login").on("mousedown", t.bind(this.showLogin, this)),
             this.$(".list .item").on("mouseenter", t.bind(this.onItemEnter, this)).on("mouseleave", t.bind(this.onItemLeave, this)),
             this.$(".logout").on("mouseenter", t.bind(this.onLogoutEnter, this)).on("mouseleave", t.bind(this.onItemLeave, this)),
             n.get("guest") && (n.on("change:guest", this.onGuestChange, this),
             this.onGuestChange()),
             this
         },
         showSignUp: function(e) {
             if (this.signup)
                 this.signup.setReferrer(e),
                 this.signup.show();
             else {
                 var i = this;
                 this.signup = new h({
                     referrer: "App Menu: Button - Sign Up"
                 },!1,"App Menu"),
                 i.signup.on("success", t.bind(i.onSignUp, this)),
                 d("set", "dimension4", "revamp-registration"),
                 d("send", "pageview")
             }
         },
         showLogin: function(e) {
             if (this.signup)
                 this.signup.setReferrer(e),
                 this.signup.show();
             else {
                 var i = this;
                 this.signup = new h({
                     referrer: "App Menu: Button - Login"
                 },!0,"App Menu"),
                 i.signup.on("success", t.bind(i.onSignUp, this)),
                 d("set", "dimension4", "revamp-registration"),
                 d("send", "pageview")
             }
         },
         onSignUp: function(e) {
             window._signingup = !0,
             this.signup.destroy(),
             this.signup = void 0,
             delete this.signup,
             n.set("guest", !1),
             s.off("signup:show", this.showSignUp, this).trigger("force:reconnect", e),
             e || t.defer(function() {
                 s.dispatch(new AlertEvent(AlertEvent.ALERT,p.alerts.accountCreatedTitle,p.alerts.accountCreated.split("%FAQ%").join('<a href="http://support.plug.dj" target="_blank">FAQ</a>'),function() {
                     n.set("walkthrough", 2)
                 }
                 ,!0))
             })
         },
         onGuestChange: function() {
             n.get("guest") ? (this.$(".logout").addClass("guest"),
             this.$(".signup").addClass("guest"),
             this.$(".alreadyHaveAccount").addClass("guest"),
             this.$(".login").addClass("guest")) : (this.$(".logout").removeClass("guest"),
             this.$(".signup").removeClass("guest"),
             this.$(".alreadyHaveAccount").removeClass("guest"),
             this.$(".login").removeClass("guest"))
         },
         onButtonClick: function() {
             e("#app").hasClass("is-wt") || (this.showing ? this.hide() : this.show())
         },
         show: function() {
             n.get("guest") ? (this.$(".logout").addClass("guest"),
             this.$(".signup").addClass("guest"),
             this.$(".alreadyHaveAccount").addClass("guest"),
             this.$(".login").addClass("guest")) : (this.$(".logout").removeClass("guest"),
             this.$(".signup").removeClass("guest"),
             this.$(".alreadyHaveAccount").removeClass("guest"),
             this.$(".login").removeClass("guest")),
             this.showing = !0,
             o.resize(this.resizeBind),
             s.trigger("playback:block"),
             this.$el.addClass("open");
             var i = this;
             t.defer(function() {
                 e(document).on("mousedown", i.documentBind)
             })
         },
         hide: function() {
             this.showing = !1,
             o.off("resize", this.resizeBind),
             e(document).off("mousedown", this.documentBind),
             this.$el.removeClass("open"),
             s.trigger("playback:unblock")
         },
         onCommunityClick: function() {
             this.hide(),
             s.trigger("show:dashboard")
         },
         onLogoutClick: function() {
             r.pushState("Logout", "#logout"),
             t.delay(function() {
                 (new a).on("success", function() {
                     window.location.href = "/"
                 })
             }, 250)
         },
         onDocumentClick: function(i) {
             var s = e(i.target);
             if (0 === s.parents("#app-menu").length && this.hide(),
             s.is("span") && (s = s.parent()),
             s.is("a") || s.is("img") || s.hasClass("item")) {
                 var n = this;
                 t.delay(function() {
                     n.hide()
                 }, 250)
             } else
                 this.hide()
         },
         onItemEnter: function(t) {
             this.onItemLeave();
             var i = e(t.target).closest(".item");
             i.hasClass("community") ? this.$(".icon-community-grey").removeClass().addClass("icon icon-community-white") : i.hasClass("support") ? this.$(".icon-support-grey").removeClass().addClass("icon icon-support-white") : i.hasClass("events") ? this.$(".icon-event-calendar-grey").removeClass().addClass("icon icon-event-calendar") : i.hasClass("blog") ? this.$(".icon-news-grey").removeClass().addClass("icon icon-volume-off") : i.hasClass("about") && this.$(".icon-about-grey").removeClass().addClass("icon icon-about-white")
         },
         onItemLeave: function() {
             this.$(".icon-community-white").removeClass().addClass("icon icon-community-grey"),
             this.$(".icon-support-white").removeClass().addClass("icon icon-support-grey"),
             this.$(".icon-event-calendar").removeClass().addClass("icon icon-event-calendar-grey"),
             this.$(".icon-volume-off").removeClass().addClass("icon icon-news-grey"),
             this.$(".icon-about-white").removeClass().addClass("icon icon-about-grey"),
             this.$(".icon-logout-white").removeClass().addClass("icon icon-logout-grey")
         },
         onLogoutEnter: function() {
             this.onItemLeave(),
             this.$(".icon-logout-grey").removeClass().addClass("icon icon-logout-white")
         },
         onResize: function(e) {
             this.$(".list").height(e.height - 53)
         }
     });
     return u
 }),
 define("hbs!templates/left-nav/LeftNavigation", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += '\n    <li class="nav-left__item menu-room selected"><i class="nav-left__item-icon fa fa-music" aria-hidden="true"></i><span\n            class="nav-left__item-text">' + c((i = e.room,
             i = null == i || i === !1 ? i : i.name,
             typeof i === h ? i.apply(e) : i)) + "</span></li>"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r, l = "", h = "function", c = this.escapeExpression, p = this;
         return l += '<div class="nav-left__top">\n    <span class="plugdj-logo"></span>\n    <i class="fa fa-times close" aria-hidden="true"></i>\n</div>\n<ul class="list-unstyled">\n    ',
         r = i.if.call(t, (o = t.room,
         null == o || o === !1 ? o : o.joined), {
             hash: {},
             inverse: p.noop,
             fn: p.program(1, a, n)
         }),
         (r || 0 === r) && (l += r),
         l += '\n    <li class="nav-left__item menu-dashboard"><i class="nav-left__item-icon fa fa-th-large" aria-hidden="true"></i><span\n            class="nav-left__item-text">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.appMenu,
         o = null == o || o === !1 ? o : o.communities,
         typeof o === h ? o.apply(t) : o)) + '</span></li>\n    <li class="nav-left__item menu-store"><i class="nav-left__item-icon fa fa-shopping-cart"\n                                             aria-hidden="true"></i><span\n            class="nav-left__item-text">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.userMenu,
         o = null == o || o === !1 ? o : o.store,
         typeof o === h ? o.apply(t) : o)) + '</span></li>\n    <li class="nav-left__item" >\n        <a href="https://blog.plug.dj/upcoming-events/" target="_blank">\n            <i class="nav-left__item-icon fa fa-calendar-o" aria-hidden="true"></i><span class="nav-left__item-text">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.dashboard,
         o = null == o || o === !1 ? o : o.eventCalendar,
         typeof o === h ? o.apply(t) : o)) + '</span>\n        </a>\n    </li>\n</ul>\n<div class="nav-left__bottom">\n    <button class="btn btn-lg btn-primary btn-sign-up">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.signup,
         o = null == o || o === !1 ? o : o.signUpNow2,
         typeof o === h ? o.apply(t) : o)) + '</button>\n    <a href="/subscribe" data-label="' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.subscribe,
         o = null == o || o === !1 ? o : o.subscribePremium,
         typeof o === h ? o.apply(t) : o)) + '" target="_blank"\n       class="btn btn-lg btn-secondary btn-subscribe">\n        <i class="nav-left__item-icon plugdjfont icon-user-crown" aria-hidden="true"></i> ' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.subscribe,
         o = null == o || o === !1 ? o : o.subscribePremium,
         typeof o === h ? o.apply(t) : o)) + '\n    </a>\n</div>\n<div class="download-app">\n    <ul class="list-unstyled">\n        <li class="download-app__store apple">\n            <a href="https://plug.dj/ios-left-nav" target="_blank">\n                <span class="sr-only">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.userMenu,
         o = null == o || o === !1 ? o : o.downloadAppleStore,
         typeof o === h ? o.apply(t) : o)) + '</span>\n            </a>\n        </li>\n        <li class="download-app__store google">\n            <a href="https://plug.dj/android-left-nav" target="_blank">\n                <span class="sr-only">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.userMenu,
         o = null == o || o === !1 ? o : o.downloadPlayStore,
         typeof o === h ? o.apply(t) : o)) + '</span>\n            </a>\n        </li>\n    </ul>\n</div>\n\n<div class="nav-left__bottom">\n    <ul class="list-unstyled nav-left__bottom-list">\n        <li class="nav-left__bottom-item">\n            <a class="nav-left__bottom-link" target="_blank" href="http://support.plug.dj/">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.appMenu,
         o = null == o || o === !1 ? o : o.support,
         typeof o === h ? o.apply(t) : o)) + '</a>\n            <span class="separator"></span>\n        </li>\n        <li class="nav-left__bottom-item">\n            <a class="nav-left__bottom-link" target="_blank" href="http://blog.plug.dj/">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.appMenu,
         o = null == o || o === !1 ? o : o.blog,
         typeof o === h ? o.apply(t) : o)) + '</a>\n            <span class="separator"></span>\n        </li>\n        <li class="nav-left__bottom-item">\n            <a class="nav-left__bottom-link" target="_blank" href="https://plug.dj/about">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.appMenu,
         o = null == o || o === !1 ? o : o.about,
         typeof o === h ? o.apply(t) : o)) + '</a>\n        </li>\n    </ul>\n    <ul class="list-unstyled nav-left__bottom-list">\n        <li class="nav-left__bottom-item">\n            <a class="nav-left__bottom-link" target="_blank" href="http://support.plug.dj/hc/en-us/sections/200353347-Front-End-API">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.appMenu,
         o = null == o || o === !1 ? o : o.api,
         typeof o === h ? o.apply(t) : o)) + '</a>\n            <span class="separator"></span>\n        </li>\n        <li class="nav-left__bottom-item">\n            <a class="nav-left__bottom-link" target="_blank" href="https://plug.dj/legal">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.appMenu,
         o = null == o || o === !1 ? o : o.legal,
         typeof o === h ? o.apply(t) : o)) + "</a>\n        </li>\n    </ul>\n</div>"
     });
     return t.registerPartial("templates_left-nav_LeftNavigation", i),
     i
 }),
 define("f1e1d/e74c9/d7fde/eb7af", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "hammer", "f1e1d/af752/fa88e", "hbs!templates/left-nav/LeftNavigation", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         className: "nav-left",
         events: {
             "click .close": "onClickClose",
             "click .menu-room": "onClickRoom",
             "click .menu-dashboard": "onClickCommunity",
             "click .menu-store": "onClickStore",
             "click .btn-sign-up": "onClickSignup",
             "click .btn-subscribe": "onClickSubscribe"
         },
         initialize: function() {
             this.preventGuest("onClickStore", "Trigger store from left menu"),
             t.on("leftNavigation:toggle", this.toggleNav, this).on("leftNavigation:open", this.openNav, this).on("leftNavigation:close", this.closeNav, this).on("panel:show", this.onPanelShow, this).on("panel:back", this.onPanelBack, this),
             this.model.on("change:name change:joined", this.render, this)
         },
         render: function() {
             return this.$el.html(a({
                 trans: o,
                 room: this.model.toJSON()
             })),
             this.bindEvents(),
             this
         },
         bindEvents: function() {
             this.hammerManager = s(this.$el.get(0), {
                 enable: n.isMobile,
                 recognizers: [[s.Swipe, {
                     direction: s.DIRECTION_HORIZONTAL
                 }]]
             })
         },
         toggleNav: function(e) {
             this.$el.toggleClass("shown", e)
         },
         openNav: function() {
             this.toggleNav(!0),
             this.startListeningToMobile(),
             t.trigger("leftNavigation:opened")
         },
         closeNav: function() {
             this.toggleNav(!1),
             this.stopListeningToMobile(),
             t.trigger("leftNavigation:closed")
         },
         unselectAll: function() {
             this.$(".nav-left__item").removeClass("selected")
         },
         select: function(e) {
             this.unselectAll(),
             this.$(".nav-left__item").filter(".menu-" + e).addClass("selected")
         },
         onClickClose: function(e) {
             e.preventDefault(),
             e.stopPropagation(),
             this.closeNav()
         },
         onClickRoom: function(e) {
             t.trigger("panel:back", !0),
             this.select("room")
         },
         onClickCommunity: function(e) {
             this.prevent(e),
             this.closeNav(),
             t.trigger("show:dashboard")
         },
         onClickStore: function(e) {
             this.prevent(e),
             this.closeNav(),
             t.trigger("show:user", "store")
         },
         onClickSignup: function(e) {
             this.prevent(e),
             t.trigger("signup:show")
         },
         onClickSubscribe: function(e) {
             t.trigger("click:subscribe")
         },
         onPanelShow: function(e) {
             if (e.indexOf(":") !== -1) {
                 var t = e.split(":");
                 this.select(t[1])
             } else
                 this.select(e)
         },
         onPanelBack: function() {
             this.model.get("joined") === !0 ? this.select("room") : this.select("dashboard")
         },
         onSwipeLeft: function() {
             this.closeNav()
         },
         startListeningToMobile: function() {
             this.hammerManager.on("swipeleft", this.onSwipeLeft.bind(this))
         },
         stopListeningToMobile: function() {
             this.hammerManager.off("swipeleft")
         }
     });
     return r
 }),
 define("f1e1d/be642/a432f/fd9d3", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         route: "news",
         parse: function(e) {
             200 === e.code && this.success && this.success(e.data)
         }
     });
     return t
 }),
 define("hbs!templates/dashboard/NewsRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<a target="_blank" href="',
         (a = i.href) ? a = a.call(t, {
             hash: {}
         }) : (a = t.href,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"><span class="title">',
         (a = i.title) ? a = a.call(t, {
             hash: {}
         }) : (a = t.title,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span></a>\n<span class="desc">',
         (a = i.desc) ? a = a.call(t, {
             hash: {}
         }) : (a = t.desc,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>"
     });
     return t.registerPartial("templates_dashboard_NewsRow", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/a432f/d37f3", ["jquery", "backbone", "hbs!templates/dashboard/NewsRow"], function(e, t, i) {
     var s = t.View.extend({
         className: "row",
         render: function() {
             return this.options.data.desc = e("<div/>").html(this.options.data.desc).text(),
             this.$el.html(i(this.options.data)),
             this
         }
     });
     return s
 }),
 define("hbs!templates/dashboard/News", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '\r\n<i class="icon icon-news-grey"></i>\r\n<span class="label">' + l((a = t.dashboard,
         a = null == a || a === !1 ? a : a.news,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n<div class="list"></div>'
     });
     return t.registerPartial("templates_dashboard_News", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/a432f/a87fe", ["jquery", "underscore", "backbone", "f1e1d/be642/a432f/fd9d3", "f1e1d/e74c9/c5cd9/a432f/d37f3", "f1e1d/e74c9/a6e51/f2220", "hbs!templates/dashboard/News", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = i.View.extend({
         id: "news",
         render: function() {
             return this.$el.append(o(r)),
             this.load(),
             this
         },
         load: function() {
             this.showSpinner(),
             (new s).on("success", t.bind(this.onSuccess, this))
         },
         onSuccess: function(e) {
             e.length = Math.min(e.length, 5),
             this.hideSpinner(),
             this.$(".icon-news-grey").show(),
             this.draw(e),
             this.total = e.length,
             this.total > 1 && (this.index = 0,
             this.intervalID = setInterval(t.bind(this.next, this), 6250))
         },
         draw: function(e) {
             for (var t, i = e.length, s = 0; s < i; ++s)
                 t = new n({
                     data: e[s]
                 }),
                 this.$(".list").append(t.$el),
                 t.render();
             i > 0 && (t = new n({
                 data: e[0]
             }),
             this.$(".list").append(t.$el),
             t.render())
         },
         showSpinner: function() {},
         hideSpinner: function() {},
         next: function() {
             if (++this.index === this.total) {
                 var e = this.$(".list");
                 this.$(".list").animate({
                     scrollTop: 53 * this.index
                 }, {
                     duration: 1250,
                     easing: "linear",
                     complete: function() {
                         e.scrollTop(0)
                     }
                 }),
                 this.index = 0
             } else
                 this.$(".list").animate({
                     scrollTop: 53 * this.index
                 }, 1250, "linear")
         },
         remove: function() {
             this.$(".list").stop(!0, !0),
             this.$(".list").empty(),
             this.hideSpinner(),
             clearInterval(this.intervalID),
             this.intervalID = void 0,
             delete this.intervalID,
             this._super()
         }
     });
     return l
 }),
 define("hbs!templates/user/buttons/SubscribeButton", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += '\r\n<button class="btn btn-primary btn-sign-up">' + h((i = e.trans,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.signup,
             typeof i === l ? i.apply(e) : i)) + "</button>\r\n"
         }
         function o(e, t) {
             var i, s = "";
             return s += '\r\n<a href="/subscribe" target="_blank" class="btn btn-secondary btn-subscribe">\r\n    <i class="plugdjfont icon-user-crown" aria-hidden="true"></i>\r\n    ' + h((i = e.trans,
             i = null == i || i === !1 ? i : i.subscribe,
             i = null == i || i === !1 ? i : i.submit,
             typeof i === l ? i.apply(e) : i)) + "\r\n</a>\r\n"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var r, l = "function", h = this.escapeExpression, c = this;
         return r = i.if.call(t, t.guest, {
             hash: {},
             inverse: c.program(3, o, n),
             fn: c.program(1, a, n)
         }),
         r || 0 === r ? r : ""
     });
     return t.registerPartial("templates_user_buttons_SubscribeButton", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d44b1/ce7ab", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "lang/Lang", "f1e1d/d8478/b885e", "hbs!templates/user/buttons/SubscribeButton"], function(e, t, i, s, n) {
     var a = e.extend({
         events: {
             "click .btn-sign-up": "onClick"
         },
         defaults: {
             size: "small"
         },
         initialize: function(e) {
             this.options = _.defaults(e, this.defaults),
             t.on("notifications:all", this.onNotification, this)
         },
         serialize: function() {
             return _.extend({
                 trans: i,
                 guest: s.isGuest()
             }, this.options)
         },
         render: function() {
             return this.$el.html(n(this.serialize())),
             this
         },
         onClick: function(e) {
             this.prevent(e),
             t.trigger("signup:show")
         }
     });
     return a
 }),
 define("hbs!templates/user/dropdown/UserProfileDropdown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="avatar-wrapper thumb small">\r\n  <div class="background"></div>\r\n  <i class="avi avi-',
         (a = i.avatar) ? a = a.call(t, {
             hash: {}
         }) : (a = t.avatar,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"></i>\r\n</div>\r\n<span class="user-profile__notifications d-none notifications--desktop"></span>'
     });
     return t.registerPartial("templates_user_dropdown_UserProfileDropdown", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/a46c5/a1e27", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "lang/Lang", "f1e1d/d8478/b885e", "hbs!templates/user/dropdown/UserProfileDropdown"], function(e, t, i, s, n) {
     var a = e.extend({
         identifier: "UserProfileDropdown",
         className: "user-profile",
         events: {
             click: "onClick"
         },
         initialize: function() {
             t.on("notifications:all", this.onNotification, this),
             this.listenTo(s, "change:avatarID", this.render)
         },
         render: function() {
             return this.$el.html(n({
                 avatar: s.getAviClass(),
                 trans: i
             })),
             this.mapDOM(),
             this
         },
         mapDOM: function() {
             this.$notificationsCount = this.$(".user-profile__notifications")
         },
         onClick: function(e) {
             this.prevent(e),
             t.trigger("userProfile:toggle", this.el)
         },
         onNotification: function(e) {
             this.$notificationsCount.toggleClass("d-none", e <= 0),
             void 0 !== this.$notificationsCount && this.$notificationsCount.html(e)
         }
     });
     return a
 }),
 define("hbs!templates/user/dropdown/UserExperienceDropdown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="circular-progress progress-',
         (a = i.progress) ? a = a.call(t, {
             hash: {}
         }) : (a = t.progress,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"></div>'
     });
     return t.registerPartial("templates_user_dropdown_UserExperienceDropdown", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/a46c5/af6e3", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "lang/Lang", "f1e1d/d8478/b885e", "hbs!templates/user/dropdown/UserExperienceDropdown"], function(e, t, i, s, n) {
     var a = e.extend({
         identifier: "UserExperienceDropdownToggle",
         className: "user-level",
         events: {
             click: "onClick"
         },
         initialize: function() {
             this.listenTo(s, "change:xp", this.render)
         },
         render: function() {
             return this.$el.html(n({
                 progress: s.getExperienceProgress(),
                 trans: i
             })),
             this
         },
         onClick: function(e) {
             this.prevent(e),
             t.trigger("userExperience:toggle", this.el)
         }
     });
     return a
 }),
 define("hbs!templates/app/Logo", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="plugdj-logo"></div>\r\n<div class="back-button"><i class="fa fa-angle-left" aria-hidden="true"></i></div>'
     });
     return t.registerPartial("templates_app_Logo", i),
     i
 }),
 define("f1e1d/e74c9/f1e1d/e2a4b", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "lang/Lang", "hbs!templates/app/Logo"], function(e, t, i, s) {
     var n = e.extend({
         className: "logo-wrapper",
         events: {
             "click .plugdj-logo": "onClickLogo",
             "click .back-button": "onClickBackButton"
         },
         initialize: function() {},
         render: function() {
             return this.$el.html(s({
                 trans: i
             })),
             this
         },
         onClickLogo: function(e) {
             this.prevent(e),
             t.trigger("leftNavigation:open")
         },
         onClickBackButton: function(e) {
             this.prevent(e),
             t.trigger("panel:back", !0)
         }
     });
     return n
 }),
 define("hbs!templates/dashboard/Subscribe", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="subscribe">\n    <a href="/subscribe" target="_blank">\n        <button class="button">\n            ' + l((a = t.subscribe,
         a = null == a || a === !1 ? a : a.submit,
         typeof a === r ? a.apply(t) : a)) + "\n        </button>\n    </a>\n</div>"
     });
     return t.registerPartial("templates_dashboard_Subscribe", i),
     i
 }),
 define("hbs!templates/dashboard/Support", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="support">\n    <a href="http://support.plug.dj/" target="_blank">\n        <div class="button">\n            <i class="icon icon-support-white"></i>' + l((a = t.appMenu,
         a = null == a || a === !1 ? a : a.support,
         typeof a === r ? a.apply(t) : a)) + "\n        </div>\n    </a>\n</div>"
     });
     return t.registerPartial("templates_dashboard_Support", i),
     i
 }),
 define("hbs!templates/dashboard/DashboardHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="left-wrapper">\r\n  <div class="logo-wrapper"></div>\r\n  <div class="news-wrapper"></div>\r\n</div>\r\n<div class="right-wrapper"></div>  '
     });
     return t.registerPartial("templates_dashboard_DashboardHeader", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/b3668/bf6f1", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/af752/e7b9f", "f1e1d/e74c9/c5cd9/a432f/a87fe", "f1e1d/e74c9/b14c6/d44b1/ce7ab", "f1e1d/e74c9/b14c6/a46c5/a1e27", "f1e1d/e74c9/b14c6/a46c5/af6e3", "f1e1d/e74c9/f1e1d/e2a4b", "hbs!templates/dashboard/Subscribe", "hbs!templates/dashboard/Support", "hbs!templates/dashboard/DashboardHeader", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f) {
     var m = i.View.extend({
         className: "app-header",
         initialize: function() {
             n.on("change:sub change:silver change:guest", this.render, this)
         },
         render: function() {
             return this.$el.html(u()),
             this.$left = this.$(".left-wrapper"),
             this.logo = new c({
                 el: this.$(".logo-wrapper")
             }).render(),
             this.news = new o,
             this.$left.find(".news-wrapper").append(this.news.$el),
             this.$right = this.$(".right-wrapper"),
             this.subscribeButton = new r({
                 size: "small"
             }),
             this.experienceDropdown = new h,
             this.profileDropdown = new l,
             this.$right.append(this.subscribeButton.$el).append(this.experienceDropdown.$el).append(this.profileDropdown.$el),
             this.news.render(),
             this.subscribeButton.render(),
             this.experienceDropdown.render(),
             this.profileDropdown.render(),
             this
         },
         remove: function() {
             this.$el.empty(),
             n.off("change:sub change:silver change:guest", this.render, this),
             this._super()
         }
     });
     return m
 }),
 define("hbs!templates/community/bar/CommunityLeftNav", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<ul class="list-unstyled nav"></ul>\r\n<ul class="list-unstyled extension"></ul>'
     });
     return t.registerPartial("templates_community_bar_CommunityLeftNav", i),
     i
 }),
 define("hbs!templates/community/bar/CommunityLeftNavButtons", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += '\r\n<li class="nav-left__item menu-room" title="' + c((i = e.room,
             i = null == i || i === !1 ? i : i.name,
             typeof i === h ? i.apply(e) : i)) + '" data-tippy-placement="right">\r\n    <i class="nav-left__item-icon fa fa-music" aria-hidden="true"></i>\r\n</li>\r\n'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r, l = "", h = "function", c = this.escapeExpression, p = this;
         return r = i.if.call(t, (o = t.room,
         null == o || o === !1 ? o : o.name), {
             hash: {},
             inverse: p.noop,
             fn: p.program(1, a, n)
         }),
         (r || 0 === r) && (l += r),
         l += '\r\n<li class="nav-left__item menu-dashboard" title="' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.appMenu,
         o = null == o || o === !1 ? o : o.communities,
         typeof o === h ? o.apply(t) : o)) + '" data-tippy-placement="right">\r\n    <i class="nav-left__item-icon fa fa-th-large" aria-hidden="true"></i>\r\n</li>\r\n<li class="nav-left__item menu-store" title="' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.userMenu,
         o = null == o || o === !1 ? o : o.store,
         typeof o === h ? o.apply(t) : o)) + '" data-tippy-placement="right">\r\n    <i class="nav-left__item-icon fa fa-shopping-cart" aria-hidden="true"></i>\r\n</li>\r\n<li class="nav-left__item menu-calendar" title="' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.dashboard,
         o = null == o || o === !1 ? o : o.eventCalendar,
         typeof o === h ? o.apply(t) : o)) + '" data-tippy-placement="right">\r\n    <a href="https://blog.plug.dj/upcoming-events/" target="_blank">\r\n        <i class="nav-left__item-icon fa fa-calendar-o" aria-hidden="true"></i>\r\n    </a>\r\n</li>'
     });
     return t.registerPartial("templates_community_bar_CommunityLeftNavButtons", i),
     i
 }),
 define("f1e1d/e74c9/dc178/f40c2/fdd40", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "lang/Lang", "hbs!templates/community/bar/CommunityLeftNav", "hbs!templates/community/bar/CommunityLeftNavButtons"], function(e, t, i, s, n, a) {
     var o = e.extend({
         identifier: "CommunityLeftNav",
         className: "community__left-nav",
         events: {
             "click .menu-room": "onClickRoom",
             "click .menu-dashboard": "onClickCommunity",
             "click .menu-store": "onClickStore"
         },
         initialize: function() {
             this.preventGuest("onClickStore", "Trigger store from left nav"),
             this.selected = null,
             t.on("panel:show", this.onChangePanel, this),
             t.on("panel:close", this.onClosePanel, this),
             this.model.on("change", this.renderButtons, this)
         },
         render: function() {
             return this.$el.html(n()),
             this.mapDOM(),
             this.renderButtons(),
             this
         },
         renderButtons: function() {
             return this.$nav.html(a({
                 trans: s,
                 room: this.model.toJSON()
             })),
             null !== this.selected && this.select(this.selected),
             this
         },
         mapDOM: function() {
             this.$nav = this.$("ul.nav")
         },
         select: function(e) {
             var t = ".menu-" + e;
             this.$(t).toggleClass("selected", !0),
             this.selected = e
         },
         clearSelections: function() {
             this.$(".nav-left__item").toggleClass("selected", !1),
             this.selected = null
         },
         onClickCommunity: function(e) {
             this.prevent(e),
             t.trigger("show:dashboard")
         },
         onClickStore: function(e) {
             this.prevent(e),
             t.trigger("show:user", "store")
         },
         onClickRoom: function(e) {
             this.prevent(e),
             t.trigger("panel:back", !0)
         },
         onChangePanel: function(e) {
             switch (this.clearSelections(),
             e) {
             case "dashboard":
                 this.select("dashboard");
                 break;
             case "user:store":
                 this.select("store");
                 break;
             default:
                 this.select("room")
             }
         },
         onClosePanel: function() {
             this.clearSelections(),
             this.select("room")
         }
     });
     return o
 }),
 define("hbs!templates/dashboard/Tutorial", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="section intro">\n    <i class="avi"></i>\n    <span>' + l((a = t.tutorial,
         a = null == a || a === !1 ? a : a.hello,
         typeof a === r ? a.apply(t) : a)) + "<br/>" + l((a = t.tutorial,
         a = null == a || a === !1 ? a : a.welcome,
         typeof a === r ? a.apply(t) : a)) + '</span>\n</div>\n<div class="section info">\n    <div class="title">' + l((a = t.tutorial,
         a = null == a || a === !1 ? a : a.click,
         typeof a === r ? a.apply(t) : a)) + '</div>\n    <div class="description">' + l((a = t.tutorial,
         a = null == a || a === !1 ? a : a.description,
         typeof a === r ? a.apply(t) : a)) + '</div>\n</div>\n<section class="section a-section" style="text-align:center;">\n\t<div id="plugdj_dashboard_right"> </div>\n</section> '
     });
     return t.registerPartial("templates_dashboard_Tutorial", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/d473f", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/d904e", "hbs!templates/dashboard/Tutorial", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         id: "tutorial",
         initialize: function() {},
         render: function() {
             return this.$el.html(a(o)),
             this.$(".links span").on("click", t.bind(this.onClick, this)),
             this
         },
         onClick: function(t) {
             var i, a = e(t.target);
             a.hasClass("what") ? i = new n(n.TUTORIAL,{
                 name: o.tutorial.what,
                 cid: "vtwl-WhyLd0"
             }) : a.hasClass("basic") ? i = new n(n.TUTORIAL,{
                 name: o.tutorial.basic,
                 cid: "ZyrI3IQhVQY"
             }) : a.hasClass("dj") && (i = new n(n.TUTORIAL,{
                 name: o.tutorial.dj,
                 cid: "Z1asHioJ2F0"
             })),
             i && s.dispatch(i)
         },
         remove: function() {
             this.$(".links span").off(),
             this._super()
         }
     });
     return r
 }),
 define("f1e1d/fce39/cbf8c", ["underscore", "backbone", "f1e1d/d8478/edecb", "f1e1d/af752/c96dd"], function(e, t, i, s) {
     var n = t.Collection.extend({
         model: i,
         sourceCollection: void 0,
         lastFilter: void 0,
         comparator: "uIndex",
         setSource: function(e) {
             return this.sourceCollection && this.sourceCollection.off("reset", this.onReset, this).off("add remove change:role change:gRole", this.onChange, this),
             this.sourceCollection = void 0,
             this.reset(),
             this.sourceCollection = e.on("reset", this.onReset, this).on("add remove change:role change:gRole", this.onChange, this),
             this.onReset(),
             this
         },
         onChange: function() {
             this.setFilter(this.lastFilter)
         },
         onReset: function() {
             this.setFilter()
         },
         setFilter: function(e) {
             if (this.lastFilter = e,
             this.sourceCollection && this.sourceCollection.length > 0) {
                 var t;
                 t = e ? this.sourceCollection.filter(function(t) {
                     return t.get("username").toLowerCase().indexOf(e) > -1
                 }) : this.sourceCollection.toArray();
                 for (var i = t.length, n = 0; n < i; ++n)
                     t[n].set("uIndex", n, {
                         silent: !0
                     });
                 t.sort(s.uIndex),
                 this.reset(t)
             } else
                 this.reset()
         }
     });
     return new n
 }),
 define("hbs!templates/room/user/FriendRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<i class="icon icon-chat-',
             (s = i.role) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.role,
             s = typeof s === l ? s.apply(e) : s),
             n += h(s) + '"></i>'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = "function", h = this.escapeExpression, c = this;
         return r += '<div class="image"><div class="thumb small"><i class="avi avi-',
         (o = i.avatarID) ? o = o.call(t, {
             hash: {}
         }) : (o = t.avatarID,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '"></i></div></div>\n<div class="meta">\n    <div class="name">',
         o = i.if.call(t, t.role, {
             hash: {},
             inverse: c.noop,
             fn: c.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += "<span>",
         (o = i.username) ? o = o.call(t, {
             hash: {}
         }) : (o = t.username,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '</span></div>\n    <div class="room">',
         (o = i.room) ? o = o.call(t, {
             hash: {}
         }) : (o = t.room,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + "</div>\n</div>"
     });
     return t.registerPartial("templates_room_user_FriendRow", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/f0b5f", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/be22c", "f1e1d/d8478/edecb", "f1e1d/af752/e504b", "hbs!templates/room/user/FriendRow", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = i.View.extend({
         className: "row",
         render: function() {
             var e, i = {
                 username: this.model.get("username"),
                 avatarID: o.aviClass(this.model.get("avatarID"))
             };
             return this.model.get("gRole") === a.HOST ? (this.$el.addClass("is-admin"),
             i.role = "admin") : this.model.get("gRole") >= a.MANAGER && this.model.get("gRole") < a.HOST ? (this.$el.addClass("is-ambassador"),
             i.role = "ambassador") : this.model.get("gRole") === a.SITEMOD ? (this.$el.addClass("is-sitemod"),
             i.role = "sitemod") : this.model.get("gRole") === a.PLOT ? (this.$el.addClass("is-plot"),
             i.role = "plot") : this.model.get("gRole") === a.PROMOTER && (this.$el.addClass("is-promoter"),
             i.role = "promoter"),
             this.model.get("room") && "dashboard" !== this.model.get("room").slug ? (i.room = this.model.get("room").name,
             this.$el.addClass("clickable"),
             e = !0) : 1 === this.model.get("status") ? i.room = l.dashboard.dashboard : i.room = l.userStatus.offline,
             this.$el.append(r(i)),
             this.onStatusChange(),
             this.model.on("change:avatarID", this.onAvatarChange, this).on("change:status", this.onStatusChange, this),
             e && this.$(".room").on("click", t.bind(this.onClick, this)),
             this
         },
         onAvatarChange: function() {
             this.$(".avi").removeClass().addClass("avi avi-" + o.aviClass(this.model.get("avatarID")))
         },
         onStatusChange: function() {
             var e = this.model.get("status");
             1 === e ? (e = "online",
             this.$el.removeClass("is-offline")) : (e = "offline",
             this.$el.addClass("is-offline"),
             this.$(".room").text(l.userStatus.offline)),
             this.$(".image").removeClass().addClass("image " + e)
         },
         onClick: function() {
             this.model.get("room") && "dashboard" !== this.model.get("room").slug && (s.trigger("panel:back", !0),
             s.dispatch(new n(n.JOIN,this.model.get("room").slug)))
         },
         remove: function() {
             this.$(".room").off(),
             this.model.off("change:avatarID", this.onAvatarChange, this).off("change:status", this.onStatusChange, this),
             this._super()
         }
     });
     return h
 }),
 define("hbs!templates/room/user/FriendList", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="header">\n    <i></i>\n    <span></span>\n</div>\n<div class="list-header">\n    <div class="divider"></div>\n    <i class="icon icon-friends-white"></i>\n    <span class="count"></span>\n    <span class="title">' + l((a = t.userList,
         a = null == a || a === !1 ? a : a.friends,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    <div class="input-background">\n        <input id="list-filter-input" type="text" maxlength="10" placeholder="' + l((a = t.userList,
         a = null == a || a === !1 ? a : a.filter,
         typeof a === r ? a.apply(t) : a)) + '" data-placeholder="' + l((a = t.userList,
         a = null == a || a === !1 ? a : a.filter,
         typeof a === r ? a.apply(t) : a)) + '"/>\n    </div>\n    <div class="clear-filter">\n        <i class="icon icon-clear-input"></i>\n    </div>\n</div>\n<div class="list"></div>'
     });
     return t.registerPartial("templates_room_user_FriendList", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/c7f51", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/dc3a7", "f1e1d/fce39/cbf8c", "f1e1d/fce39/cd5cd", "f1e1d/fce39/ac151", "f1e1d/af752/c506b", "f1e1d/e74c9/b49ed/b14c6/f0b5f", "hbs!templates/room/user/FriendList", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = 0
       , u = 15e3
       , f = i.View.extend({
         className: "friends",
         initialize: function() {
             this.rows = [],
             this.drawBind = t.bind(this.drawRow, this),
             this.resizeBind = t.bind(this.onResize, this),
             this.reloadBind = t.bind(this.reload, this)
         },
         render: function() {
             return this.$el.append(c(p)),
             this.$filterInput = this.$("#list-filter-input").on("keyup", t.bind(this.onKeyUp, this)).on("focus", t.bind(this.onFocus, this)).on("blur", t.bind(this.onBlur, this)),
             this.filterInput = this.$filterInput[0],
             this.$clearFilter = this.$(".clear-filter").on("click", t.bind(this.onClearFilterClick, this)),
             this.$list = this.$(".list"),
             this.$list.jScrollPane(),
             this.$header = this.$(".header").on("click", t.bind(this.onHeaderClick, this)),
             this.scrollPane = this.$list.data("jsp"),
             this.scrollPosY = 0,
             s.on("show:friends", this.show, this).on("show:chat show:users show:waitlist", this.hide, this),
             r.on("reset add remove", this.onRequests, this),
             this.onRequests(),
             this
         },
         reinitialise: function() {
             if (this.scrollPane) {
                 var e = this;
                 this.$list.off("jsp-initialised"),
                 this.$list.on("jsp-initialised", function(t) {
                     e.scrollPane.scrollToY(e.scrollPosY)
                 }),
                 this.scrollPane.reinitialise()
             }
         },
         show: function() {
             this.intervalID && clearInterval(this.intervalID),
             this.intervalID = setInterval(this.reloadBind, u),
             a.on("reset", this.draw, this);
             try {
                 a.setSource(o)
             } catch (e) {
                 console.error(e)
             }
             this.reload(),
             this.$el.show(),
             l.resize(this.resizeBind)
         },
         hide: function() {
             clearInterval(this.intervalID),
             this.intervalID = void 0,
             a.off("reset", this.draw, this),
             l.off("resize", this.resizeBind),
             this.clear(),
             this.$el.hide()
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             return this.rows.length = 0,
             this.scrollPane.getContentPane().empty(),
             this.scrollPane && (this.scrollPosY = this.scrollPane.getContentPositionY(),
             this.scrollPane.reinitialise()),
             this
         },
         draw: function() {
             this.clear(),
             a.each(this.drawBind),
             this.$(".count").text(this.rows.length),
             this.scrollPane && this.reinitialise()
         },
         drawRow: function(e) {
             var t = new h({
                 model: e
             });
             this.scrollPane.getContentPane().append(t.$el),
             this.rows.push(t),
             t.render()
         },
         onResize: function(e) {
             this.$list.height(e.height - e.barHeight - this.$list.offset().top),
             this.scrollPane && this.reinitialise()
         },
         onFocus: function(t) {
             e(t.target).parent().addClass("focused")
         },
         onBlur: function(t) {
             e(t.target).parent().removeClass("focused")
         },
         onKeyUp: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             27 === t && (this.filterInput.value = ""),
             a.setFilter(this.filterInput.value.toLowerCase()),
             this.filterInput.value.length > 0 ? this.$clearFilter.show() : this.$clearFilter.hide(),
             !0)
         },
         onClearFilterClick: function() {
             this.filterInput.value = "",
             this.$clearFilter.hide(),
             a.setFilter()
         },
         reload: function() {
             var e = Date.now();
             e - d > u - 100 && (d = e,
             s.dispatch(new n(n.FRIENDS)))
         },
         onRequests: function() {
             r.length > 0 ? (this.$el.addClass("has-requests"),
             r.length > 1 || !p.userNotifications.friendRequest ? this.$(".header span").text(p.userNotifications.friendRequests.split("%VALUE%").join(String(r.length))) : this.$(".header span").text(p.userNotifications.friendRequest)) : (this.$el.removeClass("has-requests"),
             this.$(".header span").text("")),
             this.onResize(l.getSize())
         },
         onHeaderClick: function() {
             s.trigger("show:user", "friends", "requests")
         },
         remove: function() {
             clearInterval(this.intervalID),
             this.intervalID = void 0,
             delete this.intervalID,
             l.off("resize", this.resizeBind),
             a.off("reset", this.draw, this),
             r.off("reset add remove", this.onRequests, this),
             s.off("show:friends", this.show, this).off("show:chat show:users show:waitlist", this.hide, this),
             this.clear(),
             this.scrollPane && (this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane),
             this.$header.off(),
             this.$filterInput.off(),
             this.$clearFilter.off(),
             this.$header = void 0,
             delete this.$header,
             this.$filterInput = void 0,
             delete this.$filterInput,
             this.$clearFilter = void 0,
             delete this.$clearFilter,
             this.drawBind = void 0,
             this.resizeBind = void 0,
             delete this.drawBind,
             delete this.resizeBind,
             this.rows = void 0,
             delete this.rows,
             this.$list = void 0,
             delete this.$list,
             this._super()
         }
     });
     return f
 }),
 define("f1e1d/e74c9/c5cd9/ff731", ["jquery", "underscore", "backbone", "f1e1d/fce39/cd5cd", "f1e1d/af752/c506b", "f1e1d/e74c9/c5cd9/b3668/bf6f1", "f1e1d/e74c9/dc178/f40c2/fdd40", "f1e1d/e74c9/c5cd9/d473f", "f1e1d/e74c9/b49ed/b14c6/c7f51", "f1e1d/d8478/e70c0"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = i.View.extend({
         id: "dashboard-border",
         initialize: function() {
             this.header = new a,
             this.resizeBind = t.bind(this.onResize, this),
             this.$right = e("<div/>").addClass("app-right"),
             this.leftNav = new o({
                 model: h
             })
         },
         render: function() {
             return this.$el.append(this.header.$el).append(this.leftNav.$el),
             this.onFriendUpdate(),
             this.header.render(),
             this.leftNav.render(),
             s.on("reset add remove", this.onFriendUpdate, this),
             n.resize(this.resizeBind),
             this
         },
         onFriendUpdate: function() {
             s.length > 0 ? (this.tutorial && (this.tutorial.destroy(),
             this.tutorial = void 0,
             delete this.tutorial),
             this.friends || (this.friends = new l,
             this.$el.append(this.$right.append(this.friends.$el)),
             this.friends.render().show())) : 0 === s.length && (this.friends && (this.friends.destroy(),
             this.friends = void 0,
             delete this.friends),
             this.tutorial || (this.tutorial = new r,
             this.$el.append(this.$right.append(this.tutorial.$el)),
             this.tutorial.render()))
         },
         onResize: function(e) {
             return
         },
         remove: function() {
             n.off("resize", this.resizeBind),
             s.off("reset add remove", this.onFriendUpdate, this),
             this.resizeBind = void 0,
             delete this.resizeBind,
             this.header.destroy(),
             this.header = void 0,
             delete this.header,
             this.tutorial && (this.tutorial.destroy(),
             this.tutorial = void 0,
             delete this.tutorial),
             this.friends && (this.friends.destroy(),
             this.friends = void 0,
             delete this.friends),
             this._super()
         }
     });
     return c
 }),
 define("f1e1d/d8478/d7013", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             query: "",
             filters: []
         }
     });
     return new t
 }),
 define("hbs!templates/dashboard/GridMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<button class="searching selected" data-option="searching">' + l((a = t.dashboard,
         a = null == a || a === !1 ? a : a.search,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<button class="genres" data-option="genres">Genres</button>\n<button class="favorites" data-option="favorites">' + l((a = t.dashboard,
         a = null == a || a === !1 ? a : a.favorites,
         typeof a === r ? a.apply(t) : a)) + "</button>"
     });
     return t.registerPartial("templates_dashboard_GridMenu", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/ea7c6", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/af752/e7b9f", "hbs!templates/dashboard/GridMenu", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         className: "tab-menu",
         render: function() {
             return this.selectedItem = "searching",
             this.listenTo(s, "dashboard:search", t.bind(this.onSearch, this)),
             this.$el.html(a(o)),
             this.$("button").on("click", t.bind(this.onClick, this)),
             this
         },
         select: function(e) {
             e && (this.$("button").removeClass("selected"),
             "searching" === e ? (n.pushState("View:dashboard", "#dashboard"),
             this.$(".searching").addClass("selected")) : "favorites" === e ? (n.pushState("View:dashboard-favorites", "#dashboard-favorites"),
             this.$(".favorites").addClass("selected")) : "genres" === e && (n.pushState("View:dashboard-genres", "#dashboard-genres"),
             this.$(".genres").addClass("selected")),
             this.selectedItem = e,
             this.trigger("select", e),
             s.trigger("track", "dashboard", "click", e))
         },
         onClick: function(t) {
             var i = e(t.target);
             i.hasClass("selected") || this.select(i.data("option"))
         },
         onSearch: function() {
             "searching" !== this.selectedItem && this.select("searching")
         }
     });
     return r
 }),
 define("f1e1d/e74c9/c572a/c4444", ["underscore", "backbone", "lang/Lang", "f1e1d/af752/fa88e"], function(e, t, i, s) {
     var n = t.View.extend({
         className: "search",
         template: void 0,
         initialize: function() {
             this.keyUpBind = e.bind(this.onKeyUp, this),
             this.focusBind = e.bind(this.onFocus, this),
             this.blurBind = e.bind(this.onBlur, this)
         },
         render: function() {
             return s.isMobileWidth() && (i.dashboard.placeholder = i.dashboard.placeholderMobile),
             this.$el.html(this.template(i)),
             this.$input = this.$("input").on("keyup", this.keyUpBind).on("focus", this.focusBind).on("blur", this.blurBind),
             this.searchInput = this.$input[0],
             this
         },
         onKeyUp: function() {},
         onFocus: function() {
             this.$el.addClass("focused")
         },
         onBlur: function() {
             this.$el.removeClass("focused")
         },
         clear: function() {
             this.searchInput.value = ""
         },
         remove: function() {
             this.$input.off(),
             this.$input = void 0,
             delete this.$input,
             this.searchInput = void 0,
             delete this.searchInput,
             this.keyUpBind = void 0,
             this.focusBind = void 0,
             this.blurBind = void 0,
             delete this.keyUpBind,
             delete this.focusBind,
             delete this.blurBind,
             this._super()
         }
     });
     return n
 }),
 define("f1e1d/be642/e32cc/ec32b", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         init: function(e) {
             this.route = "rooms/suggest?q=" + (e ? encodeURIComponent(e) : ""),
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data) : this.error && this.error(e.code)
         },
         onFault: function() {
             this.error && this.error()
         }
     });
     return t
 }),
 define("hbs!templates/dashboard/Search", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="fa fa-search"></i>\n<input id="dashboard-search" type="text" maxlength="64" placeholder="' + l((a = t.dashboard,
         a = null == a || a === !1 ? a : a.placeholder,
         typeof a === r ? a.apply(t) : a)) + '"/>\n<dd>\n    <div id="genres-section">\n        <h2>Genres</h2>\n        <div id="search-genres" class="search__dropdown-content">\n        </div>\n    </div>\n    <div id="subgenres-section">\n        <h2>SubGenres</h2>\n        <div id="search-subgenres" class="search__dropdown-content">\n            <div class="search__dropdown-item">Chillout <span class="number">45</span></div>\n        </div>\n    </div>\n    <div id="languages-section">\n        <h2>Languges</h2>\n        <div id="search-languages" class="search__dropdown-content">\n            <div class="search__dropdown-item">Chinese <span class="number">2</span></div>\n            <div class="search__dropdown-item">Spanish <span class="number">7</span></div>\n            <div class="search__dropdown-item">Chinese <span class="number">2</span></div>\n            <div class="search__dropdown-item">Spanish <span class="number">7</span></div>\n            <div class="search__dropdown-item">Chinese <span class="number">2</span></div>\n            <div class="search__dropdown-item">Spanish <span class="number">7</span></div>\n            <div class="search__dropdown-item">Chinese <span class="number">2</span></div>\n            <div class="search__dropdown-item">Spanish <span class="number">7</span></div>\n        </div>\n    </div>\n    <div id="communities-section">\n        <h2>Communities</h2>\n        <div id="search-communities" class="search__dropdown-content">\n        </div>\n    </div>\n</dd>'
     });
     return t.registerPartial("templates_dashboard_Search", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/d1cb3", ["f1e1d/e718c/b7acd", "f1e1d/a3bee/fdc17", "f1e1d/e74c9/c572a/c4444", "f1e1d/be642/e32cc/ec32b", "f1e1d/d8478/f54f2", "f1e1d/d8478/d7013", "f1e1d/e8300/be22c", "hbs!templates/dashboard/Search", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = i.extend({
         template: r,
         events: {
             "mousedown .search__dropdown-item[data-genre]": "onGenreClick",
             "mousedown .search__dropdown-item[data-subgenre]": "onSubGenreClick",
             "mousedown .search__dropdown-item[data-language]": "onLanguageClick",
             "mousedown .search__dropdown-item[data-slug]": "onCommunityClick"
         },
         initialize: function() {
             this._super(),
             this.listenTo(e, "search:deleteAllFilter", _.bind(function() {
                 this.searchInput.value = "",
                 a.set({
                     query: ""
                 })
             }, this)),
             this.listenTo(e, "search:searchMetadataLoaded", _.bind(function(e) {
                 var t = new Map;
                 e.get("languages").forEach(function(e) {
                     var i = l.languages[e.name.toLowerCase()];
                     i && t.set(e.name, i.split(" ")[0])
                 }),
                 this.languageMap = t
             }, this))
         },
         render: function() {
             return this.$el.on("mouseenter", _.bind(this.onEnter, this)).on("mouseleave", _.bind(this.onLeave, this)),
             this._super(),
             this.genresSection = this.$el.find("#genres-section"),
             this.subgenresSection = this.$el.find("#subgenres-section"),
             this.languagesSection = this.$el.find("#languages-section"),
             this.communitiesSection = this.$el.find("#communities-section"),
             [this.genresSection, this.subgenresSection, this.languagesSection, this.communitiesSection].forEach(function(e) {
                 e.hide()
             }),
             this.genres = this.$el.find("#search-genres"),
             this.subgenres = this.$el.find("#search-subgenres"),
             this.languages = this.$el.find("#search-languages"),
             this.communities = this.$el.find("#search-communities"),
             this
         },
         onKeyUp: function(t) {
             var i;
             if (!t)
                 return !0;
             if (i = t.which || t.keyCode,
             27 === i)
                 this.searchInput.value = "",
                 a.set({
                     query: ""
                 }),
                 e.trigger("dashboard:search");
             else {
                 if (13 === i)
                     return t.preventDefault(),
                     a.set({
                         query: this.searchInput.value.toLowerCase()
                     }),
                     e.trigger("dashboard:search"),
                     this.$("dd").removeClass("open"),
                     this.$el.removeClass("focused"),
                     !1;
                 var s = this.searchInput.value.toLowerCase();
                 s.length >= 2 ? (this.search(this.genresSection, this.genres, "genres", "genre", s),
                 this.search(this.subgenresSection, this.subgenres, "subgenres", "subgenre", s),
                 this.search(this.languagesSection, this.languages, "languages", "language", s, _.bind(function(e) {
                     return this.languageMap.get(e)
                 }, this)),
                 this.delayedSearchRequest && clearTimeout(this.delayedSearchRequest),
                 this.delayedSearchRequest = setTimeout(_.bind(function() {
                     this.searchCommunities(s),
                     delete this.delayedSearchRequest
                 }, this), 250)) : (this.delayedSearchRequest && clearTimeout(this.delayedSearchRequest),
                 this.communitiesSection.hide(),
                 this.genresSection.hide(),
                 this.subgenresSection.hide(),
                 this.languagesSection.hide())
             }
             return !0
         },
         search: function(e, t, i, s, a, o) {
             t.html("");
             var r = n.get(i)
               , l = new Map;
             a.split(" ").forEach(_.bind(function(e) {
                 e.length > 0 && r.forEach(function(t) {
                     var i = t.name;
                     o && (i = o(i)),
                     void 0 !== i && i.toLowerCase().indexOf(e) !== -1 && t.count > 0 && l.set(i, t)
                 })
             }, this)),
             l.size > 0 ? (l.forEach(_.bind(function(e, i) {
                 var n;
                 o && (n = o(i)),
                 t.append(this.createSearchSuggestionElement(s, i, e, n))
             }, this)),
             e.show()) : e.hide()
         },
         createSearchSuggestionElement: function(e, t, i, s) {
             s || (s = t);
             var n = $("<div></div>").addClass("search__dropdown-item").attr("data-type", e).attr("data-" + e, i.id)
               , a = $("<span>" + i.count + "</span>").addClass("number");
             return n.append(s),
             a.appendTo(n),
             n
         },
         searchCommunities: function(e) {
             new s(e).on("success", _.bind(this.onAutoComplete, this))
         },
         onFocus: function() {
             this.$el.addClass("focused"),
             this.$("dd").addClass("open"),
             this.onLeave()
         },
         onBlur: function() {
             this.$("dd").removeClass("open"),
             this.$el.removeClass("focused")
         },
         onEnter: function() {
             this.$el.hasClass("focused") || e.trigger("tooltip:show", l.tooltips.searchName.split("%TOKEN%").join(l.dashboard.name.toLowerCase() + ":"), this.$(".icon-search"), !1)
         },
         onLeave: function() {
             e.trigger("tooltip:hide")
         },
         remove: function() {
             this.onLeave(),
             this._super()
         },
         onAutoComplete: function(e) {
             var t = _.bind(function(e) {
                 var t = $("<div></div>").addClass("search__dropdown-item").addClass("community").attr("data-slug", e.slug).attr("data-name", e.name);
                 t.append(e.name),
                 this.communities.append(t)
             }, this);
             this.communities.html(""),
             e.forEach(t),
             e.length > 0 ? this.communitiesSection.show() : this.communitiesSection.hide()
         },
         onGenreClick: function(t) {
             var i = $(t.currentTarget).data("genre");
             e.trigger("search:addGenreFilter", {
                 id: i,
                 name: n.get("genres").find(function(e) {
                     return e.id == i
                 }).name
             }),
             this.clear()
         },
         onSubGenreClick: function(t) {
             var i = $(t.currentTarget).data("subgenre");
             e.trigger("search:addFilter", {
                 type: "subgenre",
                 data: {
                     id: i,
                     name: n.get("subgenres").find(function(e) {
                         return e.id == i
                     }).name
                 }
             }),
             this.clear()
         },
         onLanguageClick: function(t) {
             var i = $(t.currentTarget).data("language")
               , s = n.get("languages").find(function(e) {
                 return e.id == i
             });
             e.trigger("search:addFilter", {
                 type: "language",
                 data: {
                     id: i,
                     name: this.languageMap.get(s.name),
                     code: s.name
                 }
             }),
             this.clear()
         },
         onCommunityClick: function(t) {
             var i = $(t.currentTarget)
               , s = i.data("slug")
               , n = i.data("name");
             e.dispatch(new o(o.JOIN,s,n))
         }
     });
     return h
 }),
 define("f1e1d/be642/c76df/c5348", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b", "lang/Lang"], function(e, t, i) {
     var s = e.extend({
         type: "PUT",
         route: "users/language",
         init: function(e) {
             this.data = {
                 language: e
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.alert(i.languages.refreshTitle, i.languages.refreshMessage, _.bind(t.forceRefresh, t), !0) : this.error && this.error()
         }
     });
     return s
 }),
 define("hbs!templates/room/settings/DropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="dropdown2">\n\n    <div class="dropdown2-top">\n\n        <div class="text-container">\n            <span class="text"></span>\n        </div>\n\n        <div class="button">\n            <i class="dropdown2-arrow-down fa fa-angle-down"></i>\n            <i class="dropdown2-arrow-up fa fa-angle-up"></i>\n        </div>\n\n    </div>\n\n    <ul class="dropdown2-menu">\n\n    </ul>\n</div>\n\n'
     });
     return t.registerPartial("templates_room_settings_DropDown", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/ec4b4", ["jquery", "underscore", "f1e1d/e718c/b2952", "backbone", "lang/Lang", "hbs!templates/room/settings/DropDown"], function(e, t, i, s, n, a) {
     var o = i.extend({
         identifier: "dropdown2",
         className: "dropdown2-container",
         events: {
             "click .dropdown2-top": "onTopClick",
             "click .row": "onRowClick",
             "click .deselect": "onDeselect"
         },
         defaults: {
             el: this.$(".about-settings__language"),
             readonly: !1,
             groups: [{
                 name: void 0,
                 list: [],
                 selector: void 0,
                 converter: void 0
             }]
         },
         classes: {
             readonly: "widget--readonly"
         },
         initialize: function(e) {
             this.options = e,
             this.selector = this.options.selector,
             this.defaultValue = this.options.defaultValue,
             this.selected = this.options.selected,
             this.groups = this.options.groups,
             this.maxHeight = this.options.maxHeight,
             this.hide = this.options.hide,
             this.selectedItem = null,
             this.executeOnlyIf("onTopClick", this.options.readonly !== !0),
             this.options.readonly === !0 && this.addClass(this.classes.readonly)
         },
         reset: function() {
             this.defaultValue && !this.selected && this.$topText.html(this.defaultValue),
             this.selected && this.select(this.selected.value, this.selected.group),
             this.$menu.find(".row").removeClass("hidden")
         },
         render: function() {
             return this.$el.html(a(n)),
             this.mapDOM(),
             this.$menu.css("max-height", this.maxHeight),
             this.defaultValue && !this.selected && this.$topText.html(this.defaultValue),
             t.each(this.groups, function(i) {
                 t.each(i.list, function(t) {
                     var s = this.findInNestedObject(t, i.selector)
                       , n = i.converter(s)
                       , a = e("<li/>").addClass("row").data("itemList", t).data("group", i).html(e('<span class="text">' + n + "</span>"));
                     void 0 !== n && this.$menu.append(a)
                 }, this)
             }, this),
             this.$rows = this.$menu.find(".row"),
             this.selected && this.select(this.selected.value, this.selected.group),
             this
         },
         mapDOM: function() {
             this.$menu = this.$(".dropdown2-menu"),
             this.$dropdown = this.$(".dropdown2"),
             this.$topText = this.$(".dropdown2-top .text")
         },
         select: function(e, i) {
             var s = null
               , n = t.find(this.groups, function(n) {
                 var a = null;
                 return n.name === i && t.isObject(n.list[0]) && (a = t.find(n.list, function(t) {
                     return s = n.converter,
                     this.findInNestedObject(t, n.selector) === e
                 }, this)),
                 a && a[n.selector] === e
             }, this);
             return n ? (s ? this.$topText.html(s(e)) : this.$topText.html(e),
             !0) : (this.log("The selected element don't exist in the dropdown list."),
             !1)
         },
         onTopClick: function(i) {
             this.prevent(i),
             this.$dropdown.hasClass("open") ? (this.$dropdown.removeClass("open"),
             e(document).off("click", e.proxy(this.onDocClick, this))) : (this.$dropdown.addClass("open"),
             t.defer(function() {
                 e(document).on("click", e.proxy(this.onDocClick, this))
             }
             .bind(this)))
         },
         onRowClick: function(t) {
             var i = e(t.currentTarget)
               , s = i.data("itemList")
               , n = i.data("group")
               , a = this.select(s[n.selector], n.name);
             a && (this.selectedItem = s,
             this.$rows.removeClass("hidden"),
             this.$rows.removeClass("selected"),
             this.hide ? i.addClass("hidden") : i.addClass("selected"),
             this.trigger("rowClick", s, n))
         },
         onDocClick: function() {
             this.$dropdown.removeClass("open"),
             e(document).off("click", e.proxy(this.onDocClick, this))
         },
         remove: function() {
             this._super()
         },
         findInNestedObject: function(e, i) {
             var s = null;
             if (t.isArray(e))
                 for (var n = 0; n < e.length && !(s = this.findInNestedObject(e[n], i)); n++)
                     ;
             else {
                 if (e[i])
                     return e[i];
                 for (var a in e)
                     if ((t.isObject(e[a]) || t.isArray(e[a])) && (s = this.findInNestedObject(e[a], i)))
                         break
             }
             return s
         }
     });
     return o
 }),
 define("f1e1d/e74c9/c5cd9/ace14", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8478/f54f2", "lang/Lang", "f1e1d/e74c9/b49ed/ff2dd/ec4b4"], function(e, t, i, s, n, a, o, r, l) {
     var h = i.View.extend({
         className: "languages-search-dropdown",
         initialize: function() {
             this.dropdownEl = e("<div/>").addClass("search-language__dropdown")
         },
         render: function() {
             return this.$el.append(this.dropdownEl),
             this.languageDropDown = new l({
                 el: this.$(".search-language__dropdown"),
                 groups: [{
                     name: "languages",
                     list: o.get("languages"),
                     selector: "name",
                     converter: function(e) {
                         var t = r.languages[e.toLowerCase()];
                         if (void 0 !== t)
                             t = t.split("(")[0];
                         else
                             switch (e) {
                             case "CZ":
                                 t = r.languages.cs.split("(")[0];
                                 break;
                             case "EN-PT":
                                 t = r.languages.pi.split("(")[0];
                                 break;
                             case "PT-BR":
                                 t = r.languages.pt.split("(")[0];
                                 break;
                             case "ES-ES":
                                 t = r.languages.es.split("(")[0];
                                 break;
                             default:
                                 console.log("Language name cannot be found for: " + e)
                             }
                         return t
                     }
                 }],
                 maxHeight: 180,
                 hide: !0,
                 defaultValue: "Select Language"
             }).on("rowClick", t.bind(this.onLanguageSelect, this)),
             this.listenTo(s, "search:deleteAllFilter", t.bind(function() {
                 this.languageDropDown.reset()
             }, this)),
             this.listenTo(s, "search:addFilter", t.bind(function(e) {
                 "language" === e.type && this.languageDropDown.select(e.data.code, "languages")
             }, this)),
             this.listenTo(s, "search:removeFilter", t.bind(function(e, t) {
                 this.languageDropDown.reset()
             }, this)),
             this.languageDropDown.render(),
             this
         },
         onLanguageSelect: function(e) {
             s.trigger("search:addFilter", {
                 type: "language",
                 data: {
                     id: e.id,
                     name: r.languages[e.name.toLowerCase()].split(" ")[0],
                     code: e.name
                 }
             })
         }
     });
     return h
 }),
 define("f1e1d/be642/e32cc/d1ea2", ["f1e1d/be642/b7b48", "f1e1d/af752/bacfb"], function(e, t) {
     var i = e.extend({
         type: "POST",
         route: "rooms/favorites",
         init: function(e) {
             this.data = {
                 id: e
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && (this.success(!0),
             t.track(t.type.action, t.event.roomFavorite)) : this.error && this.error(e.code)
         }
     });
     return i
 }),
 define("f1e1d/be642/e32cc/fa5a3", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "rooms/favorites/" + e,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(!1) : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("hbs!templates/dashboard/GridCell", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<div class="guests"><div class="divider"></div><i class="icon icon-friends-grey"></i><span>',
             (s = i.guests) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.guests,
             s = typeof s === c ? s.apply(e) : s),
             n += p(s) + "</span></div>"
         }
         function o(e, t) {
             return '<div class="nsfw"><span class="emoji-outer emoji-sizer"><span class="emoji-inner" style="background-position:10% 17.5%;background-size:4700%;vertical-align:baseline"></span></div>'
         }
         function r(e, t) {
             return '<i class="icon icon-locked-grey"></i>'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var l, h = "", c = "function", p = this.escapeExpression, d = this;
         return h += '<div class="bar">\n    <div class="population">\n        <div class="people"><i class="icon icon-dashboard-population"></i><span>',
         (l = i.people) ? l = l.call(t, {
             hash: {}
         }) : (l = t.people,
         l = typeof l === c ? l.apply(t) : l),
         h += p(l) + '</span></div>\n        <div class="friends"><div class="divider"></div><i class="icon icon-friends-white"></i><span>',
         (l = i.friends) ? l = l.call(t, {
             hash: {}
         }) : (l = t.friends,
         l = typeof l === c ? l.apply(t) : l),
         h += p(l) + "</span></div>\n        ",
         l = i.if.call(t, t.guests, {
             hash: {},
             inverse: d.noop,
             fn: d.program(1, a, n)
         }),
         (l || 0 === l) && (h += l),
         h += "\n    </div>\n    ",
         l = i.if.call(t, t.nsfw, {
             hash: {},
             inverse: d.noop,
             fn: d.program(3, o, n)
         }),
         (l || 0 === l) && (h += l),
         h += '\n    <div class="favorite">\n        <i class="icon icon-star-white"></i>\n    </div>\n</div>\n<i class="media"></i>\n<div class="meta">\n    <div class="friends"></div>\n    <div class="now-playing"><i class="icon icon-join-booth"></i>',
         (l = i.media) ? l = l.call(t, {
             hash: {}
         }) : (l = t.media,
         l = typeof l === c ? l.apply(t) : l),
         h += p(l) + '</div>\n    <div class="divider"></div>\n    <div class="room">',
         l = i.if.call(t, t.private, {
             hash: {},
             inverse: d.noop,
             fn: d.program(5, r, n)
         }),
         (l || 0 === l) && (h += l),
         (l = i.room) ? l = l.call(t, {
             hash: {}
         }) : (l = t.room,
         l = typeof l === c ? l.apply(t) : l),
         h += p(l) + '</div>\n    <div class="host">',
         (l = i.host) ? l = l.call(t, {
             hash: {}
         }) : (l = t.host,
         l = typeof l === c ? l.apply(t) : l),
         h += p(l) + '</div>\n    <div class="join"><div class="label"><i class="fa fa-sign-in"></i>',
         (l = i.join) ? l = l.call(t, {
             hash: {}
         }) : (l = t.join,
         l = typeof l === c ? l.apply(t) : l),
         h += p(l) + "</div></div>\n</div>\n\n"
     });
     return t.registerPartial("templates_dashboard_GridCell", i),
     i
 }),
 define("templates/helpers/if_eq", ["handlebars"], function(e) {
     return e.registerHelper("if_eq", function(e, t, i) {
         return e === t ? i.fn(this) : i.inverse(this)
     }),
     e
 }),
 define("hbs!templates/dashboard/DashboardRoomCellView", ["hbs", "handlebars", "templates/helpers/if_eq"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '\n        <p class="community__friends">\n            <i class="plugdjfont icon-friends"></i>',
             (s = i.friends) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.friends,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "\n        </p>\n        "
         }
         function o(e, t) {
             return '<a class="overlay__fav__active"></a>'
         }
         function r(e, t) {
             var s, n = "";
             return n += '\n            <div class="overlay__genre">\n                <span class="white">GENRES: </span>',
             (s = i.genres) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.genres,
             s = typeof s === u ? s.apply(e) : s),
             (s || 0 === s) && (n += s),
             n += "\n            </div>\n            "
         }
         function l(e, t) {
             var s, n = "";
             return n += '\n            <div class="overlay__sub-genre">\n                <span class="white">SUBGENRES: </span>',
             (s = i.subgenres) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.subgenres,
             s = typeof s === u ? s.apply(e) : s),
             (s || 0 === s) && (n += s),
             n += "\n            </div>\n            "
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var h, c, p, d = "", u = "function", f = this.escapeExpression, m = this, g = i.helperMissing;
         return d += '<div class="community-box">\n    <div class="community-box__background">\n        <img src="',
         (h = i.background) ? h = h.call(t, {
             hash: {}
         }) : (h = t.background,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + '" alt="',
         (h = i.room) ? h = h.call(t, {
             hash: {}
         }) : (h = t.room,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + '">\n    </div>\n    <div class="community-box__top">\n        ',
         h = i.unless.call(t, t.isLanding, {
             hash: {},
             inverse: m.noop,
             fn: m.program(1, a, n)
         }),
         (h || 0 === h) && (d += h),
         d += '\n        <!--<p class="community__views">-->\n            <!--<i class="fa fa-eye" aria-hidden="true"></i>',
         (h = i.population) ? h = h.call(t, {
             hash: {}
         }) : (h = t.population,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + '-->\n        <!--</p>-->\n        <p class="community__chat">\n            <i class="fa fa-comments"></i>',
         (h = i.population) ? h = h.call(t, {
             hash: {}
         }) : (h = t.population,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + '\n        </p>\n        <p class="community-box__dj">\n            <i class="plugdjfont icon-dj" aria-hidden="true"></i> ',
         (h = i.booth) ? h = h.call(t, {
             hash: {}
         }) : (h = t.booth,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + '\n        </p>\n    </div>\n    <div class="community-box__bottom">\n        <p class="community-box__name"><b>',
         (h = i.room) ? h = h.call(t, {
             hash: {}
         }) : (h = t.room,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + '</b></p>\n        <p class="community-box__media">',
         (h = i.media) ? h = h.call(t, {
             hash: {}
         }) : (h = t.media,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + '</p>\n\n    </div>\n    <div class="community-box__overlay">\n        <div class="overlay__top">\n            <p class="overlay__language"><i class="fa fa-globe" aria-hidden="true"></i>',
         (h = i.language) ? h = h.call(t, {
             hash: {}
         }) : (h = t.language,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + "</p>\n            ",
         h = i.unless.call(t, t.isLanding, {
             hash: {},
             inverse: m.noop,
             fn: m.program(3, o, n)
         }),
         (h || 0 === h) && (d += h),
         d += '\n        </div>\n        <div class="overlay__text">\n            <p class="hosted">Hosted by <a class="white" href="#">',
         (h = i.host) ? h = h.call(t, {
             hash: {}
         }) : (h = t.host,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + '</a> </p>\n            <p class="max-height-3">\n                ',
         (h = i.description) ? h = h.call(t, {
             hash: {}
         }) : (h = t.description,
         h = typeof h === u ? h.apply(t) : h),
         d += f(h) + "\n            </p>\n            ",
         p = {
             hash: {},
             inverse: m.noop,
             fn: m.program(5, r, n)
         },
         h = i.if_eq || t.if_eq,
         c = h ? h.call(t, t.hasNoGenres, !1, p) : g.call(t, "if_eq", t.hasNoGenres, !1, p),
         (c || 0 === c) && (d += c),
         d += "\n            ",
         p = {
             hash: {},
             inverse: m.noop,
             fn: m.program(7, l, n)
         },
         h = i.if_eq || t.if_eq,
         c = h ? h.call(t, t.hasNoSubGenres, !1, p) : g.call(t, "if_eq", t.hasNoSubGenres, !1, p),
         (c || 0 === c) && (d += c),
         d += '\n        </div>\n\n        <button class="btn-black small">',
         (c = i.join) ? c = c.call(t, {
             hash: {}
         }) : (c = t.join,
         c = typeof c === u ? c.apply(t) : c),
         d += f(c) + "</button>\n    </div>\n</div>\n"
     });
     return t.registerPartial("templates_dashboard_DashboardRoomCellView", i),
     i
 }),
 define("hbs!templates/dashboard/GridCellFriend", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="image ',
         (a = i.status) ? a = a.call(t, {
             hash: {}
         }) : (a = t.status,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" data-name="',
         (a = i.username) ? a = a.call(t, {
             hash: {}
         }) : (a = t.username,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"><div class="thumb small"><i class="avi avi-',
         (a = i.avatarID) ? a = a.call(t, {
             hash: {}
         }) : (a = t.avatarID,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"></i></div></div>'
     });
     return t.registerPartial("templates_dashboard_GridCellFriend", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/ec525/bdeea", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/cd5cd", "f1e1d/fce39/d6a89", "f1e1d/e8300/be22c", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/be642/e32cc/d1ea2", "f1e1d/be642/e32cc/fa5a3", "f1e1d/af752/e6c91", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "hbs!templates/dashboard/GridCell", "hbs!templates/dashboard/DashboardRoomCellView", "hbs!templates/dashboard/GridCellFriend", "f1e1d/af752/f3ab8", "f1e1d/d8478/d7013", "f1e1d/d8478/f54f2", "lang/Lang", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C) {
     function k(e, t) {
         if (void 0 === e || e.length < 1)
             return null;
         var i = "";
         return e.forEach(function(e) {
             i += t.replace("%element%", e) + ", "
         }),
         i.isEmpty || (i = i.substring(0, i.length - 2)),
         i
     }
     var _ = i.View.extend({
         className: "cell",
         events: {
             "click a.genre-item": "onGenreClick",
             "click a.subgenre-item": "onSubGenreClick"
         },
         landing: !1,
         initialize: function() {
             this.enterBind = t.bind(this.onEnter, this),
             this.leaveBind = t.bind(this.onLeave, this),
             this.enterMoreBind = t.bind(this.onEnterMore, this)
         },
         resetFilters: function() {
             b.set({
                 query: ""
             }),
             b.get("filters").length = 0,
             s.trigger("search:deleteAllFilter")
         },
         onGenreClick: function(t) {
             this.resetFilters();
             var i = w.getGenreByName(e(t.target).text());
             s.trigger("search:addGenreFilter", {
                 id: i.id,
                 name: i.name
             }),
             s.trigger("dashboard:search"),
             s.trigger("click:genre", i, this.options.mode)
         },
         onSubGenreClick: function() {
             this.resetFilters();
             var t = w.getSubGenreByName(e(event.target).text());
             s.trigger("search:addFilter", {
                 type: "subgenre",
                 data: t
             }),
             s.trigger("dashboard:search"),
             s.trigger("click:subgenre", t, this.options.mode)
         },
         render: function() {
             var e = n.lookup(this.model.get("id"));
             switch (this.model.get("slug")) {
             case "ultra":
                 this.model.set("media", "Ultra Music Festival");
                 break;
             case "plutotv":
                 this.model.set("media", "Pluto TV")
             }
             var i = "<a href='#' class='genre-item'>%element%</a>"
               , s = "<a href='#' class='subgenre-item'>%element%</a>";
             this.landing && (i = "%element%",
             s = "%element%");
             var o = {
                 room: this.model.get("name"),
                 host: this.model.get("host") || y.roomInfo.noHostName,
                 friends: e.length,
                 guests: this.model.get("guests") > 0 ? this.model.get("guests") : void 0,
                 population: this.model.get("population"),
                 join: y.dashboard.join,
                 media: this.model.get("media") || y.playback.noDJTitle,
                 private: this.model.get("private"),
                 nsfw: this.model.get("nsfw"),
                 booth: this.model.get("booth"),
                 description: this.model.get("description"),
                 genres: k(this.model.get("genres"), i),
                 subgenres: k(this.model.get("subgenres"), s),
                 language: y.languages[this.model.get("language").toLowerCase()],
                 isLanding: this.landing,
                 hasNoGenres: 0 === this.model.get("genres").length,
                 hasNoSubGenres: 0 === this.model.get("subgenres").length
             };
             return "" === this.model.get("media") && "" === this.model.get("image") ? o.background = "https://cdn-prod.plug.dj/_/static/images/community/placeholder-community-image.b96e02032326b022bd4962cbf7a5837fe70271ce.png" : this.model.get("image").indexOf("ytimg") !== -1 ? o.background = this.model.get("image").replace("default", "hqdefault").replace("http:/", "https:/") : o.background = this.model.get("image").replace("http:/", "https:/"),
             this.$el.append(m(o)),
             this.model.get("private") && this.$el.addClass("is-private"),
             this.model.set({
                 favorite: a.isFavorite(this.model)
             }),
             this.model.on("change:favorite", this.onFavorite, this),
             this.onFavorite(),
             this.$el.on("click", t.bind(this.onClick, this)),
             this
         },
         onFavorite: function() {
             this.model.get("favorite") ? this.$("a.overlay__fav").removeClass().addClass("overlay__fav__active") : this.$("a.overlay__fav__active").removeClass().addClass("overlay__fav")
         },
         onFriends: function() {
             this.$(".meta .friends .image").off();
             var t, i = this.$(".meta .friends").empty(), s = n.lookup(this.model.get("id")), a = s.length;
             if (a > 0) {
                 for (this.$(".population .friends span").text(a),
                 this.$(".population").addClass("has-friends"),
                 t = 0; t < a && 6 !== t; ++t)
                     i.append(g({
                         username: s[t].get("username"),
                         avatarID: u.aviClass(s[t].get("avatarID")),
                         status: "online"
                     }));
                 if (a > 6) {
                     for (this.moreNames = [],
                     t = 6; t < a; ++t)
                         this.moreNames.push(s[t].get("username"));
                     if (this.moreNames.length > 3) {
                         var o = String(this.moreNames.length - 3);
                         this.moreNames.length = 3,
                         this.moreNames.push(y.dashboard.more.split("%COUNT%").join(o))
                     }
                     this.$more = e('<span class="more">+</span>'),
                     i.append(this.$more),
                     this.$more.on("mouseenter", this.enterMoreBind).on("mouseleave", this.leaveBind)
                 }
                 this.$(".meta .friends .image").on("mouseenter", this.enterBind).on("mouseleave", this.leaveBind)
             } else
                 this.$(".population").removeClass("has-friends"),
                 this.$(".population .friends span").text("")
         },
         onClick: function(i) {
             this.onLeave();
             var n = e(i.target);
             n.hasClass("overlay__fav") ? l.get("guest") ? s.trigger("signup:show", "Dashboard: Trigger - Favorite") : (new h(this.model.get("id")).on("success", t.bind(this.onSuccess, this)),
             C("send", "event", "Dashboard", "Community", "Favorite"),
             s.trigger("click:favorite", !0, this.model.get("id"), this.options.mode)) : n.hasClass("overlay__fav__active") ? l.get("guest") ? s.trigger("signup:show", "Dashboard: Trigger - Favorite") : (new c(this.model.get("id")).on("success", t.bind(this.onSuccess, this)),
             s.trigger("click:favorite", !1, this.model.get("id"), this.options.mode)) : n.hasClass("genre-item") || n.hasClass("subgenre-item") || (this.landing ? window.location.href = this.model.get("slug") : r.get("slug") !== this.model.get("slug") ? s.dispatch(new o(o.JOIN,this.model.get("slug"),this.model.get("name"))) : (s.trigger("panel:back", !0, !1),
             s.trigger("dfp:room:restore")))
         },
         onEnter: function(t) {
             var i = e(t.target).closest(".image");
             s.trigger("tooltip:show", i.data("name"), i, !1, !0)
         },
         onEnterMore: function() {
             s.trigger("tooltip:show", this.moreNames.join(", "), this.$more, !1, !0)
         },
         onNSFWEnter: function() {
             s.trigger("tooltip:show", y.tooltips.nsfw, this.$(".emoji-outer"), !1, !0, "orange")
         },
         onLeave: function() {
             s.trigger("tooltip:hide")
         },
         onSuccess: function(e) {
             this.model.set("favorite", e),
             a.trigger("change:favorite", this.model)
         },
         remove: function() {
             this.onLeave(),
             this.$more && this.$more.off(),
             this.$more = void 0,
             delete this.$more,
             this.$(".meta .friends .image").off(),
             this.$(".meta .friends").empty(),
             this.model.off("change:favorite", this.onFavorite, this),
             this.moreNames = void 0,
             delete this.moreNames,
             this.model = void 0,
             delete this.model,
             this.enterBind = void 0,
             this.leaveBind = void 0,
             delete this.enterBind,
             delete this.leaveBind,
             this._super()
         }
     });
     return _
 }),
 define("f1e1d/e74c9/c5cd9/ec525/dce23", ["jquery", "underscore", "backbone", "f1e1d/fce39/e61b0", "f1e1d/d9232/b42c1", "f1e1d/e74c9/c5cd9/ec525/bdeea", "f1e1d/e74c9/a6e51/f2220"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         className: "grid",
         initialize: function() {
             this.cells = [],
             this.$gutter = e("<div/>").addClass("bottom-gutter")
         },
         render: function() {
             return s.on("reset", this.onReset, this).on("add", this.onAdd, this).on("update", this.onUpdate, this),
             this.onUpdate(),
             this
         },
         onReset: function() {
             this.clear()
         },
         onAdd: function(e) {
             if (n.settings.nsfw || !e.get("nsfw")) {
                 var t = new a({
                     model: e
                 });
                 this.$el.append(t.$el),
                 this.cells.push(t),
                 t.render()
             }
         },
         clear: function() {
             for (var e = this.cells.length; e--; )
                 this.cells[e].destroy();
             this.cells.length = 0,
             this.scrollPane && this.scrollPane.reinitialise()
         },
         onUpdate: function() {
             this.$el.append(this.$gutter),
             this.hideSpinner(),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         showSpinner: function() {
             this.hideSpinner(),
             this.spinner = new o({
                 size: o.SMALL
             }),
             this.$gutter.append(this.spinner.$el),
             this.spinner.render().$el.css("left", "50%").css("top", "0px")
         },
         hideSpinner: function() {
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner)
         }
     });
     return r
 }),
 define("f1e1d/e74c9/c5cd9/a9847", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/af752/c506b", "f1e1d/d8478/f54f2"], function(e, t, i, s, n, a, o, r) {
     var l = s.extend({
         id: "genres",
         className: "genres-grid",
         events: {
             "click .genres__genre": "onGenreClick"
         },
         render: function() {
             var t = ["yellow", "yellow-2", "blue", "green", "purple", "orange", "red", "red-2", "aquamarine"];
             this.numberGenres = r.get("genres").length,
             this.numberClass = t.length;
             for (var i = 0; i < this.numberGenres; ++i) {
                 this.random = Math.floor(Math.random() * this.numberClass),
                 this.randomClass = t[this.random];
                 var s = r.get("genres")[i];
                 this.$el.append(e("<a/>").addClass("genres__genre " + this.randomClass).append(e("<div/>").attr("data-id", s.id).attr("data-name", s.name).addClass("genres__genre__bg").html(s.name)))
             }
             return this
         },
         onGenreClick: function(t) {
             var i = e(t.target)
               , s = i.data("id")
               , a = i.data("name");
             n.trigger("search:addGenreFilter", {
                 id: s,
                 name: a
             }),
             n.trigger("dashboard:search")
         }
     });
     return l
 }),
 define("f1e1d/d8478/b3d7e", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             text: null,
             genresLists: ["Open genre", "Ambient", "Blues & Jazz", "Chillout", "Classical", "Country", "Dubstep", "Drum & Bass", "Edm", "Electronica", "Folk", "Hip-Hop $ Rap", "House", "Indie", "Latin", "Metal", "Pop", "Reggae", "Rock", "R&B/Soul", "Techno", "Trance", "Trap", "World"],
             genresClass: ["yellow", "yellow-2", "blue", "green", "purple", "orange", "red", "red-2", "aquamarine"]
         }
     });
     return new t
 }),
 define("hbs!templates/dashboard/DashboardGenresMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="arrow scroll-left hidden"></div>\n<div class="genres__menu">    \n       \n</div>\n<div class="arrow scroll-right"></div>'
     });
     return t.registerPartial("templates_dashboard_DashboardGenresMenu", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/e1f40", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/d8478/b3d7e", "f1e1d/d8478/caf8b", "f1e1d/af752/c506b", "hbs!templates/dashboard/DashboardGenresMenu"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = s.extend({
         className: "genres__menu-content",
         events: {
             "click .scroll-left": "onScrollLeft",
             "click .scroll-right": "onScrollRight",
             "click .genre": "onGenreAdd"
         },
         initialize: function() {
             this.activeFilters = [],
             this.i = 0,
             this.move = 40 * this.i,
             this.$listGenre = e("<div/>").addClass("genre"),
             n.on("search:deleteGenreFilter", this.onUnselectGenre, this),
             n.on("search:deleteAllFilter", this.unselectAll, this),
             n.on("search:addGenreFilter", this.onFilterAddFromSearch, this)
         },
         render: function() {
             return this.$el.html(h()),
             this.renderGenres(),
             this
         },
         unselectAll: function(e) {
             this.$(".genre").removeClass("active"),
             this.activeFilters = []
         },
         renderGenres: function() {
             var t = this.$(".genres__menu");
             r.get("genres").forEach(function(i) {
                 t.append(e("<div/>").addClass("genre").attr("data-genre-id", i.id).html(i.name))
             })
         },
         onUnselectGenre: function(e) {
             this.$el.find(".genres__menu").find(".genre[data-genre-id=" + e + "]").removeClass("active"),
             this.activeFilters.splice(this.activeFilters.indexOf(e), 1)
         },
         onFilterAddFromSearch: function(e) {
             this.$el.find(".genres__menu").find(".genre[data-genre-id=" + e.id + "]").addClass("active")
         },
         onGenreAdd: function(t) {
             var i = e(t.currentTarget).hasClass("active");
             if (i)
                 this.unselectGenre(t);
             else {
                 var s = e(t.currentTarget).data("genre-id")
                   , a = r.get("genres").find(function(e) {
                     return e.id == s
                 });
                 e(t.currentTarget).addClass("active"),
                 this.activeFilters.push(a.id),
                 n.trigger("search:addGenreFilter", a)
             }
         },
         unselectGenre: function(t) {
             var i = e(t.currentTarget)
               , s = i.data("genre-id")
               , a = r.get("genres").find(function(e) {
                 return e.id == s
             });
             this.activeFilters.splice(this.activeFilters.indexOf(a.id), 1),
             i.removeClass("active"),
             n.trigger("search:removeGenreFilter", a.id)
         },
         hideLeftArrow: function() {
             0 == this.i ? (this.i = 0,
             this.$(".scroll-left").addClass("hidden"),
             this.$(".genres__menu").css({
                 transform: "translateX(0)"
             })) : this.$(".scroll-left").removeClass("hidden")
         },
         hideRightArrow: function() {
             this.i == this.$roundUp ? this.$(".scroll-right").addClass("hidden") : this.$(".scroll-right").removeClass("hidden")
         },
         onScrollLeft: function() {
             this.$genresWidth = this.$(".genres__menu").outerWidth(),
             this.$genresPositionLast = this.$(".genres__menu").children().last().position().left,
             this.$numberScroll = this.$genresPositionLast / this.$genresWidth,
             this.$roundUp = Math.round(this.$numberScroll),
             this.i = this.i - 1,
             this.move = 80 * this.i,
             this.hideLeftArrow(),
             this.hideRightArrow(),
             this.$(".genres__menu").css({
                 transform: "translateX(-" + this.move + "%)"
             }),
             n.trigger("track", "dashboard", "click", "Genres filter previous")
         },
         onScrollRight: function() {
             this.$genresWidth = this.$(".genres__menu").outerWidth(),
             this.$genresPositionLast = this.$(".genres__menu").children().last().position().left,
             this.$numberScroll = this.$genresPositionLast / this.$genresWidth,
             this.$roundUp = Math.round(this.$numberScroll),
             this.i = this.i + 1,
             this.move = 80 * this.i,
             this.hideLeftArrow(),
             this.hideRightArrow(),
             this.$(".genres__menu").css({
                 transform: "translateX(-" + this.move + "%)"
             }),
             this.$(".scroll-left").removeClass("hidden"),
             n.trigger("track", "dashboard", "click", "Genres filter next")
         }
     });
     return c
 }),
 define("hbs!templates/dashboard/DashboardTitle", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '    <button class="button back" id="panels-go-back"> <div class="fa fa-angle-left"></div>  </button>\n    <div class="number">0</div>\n    <div class="title">communities<span id="title-filters-text"> for</span></div>\n    <div class="filters">\n    </div>\n    <div class="clear-button"><i class="fa fa-trash"></i> clear all filters</div>\n'
     });
     return t.registerPartial("templates_dashboard_DashboardTitle", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/c8f40", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/d8478/b3d7e", "f1e1d/d8478/d7013", "f1e1d/af752/c506b", "hbs!templates/dashboard/DashboardTitle"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = s.extend({
         className: "dashboard__title",
         events: {
             "click .clear-button": "onDeleteAllFilters",
             "click .filter": "onDeleteFilter",
             "click #panels-go-back": "onGoBackFromPanels"
         },
         initialize: function() {
             this.filters = r.get("filters"),
             n.on("search:addGenreFilter", t.bind(this.onAddGenreFilter, this), this),
             n.on("search:addFilter", t.bind(this.onAddFilter, this), this),
             n.on("search:removeGenreFilter", t.bind(this.onRemoveGenreFilter, this), this),
             n.on("search:deleteAllFilter", t.bind(this.onRemoveAllFilters, this), this),
             this.listenTo(n, "dashboard:total", t.bind(this.onTotalUpdate, this)),
             this.shouldShowBackBtn = !1
         },
         render: function() {
             return this.$el.html(h()),
             this.$total = this.$el.find("div.number"),
             this.$title = this.$el.find("div.title"),
             this.$for = this.$el.find("span#title-filters-text"),
             this.backBtn = this.$el.find("#panels-go-back"),
             this.backBtn.hide(),
             this.$total.hide(),
             this.$title.hide(),
             this.$for.hide(),
             this.listenTo(n, "search:addGenreFilter search:addFilter search:removeGenreFilter search:deleteAllFilter", t.bind(function() {
                 0 === this.filters.length ? this.$for.hide() : this.$for.show()
             }, this)),
             this
         },
         onTotalUpdate: function(e) {
             this.$total.text(e)
         },
         showBackButton: function(e) {
             e ? (this.$title.show(),
             this.$total.show(),
             this.backBtn.show()) : (this.backBtn.hide(),
             this.$total.hide(),
             this.$title.hide()),
             this.shouldShowBackBtn = e
         },
         onGoBackFromPanels: function(e) {
             this.showBackButton(!1),
             this.$(".clear-button").hide(),
             this.$(".filter").remove(),
             this.filters.length = 0,
             n.trigger("search:deleteAllFilter"),
             this.trigger("dashboard:panels")
         },
         onAddGenreFilter: function(t) {
             this.filters.push({
                 type: "genre",
                 data: t
             }),
             this.filters.length > 0 && (this.$(".clear-button").show(),
             this.$(".filters").append(e("<div/>").addClass("filter").attr("data-genre-id", t.id).attr("data-type", "genre").text(t.name))),
             n.trigger("dashboard:search")
         },
         onAddFilter: function(t) {
             if (this.$(".clear-button").show(),
             "language" === t.type) {
                 var i = this.$el.find('.filter[data-type="language"]')
                   , s = i.data("language-id");
                 void 0 !== i && (this.removeFilter("language", s),
                 i.remove())
             }
             this.$(".filters").append(e("<div/>").addClass("filter").attr("data-" + t.type + "-id", t.data.id).attr("data-type", t.type).text(t.data.name)),
             this.filters.push({
                 type: t.type,
                 data: t.data
             }),
             n.trigger("dashboard:search")
         },
         removeFilter: function(e, t) {
             if (void 0 !== t && void 0 !== e) {
                 var i = this.filters.find(function(i) {
                     return i.type === e && i.data.id == t
                 });
                 this.filters.splice(this.filters.indexOf(i), 1),
                 n.trigger("search:removeFilter", e, t)
             }
         },
         onRemoveGenreFilter: function(e) {
             this.$el.find(".filter[data-genre-id=" + e + "]").remove(),
             this.removeFilter("genre", e),
             0 === this.filters.length && this.$el.find(".clear-button").hide(),
             n.trigger("dashboard:search")
         },
         onDeleteFilter: function(t) {
             var i = e(t.currentTarget)
               , s = i.data("type");
             if ("genre" === s) {
                 var a = i.data("genre-id");
                 this.removeFilter("genre", a),
                 n.trigger("search:deleteGenreFilter", a)
             } else if ("subgenre" === s) {
                 var o = i.data("subgenre-id");
                 this.removeFilter("subgenre", o)
             } else if ("language" === s) {
                 var o = i.data("language-id");
                 this.removeFilter("language", o)
             }
             i.remove(),
             0 === this.filters.length && this.$el.find(".clear-button").hide(),
             n.trigger("dashboard:search")
         },
         onDeleteAllFilters: function(e, t) {
             this.$el.find(".clear-button").hide(),
             this.$(".filter").remove(),
             this.filters.length = 0,
             n.trigger("search:deleteAllFilter"),
             t || n.trigger("dashboard:search")
         },
         onRemoveAllFilters: function() {
             this.$el.find(".clear-button").hide(),
             this.$(".filter").remove()
         }
     });
     return c
 }),
 function(e) {
     "function" == typeof define && define.amd ? define("jquery-mousewheel", ["jquery"], e) : "object" == typeof exports ? module.exports = e : e(jQuery)
 }(function(e) {
     function t(t) {
         var o = t || window.event
           , r = l.call(arguments, 1)
           , h = 0
           , c = 0
           , p = 0
           , d = 0;
         if (t = e.event.fix(o),
         t.type = "mousewheel",
         "detail"in o && (p = o.detail * -1),
         "wheelDelta"in o && (p = o.wheelDelta),
         "wheelDeltaY"in o && (p = o.wheelDeltaY),
         "wheelDeltaX"in o && (c = o.wheelDeltaX * -1),
         "axis"in o && o.axis === o.HORIZONTAL_AXIS && (c = p * -1,
         p = 0),
         h = 0 === p ? c : p,
         "deltaY"in o && (p = o.deltaY * -1,
         h = p),
         "deltaX"in o && (c = o.deltaX,
         0 === p && (h = c * -1)),
         0 !== p || 0 !== c) {
             if (1 === o.deltaMode) {
                 var u = e.data(this, "mousewheel-line-height");
                 h *= u,
                 p *= u,
                 c *= u
             } else if (2 === o.deltaMode) {
                 var f = e.data(this, "mousewheel-page-height");
                 h *= f,
                 p *= f,
                 c *= f
             }
             return d = Math.max(Math.abs(p), Math.abs(c)),
             (!a || d < a) && (a = d,
             s(o, d) && (a /= 40)),
             s(o, d) && (h /= 40,
             c /= 40,
             p /= 40),
             h = Math[h >= 1 ? "floor" : "ceil"](h / a),
             c = Math[c >= 1 ? "floor" : "ceil"](c / a),
             p = Math[p >= 1 ? "floor" : "ceil"](p / a),
             t.deltaX = c,
             t.deltaY = p,
             t.deltaFactor = a,
             t.deltaMode = 0,
             r.unshift(t, h, c, p),
             n && clearTimeout(n),
             n = setTimeout(i, 200),
             (e.event.dispatch || e.event.handle).apply(this, r)
         }
     }
     function i() {
         a = null
     }
     function s(e, t) {
         return c.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 === 0
     }
     var n, a, o = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], r = "onwheel"in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], l = Array.prototype.slice;
     if (e.event.fixHooks)
         for (var h = o.length; h; )
             e.event.fixHooks[o[--h]] = e.event.mouseHooks;
     var c = e.event.special.mousewheel = {
         version: "3.1.9",
         setup: function() {
             if (this.addEventListener)
                 for (var i = r.length; i; )
                     this.addEventListener(r[--i], t, !1);
             else
                 this.onmousewheel = t;
             e.data(this, "mousewheel-line-height", c.getLineHeight(this)),
             e.data(this, "mousewheel-page-height", c.getPageHeight(this))
         },
         teardown: function() {
             if (this.removeEventListener)
                 for (var e = r.length; e; )
                     this.removeEventListener(r[--e], t, !1);
             else
                 this.onmousewheel = null
         },
         getLineHeight: function(t) {
             return parseInt(e(t)["offsetParent"in e.fn ? "offsetParent" : "parent"]().css("fontSize"), 10)
         },
         getPageHeight: function(t) {
             return e(t).height()
         },
         settings: {
             adjustOldDeltas: !0
         }
     };
     e.fn.extend({
         mousewheel: function(e) {
             return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
         },
         unmousewheel: function(e) {
             return this.unbind("mousewheel", e)
         }
     })
 }),
 function(e, t, i, s) {
     function n(t, i) {
         this.settings = null,
         this.options = e.extend({}, n.Defaults, i),
         this.$element = e(t),
         this._handlers = {},
         this._plugins = {},
         this._supress = {},
         this._current = null,
         this._speed = null,
         this._coordinates = [],
         this._breakpoint = null,
         this._width = null,
         this._items = [],
         this._clones = [],
         this._mergers = [],
         this._widths = [],
         this._invalidated = {},
         this._pipe = [],
         this._drag = {
             time: null,
             target: null,
             pointer: null,
             stage: {
                 start: null,
                 current: null
             },
             direction: null
         },
         this._states = {
             current: {},
             tags: {
                 initializing: ["busy"],
                 animating: ["busy"],
                 dragging: ["interacting"]
             }
         },
         e.each(["onResize", "onThrottledResize"], e.proxy(function(t, i) {
             this._handlers[i] = e.proxy(this[i], this)
         }, this)),
         e.each(n.Plugins, e.proxy(function(e, t) {
             this._plugins[e.charAt(0).toLowerCase() + e.slice(1)] = new t(this)
         }, this)),
         e.each(n.Workers, e.proxy(function(t, i) {
             this._pipe.push({
                 filter: i.filter,
                 run: e.proxy(i.run, this)
             })
         }, this)),
         this.setup(),
         this.initialize()
     }
     n.Defaults = {
         items: 3,
         loop: !1,
         center: !1,
         rewind: !1,
         mouseDrag: !0,
         touchDrag: !0,
         pullDrag: !0,
         freeDrag: !1,
         margin: 0,
         stagePadding: 0,
         merge: !1,
         mergeFit: !0,
         autoWidth: !1,
         startPosition: 0,
         rtl: !1,
         smartSpeed: 250,
         fluidSpeed: !1,
         dragEndSpeed: !1,
         responsive: {},
         responsiveRefreshRate: 200,
         responsiveBaseElement: t,
         fallbackEasing: "swing",
         info: !1,
         nestedItemSelector: !1,
         itemElement: "div",
         stageElement: "div",
         refreshClass: "owl-refresh",
         loadedClass: "owl-loaded",
         loadingClass: "owl-loading",
         rtlClass: "owl-rtl",
         responsiveClass: "owl-responsive",
         dragClass: "owl-drag",
         itemClass: "owl-item",
         stageClass: "owl-stage",
         stageOuterClass: "owl-stage-outer",
         grabClass: "owl-grab"
     },
     n.Width = {
         Default: "default",
         Inner: "inner",
         Outer: "outer"
     },
     n.Type = {
         Event: "event",
         State: "state"
     },
     n.Plugins = {},
     n.Workers = [{
         filter: ["width", "settings"],
         run: function() {
             this._width = this.$element.width()
         }
     }, {
         filter: ["width", "items", "settings"],
         run: function(e) {
             e.current = this._items && this._items[this.relative(this._current)]
         }
     }, {
         filter: ["items", "settings"],
         run: function() {
             this.$stage.children(".cloned").remove();
         }
     }, {
         filter: ["width", "items", "settings"],
         run: function(e) {
             var t = this.settings.margin || ""
               , i = !this.settings.autoWidth
               , s = this.settings.rtl
               , n = {
                 width: "auto",
                 "margin-left": s ? t : "",
                 "margin-right": s ? "" : t
             };
             !i && this.$stage.children().css(n),
             e.css = n
         }
     }, {
         filter: ["width", "items", "settings"],
         run: function(e) {
             var t = (this.width() / this.settings.items).toFixed(3) - this.settings.margin
               , i = null
               , s = this._items.length
               , n = !this.settings.autoWidth
               , a = [];
             for (e.items = {
                 merge: !1,
                 width: t
             }; s--; )
                 i = this._mergers[s],
                 i = this.settings.mergeFit && Math.min(i, this.settings.items) || i,
                 e.items.merge = i > 1 || e.items.merge,
                 a[s] = n ? t * i : this._items[s].width();
             this._widths = a
         }
     }, {
         filter: ["items", "settings"],
         run: function() {
             var t = []
               , i = this._items
               , s = this.settings
               , n = Math.max(2 * s.items, 4)
               , a = 2 * Math.ceil(i.length / 2)
               , o = s.loop && i.length ? s.rewind ? n : Math.max(n, a) : 0
               , r = ""
               , l = "";
             for (o /= 2; o--; )
                 t.push(this.normalize(t.length / 2, !0)),
                 r += i[t[t.length - 1]][0].outerHTML,
                 t.push(this.normalize(i.length - 1 - (t.length - 1) / 2, !0)),
                 l = i[t[t.length - 1]][0].outerHTML + l;
             this._clones = t,
             e(r).addClass("cloned").appendTo(this.$stage),
             e(l).addClass("cloned").prependTo(this.$stage)
         }
     }, {
         filter: ["width", "items", "settings"],
         run: function() {
             for (var e = this.settings.rtl ? 1 : -1, t = this._clones.length + this._items.length, i = -1, s = 0, n = 0, a = []; ++i < t; )
                 s = a[i - 1] || 0,
                 n = this._widths[this.relative(i)] + this.settings.margin,
                 a.push(s + n * e);
             this._coordinates = a
         }
     }, {
         filter: ["width", "items", "settings"],
         run: function() {
             var e = this.settings.stagePadding
               , t = this._coordinates
               , i = {
                 width: Math.ceil(Math.abs(t[t.length - 1])) + 2 * e,
                 "padding-left": e || "",
                 "padding-right": e || ""
             };
             this.$stage.css(i)
         }
     }, {
         filter: ["width", "items", "settings"],
         run: function(e) {
             var t = this._coordinates.length
               , i = !this.settings.autoWidth
               , s = this.$stage.children();
             if (i && e.items.merge)
                 for (; t--; )
                     e.css.width = this._widths[this.relative(t)],
                     s.eq(t).css(e.css);
             else
                 i && (e.css.width = e.items.width,
                 s.css(e.css))
         }
     }, {
         filter: ["items"],
         run: function() {
             this._coordinates.length < 1 && this.$stage.removeAttr("style")
         }
     }, {
         filter: ["width", "items", "settings"],
         run: function(e) {
             e.current = e.current ? this.$stage.children().index(e.current) : 0,
             e.current = Math.max(this.minimum(), Math.min(this.maximum(), e.current)),
             this.reset(e.current)
         }
     }, {
         filter: ["position"],
         run: function() {
             this.animate(this.coordinates(this._current))
         }
     }, {
         filter: ["width", "position", "items", "settings"],
         run: function() {
             var e, t, i, s, n = this.settings.rtl ? 1 : -1, a = 2 * this.settings.stagePadding, o = this.coordinates(this.current()) + a, r = o + this.width() * n, l = [];
             for (i = 0,
             s = this._coordinates.length; i < s; i++)
                 e = this._coordinates[i - 1] || 0,
                 t = Math.abs(this._coordinates[i]) + a * n,
                 (this.op(e, "<=", o) && this.op(e, ">", r) || this.op(t, "<", o) && this.op(t, ">", r)) && l.push(i);
             this.$stage.children(".active").removeClass("active"),
             this.$stage.children(":eq(" + l.join("), :eq(") + ")").addClass("active"),
             this.settings.center && (this.$stage.children(".center").removeClass("center"),
             this.$stage.children().eq(this.current()).addClass("center"))
         }
     }],
     n.prototype.initialize = function() {
         if (this.enter("initializing"),
         this.trigger("initialize"),
         this.$element.toggleClass(this.settings.rtlClass, this.settings.rtl),
         this.settings.autoWidth && !this.is("pre-loading")) {
             var t, i, n;
             t = this.$element.find("img"),
             i = this.settings.nestedItemSelector ? "." + this.settings.nestedItemSelector : s,
             n = this.$element.children(i).width(),
             t.length && n <= 0 && this.preloadAutoWidthImages(t)
         }
         this.$element.addClass(this.options.loadingClass),
         this.$stage = e("<" + this.settings.stageElement + ' class="' + this.settings.stageClass + '"/>').wrap('<div class="' + this.settings.stageOuterClass + '"/>'),
         this.$element.append(this.$stage.parent()),
         this.replace(this.$element.children().not(this.$stage.parent())),
         this.$element.is(":visible") ? this.refresh() : this.invalidate("width"),
         this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),
         this.registerEventHandlers(),
         this.leave("initializing"),
         this.trigger("initialized")
     }
     ,
     n.prototype.setup = function() {
         var t = this.viewport()
           , i = this.options.responsive
           , s = -1
           , n = null;
         i ? (e.each(i, function(e) {
             e <= t && e > s && (s = Number(e))
         }),
         n = e.extend({}, this.options, i[s]),
         "function" == typeof n.stagePadding && (n.stagePadding = n.stagePadding()),
         delete n.responsive,
         n.responsiveClass && this.$element.attr("class", this.$element.attr("class").replace(new RegExp("(" + this.options.responsiveClass + "-)\\S+\\s","g"), "$1" + s))) : n = e.extend({}, this.options),
         this.trigger("change", {
             property: {
                 name: "settings",
                 value: n
             }
         }),
         this._breakpoint = s,
         this.settings = n,
         this.invalidate("settings"),
         this.trigger("changed", {
             property: {
                 name: "settings",
                 value: this.settings
             }
         })
     }
     ,
     n.prototype.optionsLogic = function() {
         this.settings.autoWidth && (this.settings.stagePadding = !1,
         this.settings.merge = !1)
     }
     ,
     n.prototype.prepare = function(t) {
         var i = this.trigger("prepare", {
             content: t
         });
         return i.data || (i.data = e("<" + this.settings.itemElement + "/>").addClass(this.options.itemClass).append(t)),
         this.trigger("prepared", {
             content: i.data
         }),
         i.data
     }
     ,
     n.prototype.update = function() {
         for (var t = 0, i = this._pipe.length, s = e.proxy(function(e) {
             return this[e]
         }, this._invalidated), n = {}; t < i; )
             (this._invalidated.all || e.grep(this._pipe[t].filter, s).length > 0) && this._pipe[t].run(n),
             t++;
         this._invalidated = {},
         !this.is("valid") && this.enter("valid")
     }
     ,
     n.prototype.width = function(e) {
         switch (e = e || n.Width.Default) {
         case n.Width.Inner:
         case n.Width.Outer:
             return this._width;
         default:
             return this._width - 2 * this.settings.stagePadding + this.settings.margin
         }
     }
     ,
     n.prototype.refresh = function() {
         this.enter("refreshing"),
         this.trigger("refresh"),
         this.setup(),
         this.optionsLogic(),
         this.$element.addClass(this.options.refreshClass),
         this.update(),
         this.$element.removeClass(this.options.refreshClass),
         this.leave("refreshing"),
         this.trigger("refreshed")
     }
     ,
     n.prototype.onThrottledResize = function() {
         t.clearTimeout(this.resizeTimer),
         this.resizeTimer = t.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate)
     }
     ,
     n.prototype.onResize = function() {
         return !!this._items.length && (this._width !== this.$element.width() && (!!this.$element.is(":visible") && (this.enter("resizing"),
         this.trigger("resize").isDefaultPrevented() ? (this.leave("resizing"),
         !1) : (this.invalidate("width"),
         this.refresh(),
         this.leave("resizing"),
         void this.trigger("resized")))))
     }
     ,
     n.prototype.registerEventHandlers = function() {
         e.support.transition && this.$stage.on(e.support.transition.end + ".owl.core", e.proxy(this.onTransitionEnd, this)),
         this.settings.responsive !== !1 && this.on(t, "resize", this._handlers.onThrottledResize),
         this.settings.mouseDrag && (this.$element.addClass(this.options.dragClass),
         this.$stage.on("mousedown.owl.core", e.proxy(this.onDragStart, this)),
         this.$stage.on("dragstart.owl.core selectstart.owl.core", function() {
             return !1
         })),
         this.settings.touchDrag && (this.$stage.on("touchstart.owl.core", e.proxy(this.onDragStart, this)),
         this.$stage.on("touchcancel.owl.core", e.proxy(this.onDragEnd, this)))
     }
     ,
     n.prototype.onDragStart = function(t) {
         var s = null;
         3 !== t.which && (e.support.transform ? (s = this.$stage.css("transform").replace(/.*\(|\)| /g, "").split(","),
         s = {
             x: s[16 === s.length ? 12 : 4],
             y: s[16 === s.length ? 13 : 5]
         }) : (s = this.$stage.position(),
         s = {
             x: this.settings.rtl ? s.left + this.$stage.width() - this.width() + this.settings.margin : s.left,
             y: s.top
         }),
         this.is("animating") && (e.support.transform ? this.animate(s.x) : this.$stage.stop(),
         this.invalidate("position")),
         this.$element.toggleClass(this.options.grabClass, "mousedown" === t.type),
         this.speed(0),
         this._drag.time = (new Date).getTime(),
         this._drag.target = e(t.target),
         this._drag.stage.start = s,
         this._drag.stage.current = s,
         this._drag.pointer = this.pointer(t),
         e(i).on("mouseup.owl.core touchend.owl.core", e.proxy(this.onDragEnd, this)),
         e(i).one("mousemove.owl.core touchmove.owl.core", e.proxy(function(t) {
             var s = this.difference(this._drag.pointer, this.pointer(t));
             e(i).on("mousemove.owl.core touchmove.owl.core", e.proxy(this.onDragMove, this)),
             Math.abs(s.x) < Math.abs(s.y) && this.is("valid") || (t.preventDefault(),
             this.enter("dragging"),
             this.trigger("drag"))
         }, this)))
     }
     ,
     n.prototype.onDragMove = function(e) {
         var t = null
           , i = null
           , s = null
           , n = this.difference(this._drag.pointer, this.pointer(e))
           , a = this.difference(this._drag.stage.start, n);
         this.is("dragging") && (e.preventDefault(),
         this.settings.loop ? (t = this.coordinates(this.minimum()),
         i = this.coordinates(this.maximum() + 1) - t,
         a.x = ((a.x - t) % i + i) % i + t) : (t = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum()),
         i = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum()),
         s = this.settings.pullDrag ? -1 * n.x / 5 : 0,
         a.x = Math.max(Math.min(a.x, t + s), i + s)),
         this._drag.stage.current = a,
         this.animate(a.x))
     }
     ,
     n.prototype.onDragEnd = function(t) {
         var s = this.difference(this._drag.pointer, this.pointer(t))
           , n = this._drag.stage.current
           , a = s.x > 0 ^ this.settings.rtl ? "left" : "right";
         e(i).off(".owl.core"),
         this.$element.removeClass(this.options.grabClass),
         (0 !== s.x && this.is("dragging") || !this.is("valid")) && (this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed),
         this.current(this.closest(n.x, 0 !== s.x ? a : this._drag.direction)),
         this.invalidate("position"),
         this.update(),
         this._drag.direction = a,
         (Math.abs(s.x) > 3 || (new Date).getTime() - this._drag.time > 300) && this._drag.target.one("click.owl.core", function() {
             return !1
         })),
         this.is("dragging") && (this.leave("dragging"),
         this.trigger("dragged"))
     }
     ,
     n.prototype.closest = function(t, i) {
         var s = -1
           , n = 30
           , a = this.width()
           , o = this.coordinates();
         return this.settings.freeDrag || e.each(o, e.proxy(function(e, r) {
             return "left" === i && t > r - n && t < r + n ? s = e : "right" === i && t > r - a - n && t < r - a + n ? s = e + 1 : this.op(t, "<", r) && this.op(t, ">", o[e + 1] || r - a) && (s = "left" === i ? e + 1 : e),
             s === -1
         }, this)),
         this.settings.loop || (this.op(t, ">", o[this.minimum()]) ? s = t = this.minimum() : this.op(t, "<", o[this.maximum()]) && (s = t = this.maximum())),
         s
     }
     ,
     n.prototype.animate = function(t) {
         var i = this.speed() > 0;
         this.is("animating") && this.onTransitionEnd(),
         i && (this.enter("animating"),
         this.trigger("translate")),
         e.support.transform3d && e.support.transition ? this.$stage.css({
             transform: "translate3d(" + t + "px,0px,0px)",
             transition: this.speed() / 1e3 + "s"
         }) : i ? this.$stage.animate({
             left: t + "px"
         }, this.speed(), this.settings.fallbackEasing, e.proxy(this.onTransitionEnd, this)) : this.$stage.css({
             left: t + "px"
         })
     }
     ,
     n.prototype.is = function(e) {
         return this._states.current[e] && this._states.current[e] > 0
     }
     ,
     n.prototype.current = function(e) {
         if (e === s)
             return this._current;
         if (0 === this._items.length)
             return s;
         if (e = this.normalize(e),
         this._current !== e) {
             var t = this.trigger("change", {
                 property: {
                     name: "position",
                     value: e
                 }
             });
             t.data !== s && (e = this.normalize(t.data)),
             this._current = e,
             this.invalidate("position"),
             this.trigger("changed", {
                 property: {
                     name: "position",
                     value: this._current
                 }
             })
         }
         return this._current
     }
     ,
     n.prototype.invalidate = function(t) {
         return "string" === e.type(t) && (this._invalidated[t] = !0,
         this.is("valid") && this.leave("valid")),
         e.map(this._invalidated, function(e, t) {
             return t
         })
     }
     ,
     n.prototype.reset = function(e) {
         e = this.normalize(e),
         e !== s && (this._speed = 0,
         this._current = e,
         this.suppress(["translate", "translated"]),
         this.animate(this.coordinates(e)),
         this.release(["translate", "translated"]))
     }
     ,
     n.prototype.normalize = function(e, t) {
         var i = this._items.length
           , n = t ? 0 : this._clones.length;
         return !this.isNumeric(e) || i < 1 ? e = s : (e < 0 || e >= i + n) && (e = ((e - n / 2) % i + i) % i + n / 2),
         e
     }
     ,
     n.prototype.relative = function(e) {
         return e -= this._clones.length / 2,
         this.normalize(e, !0)
     }
     ,
     n.prototype.maximum = function(e) {
         var t, i, s, n = this.settings, a = this._coordinates.length;
         if (n.loop)
             a = this._clones.length / 2 + this._items.length - 1;
         else if (n.autoWidth || n.merge) {
             for (t = this._items.length,
             i = t > 0 ? this._items[--t].width() : 0,
             s = this.$element.width(); t-- && (i += this._items[t].width() + this.settings.margin,
             !(i > s)); )
                 ;
             a = t + 1
         } else
             a = n.center ? this._items.length - 1 : this._items.length - n.items;
         return e && (a -= this._clones.length / 2),
         Math.max(a, 0)
     }
     ,
     n.prototype.minimum = function(e) {
         return e ? 0 : this._clones.length / 2
     }
     ,
     n.prototype.items = function(e) {
         return e === s ? this._items.slice() : (e = this.normalize(e, !0),
         this._items[e])
     }
     ,
     n.prototype.mergers = function(e) {
         return e === s ? this._mergers.slice() : (e = this.normalize(e, !0),
         this._mergers[e])
     }
     ,
     n.prototype.clones = function(t) {
         var i = this._clones.length / 2
           , n = i + this._items.length
           , a = function(e) {
             return e % 2 === 0 ? n + e / 2 : i - (e + 1) / 2
         };
         return t === s ? e.map(this._clones, function(e, t) {
             return a(t)
         }) : e.map(this._clones, function(e, i) {
             return e === t ? a(i) : null
         })
     }
     ,
     n.prototype.speed = function(e) {
         return e !== s && (this._speed = e),
         this._speed
     }
     ,
     n.prototype.coordinates = function(t) {
         var i, n = 1, a = t - 1;
         if (t === s)
             return e.map(this._coordinates, e.proxy(function(e, t) {
                 return this.coordinates(t)
             }, this));
         if (this.settings.center)
             this.settings.rtl && (n = -1,
             a = t + 1),
             i = this._coordinates[t],
             i += (this.width() - i + (this._coordinates[a] || 0)) / 2 * n;
         else {
             i = this._coordinates[a] || 0;
             for (var o = this.settings, r = this._items.length, l = this._items[--r].width(), h = this.$element.width(), c = !0; r--; )
                 if (l += this._items[r].width() + this.settings.margin,
                 l > h) {
                     c = !1;
                     break
                 }
             if (c)
                 i = 0;
             else if ((o.autoWidth || o.merge) && !o.loop && r > 0 && t > 0 && t > r) {
                 for (var p = t, d = 0; p < this._items.length; )
                     d += this._items[p++].width() + this.settings.margin;
                 var u = o.rtl ? -1 : 1;
                 i += u * (h - d + this.settings.margin)
             }
         }
         return i = Math.ceil(i)
     }
     ,
     n.prototype.duration = function(e, t, i) {
         return 0 === i ? 0 : Math.min(Math.max(Math.abs(t - e), 1), 6) * Math.abs(i || this.settings.smartSpeed)
     }
     ,
     n.prototype.to = function(e, t) {
         var i = this.current()
           , s = null
           , n = e - this.relative(i)
           , a = (n > 0) - (n < 0)
           , o = this._items.length
           , r = this.minimum()
           , l = this.maximum();
         this.settings.loop ? (!this.settings.rewind && Math.abs(n) > o / 2 && (n += a * -1 * o),
         e = i + n,
         s = ((e - r) % o + o) % o + r,
         s !== e && s - n <= l && s - n > 0 && (i = s - n,
         e = s,
         this.reset(i))) : this.settings.rewind ? (l += 1,
         e = (e % l + l) % l) : e = Math.max(r, Math.min(l, e)),
         this.speed(this.duration(i, e, t)),
         this.current(e),
         this.$element.is(":visible") && this.update()
     }
     ,
     n.prototype.next = function(e) {
         e = e || !1,
         this.to(this.relative(this.current()) + 1, e)
     }
     ,
     n.prototype.prev = function(e) {
         e = e || !1,
         this.to(this.relative(this.current()) - 1, e)
     }
     ,
     n.prototype.onTransitionEnd = function(e) {
         return (e === s || (e.stopPropagation(),
         (e.target || e.srcElement || e.originalTarget) === this.$stage.get(0))) && (this.leave("animating"),
         void this.trigger("translated"))
     }
     ,
     n.prototype.viewport = function() {
         var s;
         return this.options.responsiveBaseElement !== t ? s = e(this.options.responsiveBaseElement).width() : t.innerWidth ? s = t.innerWidth : i.documentElement && i.documentElement.clientWidth ? s = i.documentElement.clientWidth : console.warn("Can not detect viewport width."),
         s
     }
     ,
     n.prototype.replace = function(t) {
         this.$stage.empty(),
         this._items = [],
         t && (t = t instanceof jQuery ? t : e(t)),
         this.settings.nestedItemSelector && (t = t.find("." + this.settings.nestedItemSelector)),
         t.filter(function() {
             return 1 === this.nodeType
         }).each(e.proxy(function(e, t) {
             t = this.prepare(t),
             this.$stage.append(t),
             this._items.push(t),
             this._mergers.push(1 * t.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)
         }, this)),
         this.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0),
         this.invalidate("items")
     }
     ,
     n.prototype.add = function(t, i) {
         var n = this.relative(this._current);
         i = i === s ? this._items.length : this.normalize(i, !0),
         t = t instanceof jQuery ? t : e(t),
         this.trigger("add", {
             content: t,
             position: i
         }),
         t = this.prepare(t),
         0 === this._items.length || i === this._items.length ? (0 === this._items.length && this.$stage.append(t),
         0 !== this._items.length && this._items[i - 1].after(t),
         this._items.push(t),
         this._mergers.push(1 * t.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)) : (this._items[i].before(t),
         this._items.splice(i, 0, t),
         this._mergers.splice(i, 0, 1 * t.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)),
         this._items[n] && this.reset(this._items[n].index()),
         this.invalidate("items"),
         this.trigger("added", {
             content: t,
             position: i
         })
     }
     ,
     n.prototype.remove = function(e) {
         e = this.normalize(e, !0),
         e !== s && (this.trigger("remove", {
             content: this._items[e],
             position: e
         }),
         this._items[e].remove(),
         this._items.splice(e, 1),
         this._mergers.splice(e, 1),
         this.invalidate("items"),
         this.trigger("removed", {
             content: null,
             position: e
         }))
     }
     ,
     n.prototype.preloadAutoWidthImages = function(t) {
         t.each(e.proxy(function(t, i) {
             this.enter("pre-loading"),
             i = e(i),
             e(new Image).one("load", e.proxy(function(e) {
                 i.attr("src", e.target.src),
                 i.css("opacity", 1),
                 this.leave("pre-loading"),
                 !this.is("pre-loading") && !this.is("initializing") && this.refresh()
             }, this)).attr("src", i.attr("src") || i.attr("data-src") || i.attr("data-src-retina"))
         }, this))
     }
     ,
     n.prototype.destroy = function() {
         this.$element.off(".owl.core"),
         this.$stage.off(".owl.core"),
         e(i).off(".owl.core"),
         this.settings.responsive !== !1 && (t.clearTimeout(this.resizeTimer),
         this.off(t, "resize", this._handlers.onThrottledResize));
         for (var s in this._plugins)
             this._plugins[s].destroy();
         this.$stage.children(".cloned").remove(),
         this.$stage.unwrap(),
         this.$stage.children().contents().unwrap(),
         this.$stage.children().unwrap(),
         this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class", this.$element.attr("class").replace(new RegExp(this.options.responsiveClass + "-\\S+\\s","g"), "")).removeData("owl.carousel")
     }
     ,
     n.prototype.op = function(e, t, i) {
         var s = this.settings.rtl;
         switch (t) {
         case "<":
             return s ? e > i : e < i;
         case ">":
             return s ? e < i : e > i;
         case ">=":
             return s ? e <= i : e >= i;
         case "<=":
             return s ? e >= i : e <= i
         }
     }
     ,
     n.prototype.on = function(e, t, i, s) {
         e.addEventListener ? e.addEventListener(t, i, s) : e.attachEvent && e.attachEvent("on" + t, i)
     }
     ,
     n.prototype.off = function(e, t, i, s) {
         e.removeEventListener ? e.removeEventListener(t, i, s) : e.detachEvent && e.detachEvent("on" + t, i)
     }
     ,
     n.prototype.trigger = function(t, i, s, a, o) {
         var r = {
             item: {
                 count: this._items.length,
                 index: this.current()
             }
         }
           , l = e.camelCase(e.grep(["on", t, s], function(e) {
             return e
         }).join("-").toLowerCase())
           , h = e.Event([t, "owl", s || "carousel"].join(".").toLowerCase(), e.extend({
             relatedTarget: this
         }, r, i));
         return this._supress[t] || (e.each(this._plugins, function(e, t) {
             t.onTrigger && t.onTrigger(h)
         }),
         this.register({
             type: n.Type.Event,
             name: t
         }),
         this.$element.trigger(h),
         this.settings && "function" == typeof this.settings[l] && this.settings[l].call(this, h)),
         h
     }
     ,
     n.prototype.enter = function(t) {
         e.each([t].concat(this._states.tags[t] || []), e.proxy(function(e, t) {
             this._states.current[t] === s && (this._states.current[t] = 0),
             this._states.current[t]++
         }, this))
     }
     ,
     n.prototype.leave = function(t) {
         e.each([t].concat(this._states.tags[t] || []), e.proxy(function(e, t) {
             this._states.current[t]--
         }, this))
     }
     ,
     n.prototype.register = function(t) {
         if (t.type === n.Type.Event) {
             if (e.event.special[t.name] || (e.event.special[t.name] = {}),
             !e.event.special[t.name].owl) {
                 var i = e.event.special[t.name]._default;
                 e.event.special[t.name]._default = function(e) {
                     return !i || !i.apply || e.namespace && e.namespace.indexOf("owl") !== -1 ? e.namespace && e.namespace.indexOf("owl") > -1 : i.apply(this, arguments)
                 }
                 ,
                 e.event.special[t.name].owl = !0
             }
         } else
             t.type === n.Type.State && (this._states.tags[t.name] ? this._states.tags[t.name] = this._states.tags[t.name].concat(t.tags) : this._states.tags[t.name] = t.tags,
             this._states.tags[t.name] = e.grep(this._states.tags[t.name], e.proxy(function(i, s) {
                 return e.inArray(i, this._states.tags[t.name]) === s
             }, this)))
     }
     ,
     n.prototype.suppress = function(t) {
         e.each(t, e.proxy(function(e, t) {
             this._supress[t] = !0
         }, this))
     }
     ,
     n.prototype.release = function(t) {
         e.each(t, e.proxy(function(e, t) {
             delete this._supress[t]
         }, this))
     }
     ,
     n.prototype.pointer = function(e) {
         var i = {
             x: null,
             y: null
         };
         return e = e.originalEvent || e || t.event,
         e = e.touches && e.touches.length ? e.touches[0] : e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : e,
         e.pageX ? (i.x = e.pageX,
         i.y = e.pageY) : (i.x = e.clientX,
         i.y = e.clientY),
         i
     }
     ,
     n.prototype.isNumeric = function(e) {
         return !isNaN(parseFloat(e))
     }
     ,
     n.prototype.difference = function(e, t) {
         return {
             x: e.x - t.x,
             y: e.y - t.y
         }
     }
     ,
     e.fn.owlCarousel = function(t) {
         var i = Array.prototype.slice.call(arguments, 1);
         return this.each(function() {
             var s = e(this)
               , a = s.data("owl.carousel");
             a || (a = new n(this,"object" == typeof t && t),
             s.data("owl.carousel", a),
             e.each(["next", "prev", "to", "destroy", "refresh", "replace", "add", "remove"], function(t, i) {
                 a.register({
                     type: n.Type.Event,
                     name: i
                 }),
                 a.$element.on(i + ".owl.carousel.core", e.proxy(function(e) {
                     e.namespace && e.relatedTarget !== this && (this.suppress([i]),
                     a[i].apply(this, [].slice.call(arguments, 1)),
                     this.release([i]))
                 }, a))
             })),
             "string" == typeof t && "_" !== t.charAt(0) && a[t].apply(a, i)
         })
     }
     ,
     e.fn.owlCarousel.Constructor = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     var n = function(t) {
         this._core = t,
         this._interval = null,
         this._visible = null,
         this._handlers = {
             "initialized.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.settings.autoRefresh && this.watch()
             }, this)
         },
         this._core.options = e.extend({}, n.Defaults, this._core.options),
         this._core.$element.on(this._handlers)
     };
     n.Defaults = {
         autoRefresh: !0,
         autoRefreshInterval: 500
     },
     n.prototype.watch = function() {
         this._interval || (this._visible = this._core.$element.is(":visible"),
         this._interval = t.setInterval(e.proxy(this.refresh, this), this._core.settings.autoRefreshInterval))
     }
     ,
     n.prototype.refresh = function() {
         this._core.$element.is(":visible") !== this._visible && (this._visible = !this._visible,
         this._core.$element.toggleClass("owl-hidden", !this._visible),
         this._visible && this._core.invalidate("width") && this._core.refresh())
     }
     ,
     n.prototype.destroy = function() {
         var e, i;
         t.clearInterval(this._interval);
         for (e in this._handlers)
             this._core.$element.off(e, this._handlers[e]);
         for (i in Object.getOwnPropertyNames(this))
             "function" != typeof this[i] && (this[i] = null)
     }
     ,
     e.fn.owlCarousel.Constructor.Plugins.AutoRefresh = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     var n = function(t) {
         this._core = t,
         this._loaded = [],
         this._handlers = {
             "initialized.owl.carousel change.owl.carousel resized.owl.carousel": e.proxy(function(t) {
                 if (t.namespace && this._core.settings && this._core.settings.lazyLoad && (t.property && "position" == t.property.name || "initialized" == t.type))
                     for (var i = this._core.settings, n = i.center && Math.ceil(i.items / 2) || i.items, a = i.center && n * -1 || 0, o = (t.property && t.property.value !== s ? t.property.value : this._core.current()) + a, r = this._core.clones().length, l = e.proxy(function(e, t) {
                         this.load(t)
                     }, this); a++ < n; )
                         this.load(r / 2 + this._core.relative(o)),
                         r && e.each(this._core.clones(this._core.relative(o)), l),
                         o++
             }, this)
         },
         this._core.options = e.extend({}, n.Defaults, this._core.options),
         this._core.$element.on(this._handlers)
     };
     n.Defaults = {
         lazyLoad: !1
     },
     n.prototype.load = function(i) {
         var s = this._core.$stage.children().eq(i)
           , n = s && s.find(".owl-lazy");
         !n || e.inArray(s.get(0), this._loaded) > -1 || (n.each(e.proxy(function(i, s) {
             var n, a = e(s), o = t.devicePixelRatio > 1 && a.attr("data-src-retina") || a.attr("data-src");
             this._core.trigger("load", {
                 element: a,
                 url: o
             }, "lazy"),
             a.is("img") ? a.one("load.owl.lazy", e.proxy(function() {
                 a.css("opacity", 1),
                 this._core.trigger("loaded", {
                     element: a,
                     url: o
                 }, "lazy")
             }, this)).attr("src", o) : (n = new Image,
             n.onload = e.proxy(function() {
                 a.css({
                     "background-image": 'url("' + o + '")',
                     opacity: "1"
                 }),
                 this._core.trigger("loaded", {
                     element: a,
                     url: o
                 }, "lazy")
             }, this),
             n.src = o)
         }, this)),
         this._loaded.push(s.get(0)))
     }
     ,
     n.prototype.destroy = function() {
         var e, t;
         for (e in this.handlers)
             this._core.$element.off(e, this.handlers[e]);
         for (t in Object.getOwnPropertyNames(this))
             "function" != typeof this[t] && (this[t] = null)
     }
     ,
     e.fn.owlCarousel.Constructor.Plugins.Lazy = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     var n = function(t) {
         this._core = t,
         this._handlers = {
             "initialized.owl.carousel refreshed.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.settings.autoHeight && this.update()
             }, this),
             "changed.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.settings.autoHeight && "position" == e.property.name && this.update()
             }, this),
             "loaded.owl.lazy": e.proxy(function(e) {
                 e.namespace && this._core.settings.autoHeight && e.element.closest("." + this._core.settings.itemClass).index() === this._core.current() && this.update()
             }, this)
         },
         this._core.options = e.extend({}, n.Defaults, this._core.options),
         this._core.$element.on(this._handlers)
     };
     n.Defaults = {
         autoHeight: !1,
         autoHeightClass: "owl-height"
     },
     n.prototype.update = function() {
         var t = this._core._current
           , i = t + this._core.settings.items
           , s = this._core.$stage.children().toArray().slice(t, i)
           , n = []
           , a = 0;
         e.each(s, function(t, i) {
             n.push(e(i).height())
         }),
         a = Math.max.apply(null, n),
         this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass)
     }
     ,
     n.prototype.destroy = function() {
         var e, t;
         for (e in this._handlers)
             this._core.$element.off(e, this._handlers[e]);
         for (t in Object.getOwnPropertyNames(this))
             "function" != typeof this[t] && (this[t] = null)
     }
     ,
     e.fn.owlCarousel.Constructor.Plugins.AutoHeight = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     var n = function(t) {
         this._core = t,
         this._videos = {},
         this._playing = null,
         this._handlers = {
             "initialized.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.register({
                     type: "state",
                     name: "playing",
                     tags: ["interacting"]
                 })
             }, this),
             "resize.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.settings.video && this.isInFullScreen() && e.preventDefault()
             }, this),
             "refreshed.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.is("resizing") && this._core.$stage.find(".cloned .owl-video-frame").remove()
             }, this),
             "changed.owl.carousel": e.proxy(function(e) {
                 e.namespace && "position" === e.property.name && this._playing && this.stop()
             }, this),
             "prepared.owl.carousel": e.proxy(function(t) {
                 if (t.namespace) {
                     var i = e(t.content).find(".owl-video");
                     i.length && (i.css("display", "none"),
                     this.fetch(i, e(t.content)))
                 }
             }, this)
         },
         this._core.options = e.extend({}, n.Defaults, this._core.options),
         this._core.$element.on(this._handlers),
         this._core.$element.on("click.owl.video", ".owl-video-play-icon", e.proxy(function(e) {
             this.play(e)
         }, this))
     };
     n.Defaults = {
         video: !1,
         videoHeight: !1,
         videoWidth: !1
     },
     n.prototype.fetch = function(e, t) {
         var i = function() {
             return e.attr("data-vimeo-id") ? "vimeo" : e.attr("data-vzaar-id") ? "vzaar" : "youtube"
         }()
           , s = e.attr("data-vimeo-id") || e.attr("data-youtube-id") || e.attr("data-vzaar-id")
           , n = e.attr("data-width") || this._core.settings.videoWidth
           , a = e.attr("data-height") || this._core.settings.videoHeight
           , o = e.attr("href");
         if (!o)
             throw new Error("Missing video URL.");
         if (s = o.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),
         s[3].indexOf("youtu") > -1)
             i = "youtube";
         else if (s[3].indexOf("vimeo") > -1)
             i = "vimeo";
         else {
             if (!(s[3].indexOf("vzaar") > -1))
                 throw new Error("Video URL not supported.");
             i = "vzaar"
         }
         s = s[6],
         this._videos[o] = {
             type: i,
             id: s,
             width: n,
             height: a
         },
         t.attr("data-video", o),
         this.thumbnail(e, this._videos[o])
     }
     ,
     n.prototype.thumbnail = function(t, i) {
         var s, n, a, o = i.width && i.height ? 'style="width:' + i.width + "px;height:" + i.height + 'px;"' : "", r = t.find("img"), l = "src", h = "", c = this._core.settings, p = function(e) {
             n = '<div class="owl-video-play-icon"></div>',
             s = c.lazyLoad ? '<div class="owl-video-tn ' + h + '" ' + l + '="' + e + '"></div>' : '<div class="owl-video-tn" style="opacity:1;background-image:url(' + e + ')"></div>',
             t.after(s),
             t.after(n)
         };
         return t.wrap('<div class="owl-video-wrapper"' + o + "></div>"),
         this._core.settings.lazyLoad && (l = "data-src",
         h = "owl-lazy"),
         r.length ? (p(r.attr(l)),
         r.remove(),
         !1) : void ("youtube" === i.type ? (a = "//img.youtube.com/vi/" + i.id + "/hqdefault.jpg",
         p(a)) : "vimeo" === i.type ? e.ajax({
             type: "GET",
             url: "//vimeo.com/api/v2/video/" + i.id + ".json",
             jsonp: "callback",
             dataType: "jsonp",
             success: function(e) {
                 a = e[0].thumbnail_large,
                 p(a)
             }
         }) : "vzaar" === i.type && e.ajax({
             type: "GET",
             url: "//vzaar.com/api/videos/" + i.id + ".json",
             jsonp: "callback",
             dataType: "jsonp",
             success: function(e) {
                 a = e.framegrab_url,
                 p(a)
             }
         }))
     }
     ,
     n.prototype.stop = function() {
         this._core.trigger("stop", null, "video"),
         this._playing.find(".owl-video-frame").remove(),
         this._playing.removeClass("owl-video-playing"),
         this._playing = null,
         this._core.leave("playing"),
         this._core.trigger("stopped", null, "video")
     }
     ,
     n.prototype.play = function(t) {
         var i, s = e(t.target), n = s.closest("." + this._core.settings.itemClass), a = this._videos[n.attr("data-video")], o = a.width || "100%", r = a.height || this._core.$stage.height();
         this._playing || (this._core.enter("playing"),
         this._core.trigger("play", null, "video"),
         n = this._core.items(this._core.relative(n.index())),
         this._core.reset(n.index()),
         "youtube" === a.type ? i = '<iframe width="' + o + '" height="' + r + '" src="//www.youtube.com/embed/' + a.id + "?autoplay=1&rel=0&v=" + a.id + '" frameborder="0" allowfullscreen></iframe>' : "vimeo" === a.type ? i = '<iframe src="//player.vimeo.com/video/' + a.id + '?autoplay=1" width="' + o + '" height="' + r + '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>' : "vzaar" === a.type && (i = '<iframe frameborder="0"height="' + r + '"width="' + o + '" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/' + a.id + '/player?autoplay=true"></iframe>'),
         e('<div class="owl-video-frame">' + i + "</div>").insertAfter(n.find(".owl-video")),
         this._playing = n.addClass("owl-video-playing"))
     }
     ,
     n.prototype.isInFullScreen = function() {
         var t = i.fullscreenElement || i.mozFullScreenElement || i.webkitFullscreenElement;
         return t && e(t).parent().hasClass("owl-video-frame")
     }
     ,
     n.prototype.destroy = function() {
         var e, t;
         this._core.$element.off("click.owl.video");
         for (e in this._handlers)
             this._core.$element.off(e, this._handlers[e]);
         for (t in Object.getOwnPropertyNames(this))
             "function" != typeof this[t] && (this[t] = null)
     }
     ,
     e.fn.owlCarousel.Constructor.Plugins.Video = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     var n = function(t) {
         this.core = t,
         this.core.options = e.extend({}, n.Defaults, this.core.options),
         this.swapping = !0,
         this.previous = s,
         this.next = s,
         this.handlers = {
             "change.owl.carousel": e.proxy(function(e) {
                 e.namespace && "position" == e.property.name && (this.previous = this.core.current(),
                 this.next = e.property.value)
             }, this),
             "drag.owl.carousel dragged.owl.carousel translated.owl.carousel": e.proxy(function(e) {
                 e.namespace && (this.swapping = "translated" == e.type)
             }, this),
             "translate.owl.carousel": e.proxy(function(e) {
                 e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn) && this.swap()
             }, this)
         },
         this.core.$element.on(this.handlers)
     };
     n.Defaults = {
         animateOut: !1,
         animateIn: !1
     },
     n.prototype.swap = function() {
         if (1 === this.core.settings.items && e.support.animation && e.support.transition) {
             this.core.speed(0);
             var t, i = e.proxy(this.clear, this), s = this.core.$stage.children().eq(this.previous), n = this.core.$stage.children().eq(this.next), a = this.core.settings.animateIn, o = this.core.settings.animateOut;
             this.core.current() !== this.previous && (o && (t = this.core.coordinates(this.previous) - this.core.coordinates(this.next),
             s.one(e.support.animation.end, i).css({
                 left: t + "px"
             }).addClass("animated owl-animated-out").addClass(o)),
             a && n.one(e.support.animation.end, i).addClass("animated owl-animated-in").addClass(a))
         }
     }
     ,
     n.prototype.clear = function(t) {
         e(t.target).css({
             left: ""
         }).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),
         this.core.onTransitionEnd()
     }
     ,
     n.prototype.destroy = function() {
         var e, t;
         for (e in this.handlers)
             this.core.$element.off(e, this.handlers[e]);
         for (t in Object.getOwnPropertyNames(this))
             "function" != typeof this[t] && (this[t] = null)
     }
     ,
     e.fn.owlCarousel.Constructor.Plugins.Animate = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     var n = function(t) {
         this._core = t,
         this._timeout = null,
         this._paused = !1,
         this._handlers = {
             "changed.owl.carousel": e.proxy(function(e) {
                 e.namespace && "settings" === e.property.name ? this._core.settings.autoplay ? this.play() : this.stop() : e.namespace && "position" === e.property.name && this._core.settings.autoplay && this._setAutoPlayInterval()
             }, this),
             "initialized.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.settings.autoplay && this.play()
             }, this),
             "play.owl.autoplay": e.proxy(function(e, t, i) {
                 e.namespace && this.play(t, i)
             }, this),
             "stop.owl.autoplay": e.proxy(function(e) {
                 e.namespace && this.stop()
             }, this),
             "mouseover.owl.autoplay": e.proxy(function() {
                 this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause()
             }, this),
             "mouseleave.owl.autoplay": e.proxy(function() {
                 this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.play()
             }, this),
             "touchstart.owl.core": e.proxy(function() {
                 this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause()
             }, this),
             "touchend.owl.core": e.proxy(function() {
                 this._core.settings.autoplayHoverPause && this.play()
             }, this)
         },
         this._core.$element.on(this._handlers),
         this._core.options = e.extend({}, n.Defaults, this._core.options)
     };
     n.Defaults = {
         autoplay: !1,
         autoplayTimeout: 5e3,
         autoplayHoverPause: !1,
         autoplaySpeed: !1
     },
     n.prototype.play = function(e, t) {
         this._paused = !1,
         this._core.is("rotating") || (this._core.enter("rotating"),
         this._setAutoPlayInterval())
     }
     ,
     n.prototype._getNextTimeout = function(s, n) {
         return this._timeout && t.clearTimeout(this._timeout),
         t.setTimeout(e.proxy(function() {
             this._paused || this._core.is("busy") || this._core.is("interacting") || i.hidden || this._core.next(n || this._core.settings.autoplaySpeed)
         }, this), s || this._core.settings.autoplayTimeout)
     }
     ,
     n.prototype._setAutoPlayInterval = function() {
         this._timeout = this._getNextTimeout()
     }
     ,
     n.prototype.stop = function() {
         this._core.is("rotating") && (t.clearTimeout(this._timeout),
         this._core.leave("rotating"))
     }
     ,
     n.prototype.pause = function() {
         this._core.is("rotating") && (this._paused = !0)
     }
     ,
     n.prototype.destroy = function() {
         var e, t;
         this.stop();
         for (e in this._handlers)
             this._core.$element.off(e, this._handlers[e]);
         for (t in Object.getOwnPropertyNames(this))
             "function" != typeof this[t] && (this[t] = null)
     }
     ,
     e.fn.owlCarousel.Constructor.Plugins.autoplay = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     "use strict";
     var n = function(t) {
         this._core = t,
         this._initialized = !1,
         this._pages = [],
         this._controls = {},
         this._templates = [],
         this.$element = this._core.$element,
         this._overrides = {
             next: this._core.next,
             prev: this._core.prev,
             to: this._core.to
         },
         this._handlers = {
             "prepared.owl.carousel": e.proxy(function(t) {
                 t.namespace && this._core.settings.dotsData && this._templates.push('<div class="' + this._core.settings.dotClass + '">' + e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot") + "</div>")
             }, this),
             "added.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.settings.dotsData && this._templates.splice(e.position, 0, this._templates.pop())
             }, this),
             "remove.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._core.settings.dotsData && this._templates.splice(e.position, 1)
             }, this),
             "changed.owl.carousel": e.proxy(function(e) {
                 e.namespace && "position" == e.property.name && this.draw()
             }, this),
             "initialized.owl.carousel": e.proxy(function(e) {
                 e.namespace && !this._initialized && (this._core.trigger("initialize", null, "navigation"),
                 this.initialize(),
                 this.update(),
                 this.draw(),
                 this._initialized = !0,
                 this._core.trigger("initialized", null, "navigation"))
             }, this),
             "refreshed.owl.carousel": e.proxy(function(e) {
                 e.namespace && this._initialized && (this._core.trigger("refresh", null, "navigation"),
                 this.update(),
                 this.draw(),
                 this._core.trigger("refreshed", null, "navigation"))
             }, this)
         },
         this._core.options = e.extend({}, n.Defaults, this._core.options),
         this.$element.on(this._handlers)
     };
     n.Defaults = {
         nav: !1,
         navText: ["prev", "next"],
         navSpeed: !1,
         navElement: "div",
         navContainer: !1,
         navContainerClass: "owl-nav",
         navClass: ["owl-prev", "owl-next"],
         slideBy: 1,
         dotClass: "owl-dot",
         dotsClass: "owl-dots",
         dots: !0,
         dotsEach: !1,
         dotsData: !1,
         dotsSpeed: !1,
         dotsContainer: !1
     },
     n.prototype.initialize = function() {
         var t, i = this._core.settings;
         this._controls.$relative = (i.navContainer ? e(i.navContainer) : e("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),
         this._controls.$previous = e("<" + i.navElement + ">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click", e.proxy(function(e) {
             this.prev(i.navSpeed)
         }, this)),
         this._controls.$next = e("<" + i.navElement + ">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click", e.proxy(function(e) {
             this.next(i.navSpeed)
         }, this)),
         i.dotsData || (this._templates = [e("<div>").addClass(i.dotClass).append(e("<span>")).prop("outerHTML")]),
         this._controls.$absolute = (i.dotsContainer ? e(i.dotsContainer) : e("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),
         this._controls.$absolute.on("click", "div", e.proxy(function(t) {
             var s = e(t.target).parent().is(this._controls.$absolute) ? e(t.target).index() : e(t.target).parent().index();
             t.preventDefault(),
             this.to(s, i.dotsSpeed)
         }, this));
         for (t in this._overrides)
             this._core[t] = e.proxy(this[t], this)
     }
     ,
     n.prototype.destroy = function() {
         var e, t, i, s;
         for (e in this._handlers)
             this.$element.off(e, this._handlers[e]);
         for (t in this._controls)
             this._controls[t].remove();
         for (s in this.overides)
             this._core[s] = this._overrides[s];
         for (i in Object.getOwnPropertyNames(this))
             "function" != typeof this[i] && (this[i] = null)
     }
     ,
     n.prototype.update = function() {
         var t, i, s, n = this._core.clones().length / 2, a = n + this._core.items().length, o = this._core.maximum(!0), r = this._core.settings, l = r.center || r.autoWidth || r.dotsData ? 1 : r.dotsEach || r.items;
         if ("page" !== r.slideBy && (r.slideBy = Math.min(r.slideBy, r.items)),
         r.dots || "page" == r.slideBy) {
             this._pages = [];
             var h = this;
             if (r.autoWidth) {
                 var c = this.$element.width()
                   , p = 0
                   , d = n
                   , u = 0
                   , f = 0;
                 this.$element.find(".owl-item").each(function(t, i) {
                     if (t > n && t <= a) {
                         var s = e(i).width() + r.margin;
                         p + s > c ? (u = d - n,
                         f = t - 1 - n,
                         h._pages.push({
                             start: u,
                             end: f
                         }),
                         d = t - 1,
                         p = s) : p += s
                     }
                 }),
                 f < a && this._pages.push({
                     start: f,
                     end: a
                 })
             } else
                 for (t = n,
                 i = 0,
                 s = 0; t < a; t++) {
                     if (i >= l || 0 === i) {
                         if (this._pages.push({
                             start: Math.min(o, t - n),
                             end: t - n + l - 1
                         }),
                         Math.min(o, t - n) === o)
                             break;
                         i = 0,
                         ++s
                     }
                     i += this._core.mergers(this._core.relative(t))
                 }
         }
     }
     ,
     n.prototype.draw = function() {
         var t, i = this._core.settings, s = this._core.items().length <= i.items, n = this._core.relative(this._core.current()), a = i.loop || i.rewind;
         this._controls.$relative.toggleClass("disabled", !i.nav || s),
         i.nav && (this._controls.$previous.toggleClass("disabled", !a && n <= this._core.minimum(!0)),
         this._controls.$next.toggleClass("disabled", !a && n >= this._core.maximum(!0))),
         this._controls.$absolute.toggleClass("disabled", !i.dots || s),
         i.dots && (t = this._pages.length - this._controls.$absolute.children().length,
         i.dotsData && 0 !== t ? this._controls.$absolute.html(this._templates.join("")) : t > 0 ? this._controls.$absolute.append(new Array(t + 1).join(this._templates[0])) : t < 0 && this._controls.$absolute.children().slice(t).remove(),
         this._controls.$absolute.find(".active").removeClass("active"),
         this._controls.$absolute.children().eq(e.inArray(this.current(), this._pages)).addClass("active"))
     }
     ,
     n.prototype.onTrigger = function(t) {
         var i = this._core.settings;
         t.page = {
             index: e.inArray(this.current(), this._pages),
             count: this._pages.length,
             size: i && (i.center || i.autoWidth || i.dotsData ? 1 : i.dotsEach || i.items)
         }
     }
     ,
     n.prototype.current = function() {
         var t = this._core.relative(this._core.current());
         return e.grep(this._pages, e.proxy(function(e, i) {
             return e.start <= t && e.end >= t
         }, this)).pop()
     }
     ,
     n.prototype.getPosition = function(t) {
         var i, s, n = this._core.settings;
         return "page" == n.slideBy ? (i = e.inArray(this.current(), this._pages),
         s = this._pages.length,
         t ? ++i : --i,
         i = this._pages[(i % s + s) % s].start,
         0 == this._core.settings.loop && (0 == i && t && (i = this._pages[s - 1].end),
         i != this._pages[s - 1].start || t || (i = 0))) : (i = this._core.relative(this._core.current()),
         s = this._core.items().length,
         t ? i += n.slideBy : i -= n.slideBy),
         i
     }
     ,
     n.prototype.next = function(t) {
         e.proxy(this._overrides.to, this._core)(this.getPosition(!0), t)
     }
     ,
     n.prototype.prev = function(t) {
         e.proxy(this._overrides.to, this._core)(this.getPosition(!1), t)
     }
     ,
     n.prototype.to = function(t, i, s) {
         var n;
         !s && this._pages.length ? (n = this._pages.length,
         e.proxy(this._overrides.to, this._core)(this._pages[(t % n + n) % n].start, i)) : e.proxy(this._overrides.to, this._core)(t, i)
     }
     ,
     e.fn.owlCarousel.Constructor.Plugins.Navigation = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     "use strict";
     var n = function(i) {
         this._core = i,
         this._hashes = {},
         this.$element = this._core.$element,
         this._handlers = {
             "initialized.owl.carousel": e.proxy(function(i) {
                 i.namespace && "URLHash" === this._core.settings.startPosition && e(t).trigger("hashchange.owl.navigation")
             }, this),
             "prepared.owl.carousel": e.proxy(function(t) {
                 if (t.namespace) {
                     var i = e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");
                     if (!i)
                         return;
                     this._hashes[i] = t.content
                 }
             }, this),
             "changed.owl.carousel": e.proxy(function(i) {
                 if (i.namespace && "position" === i.property.name) {
                     var s = this._core.items(this._core.relative(this._core.current()))
                       , n = e.map(this._hashes, function(e, t) {
                         return e === s ? t : null
                     }).join();
                     if (!n || t.location.hash.slice(1) === n)
                         return;
                     t.location.hash = n
                 }
             }, this)
         },
         this._core.options = e.extend({}, n.Defaults, this._core.options),
         this.$element.on(this._handlers),
         e(t).on("hashchange.owl.navigation", e.proxy(function(e) {
             var i = t.location.hash.substring(1)
               , n = this._core.$stage.children()
               , a = this._hashes[i] && n.index(this._hashes[i]);
             a !== s && a !== this._core.current() && this._core.to(this._core.relative(a), !1, !0)
         }, this))
     };
     n.Defaults = {
         URLhashListener: !1
     },
     n.prototype.destroy = function() {
         var i, s;
         e(t).off("hashchange.owl.navigation");
         for (i in this._handlers)
             this._core.$element.off(i, this._handlers[i]);
         for (s in Object.getOwnPropertyNames(this))
             "function" != typeof this[s] && (this[s] = null)
     }
     ,
     e.fn.owlCarousel.Constructor.Plugins.Hash = n
 }(window.Zepto || window.jQuery, window, document),
 function(e, t, i, s) {
     function n(t, i) {
         var n = !1
           , a = t.charAt(0).toUpperCase() + t.slice(1);
         return e.each((t + " " + r.join(a + " ") + a).split(" "), function(e, t) {
             if (o[t] !== s)
                 return n = !i || t,
                 !1
         }),
         n
     }
     function a(e) {
         return n(e, !0)
     }
     var o = e("<support>").get(0).style
       , r = "Webkit Moz O ms".split(" ")
       , l = {
         transition: {
             end: {
                 WebkitTransition: "webkitTransitionEnd",
                 MozTransition: "transitionend",
                 OTransition: "oTransitionEnd",
                 transition: "transitionend"
             }
         },
         animation: {
             end: {
                 WebkitAnimation: "webkitAnimationEnd",
                 MozAnimation: "animationend",
                 OAnimation: "oAnimationEnd",
                 animation: "animationend"
             }
         }
     }
       , h = {
         csstransforms: function() {
             return !!n("transform")
         },
         csstransforms3d: function() {
             return !!n("perspective")
         },
         csstransitions: function() {
             return !!n("transition")
         },
         cssanimations: function() {
             return !!n("animation")
         }
     };
     h.csstransitions() && (e.support.transition = new String(a("transition")),
     e.support.transition.end = l.transition.end[e.support.transition]),
     h.cssanimations() && (e.support.animation = new String(a("animation")),
     e.support.animation.end = l.animation.end[e.support.animation]),
     h.csstransforms() && (e.support.transform = new String(a("transform")),
     e.support.transform3d = h.csstransforms3d())
 }(window.Zepto || window.jQuery, window, document),
 jQuery.event.special.touchstart = {
     setup: function(e, t, i) {
         t.includes("noPreventDefault") ? this.addEventListener("touchstart", i, {
             passive: !1
         }) : this.addEventListener("touchstart", i, {
             passive: !0
         })
     }
 },
 define("owlCarousel", ["jquery", "jquery-mousewheel"], function() {}),
 define("f1e1d/fce39/c68c8", ["backbone", "f1e1d/d8478/c06b6"], function(e, t) {
     var i = e.Collection.extend({
         model: t
     });
     return i
 }),
 define("hbs!templates/dashboard/DashboardPanel", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="dashboard__communities_panel">\n    <div class="panel__header">\n        <h4>',
         (a = i.title) ? a = a.call(t, {
             hash: {}
         }) : (a = t.title,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + ' <span class="room__count"></span></h4>\n        <button class="btn panel__view__more__btn" data-mode="',
         (a = i.mode) ? a = a.call(t, {
             hash: {}
         }) : (a = t.mode,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '">VIEW ALL</button>\n    </div>\n    <div class="panel__communities owl-carousel owl-theme">\n\n    </div>\n</div>'
     });
     return t.registerPartial("templates_dashboard_DashboardPanel", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/e8c30", ["jquery", "underscore", "backbone", "owlCarousel", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/fce39/c68c8", "f1e1d/fce39/fd94b", "f1e1d/d8478/c06b6", "f1e1d/e74c9/c5cd9/ec525/bdeea", "f1e1d/af752/c506b", "hbs!templates/dashboard/DashboardPanel"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = n.extend({
         className: "dashboard__panel",
         events: {
             "click .owl-next": "onClickNext",
             "click .owl-prev": "onClickPrevious"
         },
         initialize: function() {
             this.collection = new r,
             this.cells = [],
             this.panelTitle = this.options.title,
             this.mode = this.options.mode,
             2 === this.mode && (this.collection.comparator = function(e) {
                 var t = l.find(function(t) {
                     return t.get("slug") === e.get("slug")
                 });
                 return t && t.attributes ? -t.get("lastVisit") : 0
             }
             ),
             this.listenTo(this.collection, "reset", this.onReset)
         },
         render: function() {
             return this.$el.html(d({
                 title: this.panelTitle,
                 communitiesCount: 0,
                 mode: this.mode
             })),
             this.cells.length > 0 && this.prepareOwl(),
             this.$communities = this.$el.find(".panel__communities"),
             this.$count = this.$el.find(".room__count"),
             this.$el.hide(),
             this
         },
         prepareOwl: function() {
             var e = this.$el.find(".owl-carousel");
             e.owlCarousel({
                 items: 1,
                 margin: 10,
                 loop: !1,
                 autoWidth: !0,
                 nav: !0,
                 dots: !1,
                 navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>']
             }),
             e.on("mousewheel", ".owl-stage", function(t) {
                 t.deltaX > 0 ? (e.trigger("next.owl"),
                 this.onClickNext()) : (e.trigger("prev.owl"),
                 this.onClickPrevious()),
                 t.preventDefault()
             }
             .bind(this))
         },
         onReset: function(e) {
             this.cells.isEmpty || (this.cells.forEach(function(e) {
                 e.remove()
             }),
             this.cells = []),
             e.forEach(t.bind(function(e) {
                 var t = new c({
                     model: e,
                     mode: this.mode
                 });
                 this.cells.push(t),
                 this.$communities.append(t.$el)
             }, this)),
             this.cells.length > 0 && (this.cells.forEach(function(e) {
                 e.render()
             }),
             this.prepareOwl())
         },
         refreshRooms: function(e, t) {
             this.cells.isEmpty || (this.cells.forEach(function(e) {
                 e.remove()
             }),
             this.cells = []),
             this.collection.reset(e),
             this.$count.html(e.length),
             0 === e.length ? this.$el.hide() : this.$el.show()
         },
         onLoadError: function() {
             console.log(this.panelTitle + ": Data cannot be loaded!")
         },
         onClickNext: function(e) {
             this.preventDefault(e),
             a.trigger("track", "dashboard", "next", this.panelTitle)
         },
         onClickPrevious: function(e) {
             this.preventDefault(e),
             a.trigger("track", "dashboard", "previous", this.panelTitle)
         }
     });
     return u
 }),
 define("f1e1d/e74c9/c5cd9/fecd8", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/af752/c506b", "f1e1d/be642/e32cc/a17d0", "f1e1d/be642/e32cc/a3fbd", "f1e1d/e74c9/c5cd9/e8c30", "hbs!templates/dashboard/DashboardTitle", "f1e1d/fce39/fd94b"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = {
         0: "Most Popular",
         1: "New Communities",
         2: "Your Last Views"
     }
       , u = s.extend({
         className: "dashboard__panels",
         events: {
             "click .panel__view__more__btn": "onViewMore"
         },
         context: {
             "click:favorite": "onClickFavorite",
             "click:genre": "onClickGenre",
             "click:subgenre": "onClickSubgenre"
         },
         onClickFavorite: function(e, t, i) {
             n.trigger("track:ga", "dashboard", "favorite", d[i]),
             n.trigger("track:csa", "dashboard", "favorite", [t, e.toString(), d[i]])
         },
         onClickGenre: function(e, t) {
             n.trigger("track:ga", "dashboard", "genre", d[t]),
             n.trigger("track:csa", "dashboard", "genre", [e.name, d[t]])
         },
         onClickSubgenre: function(e, t) {
             n.trigger("track:ga", "dashboard", "subgenre", d[t]),
             n.trigger("track:csa", "dashboard", "subgenre", [e.name, d[t]])
         },
         initialize: function() {
             this.popularView = new h({
                 title: d[0],
                 mode: 0
             }),
             this.newRoomsView = new h({
                 title: d[1],
                 mode: 1
             }),
             this.lastViewsView = new h({
                 title: d[2],
                 mode: 2
             })
         },
         render: function() {
             return this.$el.append(this.popularView.render().$el),
             this.$el.append(this.newRoomsView.render().$el),
             this.$el.append(this.lastViewsView.render().$el),
             this.loadMostPopularCommunities(),
             this.loadNewCommunities(),
             this.loadLastViewedCommunities(),
             this
         },
         onViewMore: function(t) {
             var i = e(t.currentTarget).data("mode");
             this.trigger("search:panels", i),
             n.trigger("track", "dashboard", "view all", d[i])
         },
         loadCommunities: function(e, t) {
             new r("",1,25,t).on("success", function(t, i) {
                 e.refreshRooms(t, i)
             }).on("error", function(t) {
                 e.onError()
             })
         },
         loadMostPopularCommunities: function() {
             this.loadCommunities(this.popularView, 0)
         },
         loadNewCommunities: function() {
             this.loadCommunities(this.newRoomsView, 1)
         },
         loadLastViewedCommunities: function() {
             var e = p.slice(0, 24).map(function(e) {
                 return e.get("slug")
             }).join(",");
             new l(e).on("success", t.bind(function(e, t) {
                 this.lastViewsView.refreshRooms(e, t)
             }, this)).on("error", t.bind(function(e) {
                 this.lastViewsView.onError()
             }, this))
         }
     });
     return u
 }),
 define("hbs!templates/dashboard/banners/DashboardTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-top banner--desktop" id="dashboard_top">\n    <div id="div-gpt-ad-1523297134334-5"></div>\n</div>\n'
     });
     return t.registerPartial("templates_dashboard_banners_DashboardTopBanner", i),
     i
 }),
 define("hbs!templates/dashboard/banners/DashboardBottomBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-bottom banner--desktop" id="dashboard_bottom">\n    <div id="div-gpt-ad-1523297134334-4"></div>\n</div>\n'
     });
     return t.registerPartial("templates_dashboard_banners_DashboardBottomBanner", i),
     i
 }),
 define("f1e1d/e74c9/c5cd9/ff1cf", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/fce39/e61b0", "f1e1d/a3bee/fdc17", "f1e1d/d8478/b885e", "f1e1d/d8478/d7013", "f1e1d/d8478/f54f2", "f1e1d/be642/e32cc/c56ca", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/e74c9/c5cd9/ea7c6", "f1e1d/e74c9/c5cd9/d1cb3", "f1e1d/be642/c76df/c5348", "f1e1d/e74c9/c5cd9/ace14", "f1e1d/e74c9/c5cd9/ec525/dce23", "f1e1d/e74c9/c5cd9/a9847", "f1e1d/e74c9/c5cd9/e1f40", "f1e1d/e74c9/c5cd9/c8f40", "f1e1d/e74c9/c5cd9/fecd8", "f1e1d/e74c9/a6e51/f2220", "f1e1d/af752/a8ae3", "hbs!templates/dashboard/banners/DashboardTopBanner", "hbs!templates/dashboard/banners/DashboardBottomBanner", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $) {
     var E = s.extend({
         id: "dashboard",
         className: "app-left communities plugdj__panel plugdj__panel-left",
         initialize: function() {
             this.menu = new u,
             this.search = new f,
             this.languageDropDown = new g,
             this.grid = new v,
             this.$panels = new C,
             this.$genres = new b,
             this.$genresMenu = new w,
             this.$box = e("<div/>").addClass("box"),
             this.$searchBox = e("<div/>").addClass("search__box"),
             this.$title = new y,
             this.$cover = e("<div/>").addClass("cover"),
             this.showBind = t.bind(this.onShow, this),
             this.hideBind = t.bind(this.onHide, this),
             this.resizeBind = t.bind(this.onResize, this),
             this.showing = !0,
             this.setData("state", "open"),
             this.listenTo(n, "dashboard:search", t.bind(this.onSearch, this))
         },
         render: function() {
             return this.$searchBox.append(this.search.$el).append(this.languageDropDown.$el).append(this.$genresMenu.$el).append(this.$title.$el),
             this.$el.append(S()).append(this.menu.$el).append(this.$searchBox).append(this.$box).append(x()),
             this.$box.append(this.$panels.$el),
             this.$box.append(this.$genres.$el),
             this.$box.append(this.grid.$el),
             this.languageDropDown.render(),
             this.menu.render().on("select", this.onGridCategory, this),
             this.search.render(),
             this.grid.render(),
             this.$genresMenu.render(),
             this.$title.render(),
             this.$panels.render(),
             this.$genres.render(),
             this.grid.$el.hide(),
             this.$genres.$el.hide(),
             this.$box.jScrollPane({
                 contentWidth: "0px"
             }),
             this.scrollPane = this.$box.data("jsp"),
             this.grid.scrollPane = this.scrollPane,
             this.$panels.scrollPane = this.scrollPane,
             this.$box.on("jsp-scroll-y", t.bind(this.onScroll, this)),
             n.on("dashboard:disable", t.bind(this.onDashboardDisable, this)).on("dashboard:loading", t.bind(this.showSpinner, this)).on("dashboard:loaded", t.bind(this.hideSpinner, this)).on("dashboard:toggle", this.toggle, this).on("show:dashboard dashboard:show", this.show, this).on("show:searching", this.showSearch, this).on("show:favorites", this.showFavorites, this).on("show:genres", this.showGenres, this).on("room:joining hide:dashboard dashboard:hide", this.hide, this),
             this.listenTo(this.$title, "dashboard:panels", t.bind(function() {
                 this.communitiesVisible = !1,
                 this.grid.$el.hide(),
                 this.$title.showBackButton(!1),
                 this.$panels.$el.show(),
                 this.$panels.scrollPane.reinitialise(),
                 this.$panels.scrollPane.scrollToY(0, !1),
                 this.search.$el.show(),
                 this.languageDropDown.$el.show(),
                 this.$genresMenu.$el.show()
             }, this)),
             this.listenTo(this.$panels, "search:panels", t.bind(function(e) {
                 this.communitiesVisible = !0,
                 0 === e || 1 === e ? o.load("", 1, null, null, null, e) : 2 === e && o.loadLastViewedCommunities(),
                 0 === parseInt(e) ? (this.search.$el.show(),
                 this.languageDropDown.$el.show(),
                 this.$genresMenu.$el.show()) : (this.search.$el.hide(),
                 this.languageDropDown.$el.hide(),
                 this.$genresMenu.$el.hide()),
                 this.$panels.$el.hide(),
                 this.$genres.$el.hide(),
                 this.$title.showBackButton(!0),
                 this.grid.$el.show()
             }, this)),
             this
         },
         onSearch: function() {
             this.communitiesVisible = !0;
             var e = l.get("query")
               , i = l.get("filters")
               , s = function(e) {
                 return encodeURIComponent(e.data.name)
             }
               , a = t.map(t.filter(i, function(e) {
                 return "genre" === e.type
             }), s)
               , r = t.map(t.filter(i, function(e) {
                 return "subgenre" === e.type
             }), s)
               , h = t.find(i, function(e) {
                 return "language" === e.type
             });
             n.trigger("track:csa", "dashboard", "search", [encodeURIComponent(e || ""), h ? h.data.code : "", a ? a.join(",") : "", r ? r.join(",") : ""]),
             n.trigger("track:ga", "dashboard", "search"),
             o.load(e, 1, a.length > 0 ? a : null, r.length > 0 ? r : null, null !== h && void 0 !== h ? h.data.code : null, 0),
             this.$panels.$el.hide(),
             this.$title.showBackButton(!0),
             this.grid.$el.show()
         },
         remove: function() {
             this.dropDown.destroy(),
             this.dropDown = void 0,
             delete this.dropDown,
             this.$("button").off(),
             this._super()
         },
         onDashboardDisable: function(e) {
             e === !0 ? p.isRoom && this.showing === !0 ? this.hide(!0) : this.$el.append(this.$cover) : this.$cover.remove()
         },
         onScroll: function() {
             this.communitiesVisible && this.scrollPane.getPercentScrolledY() > .97 && (o.more() ? this.grid.showSpinner() : this.grid.hideSpinner())
         },
         onGridCategory: function(e) {
             this.search.clear(),
             "searching" === e ? (this.communitiesVisible = !1,
             this.$genres.$el.hide(),
             this.$(".search__box").removeClass("hidden"),
             this.grid.$el.hide(),
             this.$title.showBackButton(!1),
             this.$panels.$el.show(),
             this.search.$el.show(),
             this.languageDropDown.$el.show(),
             this.$genresMenu.$el.show()) : "favorites" === e ? (this.$genres.$el.hide(),
             this.$title.onDeleteAllFilters(null, !0),
             this.$(".search__box").addClass("hidden"),
             this.$panels.$el.hide(),
             this.grid.$el.show(),
             o.loadFavorites()) : "genres" === e ? (this.$title.onDeleteAllFilters(null, !0),
             this.$(".search__box").addClass("hidden"),
             this.$panels.$el.hide(),
             this.grid.$el.hide(),
             this.$genres.$el.show()) : (this.$(".search__box").removeClass("hidden"),
             o.load()),
             this.onResize()
         },
         renderGenresView: function() {},
         showSpinner: function() {
             this.hideSpinner(),
             this.spinner = new k({
                 size: k.LARGE
             }),
             this.$el.append(this.spinner.$el),
             this.spinner.render().$el.css("left", "49.3%").css("top", "50%")
         },
         hideSpinner: function() {
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner)
         },
         clear: function() {
             this.hideSpinner(),
             this.search.clear(),
             a.reset(),
             a.trigger("update")
         },
         toggle: function() {
             this.showing === !0 ? n.trigger("panel:back", !0) : this.show()
         },
         show: function(e) {
             n.trigger("panel:show", "dashboard"),
             this.showing || (this.setData("state", "open"),
             p.resize(this.resizeBind),
             e !== !0 ? (n.trigger("audience:pause", !0),
             this.showBind()) : this.onShow())
         },
         hide: function(e) {
             this.showing !== !1 && (n.trigger("search:deleteAllFilter"),
             this.setData("state", "closed"),
             e === !0 ? this.clear() : (this.showing = !1,
             p.off("resize", this.resizeBind),
             e !== !0 || this.onHide()))
         },
         onShow: function() {
             this.showing = !0,
             this.menu.select("searching"),
             t.defer(this.resizeBind),
             _.check(function(e) {
                 e || setTimeout(function() {
                     n.trigger("dfp:dashboard")
                 }, 100)
             })
         },
         onHide: function() {
             this.clear(),
             d.pushState(null, window.location.pathname.replace(/\//g, "")),
             n.trigger("audience:pause", !1)
         },
         showFavorites: function() {
             d.pushState("View:dashboard-favorites", "#dashboard-favorites"),
             this.menu.select("favorites")
         },
         onResize: function(e) {
             this.scrollPane && this.scrollPane.reinitialise()
         }
     });
     return E
 }),
 define("f1e1d/e74c9/c00f1/d56c0", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/dcb95"], function(e, t, i, s) {
     var n = t.View.extend({
         id: "dialog-container",
         initialize: function() {
             i.on(s.SHOW, e.bind(this.onShow, this))
         },
         render: function() {
             return this.$el.empty(),
             this
         },
         onShow: function(e) {
             this.dialog = e.dialog,
             this.$el.empty().append(this.dialog.$el),
             this.dialog.render(),
             this.dialog.on("close", this.onClose, this),
             this.$el.show()
         },
         onClose: function() {
             this.dialog.off(),
             this.dialog.destroy(),
             this.dialog = void 0,
             this.$el.hide()
         }
     });
     return n
 }),
 define("hbs!templates/dialogs/DialogForcedOffer", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="appsAvailable">\n\t<h2>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.appsAvailable,
         typeof a === r ? a.apply(t) : a)) + '<h2>\n</div>\n\n  <a  href="https://plug.dj/ios-force-page" target="_blank" id="iosLink" class="download-app__store apple"></a>\n  <a  href="https://plug.dj/android-force-page" target="_blank" id="androidLink" class="download-app__store google"></a>\n\n\n<div>\n\t<a id=\'alreadyDownloadedLink\'>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.alreadyDownloaded,
         typeof a === r ? a.apply(t) : a)) + "</a>\n</div>\n"
     });
     return t.registerPartial("templates_dialogs_DialogForcedOffer", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/dfc54", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/e8300/bef7f", "f1e1d/af752/e7b9f", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogForcedOffer", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = a.extend({
         id: "dialog-forced-offer",
         className: "dialog",
         render: function() {
             return n.actual("Forced Page", "View", this.referrer),
             this.$el.append(this.getHeader(r.dialog.downloadApps)).append(this.getBody().append(o(r))).append(this.getSingleFrame()),
             this.$("#androidLink").on("click", t.bind(this.androidClicked, this)),
             this.$("#iosLink").on("click", t.bind(this.iosClicked, this)),
             this.$("#alreadyDownloadedLink").on("click", t.bind(this.alreadyDownloadedClicked, this)),
             this._super()
         },
         close: function() {
             this.action = void 0,
             delete this.action,
             this._super()
         },
         onKeyEnter: function(e) {
             return e.preventDefault(),
             !1
         },
         androidClicked: function() {
             n.actual("Forced Page", "Android Clicked", this.referrer),
             this.close()
         },
         iosClicked: function() {
             n.actual("Forced Page", "iOS Clicked", this.referrer),
             this.close()
         },
         alreadyDownloadedClicked: function() {
             n.actual("Forced Page", "Already Have App", this.referrer),
             this.close()
         },
         onContainerClick: function(e) {}
     });
     return l
 }),
 define("f1e1d/af752/da104", ["jquery"], function(e) {
     var t = {};
     return t.f = window.location.href.indexOf("//plug.dj") === -1 && window.location.href.indexOf("//localhost:") === -1 ? "159829860819108" : "216041638480603",
     t.r = encodeURIComponent(window.location.origin + "/_/fbcallback"),
     t.i = function() {
         e("head").append('(function(d,s,id) {var js,fjs=d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s);js.id = id;js.src = "//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}(document,"script","twitter-wjs"));</script>')
     }
     ,
     t
 }),
 define("hbs!templates/footer/FooterUserInfo", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="name"><i></i><span></span></div>\n<div class="meta">\n    <div class="level">\n        <span class="label">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.level,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="value"></span>\n    </div>\n    <div class="bar">\n        <div class="progress"></div>\n        <span class="value"></span>\n    </div>\n</div>\n<div class="points">\n    <div class="pp">\n        <i class="icon icon-pp-small"></i>\n        <span class="value"></span>\n    </div>\n</div>'
     });
     return t.registerPartial("templates_footer_FooterUserInfo", i),
     i
 }),
 define("f1e1d/e74c9/ec021/a7f50", ["jquery", "underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/e504b", "hbs!templates/footer/FooterUserInfo", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = i.View.extend({
         className: "info",
         render: function() {
             return this.$el.html(o(r)),
             this.$role = this.$(".name i"),
             this.$name = this.$(".name span"),
             this.$level = this.$(".level .value"),
             this.$pp = this.$(".pp .value"),
             this.$bar = this.$(".bar"),
             this.$progress = this.$(".bar .progress"),
             this.$xp = this.$(".bar .value"),
             s.on("change:username", this.onNameChange, this).on("change:level", this.onLevelChange, this).on("change:pp", this.onPPChange, this).on("change:xp", this.onXPChange, this).on("change:status", this.onStatusChange, this).on("change:role change:gRole", this.onRoleChange, this).on("change:boost", this.onBoostChange, this),
             this.onNameChange(),
             this.onLevelChange(),
             this.onPPChange(),
             this.onXPChange(),
             this.onRoleChange(),
             this.onBoostChange(),
             this
         },
         onNameChange: function() {
             this.$name.text(s.get("username"))
         },
         onLevelChange: function() {
             this.$level.text(s.get("gRole") !== n.HOST ? s.get("level") : "∞")
         },
         onPPChange: function() {
             this.$pp.text(a.commafy(s.get("pp") || "0"))
         },
         onXPChange: function() {
             if (s.get("gRole") !== n.HOST) {
                 var e = s.get("xp") - s._x[s.get("level") - 1]
                   , t = s._x[s.get("level")] - (s.get("level") > 1 ? s._x[s.get("level") - 1] : 0);
                 this.$progress.css("width", (e > 0 ? ~~(100 * Math.max(.01, e / t)) : 0) + "%"),
                 this.$xp.text(a.commafy(e) + " / " + a.commafy(t))
             }
         },
         onRoleChange: function() {
             if (this.$el.removeClass("is-admin is-ambassador is-staff is-plot is-promoter"),
             s.hasPermission(n.ADMIN, !0))
                 this.$el.addClass("is-admin"),
                 this.$role.removeClass().addClass("icon icon-chat-admin");
             else if (s.hasPermission(n.AMBASSADOR, !0))
                 this.$el.addClass("is-ambassador"),
                 this.$role.removeClass().addClass("icon icon-chat-ambassador");
             else if (s.hasPermission(n.SITEMOD, !0))
                 this.$el.addClass("is-sitemod"),
                 this.$role.removeClass().addClass("icon icon-chat-sitemod");
             else if (s.hasPermission(n.PLOT, !0))
                 this.$el.addClass("is-plot"),
                 this.$role.removeClass().addClass("icon icon-chat-plot");
             else if (s.hasPermission(n.PROMOTER, !0))
                 this.$el.addClass("is-promoter"),
                 this.$role.removeClass().addClass("icon icon-chat-promoter");
             else if (s.hasPermission(n.DJ)) {
                 this.$el.addClass("is-staff");
                 var e, t = s.get("role");
                 t === n.HOST || t === n.COHOST ? e = "host" : t === n.MANAGER ? e = "manager" : t === n.BOUNCER ? e = "bouncer" : t === n.DJ && (e = "dj"),
                 this.$role.removeClass().addClass("icon icon-chat-" + e)
             }
         },
         onBoostChange: function() {
             s.get("boost") ? this.$el.addClass("boosted") : this.$el.removeClass("boosted")
         }
     });
     return l
 }),
 define("hbs!templates/footer/FooterButtons", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="buttons">\n    <div class="inventory button">\n        <div class="image">\n            <div class="thumb medium"><div class="background"></div><i></i></div>\n        </div>\n    </div>\n    <div class="badge button">\n        <i class="bdg"></i>\n    </div>\n    <div class="store button">\n        <i class="icon icon-store-white"></i>\n        <span class="count"></span>\n    </div>\n    <div class="profile button">\n        <i class="icon icon-user-white"></i>\n        <span class="count"></span>\n    </div>\n    <div class="settings button">\n        <i class="icon icon-settings-white"></i>\n    </div>\n</div>\n<div class="back">\n    <span></span>\n</div>'
     });
     return t.registerPartial("templates_footer_FooterButtons", i),
     i
 }),
 define("f1e1d/e74c9/ec021/b4ee7", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/ec5ba", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "f1e1d/af752/f3ab8", "f1e1d/e74c9/ec021/a7f50", "hbs!templates/footer/FooterButtons", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     var f = i.View.extend({
         id: "footer-user",
         className: "online",
         initialize: function() {
             this.clickBind = t.bind(this.onClick, this),
             this.enterBind = t.bind(this.onEnter, this),
             this.leaveBind = t.bind(this.onLeave, this),
             this.info = new p
         },
         render: function() {
             return this.$el.html(d(u)).append(this.info.$el),
             this.info.render(),
             this.$thumb = this.$(".thumb"),
             this.$avatar = this.$(".thumb i"),
             this.$badge = this.$(".bdg"),
             this.$back = this.$(".back span"),
             this.$(".back").on("click", t.bind(this.onBackClick, this)),
             s.on("user:back", t.bind(this.onBackClick, this)),
             this.$(".button").on("click", this.clickBind).on("mouseenter", this.enterBind).on("mouseleave", this.leaveBind),
             a.on("change:avatarID", this.onAvatarChange, this).on("change:badge", this.onBadgeChange, this).on("change:guest", this.onGuestChange, this),
             n.on("reset remove", this.onNotifications, this),
             s.on("show:user show:settings", this.onShowUser, this).on("hide:user hide:settings room:joining", this.onHideUser, this).on("show:dashboard", this.onShowDashboard, this).on("hide:dashboard", this.onHideUser, this),
             this.onAvatarChange(),
             this.onBadgeChange(),
             this.onNotifications(),
             this.onGuestChange(),
             this
         },
         onNotifications: function() {
             if (n.length > 0) {
                 this.$(".button.profile").addClass("notify"),
                 this.$(".button.profile .count").text(n.length);
                 var e = n.filter(function(e) {
                     return "levelUp" === e.get("action") && ["4", "6", "8", "10", "12"].indexOf(e.get("value")) > -1
                 }).length;
                 e > 0 ? (4 === a.get("level") && (e += 2),
                 this.$(".button.store").addClass("notify"),
                 this.$(".button.store .count").text(String(15 * e))) : (this.$(".button.store").removeClass("notify"),
                 this.$(".button.store .count").empty())
             } else
                 this.$(".button.profile").removeClass("notify"),
                 this.$(".button.store").removeClass("notify"),
                 this.$(".button.profile .count").empty(),
                 this.$(".button.store .count").empty()
         },
         onClick: function(t) {
             var i, n, o = window.location.pathname.indexOf("/dashboard") > -1 ? "Dashboard" : "Community", r = e(t.currentTarget).closest(".button");
             r.hasClass("profile") ? (i = "profile",
             this.info.$el.removeClass("showing")) : r.hasClass("inventory") ? i = "inventory" : r.hasClass("store") ? (l.actual("Shop", "Footer Button"),
             i = "store") : r.hasClass("badge") ? (i = "inventory",
             n = "badges") : r.hasClass("settings") && (i = "settings"),
             a.get("guest") ? n ? s.trigger("tooltip:hide").trigger("signup:show", o + ": Button - " + i + " - " + n + " (bottom nav)") : s.trigger("tooltip:hide").trigger("signup:show", o + ": Button - " + i + " (bottom nav)") : s.trigger("tooltip:hide").trigger("show:user", i, n)
         },
         onBackClick: function() {
             s.trigger("hide:user").trigger("hide:settings"),
             r.isRoom && s.trigger("hide:dashboard"),
             s.trigger("dfp:footer:click"),
             this.$el.removeClass("showing")
         },
         onShowUser: function() {
             var e = this.$el;
             this.$back.text(r.isRoom ? u.userMeta.backToCommunity : u.userMeta.backToDashboard),
             t.defer(function() {
                 e.addClass("showing")
             })
         },
         onShowDashboard: function(e) {
             e || this.onShowUser()
         },
         onHideUser: function() {
             this.$el.removeClass("showing")
         },
         onAvatarChange: function() {
             this.$avatar.removeClass().addClass("avi avi-" + h.aviClass(a.get("avatarID")))
         },
         onBadgeChange: function() {
             a.get("badge") ? this.$badge.removeClass().addClass("bdg bdg-" + h.badgeClass(a.get("badge"))) : this.$badge.removeClass().addClass("no-badge")
         },
         onGuestChange: function() {
             a.get("guest") ? setTimeout(function() {
                 e(".button.profile").addClass("notify"),
                 e(".button.profile .count").text("1")
             }, 2e3) : (e(".button.profile").removeClass("notify"),
             e(".button.profile .count").empty())
         },
         onEnter: function(t) {
             var i, n = e(t.currentTarget).closest(".button");
             n.hasClass("profile") ? this.info.$el.addClass("showing") : n.hasClass("inventory") ? i = u.userInventory.avatars : n.hasClass("store") ? i = u.userMenu.store : n.hasClass("badge") ? i = u.userInventory.badges : n.hasClass("settings") && (i = u.userMenu.settings),
             i && s.trigger("tooltip:show", i, n, !0, !1, n.hasClass("store") ? "blue" : void 0)
         },
         onLeave: function() {
             this.info.$el.removeClass("showing"),
             s.trigger("tooltip:hide")
         }
     });
     return f
 }),
 define("f1e1d/e74c9/ec021/e1b4f", ["underscore", "backbone", "f1e1d/a3bee/dcf3d", "f1e1d/d8478/b5029", "f1e1d/af752/e7b9f", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = t.View.extend({
         className: "social-menu",
         pWidth: 0,
         pHeight: 0,
         template: void 0,
         render: function() {
             return this.$el.html(this.template),
             this.$(".share").on("click", e.bind(this.onShare, this)),
             this.$(".invite").on("click", e.bind(this.onInvite, this)),
             this.$menu = this.$(".menu"),
             this.$share = this.$(".share"),
             s.on("change:media", this.onMediaChange, this),
             this.onMediaChange(),
             this
         },
         onMediaChange: function() {
             var e = s.get("media");
             e ? (this.$menu.removeClass("invite-only"),
             this.$share.text(2 === e.get("format") ? a.social.shareSong : a.social.shareVideo)) : this.$menu.addClass("invite-only")
         },
         onShare: function() {
             var t = s.get("media");
             return t && (1 === t.get("format") ? this.openShare("https://youtu.be/" + t.get("cid")) : 2 === t.get("format") && i.scPermalink(t.get("cid"), e.bind(this.openShare, this))),
             !1
         },
         openShare: function(e) {
             e && this.openPopup(this.pWidth, this.pHeight, this.getShare(e), "plugdjshare")
         },
         onInvite: function() {
             return this.openPopup(this.pWidth, this.pHeight, this.getInvite(), "plugdjshare"),
             !1
         },
         openPopup: function(e, t, i, s) {
             window.open(i, s, "status=1,width=" + e + ",height=" + t + ",left=" + (screen.width - e) / 2 + ",top=" + (screen.height - t) / 2)
         },
         getShare: function(e) {},
         getInvite: function() {}
     });
     return o
 }),
 define("hbs!templates/footer/AndroidBadgeMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<a href="https://plug.dj/android-community-footer" target="_blank"><img class="android-badge" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAQAIBRAA7"></img></a>\n'
     });
     return t.registerPartial("templates_footer_AndroidBadgeMenu", i),
     i
 }),
 define("f1e1d/e74c9/ec021/f1667", ["f1e1d/e718c/b7acd", "f1e1d/af752/da104", "f1e1d/af752/fd6ec", "f1e1d/e74c9/ec021/e1b4f", "hbs!templates/footer/AndroidBadgeMenu", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = s.extend({
         id: "androidbadge-menu",
         template: n(a),
         pWidth: 502,
         pHeight: 555,
         render: function() {
             this._super()
         }
     });
     return o
 }),
 define("hbs!templates/footer/IOSBadgeMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<a href="https://plug.dj/ios-community-footer" target="_blank"><img class="iphone-badge" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAQAIBRAA7"></img></a>\n'
     });
     return t.registerPartial("templates_footer_IOSBadgeMenu", i),
     i
 }),
 define("f1e1d/e74c9/ec021/e228b", ["f1e1d/e718c/b7acd", "f1e1d/af752/da104", "f1e1d/af752/fd6ec", "f1e1d/e74c9/ec021/e1b4f", "hbs!templates/footer/IOSBadgeMenu", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = s.extend({
         id: "iosbadge-menu",
         template: n(a),
         pWidth: 502,
         pHeight: 555,
         render: function() {
             this._super()
         }
     });
     return o
 }),
 define("hbs!templates/footer/FacebookMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="icon icon-facebook-selected"></i>\n<div class="menu">\n    <ul>\n        <li class="fbfb"></li>\n        <li>\n            <i class="icon icon-share"></i>\n            <span class="social-item share">' + l((a = t.social,
         a = null == a || a === !1 ? a : a.shareVideo,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </li>\n        <li>\n            <i class="icon icon-invite"></i>\n            <span class="social-item invite">' + l((a = t.social,
         a = null == a || a === !1 ? a : a.inviteFriends,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </li>\n    </ul>\n    <div class="arrow-down"></div>\n</div>'
     });
     return t.registerPartial("templates_footer_FacebookMenu", i),
     i
 }),
 define("f1e1d/e74c9/ec021/e9913", ["f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/af752/da104", "f1e1d/af752/fd6ec", "f1e1d/af752/e7b9f", "f1e1d/e74c9/ec021/e1b4f", "hbs!templates/footer/FacebookMenu", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = l.extend({
         id: "facebook-menu",
         template: h(c),
         pWidth: 502,
         pHeight: 555,
         render: function() {
             this._super(),
             this.$(".fbfb").append($("#fb-page")),
             e.on("fb:invite", this.onInvite, this).on("fb:share", this.onShare, this)
         },
         openShare: function(e) {
             e && (FB.ui({
                 method: "share",
                 href: e
             }, function(e) {}),
             r.actual("Facebook", "Share", window.location.pathname.replace(/\//g, ""), e))
         },
         onInvite: function() {
             return FB.ui({
                 method: "share",
                 href: this.getInvite()
             }, function(e) {}),
             r.actual("Facebook", "Invite", window.location.pathname.replace(/\//g, ""), window.location.pathname.replace(/\//g, "")),
             !1
         },
         getInvite: function() {
             var e = window.location.origin;
             return e += s.get("joined") ? "/" + s.get("slug") + "?utm_source=facebook&utm_medium=socialinvite&utm_term=" + n.get("id") + "&utm_campaign=" + s.get("slug") : "?utm_source=facebook&utm_medium=socialinvite&utm_term=" + n.get("id") + "&utm_campaign=dashboard"
         }
     });
     return p
 }),
 define("hbs!templates/footer/TwitterMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="icon icon-twitter-selected"></i>\n<div class="menu">\n    <ul>\n        <li>\n            <iframe id="twitter-follow" allowtransparency="true" frameborder="0" scrolling="no"\n                    src="//platform.twitter.com/widgets/follow_button.html?screen_name=plugdj&show_screen_name=false&show_count=true"\n                    style="width:199px; height:20px;">\n            </iframe>\n        </li>\n        <li>\n            <i class="icon icon-share"></i>\n            <span class="social-item share">' + l((a = t.social,
         a = null == a || a === !1 ? a : a.shareVideo,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </li>\n        <li>\n            <i class="icon icon-invite"></i>\n            <span class="social-item invite">' + l((a = t.social,
         a = null == a || a === !1 ? a : a.inviteFriends,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </li>\n    </ul>\n    <div class="arrow-down"></div>\n</div>'
     });
     return t.registerPartial("templates_footer_TwitterMenu", i),
     i
 }),
 define("f1e1d/e74c9/ec021/ced67", ["f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/af752/e7b9f", "f1e1d/e74c9/ec021/e1b4f", "hbs!templates/footer/TwitterMenu", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = o.extend({
         id: "twitter-menu",
         template: r(l),
         pWidth: 575,
         pHeight: 420,
         render: function() {
             this._super(),
             e.on("tw:invite", this.onInvite, this).on("tw:share", this.onShare, this)
         },
         getShare: function(e) {
             var t = i.get("media");
             return a.actual("Twitter", "Share", window.location.pathname.replace(/\//g, ""), e),
             "https://twitter.com/intent/tweet?text=" + encodeURIComponent(l.social.twitterShare.split("%MEDIA%").join(t.get("author") + " - " + t.get("title"))) + "&url=" + encodeURIComponent(e)
         },
         getInvite: function() {
             var e, o;
             return s.get("joined") ? (e = t.isTheUserPlaying ? l.social.twitterInviteDJ.split("%ROOM%").join(s.get("name")) : l.social.twitterInvite.split("%ROOM%").join(s.get("name")),
             i.get("media") && (e += " " + l.social.nowPlaying.split("%MEDIA%").join(i.get("media").get("author") + " - " + i.get("media").get("title"))),
             o = window.location.origin + "/" + s.get("slug") + "?utm_source=twitter&utm_medium=socialinvite&utm_term=" + n.get("id") + "&utm_campaign=" + s.get("slug")) : (e = l.social.twitterInviteDashboard,
             o = window.location.origin + "?utm_source=twitter&utm_medium=socialinvite&utm_term=" + n.get("id") + "&utm_campaign=dashboard"),
             a.actual("Twitter", "Invite", window.location.pathname.replace(/\//g, ""), window.location.pathname.replace(/\//g, "")),
             "https://twitter.com/intent/tweet?text=" + encodeURIComponent(e) + "&url=" + encodeURIComponent(o)
         }
     });
     return h
 }),
 define("hbs!templates/footer/SignupButton", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<a href="#signup-footer"><button class="button signup">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signup,
         typeof a === r ? a.apply(t) : a)) + "</button></a>"
     });
     return t.registerPartial("templates_footer_SignupButton", i),
     i
 }),
 define("f1e1d/e74c9/ec021/b7a58", ["f1e1d/e718c/b7acd", "f1e1d/af752/da104", "f1e1d/af752/fd6ec", "f1e1d/e74c9/ec021/e1b4f", "hbs!templates/footer/SignupButton", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = s.extend({
         id: "signupbtn-menu",
         template: n(a),
         pWidth: 502,
         pHeight: 555,
         render: function() {
             this._super()
         }
     });
     return o
 }),
 define("hbs!templates/footer/SubscribeButton", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<a href="/subscribe" target="_blank"><button class="button subscribe">' + l((a = t.subscribe,
         a = null == a || a === !1 ? a : a.submit,
         typeof a === r ? a.apply(t) : a)) + "</button></a>"
     });
     return t.registerPartial("templates_footer_SubscribeButton", i),
     i
 }),
 define("f1e1d/e74c9/ec021/dcc53", ["f1e1d/e718c/b7acd", "f1e1d/af752/da104", "f1e1d/af752/fd6ec", "f1e1d/e74c9/ec021/e1b4f", "hbs!templates/footer/SubscribeButton", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = s.extend({
         id: "subscribebtn-menu",
         template: n(a),
         pWidth: 502,
         pHeight: 555,
         render: function() {
             this._super()
         }
     });
     return o
 }),
 define("hbs!templates/playlist/help/PlaylistHelp", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="playlist-overlay-help">\r\n    <span>\r\n      <h2>' + l((a = t.help,
         a = null == a || a === !1 ? a : a.playing,
         typeof a === r ? a.apply(t) : a)) + "</h2>\r\n      <p>\r\n         " + l((a = t.help,
         a = null == a || a === !1 ? a : a.playing1,
         typeof a === r ? a.apply(t) : a)) + "<br>\r\n         " + l((a = t.help,
         a = null == a || a === !1 ? a : a.playing2,
         typeof a === r ? a.apply(t) : a)) + '<br>\r\n         <span class="help-activate-playlist"> ' + l((a = t.help,
         a = null == a || a === !1 ? a : a.playing3,
         typeof a === r ? a.apply(t) : a)) + '</span><br>\r\n         <span class="help-activate-reverse"> ' + l((a = t.help,
         a = null == a || a === !1 ? a : a.playing4,
         typeof a === r ? a.apply(t) : a)) + "</span>\r\n      </p>\r\n      <h2>" + l((a = t.help,
         a = null == a || a === !1 ? a : a.selecting,
         typeof a === r ? a.apply(t) : a)) + "</h2>\r\n      <p>\r\n          " + l((a = t.help,
         a = null == a || a === !1 ? a : a.selecting1,
         typeof a === r ? a.apply(t) : a)) + "<br>\r\n          " + l((a = t.help,
         a = null == a || a === !1 ? a : a.selecting2,
         typeof a === r ? a.apply(t) : a)) + "<br>\r\n          " + l((a = t.help,
         a = null == a || a === !1 ? a : a.selecting3,
         typeof a === r ? a.apply(t) : a)) + "<br>\r\n          " + l((a = t.help,
         a = null == a || a === !1 ? a : a.selecting4,
         typeof a === r ? a.apply(t) : a)) + "<br>\r\n          " + l((a = t.help,
         a = null == a || a === !1 ? a : a.selecting5,
         typeof a === r ? a.apply(t) : a)) + "<br>\r\n          " + l((a = t.help,
         a = null == a || a === !1 ? a : a.selecting6,
         typeof a === r ? a.apply(t) : a)) + "\r\n      </p>\r\n      <h2>" + l((a = t.help,
         a = null == a || a === !1 ? a : a.filtering,
         typeof a === r ? a.apply(t) : a)) + "</h2>\r\n      <p>\r\n          " + l((a = t.help,
         a = null == a || a === !1 ? a : a.filtering1,
         typeof a === r ? a.apply(t) : a)) + "<br>\r\n          " + l((a = t.help,
         a = null == a || a === !1 ? a : a.filtering2,
         typeof a === r ? a.apply(t) : a)) + "\r\n      </p>\r\n    </span>\r\n</div>"
     });
     return t.registerPartial("templates_playlist_help_PlaylistHelp", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/d3235/af3be", ["underscore", "backbone", "f1e1d/af752/c506b", "hbs!templates/playlist/help/PlaylistHelp", "lang/Lang"], function(e, t, i, s, n) {
     var a = t.View.extend({
         className: "media-list",
         initialize: function() {
             this.resizeBind = e.bind(this.onResize, this)
         },
         render: function() {
             return this.$el.html(s(n)),
             i.resize(this.resizeBind),
             this
         },
         onResize: function(e) {
             e = e || i.getSize(),
             this.$el.height(Math.max(550, e.height - this.$el.offset().top))
         },
         remove: function() {
             i.off("resize", this.resizeBind),
             this.resizeBind = void 0,
             delete this.resizeBind,
             this._super()
         }
     });
     return a
 }),
 define("f1e1d/d8478/d2eff", ["backbone"], function(e) {
     var t = e.Model.extend({
         defaults: {
             name: void 0,
             username: void 0,
             playlistID: void 0
         }
     });
     return t
 }),
 define("f1e1d/fce39/bdec0", ["backbone", "f1e1d/d8478/d2eff"], function(e, t) {
     var i = e.Collection.extend({
         model: t
     });
     return new i
 }),
 define("f1e1d/a3bee/fb14a", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/fce39/bdec0", "f1e1d/a3bee/f8c12", "f1e1d/a3bee/dcf3d", "f1e1d/e8300/ff11a", "f1e1d/e8300/a815f", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h, c, p = t.extend({
         load: function(t) {
             i.trigger("import:ytplaylists", t),
             h !== t ? (i.trigger("media:loading"),
             c = [],
             s.reset(),
             h = t,
             a.ytPlaylist(t, e.bind(this.onComplete, this))) : e.delay(function() {
                 s.reset(c)
             }, 100)
         },
         onComplete: function(e) {
             i.trigger("media:loaded"),
             c = e,
             s.reset(e)
         },
         import: function() {
             c.length > 0 && (this.importMediaFacade || (this.importMediaFacade = new n,
             this.importMediaFacade.updateCallback = e.bind(this.onImportMediaComplete, this)),
             this.importIndex = 0,
             this.importNextPlaylist(),
             e.delay(e.bind(this.importAlert, this), 100))
         },
         importNextPlaylist: function() {
             this.timeoutID && clearTimeout(this.timeoutID),
             this.importMediaFacade.load(c[this.importIndex])
         },
         onImportMediaComplete: function(t) {
             this.createPlaylist(t, 1),
             ++this.importIndex < c.length && (this.timeoutID = e.delay(e.bind(this.importNextPlaylist, this), 10))
         },
         createPlaylist: function(e, t) {
             if (e.length > 0) {
                 var s = c[this.importIndex].playlistID ? c[this.importIndex].name : "YouTube Favorites";
                 if (t > 1 && (s += " " + t),
                 e.length <= 200)
                     i.dispatch(new o(o.CREATE,s,e));
                 else {
                     var n = e.slice(0, 200);
                     i.dispatch(new o(o.CREATE,s,n)),
                     e.splice(0, 200),
                     this.createPlaylist(e, ++t)
                 }
             }
         },
         importAlert: function() {
             i.trigger("notify", "icon-import", l.alerts.youtubeImporting)
         }
     });
     return new p
 }),
 define("hbs!templates/playlist/import/PlaylistImport", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="import-box" id="import-youtube">\n    <i class="fa fa-youtube"></i>\n    <div class="youtube-input">\n        <form class="youtube-input-form" onsubmit="return false">\n            <input id="youtube-input-field" type="text" value="" placeholder="' + l((a = t.import,
         a = null == a || a === !1 ? a : a.ytUsername,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="64"/>\n        </form> \n        <div class="button">\n               ' + l((a = t.import,
         a = null == a || a === !1 ? a : a.import,
         typeof a === r ? a.apply(t) : a)) + '\n            </div>       \n    </div>\n    \n</div>\n<div class="import-box" id="import-soundcloud">\n    <i class="icon icon-soundcloud-big"></i>\n    <div class="import-soundcloud__buttons-content">\n        <div id="import-soundcloud-favorites" class="button">\n            <i class="fa fa-heart"></i>\n            ' + l((a = t.import,
         a = null == a || a === !1 ? a : a.favorites,
         typeof a === r ? a.apply(t) : a)) + '\n        </div>\n        <div id="import-soundcloud-tracks" class="button">\n            <i class="fa fa-music"></i>\n            ' + l((a = t.import,
         a = null == a || a === !1 ? a : a.tracks,
         typeof a === r ? a.apply(t) : a)) + '\n        </div>\n        <div id="import-soundcloud-sets" class="button">\n            <i class="fa fa-archive"></i>\n            ' + l((a = t.import,
         a = null == a || a === !1 ? a : a.sets,
         typeof a === r ? a.apply(t) : a)) + "\n        </div>\n    </div>\n</div>\n"
     });
     return t.registerPartial("templates_playlist_import_PlaylistImport", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/f2796/aa5aa", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/f9a6b", "f1e1d/e8300/dcb95", "f1e1d/a3bee/fb14a", "f1e1d/af752/c506b", "f1e1d/af752/f0d32", "hbs!templates/playlist/import/PlaylistImport", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = t.View.extend({
         id: "playlist-import-panel",
         template: l(h),
         initialize: function() {
             this.resizeBind = e.bind(this.onResize, this)
         },
         render: function() {
             return this.$el.html(this.template),
             r.sc ? this.$("#import-soundcloud .button").on("click", e.bind(this.onSCClick, this)) : this.$el.addClass("no-soundcloud"),
             this.$("#import-youtube .button").on("click", e.bind(this.onYTClick, this)),
             this.$("#youtube-input-field").on("keyup", e.bind(this.onYTKeyUp, this)).on("focus", e.bind(this.onFocus, this)).on("blur", e.bind(this.onBlur, this)),
             this.$(".icon-youtube-big").css("left", (this.$("#import-youtube").width() - this.$(".icon-youtube-big").width()) / 2),
             this.$(".icon-soundcloud-big").css("left", (this.$("#import-soundcloud").width() - this.$(".icon-soundcloud-big").width()) / 2),
             o.resize(this.resizeBind),
             this
         },
         remove: function() {
             this.$(".button").off(),
             this.$("#youtube-input-field").off(),
             o.off("resize", this.resizeBind),
             this.resizeBind = void 0,
             delete this.resizeBind,
             this._super()
         },
         onFocus: function() {
             this.$(".youtube-input").addClass("focused")
         },
         onBlur: function() {
             this.$(".youtube-input").removeClass("focused")
         },
         onResize: function() {
             var e = $("#media-panel").width() - 18;
             this.$el.width(e),
             e /= 2,
             this.$(".bar-divider").css("left", e),
             this.$("#import-youtube").css("left", (e - 250) / 2 - 4.5),
             this.$("#import-soundcloud").css("left", e + (e - 250) / 2 - 4.5)
         },
         onYTClick: function() {
             var e = this.$("#youtube-input-field")[0].value;
             e.length > 0 && a.load(e)
         },
         onSCClick: function(e) {
             var t, n = $(e.currentTarget).attr("id");
             "import-soundcloud-favorites" === n ? t = s.FAVORITES : "import-soundcloud-tracks" === n ? t = s.TRACKS : "import-soundcloud-sets" === n && (t = s.SETS),
             i.dispatch(new s(t))
         },
         onYTKeyUp: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             13 !== t || (e.preventDefault(),
             e.stopImmediatePropagation(),
             this.onYTClick(),
             !1))
         }
     });
     return c
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", ["underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/af752/c506b"], function(e, t, i, s) {
     var n = i.extend({
         className: "header",
         initialize: function() {
             this.resizeBind = e.bind(this.onResize, this)
         },
         render: function() {
             return this.$el.html(this.template),
             s.resize(this.resizeBind),
             this
         },
         remove: function() {
             s.off("resize", this.resizeBind),
             this._super()
         },
         setTitle: function(e) {
             return this.$(".title span").text(e || ""),
             this
         },
         onResize: function(e) {
             this.$(".title").width(this.$el.width() - 2 * parseInt(this.$(".title").css("left")))
         }
     });
     return n
 }),
 define("hbs!templates/playlist/media/headers/ImportHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<i class="fa fa-sign-out playlist-header-icon"></i>\n<div class="title">\n    <span></span>\n</div>'
     });
     return t.registerPartial("templates_playlist_media_headers_ImportHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/add1b", ["f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/ImportHeader"], function(e, t) {
     var i = e.extend({
         template: t(),
         className: "header import"
     });
     return i
 }),
 define("hbs!templates/playlist/media/headers/ImportSoundCloudHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="fa fa-sign-out playlist-header-icon"></i>\r\n<div class="title">\r\n    <span></span>\r\n</div>\r\n<div class="button import-button">\r\n   ' + l((a = t.import,
         a = null == a || a === !1 ? a : a.importThis,
         typeof a === r ? a.apply(t) : a)) + "\r\n</div>"
     });
     return t.registerPartial("templates_playlist_media_headers_ImportSoundCloudHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/e14d0", ["underscore", "f1e1d/a3bee/fa846", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/ImportSoundCloudHeader", "lang/Lang"], function(e, t, i, s, n) {
     var a = i.extend({
         template: s(n),
         className: "header import",
         render: function() {
             return this._super(),
             this.$(".import-button").on("click", e.bind(this.onImportClick, this)),
             this
         },
         remove: function() {
             this.$(".import-button").off(),
             this._super()
         },
         onImportClick: function() {
             t.importSC(this.$(".title span").text()),
             this.$(".import-button").hide()
         }
     });
     return a
 }),
 define("hbs!templates/playlist/media/headers/ImportMediaHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="button back">\r\n    <i class="fa fa-angle-left"></i>\r\n   <!--' + l((a = t.playlist,
         a = null == a || a === !1 ? a : a.back,
         typeof a === r ? a.apply(t) : a)) + '-->\r\n</div>\r\n<!--<i class="fa fa-search"></i>-->\r\n<div class="title">\r\n    <span></span>\r\n</div>\r\n<div class="button import-button">\r\n   ' + l((a = t.import,
         a = null == a || a === !1 ? a : a.importThis,
         typeof a === r ? a.apply(t) : a)) + "\r\n</div>\r\n\r\n"
     });
     return t.registerPartial("templates_playlist_media_headers_ImportMediaHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/bfc24", ["underscore", "f1e1d/fce39/c3521", "f1e1d/a3bee/b1aa5", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/ImportMediaHeader", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = s.extend({
         template: n(a),
         className: "header import-with-back",
         render: function() {
             return this._super(),
             this.setTitle(t.selectedSet.get("title")),
             this.$(".back").on("click", e.bind(this.onBackClick, this)),
             this.$(".import-button").on("click", e.bind(this.onImportClick, this)),
             this.$(".import-button span").text(a.import.importThisSet),
             this
         },
         remove: function() {
             this.$(".back").off(),
             this.$(".import-button").off(),
             this._super()
         },
         onBackClick: function() {
             this.trigger("back")
         },
         onImportClick: function() {
             i.importSelected(),
             this.$(".import-button").hide()
         }
     });
     return o
 }),
 define("hbs!templates/playlist/media/headers/ImportSoundCloudSetsHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="fa fa-sign-out playlist-header-icon"></i>\r\n<div class="title">\r\n    <span>' + l((a = t.import,
         a = null == a || a === !1 ? a : a.sets,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n</div>\r\n<div class="button import-button">\r\n   ' + l((a = t.import,
         a = null == a || a === !1 ? a : a.importSets,
         typeof a === r ? a.apply(t) : a)) + "\r\n</div>"
     });
     return t.registerPartial("templates_playlist_media_headers_ImportSoundCloudSetsHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/f4013", ["underscore", "f1e1d/fce39/c3521", "f1e1d/a3bee/b1aa5", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/ImportSoundCloudSetsHeader", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = s.extend({
         template: n(a),
         className: "header import",
         render: function() {
             this._super(),
             t.selectedSet = void 0,
             this.$(".import-button").on("click", e.bind(this.onImportClick, this)).hide(),
             t.on("reset", this.onReset, this)
         },
         remove: function() {
             t.off("reset", this.onReset, this),
             this.$(".import-button").off(),
             this._super()
         },
         onReset: function() {
             t.length > 0 && this.$(".import-button").show()
         },
         onImportClick: function() {
             i.importAll(),
             this.$(".import-button").hide()
         },
         onResize: function(e) {
             this.$(".title").width(this.$el.width() - parseInt(this.$(".title").css("left")) - parseInt(this.$(".import-button").width()) - 10)
         }
     });
     return o
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/ca07b", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/fce39/c3226", "f1e1d/e8300/a815f", "f1e1d/e8300/ef592", "f1e1d/a3bee/fb14a", "f1e1d/a3bee/f8c12", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/ImportMediaHeader", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = r.extend({
         template: l(h),
         className: "header import-with-back",
         render: function() {
             return this._super(),
             this.setTitle(this.title || ""),
             this.$(".back").on("click", e.bind(this.onBackClick, this)),
             this.$(".import-button").on("click", e.bind(this.onImportClick, this)).hide(),
             i.on("reset", this.onReset, this),
             this
         },
         remove: function() {
             i.off("reset", this.onReset, this).reset(),
             this.$(".back").off(),
             this.$(".import-button").off(),
             this.title = void 0,
             this.username = void 0,
             this._super()
         },
         onImport: function(e) {
             this.title = e.name,
             this.username = e.username,
             this.setTitle(e.name)
         },
         onReset: function() {
             i.length > 0 && this.$(".import-button").show()
         },
         onBackClick: function() {
             a.load(this.username)
         },
         onImportClick: function() {
             o.instance.import(),
             this.$(".import-button").hide(),
             t.trigger("notify", "icon-import", h.alerts.playlistImporting.split("%PLAYLIST%").join(this.title))
         },
         onResize: function(e) {
             this.$(".title").width(this.$el.width() - parseInt(this.$(".title").css("left")) - parseInt(this.$(".import-button").width()) - 10)
         }
     });
     return c
 }),
 define("hbs!templates/playlist/media/headers/ImportYouTubePlaylistsHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<i class="fa fa-sign-out playlist-header-icon"></i>\r\n<div class="title">\r\n    <span></span>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_headers_ImportYouTubePlaylistsHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/ec5a5", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/fce39/bdec0", "f1e1d/a3bee/fb14a", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/ImportYouTubePlaylistsHeader", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = n.extend({
         template: a(o),
         className: "header import",
         initialize: function() {
             t.on("import:ytplaylists", this.onImport, this),
             this._super()
         },
         onImport: function(e) {
             this.username = e,
             this.setTitle(e)
         },
         render: function() {
             return this._super(),
             this.setTitle(this.username || ""),
             this
         },
         remove: function() {
             t.off("import:ytplaylists", this.onImport, this),
             this.$(".import-button").off(),
             this._super()
         },
         onResize: function() {
             this.$(".title").width(this.$el.width() - parseInt(this.$(".title").css("left")) - 10)
         }
     });
     return r
 }),
 define("hbs!templates/playlist/media/headers/PlaylistMediaHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="back-button-playlist display--mobile"><i class="fa fa-angle-left" aria-hidden="true"></i></div>\r\n<div class="title">\r\n    <span></span>\r\n</div>\r\n<div class="playlist-buttons-container">\r\n\t<div class="playlist-edit-group ">\r\n\t\t<div id="playlist-edit-button" class="button">\r\n\t\t    <i class="fa fa-pencil"></i>\r\n\t\t</div>\r\n\t\t<div id="playlist-shuffle-button" class="button">\r\n\t\t    <i class="fa fa-random"></i>\r\n\t\t</div>\r\n\t\t<div id="playlist-delete-button" class="button">\r\n\t\t    <i class="fa fa-trash"></i>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<div id="playlist-activate-button" class="button">\r\n\t    <i class="plugdjfont icon-playlist"></i>\r\n\t    <span></span>\r\n\t</div>\r\n\t<div id="playlist-edit-more" class="display--mobile"><i class="fa fa-ellipsis-v"></i></div>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_headers_PlaylistMediaHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/cca9b", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/fce39/a4370", "f1e1d/e8300/bea52", "f1e1d/e8300/dbc87", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b885e", "f1e1d/af752/fd6ec", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/PlaylistMediaHeader", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = h.extend({
         template: c(p),
         className: "header no-icon",
         events: {
             "click .back-button-playlist": "onClickBack"
         },
         initialize: function() {
             s.on("change:visible change:name change:active", this.onTitleUpdate, this).on("change:count", this.onItemsUpdate, this).on("change:visible", this.clearFilter, this),
             o.on("change:currentDJ", this.onDJUpdate, this),
             this._super()
         },
         render: function() {
             this._super(),
             this.$("#playlist-activate-button").on("click", e.bind(this.onActivateClick, this)),
             this.$("#playlist-edit-button").on("click", e.bind(this.onEditClick, this)),
             this.$("#playlist-delete-button").on("click", e.bind(this.onDeleteClick, this)),
             this.$("#playlist-shuffle-button").on("click", e.bind(this.onShuffleClick, this)),
             this.$("#playlist-edit-more").on("click", e.bind(this.onShowEditButtons, this)),
             this.onTitleUpdate()
         },
         remove: function() {
             s.off("change:visible change:name change:active", this.onTitleUpdate, this).off("change:count", this.onItemsUpdate, this).off("change:visible", this.clearFilter, this),
             o.off("change:currentDJ", this.onDJUpdate, this),
             this.$("#playlist-activate-button").off(),
             this.$("#playlist-edit-button").off(),
             this.$("#playlist-delete-button").off(),
             this.$("#playlist-shuffle-button").off(),
             this._super()
         },
         onTitleUpdate: function() {
             var e = s.findWhere({
                 visible: !0
             });
             e && (this.setTitle(e.get("name")),
             e.get("active") ? (this.$("#playlist-activate-button").addClass("active"),
             this.$("#playlist-activate-button span").text(p.playlist.active),
             this.$("#playlist-activate-button .icon").removeClass("icon-check-purple").addClass("icon-check-circle")) : (this.$("#playlist-activate-button").removeClass("active"),
             this.$("#playlist-activate-button span").text(p.playlist.activate),
             this.$("#playlist-activate-button .icon").removeClass("icon-check-circle").addClass("icon-check-purple")),
             this.disableButton(this.$("#playlist-shuffle-button"), e.get("count") > 2))
         },
         onItemsUpdate: function() {
             var e = s.findWhere({
                 visible: !0
             });
             this.disableButton(this.$("#playlist-shuffle-button"), e && e.get("count") > 2);
         },
         onDJUpdate: function() {
             var e = s.findWhere({
                 visible: !0
             });
             this.disableButton(this.$("#playlist-delete-button"), i.isTheUserWaiting && e && e.get("active"))
         },
         disableButton: function(e, t) {
             t ? e.removeClass("disabled") : e.addClass("disabled")
         },
         onActivateClick: function() {
             var e = s.findWhere({
                 visible: !0
             });
             e && !e.get("active") && t.dispatch(new a(a.ACTIVATE))
         },
         onEditClick: function() {
             t.dispatch(new a(a.RENAME))
         },
         onDeleteClick: function() {
             t.dispatch(new a(a.DELETE))
         },
         onShuffleClick: function() {
             var e = s.findWhere({
                 visible: !0
             });
             e && e.get("count") > 2 && t.dispatch(new n(n.SHUFFLE))
         },
         onShowEditButtons: function() {
             this.$(".playlist-edit-group").toggle()
         },
         onResize: function() {
             this.$(".title").width(this.$el.width() - 2 * parseInt(this.$(".title").css("left")) - parseInt(this.$("#playlist-activate-button").css("left")))
         },
         onClickBack: function(e) {
             this.prevent(e),
             t.trigger("playlist:back")
         }
     });
     return d
 }),
 define("hbs!templates/playlist/media/headers/SearchMediaHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<i class="fa fa-search playlist-header-icon"></i>\r\n<div class="title">\r\n    <span></span>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_headers_SearchMediaHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/f4422", ["f1e1d/d8478/b3f62", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/SearchMediaHeader"], function(e, t, i) {
     var s = t.extend({
         template: i(),
         render: function() {
             return this._super(),
             e.on("change:query", this.onQueryUpdate, this),
             this.setTitle(e.get("query")),
             this
         },
         remove: function() {
             e.off("change:query", this.onQueryUpdate, this),
             this._super()
         },
         onQueryUpdate: function(e, t) {
             this.setTitle(t)
         }
     });
     return s
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/d5481", ["f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/SearchMediaHeader"], function(e, t) {
     var i = e.extend({
         template: t()
     });
     return i
 }),
 define("hbs!templates/playlist/media/headers/SearchRelatedHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="button back">\r\n    <i class="fa fa-angle-left"></i>\r\n</div>\r\n<div class="title">\r\n    <span></span>\r\n</div>'
     });
     return t.registerPartial("templates_playlist_media_headers_SearchRelatedHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/d4591", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/e8300/d41e3", "f1e1d/d8478/b3f62", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/SearchRelatedHeader", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = n.extend({
         template: a(o),
         className: "header with-back",
         render: function() {
             return this._super(),
             s.on("change:related", this.onRelatedUpdate, this),
             this.$(".back").on("click", e.bind(this.onBackClick, this)),
             this.setTitle(s.get("related")),
             this
         },
         remove: function() {
             this.$(".back").off(),
             s.off("change:related", this.onRelatedUpdate, this),
             this._super()
         },
         onRelatedUpdate: function(e, t) {
             this.setTitle(t)
         },
         onBackClick: function() {
             t.dispatch(new i(i.BACK))
         }
     });
     return r
 }),
 define("hbs!templates/playlist/media/headers/SimpleTitleHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="title">\n    <span></span>\n</div>'
     });
     return t.registerPartial("templates_playlist_media_headers_SimpleTitleHeader", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/bbb2c/f35aa", ["f1e1d/e74c9/d9fb2/ead2a/bbb2c/eab34", "hbs!templates/playlist/media/headers/SimpleTitleHeader"], function(e, t) {
     var i = e.extend({
         template: t(),
         initialize: function() {
             this._super(),
             this.$el.addClass("no-icon")
         }
     });
     return i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/a1239", ["backbone", "f1e1d/e74c9/d9fb2/ead2a/e9def/c326a", "f1e1d/e74c9/ffbf9/da5bf"], function(e, t, i) {
     var s = e.View.extend({
         className: "row",
         events: {
             click: "onClick",
             dblclick: "onDoubleClick"
         },
         initialize: function() {
             this.model.on("change", this.onChange, this),
             this.isActionBarVisible = !1,
             this.delayInfo = {
                 doubleClick: {
                     delay: 250,
                     prevent: !1,
                     timeout: null
                 }
             },
             this.onDoubleClick = this.clearDelayDecorator(this.onDoubleClick, "doubleClick"),
             this.onClick = this.delayExecution(this.onClick, this.onDoubleClick, "doubleClick")
         },
         delayExecution: function(e, t, i) {
             return function(s) {
                 var n = this.delayInfo[i];
                 null === n.timeout ? n.timeout = setTimeout(_.bind(function() {
                     n.prevent === !1 && _.bind(e, this)(s),
                     this.clearDelay(i)
                 }, this), n.delay) : _.bind(t, this)(s),
                 this.delayInfo[i] = n
             }
         },
         clearDelayDecorator: function(e, t) {
             return function(i) {
                 this.clearDelay(t),
                 _.bind(e, this)(i)
             }
         },
         clearDelay: function(e) {
             var t = this.delayInfo[e];
             clearTimeout(t.timeout),
             t.timeout = null,
             t.prevent = !1,
             this.delayInfo[e] = t
         },
         remove: function() {
             this.model && (this.model.off("change", this.onChange, this),
             this.model = void 0),
             this._super()
         },
         onChange: function(e) {},
         render: function() {
             return this
         },
         select: function(e) {
             this.options.selected !== e && (this.options.selected = e,
             this.update())
         },
         update: function() {
             this.options.selected ? this.$el.addClass("selected") : this.$el.removeClass("selected")
         },
         getAction: function() {
             return "playlistMedia"
         },
         showActions: function() {
             i.hide(),
             s.actions.remove(),
             s.actions.show(this.getAction()),
             this.$el.append(s.actions.$el),
             s.actions.currentRow = this
         },
         hideActions: function() {
             i.isShowing !== !0 && s.actions.remove(),
             s.actions.currentRow = null
         },
         onRowEnter: function(e) {
             i.hide(),
             s.actions.remove(),
             this.trigger("over", {
                 event: e,
                 row: this
             })
         },
         onRowLeave: function(e) {
             i.isShowing || s.actions.remove(),
             this.trigger("out", {
                 event: e,
                 row: this
             })
         },
         onRowPress: function(e) {
             e.preventDefault(),
             e.stopImmediatePropagation(),
             2 !== e.which && (e.target.parentNode && 0 === e.target.parentNode.className.indexOf("action ") ? this.trigger("action", {
                 event: e,
                 row: this,
                 action: e.target.parentNode.className.substr(7)
             }) : this.trigger("press", {
                 event: e,
                 row: this
             }))
         },
         onRowRelease: function(e) {
             return 2 === e.which ? (e.preventDefault(),
             void e.stopImmediatePropagation()) : void this.trigger("release", {
                 event: e,
                 row: this
             })
         },
         onClick: function(e) {
             var t = e.target;
             void 0 !== t.parentNode && 0 === t.parentNode.className.indexOf("action ") ? (this.trigger("action", {
                 event: e,
                 row: this,
                 action: t.parentNode.className.substr(7)
             }),
             this.hideActions()) : s.actions.currentRow === this ? this.hideActions() : this.showActions()
         },
         onDoubleClick: function(e) {
             this.trigger("doubleClick", {
                 event: e,
                 row: this
             })
         }
     });
     return s.actions = new t,
     s
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/d6d8b", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/fce39/a4370", "f1e1d/af752/e504b", "f1e1d/e74c9/d9fb2/ead2a/e9def/c6092", "f1e1d/e74c9/d9fb2/ead2a/e9def/a1239", "hbs!templates/playlist/media/list/PlaylistMediaRow"], function(e, t, i, s, n, a, o, r) {
     var l = a;
     i.isMobile === !0 && (l = o);
     var h = l.extend({
         render: function() {
             return this.$el.html(r({
                 image: this.model.get("image").replace("http:/", "https:/"),
                 author: this.model.get("author"),
                 title: this.model.get("title"),
                 duration: n.formatTime(this.model.get("duration"), !1)
             })),
             this.update(),
             this
         },
         getAction: function() {
             return "searchMedia"
         }
     });
     return h
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/d6425", ["f1e1d/e74c9/d9fb2/ead2a/e9def/d6d8b"], function(e) {
     var t = e.extend({
         getAction: function() {
             return "importMedia"
         }
     });
     return t
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/d7c8e", ["underscore", "f1e1d/fce39/c3521", "f1e1d/af752/c506b", "f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", "f1e1d/e74c9/d9fb2/ead2a/e9def/d6425"], function(e, t, i, s, n) {
     var a = s.extend({
         collection: t,
         RowClass: n,
         listClass: "import-media",
         render: function() {
             return this.$container.empty(),
             i.resize(this.resizeBind),
             this.$el.jScrollPane(),
             this.scrollPane = this.$el.data("jsp"),
             this.scrollPane.scrollTop(0),
             this.onCollectionReset(),
             this
         },
         drawList: function() {
             e.each(this.collection.selectedSet.get("tracks"), this.drawRowBind)
         }
     });
     return a
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/ec770", ["jquery", "underscore", "backbone", "f1e1d/af752/c506b"], function(e, t, i, s) {
     var n = i.View.extend({
         className: "media-list import-playlist-list",
         initialize: function() {
             this.$container = e("<div/>").addClass("container"),
             this.rows = [],
             this.drawRowBind = t.bind(this.drawRow, this),
             this.resizeBind = t.bind(this.onResize, this),
             this.$el.append(this.$container)
         },
         onCollectionReset: function() {
             this.clear(),
             this.collection.each(this.drawRowBind),
             this.scrollPane && (this.scrollPane.reinitialise(),
             this.scrollPane.scrollTop(0))
         },
         onResize: function(e) {
             e = e || s.getSize(),
             this.$el.height(Math.max(350, e.height - this.$el.offset().top))
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             this.rows.length = 0,
             this.$container.empty(),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         render: function() {
             return this.$container.empty(),
             this.collection.on("reset", this.onCollectionReset, this),
             this.onCollectionReset(),
             s.resize(this.resizeBind),
             this.$el.jScrollPane(),
             this.scrollPane = this.$el.data("jsp"),
             this.scrollPane.scrollTop(0),
             this
         },
         remove: function() {
             this.clear(),
             this.scrollPane && (this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane),
             this.collection.off("reset", this.onCollectionReset, this),
             s.off("resize", this.resizeBind),
             this._super(),
             this.off()
         },
         drawRow: function(e, t) {
             var i = new this.RowClass({
                 model: e,
                 index: t
             });
             return this.$container.append(i.$el),
             i.render(),
             i.on("over", this.onRowOver, this).on("out", this.onRowOut, this).on("release", this.onRowRelease, this),
             this.rows.push(i),
             i
         },
         onRowOver: function(e) {
             e.row.select(!0)
         },
         onRowOut: function(e) {
             e.row.select(!1)
         },
         onRowRelease: function(e) {}
     });
     return n
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/f68d9", ["backbone"], function(e) {
     var t = e.View.extend({
         className: "row",
         events: {
             mouseenter: "onRowEnter",
             mouseleave: "onRowLeave",
             mouseup: "onRowRelease"
         },
         remove: function() {
             this.model = void 0,
             this._super()
         },
         render: function() {
             return this.$el.html('<div class="meta"><span>' + (this.model.get("name") || this.model.get("title")) + "</span></div>"),
             this.update(),
             this
         },
         select: function(e) {
             this.options.selected !== e && (this.options.selected = e,
             this.update())
         },
         update: function() {
             this.options.selected ? this.$el.addClass("selected") : this.$el.removeClass("selected")
         },
         onRowEnter: function(e) {
             this.trigger("over", {
                 event: e,
                 row: this
             })
         },
         onRowLeave: function(e) {
             this.trigger("out", {
                 event: e,
                 row: this
             })
         },
         onRowRelease: function(e) {
             this.trigger("release", {
                 event: e,
                 row: this
             })
         }
     });
     return t
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/e85a4", ["f1e1d/fce39/c3521", "f1e1d/e74c9/d9fb2/ead2a/e9def/ec770", "f1e1d/e74c9/d9fb2/ead2a/e9def/f68d9"], function(e, t, i) {
     var s = t.extend({
         RowClass: i,
         collection: e,
         onRowRelease: function(t) {
             e.selectedSet = t.row.model,
             this.trigger("select")
         }
     });
     return s
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/d58ae", ["underscore", "f1e1d/fce39/c3226", "f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", "f1e1d/e74c9/d9fb2/ead2a/e9def/d6425"], function(e, t, i, s) {
     var n = i.extend({
         collection: t,
         RowClass: s,
         listClass: "import-media",
         remove: function() {
             t.reset(),
             this._super()
         }
     });
     return n
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/f3042", ["f1e1d/e718c/b7acd", "f1e1d/fce39/bdec0", "f1e1d/e8300/ef592", "f1e1d/e74c9/d9fb2/ead2a/e9def/f68d9", "f1e1d/e74c9/d9fb2/ead2a/e9def/ec770"], function(e, t, i, s, n) {
     var a = n.extend({
         RowClass: s,
         collection: t,
         onRowRelease: function(t) {
             e.dispatch(new i(i.IMPORT,t.row.model.toJSON()))
         }
     });
     return a
 }),
 define("f1e1d/fce39/a3bc1", ["backbone", "f1e1d/fce39/a3ebf", "f1e1d/d8478/d23b4"], function(e, t, i) {
     var s = e.Collection.extend({
         model: i,
         initialize: function() {
             t.on("reset", this.onReset, this).on("update:next", this.onUpdate, this),
             this.setFilter()
         },
         onReset: function() {
             this.setFilter(),
             this.trigger("filter:clear")
         },
         onUpdate: function() {
             this.setFilter(this.currentFilter)
         },
         setFilter: function(e) {
             this.currentFilter = e,
             t.length > 0 ? e ? this.reset(t.filter(function(t) {
                 return t.get("author") && t.get("title") && (t.get("author").toLowerCase().indexOf(e) > -1 || t.get("title").toLowerCase().indexOf(e) > -1)
             })) : this.reset(t.toArray()) : this.reset()
         },
         isActualFirst: function() {
             var e = this.first()
               , i = t.first();
             return e && i && e.get("cid") === i.get("cid")
         },
         isActualLast: function() {
             var e = this.last()
               , i = t.last();
             return e && i && e.get("cid") === i.get("cid")
         }
     });
     return new s
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/f3174", ["underscore", "f1e1d/af752/fa88e", "f1e1d/fce39/d6687", "f1e1d/e74c9/d9fb2/ead2a/e9def/c6092", "f1e1d/e74c9/d9fb2/ead2a/e9def/a1239", "hbs!templates/playlist/media/list/PlaylistMediaRow", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o) {
     var r = s;
     t.isMobile === !0 && (r = n);
     var l = r.extend({
         isNowPlaying: !1,
         isActualFirst: !1,
         isRendered: !1,
         onChange: function(e) {
             var t = e.changedAttributes();
             if (t)
                 for (var i in t)
                     "image" === i ? this.$(".thumbnail img").attr("src", t[i]) : "author" === i ? this.$(".author").html(t[i]) : "title" === i ? this.$(".title").html(t[i]) : "duration" === i && this.$(".duration").text(o.formatTime(t[i], !1))
         },
         render: function() {
             return this.isRendered ? this.delegateEvents() : (this.$el.html(a({
                 image: this.model.get("image").replace("http:/", "https:/"),
                 author: e.escape(this.model.get("author")),
                 title: e.escape(this.model.get("title")),
                 duration: o.formatTime(this.model.get("duration"), !1)
             })),
             this.$duration = this.$(".duration"),
             i.exists(this.model.get("cid")) && this.$el.addClass("in-history"),
             this.update(),
             this.isRendered = !0),
             this
         },
         setDuration: function(e) {
             return this.$duration && this.$duration.text(o.formatTime(Math.max(e, 0))),
             this
         },
         nowPlaying: function(e) {
             return this.$el && (e ? this.$el.removeClass("in-history").addClass("now-playing").css("cursor", "not-allowed") : (this.$el.removeClass("now-playing").css("cursor", "default"),
             i.exists(this.model.get("cid")) && this.$el.addClass("in-history")),
             this.isNowPlaying = e),
             this
         },
         actualFirst: function(e) {
             this.isActualFirst = e
         },
         getAction: function() {
             return 0 !== this.options.index ? "playlistMedia" : this.isNowPlaying ? "playlistMediaLocked" : this.isActualFirst ? "playlistMediaFirst" : "playlistMedia"
         },
         remove: function() {
             this.isRendered = void 0,
             this.isNowPlaying = void 0,
             this.isActualFirst = void 0,
             this.$duration = void 0,
             delete this.$duration,
             this._super()
         }
     });
     return l
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/c72b5", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/fce39/a3bc1", "f1e1d/fce39/a4370", "f1e1d/e8300/b280a", "f1e1d/e8300/bea52", "f1e1d/d8478/b5029", "f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", "f1e1d/e74c9/d9fb2/ead2a/e9def/f3174"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = 55
       , p = l.extend({
         collection: s,
         RowClass: h,
         listClass: "playlist-media",
         initialize: function() {
             this._super(),
             this.targetDropIndex = 0,
             this.firstRow = 0,
             this.currentRow = -1,
             this.lastRow = 10,
             this.visibleRows = 10,
             this.scrollBind = t.bind(this.onScroll, this),
             this.$firstRow = e('<div class="row">'),
             this.$lastRow = e('<div class="row">'),
             r.on("change:historyID", this.onFirstRowLockCheck, this),
             n.on("change:visible", this.onFirstRowLockCheck, this),
             i.on("jumpto:index", this.jumpToIndex, this)
         },
         render: function() {
             this._super(),
             this.$el.on("jsp-scroll-y", this.scrollBind)
         },
         remove: function() {
             this.$el.off("jsp-scroll-y", this.scrollBind),
             r.off("change:historyID", this.onFirstRowLockCheck, this),
             n.off("change:visible", this.onFirstRowLockCheck),
             i.off("jumpto:index", this.jumpToIndex, this),
             this.firstRow = void 0,
             this.currentRow = void 0,
             this.lastRow = void 0,
             this.targetDropIndex = void 0,
             this.scrollBind = void 0,
             delete this.targetDropIndex,
             delete this.scrollBind,
             delete this.firstRow,
             delete this.currentRow,
             delete this.lastRow,
             this._super(),
             this.$firstRow = void 0,
             this.$lastRow = void 0,
             delete this.$firstRow,
             delete this.$lastRow
         },
         onScroll: function() {
             if (this.scrollPane && (this.firstRow = ~~(this.scrollPane.scrollTop() / c),
             this.lastRow = Math.min(this.firstRow + this.visibleRows, this.collection.length),
             this.currentRow !== this.firstRow)) {
                 this.currentRow = this.firstRow,
                 this.$firstRow.height(this.firstRow * c),
                 this.$lastRow.height((this.collection.length - this.lastRow) * c),
                 this.$container.empty().append(this.$firstRow);
                 for (var e = this.firstRow; e < this.lastRow; e++)
                     this.rows[e] && (this.$container.append(this.rows[e].$el),
                     this.rows[e].render());
                 this.$container.append(this.$lastRow),
                 this.isDragging && (this.$container.append(this.$dragRowLine),
                 this.$dragRowLine.show())
             }
         },
         onResize: function(e) {
             this._super(e),
             this.visibleRows = Math.ceil(this.$el.height() / c) + 1
         },
         clear: function() {
             this.currentRow = -1,
             this.$firstRow.remove(),
             this.$lastRow.remove(),
             this._super()
         },
         drawList: function() {
             this._super(),
             this.onScroll(),
             this.onFirstRowLockCheck(),
             1 === this.collection.length ? this.$el.addClass("only-one") : this.$el.removeClass("only-one")
         },
         drawRow: function(e, t) {
             var i = new this.RowClass({
                 className: "row " + this.getRowClassName(t),
                 model: e,
                 index: t,
                 selected: void 0 != this.selectedRows[e.get("cid")]
             });
             return i.on("action", this.onRowAction, this).on("press", this.onRowPress, this).on("over", this.onRowOver, this).on("out", this.onRowOut, this).on("release", this.onRowRelease, this).on("doubleClick", this.onDoubleClick, this),
             this.rows.push(i),
             this.rowHash[e.get("cid")] = !0,
             i.options.selected && (this.selectedRows[e.get("cid")] = i),
             this.baseSelectedRowIndex === -1 && i.options.selected && (this.baseSelectedRowIndex = t),
             i
         },
         getRowClassName: function(e) {
             return e === this.collection.length - 1 && this.collection.isActualLast() ? "playlist-media-last-item" : 0 === e && this.collection.isActualFirst() ? "playlist-media-first-item" : "playlist-media-item"
         },
         onFirstRowLockCheck: function() {
             0 === this.firstRow && this.rows.length > 0 && (this.rows[0].actualFirst(this.collection.isActualFirst()),
             r.get("historyID") && r.get("playlistID") === n.getVisibleID() && this.rows[0].isActualFirst ? (r.on("change:remaining", this.onRemainingChange, this),
             this.rows[0].nowPlaying(!0),
             this.lockFirstItem = !0,
             this.onRemainingChange()) : (r.off("change:remaining", this.onRemainingChange, this),
             this.rows[0].nowPlaying(!1),
             this.lockFirstItem = !1))
         },
         onRemainingChange: function() {
             0 === this.firstRow && this.rows.length > 0 && this.rows[0].setDuration(r.get("remaining"))
         },
         startDrag: function() {
             this._super(),
             this.$container.append(this.$dragRowLine),
             this.$dragRowLine.show(),
             this.$el.addClass("drag-over")
         },
         resetDrag: function() {
             this._super(),
             this.$el.removeClass("drag-over")
         },
         onDragUpdate: function(e) {
             this._super(e);
             var t = this.$el.offset().top
               , i = this.scrollPane.scrollTop();
             if (this.currentDragRow && this.currentDragRow.$el) {
                 var s = 0
                   , n = this.currentDragRow.options.index;
                 if (!this.lockFirstItem || n > 0) {
                     this.targetDropIndex = n;
                     var a = this.currentDragRow.$el.offset().top;
                     this.mouseY >= a + this.currentDragRow.$el.height() / 2 ? (s = a - t + i + this.currentDragRow.$el.height(),
                     n === this.lastClickedIndex - 1 ? this.targetDropIndex = this.lastClickedIndex : this.targetDropIndex = n + 1) : (s = a - t + i,
                     n === this.lastClickedIndex + 1 ? this.targetDropIndex = this.lastClickedIndex : this.targetDropIndex = n),
                     this.$dragRowLine.css("top", s)
                 } else
                     0 === n && (s = this.currentDragRow.$el.offset().top - t + i + this.currentDragRow.$el.height(),
                     this.targetDropIndex = 1,
                     this.$dragRowLine.css("top", s))
             }
             var o = this.onCheckListScroll();
             this.withinBounds ? (o > -10 && (!this.lockFirstItem || n > 0) && this.$dragRowLine.css("top", o),
             this.$dragRowLine.show()) : this.$dragRowLine.hide()
         },
         onRowRelease: function(e) {
             this.isDragging || this._super(e)
         },
         onDocumentRelease: function() {
             if (this.withinBounds) {
                 var e = this.getSelectedRows();
                 if (e && e.length > 0) {
                     var t = this.getRowsAreSequential(e);
                     if (!t || this.targetOutsideRange(this.targetDropIndex, e[0].options.index, e[e.length - 1].options.index)) {
                         var s = this.beforeID();
                         t && e[0].id === s || (this.scrollLock = !0,
                         i.dispatch(new o(o.MOVE,e,s)))
                     }
                 }
             }
             this.resetDrag()
         },
         beforeID: function() {
             return this.targetDropIndex > this.collection.length - 1 ? -1 : this.collection.at(Math.max(this.lockFirstItem ? 1 : 0, this.targetDropIndex)).get("id")
         },
         getRowsAreSequential: function(e) {
             if (e.length > 1)
                 for (var t = e.length, i = e[0].options.index, s = 1; s < t; ++s)
                     if (++i !== e[s].options.index)
                         return !1;
             return !0
         },
         targetOutsideRange: function(e, t, i) {
             var s = !1;
             return s = e !== i + 1 && (e < t || e > i)
         },
         deleteSelectedRows: function() {
             var e = this.getSelectedRows();
             e.length > 0 && i.dispatch(new a(a.DELETE,e,e[0].model,e[0].options.index))
         }
     });
     return p
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/d8db1", ["jquery", "underscore", "f1e1d/fce39/a854d", "f1e1d/a3bee/fa846", "f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", "f1e1d/e74c9/d9fb2/ead2a/e9def/d6d8b", "f1e1d/e74c9/a6e51/f2220"], function(e, t, i, s, n, a, o) {
     var r = n.extend({
         collection: i,
         RowClass: a,
         listClass: "search",
         initialize: function() {
             this._super(),
             this.scrollBind = t.bind(this.onScroll, this)
         },
         render: function() {
             return this._super(),
             this.collection.on("add", this.onCollectionAdd, this).on("update", this.onCollectionUpdate, this),
             this.$el.on("jsp-scroll-y", this.scrollBind),
             this.searching = !1,
             this
         },
         remove: function() {
             this.collection.off("add", this.onCollectionAdd, this).off("update", this.onCollectionUpdate, this),
             this.$el.off("jsp-scroll-y", this.scrollBind),
             this.scrollBind = void 0,
             delete this.scrollBind,
             this.hideRowSpinner(),
             this.searching = !1,
             this._super()
         },
         onCollectionAdd: function(e, t) {
             this.hideRowSpinner(),
             this.drawRow(e, t.indexOf(e))
         },
         onCollectionUpdate: function() {
             this.hideRowSpinner(),
             this.onResize();
             var e = this;
             t.delay(function() {
                 e.searching = !1
             }, 500)
         },
         onScroll: function() {
             !this.searching && 1 !== s.lastFormat && this.collection.length < 200 && s.lastCount > 0 && this.scrollPane.getPercentScrolledY() > .97 && (this.searching = !0,
             s.more() ? this.showRowSpinner() : this.hideRowSpinner())
         },
         showRowSpinner: function() {
             this.hideRowSpinner(),
             this.rowSpinner = new o({
                 size: o.SMALL
             }),
             this.$loadrow = e("<div/>").addClass("row"),
             this.$container.append(this.$loadrow),
             this.$loadrow.append(this.rowSpinner.$el),
             this.rowSpinner.render().$el.css("left", "50%").css("top", "40%"),
             this.scrollPane.reinitialise()
         },
         hideRowSpinner: function() {
             this.rowSpinner && (this.rowSpinner.destroy(),
             this.rowSpinner = void 0,
             delete this.rowSpinner),
             this.$loadrow && (this.$loadrow.remove(),
             this.$loadrow = void 0,
             delete this.$loadrow)
         }
     });
     return r
 }),
 define("f1e1d/fce39/d2f7d", ["backbone", "f1e1d/d8478/b3e62"], function(e, t) {
     var i = e.Collection.extend({
         model: t
     });
     return new i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/e7533", ["jquery", "underscore", "f1e1d/af752/fa88e", "f1e1d/e718c/b7acd", "f1e1d/fce39/d6687", "f1e1d/fce39/a4370", "f1e1d/af752/e504b", "f1e1d/e74c9/d9fb2/ead2a/e9def/c6092", "f1e1d/e74c9/d9fb2/ead2a/e9def/a1239", "hbs!templates/playlist/media/list/PlaylistMediaRow"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = r;
     i.isMobile === !0 && (c = l);
     var p = c.extend({
         render: function() {
             var t = this.model.get("media");
             this.$el.html(h({
                 image: t.image.replace("http:/", "https:/"),
                 author: t.author,
                 title: t.title,
                 duration: o.formatTime(t.duration, !1)
             })).addClass("has-playlists");
             var i = e('<a href="javascript:void(0)"/>').html(e("<span/>").text(this.model.get("playlist").name).html()).data("id", this.model.get("playlist").id).data("media", t.cid).click(function() {
                 var t = e(this);
                 a.jumpToMedia(t.data("id"), t.data("media"))
             });
             return this.$(".meta").append(e("<i/>").addClass("icon icon-playlist-small")).append(e("<span/>").addClass("playlists").append(i)),
             this.update(),
             this.nowPlaying(!1),
             this
         },
         nowPlaying: function(e) {
             return this.$el && (e ? this.$el.removeClass("in-history").addClass("now-playing").css("cursor", "not-allowed") : (this.$el.removeClass("now-playing").css("cursor", "default"),
             n.exists(this.model.get("media").cid) && this.$el.addClass("in-history")),
             this.isNowPlaying = e),
             this
         },
         getAction: function() {
             return this.isNowPlaying ? "none" : "searchPlaylists"
         }
     });
     return p
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/a4d34", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/fce39/d2f7d", "f1e1d/e8300/d904e", "f1e1d/d8478/d23b4", "f1e1d/d8478/b5029", "f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", "f1e1d/e74c9/d9fb2/ead2a/e9def/e7533"], function(e, t, i, s, n, a, o, r, l) {
     var h = r.extend({
         collection: s,
         RowClass: l,
         listClass: "search-playlists",
         drawList: function() {
             this._super(),
             this.onFirstRowLockCheck()
         },
         doubleClickRow: function(t) {
             e(document).off("mousemove", this.thresholdBind),
             this.resetDrag(),
             i.dispatch(new n(n.PREVIEW,new a(t.model.get("media"))))
         },
         onFirstRowLockCheck: function() {
             if (this.collection.length > 0) {
                 var e = this.collection.at(0)
                   , t = o.get("media") ? o.get("media").get("cid") : void 0;
                 t == e.get("media").cid && o.get("playlistID") == e.get("playlist").id ? (this.rows[0].nowPlaying(!0),
                 this.lockFirstItem = !0) : (this.rows[0].nowPlaying(!1),
                 this.lockFirstItem = !1)
             }
         },
         getSelectedRows: function() {
             var e, t = [], i = {};
             for (e in this.selectedRows)
                 i[this.selectedRows[e].model.get("media").cid] || (t.push(this.selectedRows[e]),
                 i[this.selectedRows[e].model.get("media").cid] = !0);
             return t.sort(this.sortSelectedRows),
             t
         },
         selectMultipleRows: function(e, t) {
             for (var i = e; i >= t; i--)
                 this.selectedRows[this.collection.at(i).get("media").cid] = this.rows[i];
             this.updateSelectedRows()
         },
         updateSelectedRows: function() {
             var e = this;
             t.each(this.rows, function(t) {
                 t.select(void 0 != e.selectedRows[t.model.get("media").cid])
             })
         },
         toggleRow: function(e) {
             e.select(!e.options.selected),
             e.options.selected ? this.selectedRows[e.model.get("media").cid] = e : delete this.selectedRows[e.model.get("media").cid]
         }
     });
     return h
 }),
 define("hbs!templates/playlist/media/PlaylistTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="banner--desktop" id="plugdj_playlist_top">\r\n    <!--FIXME: no banners here yet-->\r\n    <div id=""></div>\r\n</div>\r\n'
     });
     return t.registerPartial("templates_playlist_media_PlaylistTopBanner", i),
     i
 }),
 define("hbs!templates/playlist/media/PlaylistTopPixel", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         "<div class=\"pixel-container\" style=\"\">\r\n    <!-- /21618177933/plugdj_pixel_playlist -->\r\n    <div id='div-gpt-ad-1511892732674-0' style='height:1px; width:1px;'></div>\r\n</div>\r\n"
     });
     return t.registerPartial("templates_playlist_media_PlaylistTopPixel", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/b9f8d", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/fce39/a4370", "f1e1d/fce39/a854d", "f1e1d/e8300/f9a6b", "f1e1d/e8300/ef592", "f1e1d/d8478/d23b4", "f1e1d/d8478/b3f62", "f1e1d/d8478/c61e2", "f1e1d/af752/c506b", "f1e1d/e74c9/d9fb2/d3235/af3be", "f1e1d/e74c9/d9fb2/f2796/aa5aa", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/add1b", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/e14d0", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/bfc24", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/f4013", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/ca07b", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/ec5a5", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/cca9b", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/f4422", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/d5481", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/d4591", "f1e1d/e74c9/d9fb2/ead2a/bbb2c/f35aa", "f1e1d/e74c9/d9fb2/ead2a/e9def/d7c8e", "f1e1d/e74c9/d9fb2/ead2a/e9def/e85a4", "f1e1d/e74c9/d9fb2/ead2a/e9def/d58ae", "f1e1d/e74c9/d9fb2/ead2a/e9def/f3042", "f1e1d/e74c9/d9fb2/ead2a/e9def/c72b5", "f1e1d/e74c9/d9fb2/ead2a/e9def/d8db1", "f1e1d/e74c9/d9fb2/ead2a/e9def/a4d34", "f1e1d/e74c9/a6e51/f2220", "lang/Lang", "hbs!templates/playlist/media/PlaylistTopBanner", "hbs!templates/playlist/media/PlaylistTopPixel"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $, E, M, T, I, D, P, R, A, U, B) {
     var L = s.extend({
         id: "media-panel",
         initialize: function() {
             a.on("change:visible", this.onPlaylistVisible, this).on("reset add remove", this.onPlaylistsChange, this),
             c.on("change:query", this.onSearchMedia, this).on("change:related", this.onSearchRelated, this),
             n.on("help:show", this.onPlaylistHelp, this).on("import:show", this.onImport, this).on("import:ytplaylists", this.onImportYouTubePlaylists, this).on("keycmd:selectAll", this.onSelectAllCmd, this).on("keycmd:delete", this.onDeleteCmd, this).on("media:loading", this.showLoadSpinner, this).on("media:loaded import:show", this.hideLoadSpinner, this).on("search:playlists", this.onSearchPlaylists, this).on(l.IMPORT, this.onImportYouTubeMedia, this).on(r.SETS, this.onImportSoundCloudSets, this).on(r.TRACKS, this.onImportSoundCloud, this).on(r.FAVORITES, this.onImportSoundCloud, this)
         },
         render: function() {
             return this.$el.empty(),
             this
         },
         onPlaylistVisible: function() {
             var e = a.findWhere({
                 visible: !0
             });
             e && (this.topBanner = U(),
             this.topPixel = B(),
             this.header instanceof C && this.list instanceof I || this.show(new C, new I),
             this.list.selectedRows = {},
             this.list.onResize(),
             n.trigger("filter:show", !0).trigger("search:clear"))
         },
         onPlaylistsChange: function() {
             0 === a.length && this.onPlaylistHelp(),
             n.trigger("playlist:section", "search")
         },
         onSearchMedia: function(e, t) {
             void 0 != t && (this.header instanceof k || this.show(new k, new D),
             a.setVisible(),
             n.trigger("filter:show", !1))
         },
         onSearchPlaylists: function(e) {
             this.header instanceof _ || (this.show(new _, new P),
             a.setVisible(),
             n.trigger("filter:show", !1)),
             this.header.setTitle(e)
         },
         onSearchRelated: function(e, t) {
             void 0 === t || this.header instanceof S || (this.show(new S, new D),
             a.setVisible(),
             n.trigger("filter:show", !1).trigger("search:clear"))
         },
         onPlaylistHelp: function() {
             this.list instanceof u || (this.show(new x, new u),
             this.header.setTitle(A.help.title),
             a.setVisible(),
             n.trigger("filter:show", !1).trigger("search:clear"))
         },
         onImport: function() {
             this.header instanceof m && this.list instanceof f || (this.show(new m, new f),
             this.header.setTitle(A.import.title),
             a.setVisible(),
             n.trigger("filter:show", !1).trigger("search:clear"))
         },
         onImportYouTubePlaylists: function(e) {
             this.header instanceof y && this.list instanceof T || (this.show(new y, new T),
             this.header.setTitle(e),
             a.setVisible(),
             n.trigger("filter:show", !1).trigger("search:clear"))
         },
         onImportYouTubeMedia: function(e) {
             this.header instanceof w && this.list instanceof M || (this.show(new w, new M),
             this.header.onImport(e.playlist),
             a.setVisible(),
             n.trigger("filter:show", !1).trigger("search:clear"))
         },
         onImportSoundCloudSets: function() {
             this.header instanceof b && this.list instanceof E || (this.show(new b, new E),
             this.list.on("select", this.onImportSoundCloudSetMedia, this),
             a.setVisible(),
             n.trigger("filter:show", !1).trigger("search:clear"))
         },
         onImportSoundCloudSetMedia: function() {
             this.header instanceof v && this.list instanceof $ || (this.show(new v, new $),
             this.header.on("back", this.onImportSoundCloudSetsBack, this),
             a.setVisible(),
             n.trigger("filter:show", !1).trigger("search:clear"))
         },
         onImportSoundCloudSetsBack: function() {
             this.onImportSoundCloudSets(),
             this.hideLoadSpinner()
         },
         onImportSoundCloud: function(e) {
             this.header instanceof g && this.list instanceof D || (this.show(new g, new D),
             a.setVisible(),
             this.header.setTitle(e.type === r.TRACKS ? A.import.tracks : A.import.favorites),
             n.trigger("filter:show", !1).trigger("search:clear"))
         },
         onSelectAllCmd: function() {
             this.list && this.list.selectAll()
         },
         onDeleteCmd: function() {
             this.list && this.playlistMedia && this.list === this.playlistMedia.list && this.list.deleteSelectedRows()
         },
         clear: function() {
             this.header && (this.header.destroy(),
             this.header = void 0,
             delete this.header),
             this.list && (this.list.destroy(),
             this.list = void 0,
             delete this.list)
         },
         show: function(e, t) {
             this.clear(),
             this.header = e,
             this.list = t,
             this.$el.empty().append(this.topPixel).append(this.topBanner).append(this.header.$el).append(this.list.$el),
             this.loadSpinner && this.$el.append(this.loadSpinner.$el),
             this.header.render(),
             this.list.render()
         },
         showLoadSpinner: function() {
             this.loadSpinner || (this.loadSpinner = new R({
                 size: R.MEDIUM
             }),
             this.$el.append(this.loadSpinner.$el),
             this.loadSpinner.render().$el.css("left", "52%").css("top", "48%").css("z-index", 99999))
         },
         hideLoadSpinner: function() {
             this.loadSpinner && (this.loadSpinner.destroy(),
             this.loadSpinner = void 0,
             delete this.loadSpinner)
         }
     });
     return L
 }),
 define("f1e1d/a3bee/fe7ca", ["underscore", "f1e1d/e718c/b7acd", "f1e1d/e718c/b5ee0", "f1e1d/fce39/d2f7d", "f1e1d/d8478/b5029", "f1e1d/d9232/d4e25"], function(e, t, i, s, n, a) {
     var o = i.extend({
         init: function() {
             this.query = ""
         },
         setQuery: function(e) {
             !this.query && e ? n.on("change:historyID", this.onHistory, this) : e || n.off("change:historyID", this.onHistory, this),
             this.query = e,
             t.trigger("search:playlists", this.query),
             this.onSuccess(a.search(e))
         },
         clear: function() {
             this.query = "",
             n.off("change:historyID", this.onHistory, this)
         },
         onHistory: function() {
             this.setQuery(this.query)
         },
         onSuccess: function(e) {
             s.reset(e)
         }
     });
     return new o
 }),
 define("hbs!templates/playlist/search/SearchMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '\n<div class="selected">\n   \n    <i id="search-menu-icon" class="fa fa-youtube"></i> <span class="search-menu-text">YOUTUBE</span>\n    <i class="fa fa-chevron-down search-arrow-down"></i>\n</div>\n<div class="menu">\n    <ul>\n        <li class="youtube">\n            <i class="fa fa-youtube"></i> YOUTUBE\n        </li>\n        <li class="soundcloud">\n            <i class="fa fa-soundcloud"></i> SOUNDCLOUD\n        </li>\n        <li class="playlists">\n            <i class="fa fa-list-ul"></i> ' + l((a = t.search,
         a = null == a || a === !1 ? a : a.menuPlaylists,
         typeof a === r ? a.apply(t) : a)) + "\n        </li>\n    </ul>\n</div>"
     });
     return t.registerPartial("templates_playlist_search_SearchMenu", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/c572a/e4370", ["jquery", "underscore", "backbone", "hbs!templates/playlist/search/SearchMenu", "lang/Lang"], function(e, t, i, s, n) {
     var a = i.View.extend({
         id: "search-menu",
         initialize: function() {
             this.format = 1,
             this.ytBind = t.bind(this.onYouTubeClick, this),
             this.scBind = t.bind(this.onSoundCloudClick, this),
             this.plBind = t.bind(this.onPlaylistsClick, this)
         },
         render: function() {
             return this.$el.html(s(n)),
             this.$(".youtube").click(this.ytBind),
             this.$(".soundcloud").click(this.scBind),
             this.$(".playlists").click(this.plBind),
             this.update(),
             this
         },
         update: function(i) {
             this.$("li").removeClass("last"),
             1 === this.format ? (this.$("ul").children().not(".youtube").show(),
             this.$(".youtube").hide(),
             this.$(".soundcloud").addClass("last"),
             this.$(".playlists").addClass("last"),
             this.$("#search-menu-icon").removeClass().addClass("fa fa-youtube"),
             this.$(".search-menu-text").text("Youtube")) : 2 === this.format ? (this.$("ul").children().not(".soundcloud").show(),
             this.$(".soundcloud").hide(),
             this.$(".youtube").addClass("last"),
             this.$(".playlists").addClass("last"),
             this.$("#search-menu-icon").removeClass().addClass("fa fa-soundcloud"),
             this.$(".search-menu-text").text("Soundcloud")) : 0 === this.format && (this.$("ul").children().not(".playlists").show(),
             this.$(".playlists").hide(),
             this.$(".soundcloud").addClass("last"),
             this.$("#search-menu-icon").removeClass().addClass("fa fa-list-ul"),
             this.$(".search-menu-text").text("Playlists")),
             e("#search-menu").hide(),
             t.defer(function() {
                 e("#search-menu").show()
             }),
             i || this.trigger("select", this.format)
         },
         onYouTubeClick: function() {
             this.format = 1,
             this.update()
         },
         onSoundCloudClick: function() {
             this.format = 2,
             this.update()
         },
         onPlaylistsClick: function() {
             this.format = 0,
             this.update()
         }
     });
     return a
 }),
 define("f1e1d/be642/cb980/c2efc", ["jquery-jsonp", "underscore", "f1e1d/e718c/b5ee0", "f1e1d/d8478/b885e"], function(e, t, i, s) {
     var n = i.extend({
         init: function() {
             this.callback = void 0
         },
         load: function(i) {
             var n = "https://clients1.google.com/complete/search?client=youtube&hl=" + s.get("language") + "&ds=yt&cp=3&gs_id=d&q=" + encodeURIComponent(i) + "&callback=?";
             e.jsonp({
                 url: n,
                 success: t.bind(this.onComplete, this),
                 error: t.bind(this.onError, this)
             })
         },
         onComplete: function(e) {
             for (var t = e[1].length, i = [], s = 0; s < t; ++s)
                 i.push(e[1][s][0]);
             this.callback(i)
         },
         onError: function(e, t) {
             console.log("YouTube Suggest Error"),
             console.log(e, t),
             this.callback([])
         }
     });
     return n
 }),
 define("f1e1d/e74c9/d9fb2/c572a/f5184", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/be642/cb980/c2efc"], function(e, t, i, s, n) {
     var a = i.View.extend({
         id: "search-suggestion",
         initialize: function() {
             this.query = "",
             this.format = 1,
             this.ytSuggestService = new n,
             this.ytSuggestService.callback = t.bind(this.onSuggestUpdate, this),
             this.documentClickBind = t.bind(this.onDocumentClick, this),
             this.suggestBind = t.bind(this.onSuggestTimeout, this),
             this.suggestIndex = -1,
             this.suggestTimeoutID = -1,
             this.suggestHideTimeoutID = -1,
             this.submitPending = !1,
             s.on("suggestions:hide", this.hideSuggestions, this)
         },
         render: function() {
             return this.$el.empty(),
             this
         },
         clear: function(e) {
             this.query = "",
             this.submitPending = e,
             this.onSuggestUpdate(),
             clearTimeout(this.suggestTimeoutID)
         },
         onUpDown: function(t) {
             t ? ++this.suggestIndex : --this.suggestIndex,
             this.suggestIndex === -2 ? this.suggestIndex = this.suggestions.length - 1 : this.suggestIndex === this.suggestions.length && (this.suggestIndex = -1);
             var i = this.suggestIndex
               , s = this;
             e(".search-suggestion-item").each(function(t) {
                 t === i ? (e(this).addClass("selected"),
                 s.trigger("select", e(this).data("value"))) : e(this).removeClass("selected")
             })
         },
         setQuery: function(e, t) {
             this.query = e,
             this.format = t,
             this.suggestTimeoutID > -1 && clearTimeout(this.suggestTimeoutID),
             "" !== e ? this.suggestTimeoutID = setTimeout(this.suggestBind, 100) : this.onSuggestUpdate()
         },
         onSuggestTimeout: function() {
             clearTimeout(this.suggestTimeoutID),
             this.query.length > 0 ? this.ytSuggestService.load(this.query) : this.onSuggestUpdate([])
         },
         onSuggestUpdate: function(i) {
             if (this.suggestIndex = -1,
             i && i.length > 0 && !this.submitPending) {
                 this.suggestions = i;
                 for (var s = e("<ul/>"), n = i.length, a = 0; a < n; ++a) {
                     var o = e("<li/>").addClass("search-suggestion-item").data("value", i[a]).data("index", a).append(e('<span class="query"/>').html(this.query + '<span class="bold">' + i[a].substr(this.query.length) + "</span>"));
                     s.append(o)
                 }
                 this.$el.html(s),
                 s.height(30 * n - 15),
                 this.$el.show(),
                 e(".search-suggestion-item").on("click", t.bind(this.onSuggestionClick, this)).on("mouseenter", t.bind(this.onSuggestionOver, this)).on("mouseleave", t.bind(this.onSuggestionOut, this)),
                 e(document).on("mousedown", this.documentClickBind)
             } else
                 this.hideSuggestions()
         },
         onSuggestionClick: function(t) {
             this.trigger("submit", e(t.currentTarget).data("value")),
             this.onDocumentClick(t)
         },
         onSuggestionOver: function(t) {
             this.suggestIndex = e(t.currentTarget).data("index");
             var i = this.suggestIndex;
             e(".search-suggestion-item").each(function(t) {
                 t === i ? e(this).addClass("selected") : e(this).removeClass("selected")
             })
         },
         onSuggestionOut: function(t) {
             e(t.currentTarget).removeClass("selected")
         },
         onDocumentClick: function(e) {
             this.$el.is(":visible") && (clearTimeout(this.suggestHideTimeoutID),
             this.suggestHideTimeoutID = t.delay(t.bind(this.hideSuggestions, this), 150))
         },
         hideSuggestions: function() {
             this.suggestIndex = -1,
             this.suggestions = [],
             clearTimeout(this.suggestHideTimeoutID),
             this.$el.is(":visible") && this.$el.html("").hide(),
             e(document).off("mousedown", this.documentClickBind)
         }
     });
     return a
 }),
 define("hbs!templates/playlist/search/Search", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '\n<div class="playlist-top">\n   \n\n<!--buttons create import-->\n<div class="playlist-buttons-content">\n     <div class="back-button-playlist display--mobile" id="back-to-playlist"><i class="fa fa-angle-left" aria-hidden="true"></i></div>\n    <div class="playlist-buttons-import-create">\n        <div id="playlist-import" class="button">\n            <i class="fa fa-sign-out"></i>\n            <span>' + l((a = t.import,
         a = null == a || a === !1 ? a : a.import,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div><div id="playlist-create" class="button">\n            <div class="drop-zone"></div>\n            <i class="fa fa-plus-circle"></i>\n            <span>' + l((a = t.playlist,
         a = null == a || a === !1 ? a : a.create,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </div>\n</div>\n<!--search-bar-->\n    \n        <div id="search-bar">   \n            <i class="fa fa-search"></i>         \n            <div id="search-input">\n                <form class="search-form" onsubmit="return false">\n                    <input id="search-input-field" type="text" value="" placeholder="' + l((a = t.search,
         a = null == a || a === !1 ? a : a.youTube,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="128"/>\n                </form>               \n                    <i id="clear-search" class="fa fa-times"></i>                \n            </div>   \n\n        </div>\n   \n    <div id="filter">\n         <div class="menu__wrapper"></div>       \n        <span class="filter-or">' + l((a = t.search,
         a = null == a || a === !1 ? a : a.or,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        <div id="filter-bar">\n            <i class="fa fa-filter"></i>\n            <div id="filter-input">\n                <form class="filter-form" onsubmit="return false">\n                    <input id="filter-input-field" type="text" value="" placeholder="' + l((a = t.search,
         a = null == a || a === !1 ? a : a.filter,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="8"/>\n                </form>\n            </div>\n           \n                <i id="clear-filter" class="fa fa-times"></i>\n           \n        </div>\n    </div>\n</div>'
     });
     return t.registerPartial("templates_playlist_search_Search", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/c572a/d0a31", ["underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/fce39/a3bc1", "f1e1d/e8300/a815f", "f1e1d/e8300/dcb95", "f1e1d/a3bee/fa846", "f1e1d/a3bee/fe7ca", "f1e1d/d8478/b885e", "f1e1d/af752/c506b", "f1e1d/af752/f0d32", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/fb4d1", "f1e1d/e74c9/d9fb2/c572a/e4370", "f1e1d/e74c9/d9fb2/c572a/f5184", "hbs!templates/playlist/search/Search", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v) {
     var b = i.extend({
         id: "search",
         events: {
             "click .back-button-playlist": "onClickBack"
         },
         initialize: function() {
             this.selectedRows = void 0,
             this.isFilter = !0,
             this.menu = new f,
             this.menu.on("select", this.onFormatSelect, this),
             this.suggest = new m,
             this.suggest.on("select", this.onSuggestSelect, this).on("submit", this.onSuggestSubmit, this)
         },
         render: function() {
             return this.$el.html(g(v)),
             this.suggest.render(),
             this.$(".menu__wrapper").append(this.menu.$el),
             this.$bar = this.$("#search-bar"),
             this.$bar.append(this.suggest.$el),
             this.$filter = this.$("#filter"),
             this.$searchInput = this.$("#search-input-field").on("keyup", e.bind(this.onSearchKeyUp, this)).on("focus", e.bind(this.onSearchFocus, this)).on("blur", e.bind(this.onSearchBlur, this)),
             this.searchInput = this.$searchInput[0],
             this.$clearSearch = this.$("#clear-search").click(e.bind(this.onClearSearchClick, this)),
             this.$filterInput = this.$("#filter-input-field").on("keyup", e.bind(this.onFilterKeyUp, this)).on("focus", e.bind(this.onFilterFocus, this)).on("blur", e.bind(this.onFilterBlur, this)),
             this.filterInput = this.$filterInput[0],
             this.$clearFilter = this.$("#clear-filter").click(e.bind(this.onClearFilterClick, this)),
             this.$("#playlist-import").click(e.bind(this.onImportClick, this)),
             this.$create = this.$("#playlist-create").click(e.bind(this.onCreateClick, this)),
             s.on("filter:show", this.onShowFilter, this),
             c.resize(e.bind(this.onResize, this)),
             this.menu.render(),
             s.on("search:clear", this.clearSearch, this),
             n.on("filter:clear", this.clearFilter, this),
             this
         },
         onResize: function(e) {
             return
         },
         onShowFilter: function(e) {
             return
         },
         onFormatSelect: function(e) {
             return 2 !== e || p.sc ? (l.clear(),
             this.updateSearchPlaceholder(),
             this.searchInput.value = "",
             this.$clearSearch.hide(),
             void this.suggest.clear(!0)) : void s.trigger("notify", "icon-chat-system", v.alerts.soundcloudUnavailable)
         },
         updateSearchPlaceholder: function() {
             1 === this.menu.format ? this.searchInput.placeholder = v.search.youtube : 2 === this.menu.format ? this.searchInput.placeholder = v.search.soundcloud : 0 === this.menu.format && (this.searchInput.placeholder = v.search.playlists)
         },
         clearSearch: function() {
             this.searchInput.value = "",
             this.$clearSearch.hide()
         },
         onClearSearchClick: function(e) {
             this.searchInput.value = "",
             this.suggest.clear(),
             this.$clearSearch.hide(),
             0 === this.menu.format && l.setQuery("")
         },
         onSearchKeyUp: function(e) {
             var t;
             if (!e)
                 return !0;
             if (t = e.which || e.keyCode,
             0 !== this.menu.format) {
                 if (this.suggest.submitPending = !1,
                 40 === t || 38 === t)
                     return this.suggest.onUpDown(40 === t),
                     this.suggest.suggestIndex === -1 && (this.searchInput.value = this.suggest.query),
                     this.searchInput.setSelectionRange(this.searchInput.value.length, this.searchInput.value.length),
                     0 === this.searchInput.value.length ? this.$clearSearch.hide() : this.$clearSearch.show(),
                     !1;
                 if (27 !== t)
                     return 13 === t && "" !== this.searchInput.value ? (e.preventDefault(),
                     this.onSubmitSearch(),
                     !1) : (this.suggest.setQuery(this.searchInput.value, this.menu.format),
                     0 === this.searchInput.value.length ? this.$clearSearch.hide() : this.$clearSearch.show(),
                     !1);
                 this.searchInput.value = "",
                 this.suggest.clear(),
                 this.$clearSearch.hide()
             } else {
                 if (27 !== t)
                     return 13 === t && "" !== this.searchInput.value ? (e.preventDefault(),
                     this.menu.format = 1,
                     this.menu.update(!0),
                     this.updateSearchPlaceholder(),
                     this.onSubmitSearch(),
                     !1) : (this.suggest.query = this.searchInput.value,
                     0 === this.searchInput.value.length ? this.$clearSearch.hide() : this.$clearSearch.show(),
                     l.setQuery(this.suggest.query.toLowerCase()),
                     !1);
                 this.searchInput.value = "",
                 this.suggest.clear(),
                 this.$clearSearch.hide(),
                 this.suggest.onSuggestUpdate()
             }
             return 0 === this.searchInput.value.length ? this.$clearSearch.hide() : this.$clearSearch.show(),
             !0
         },
         onSubmitSearch: function() {
             var e = this.searchInput.value;
             if (0 === e.indexOf("http")) {
                 var t = d.validateIncomingURL(e);
                 t && (e = t)
             }
             this.suggest.submitPending = !0,
             this.suggest.onSuggestUpdate(null),
             0 === this.menu.format && (this.menu.format = 1,
             this.menu.update(!0),
             this.updateSearchPlaceholder()),
             r.load(e, this.menu.format),
             s.trigger("playlist:section", "search")
         },
         onSuggestSelect: function(e) {
             this.searchInput.value = e
         },
         onSuggestSubmit: function(e) {
             this.searchInput.value = e,
             this.onSubmitSearch()
         },
         clearFilter: function() {
             return this.filterInput.value = "",
             this.$clearFilter.hide(),
             this
         },
         onClearFilterClick: function() {
             this.clearFilter(),
             n.setFilter("")
         },
         onFilterKeyUp: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             27 === t && (this.filterInput.value = ""),
             n.setFilter(this.filterInput.value.toLowerCase()),
             this.filterInput.value.length > 0 ? this.$clearFilter.show() : this.$clearFilter.hide(),
             !0)
         },
         onSearchFocus: function() {
             h.get("guest") ? (s.trigger("signup:show", "Community: Trigger - Playlist: Search"),
             this.$searchInput.blur()) : this.$bar.addClass("focused")
         },
         onSearchBlur: function() {
             this.$bar.removeClass("focused")
         },
         onFilterFocus: function() {
             h.get("guest") ? (s.trigger("signup:show", "Community: Trigger - Playlist: Filter"),
             this.$filterInput.blur()) : this.$("#filter-bar").addClass("focused")
         },
         onFilterBlur: function() {
             this.$("#filter-bar").removeClass("focused")
         },
         onImportClick: function() {
             s.trigger("import:show"),
             s.trigger("playlist:section", "import")
         },
         onCreateClick: function() {
             var t;
             this.selectedRows && this.selectedRows.length > 0 && (t = this.selectedRows[0].model instanceof MediaModel ? e.map(this.selectedRows, function(e) {
                 return e.model
             }) : e.map(this.selectedRows, function(e) {
                 return e.model.get("media")
             })),
             s.dispatch(new o(o.SHOW,new u({
                 media: t
             })))
         },
         onClickBack: function(e) {
             this.prevent(e),
             s.trigger("playlist:back")
         }
     });
     return b
 }),
 define("f1e1d/e74c9/d9fb2/cc26e", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "underscore", "backbone", "f1e1d/e74c9/d9fb2/ead2a/b9f8d", "f1e1d/e74c9/d9fb2/cf616/d4bdd", "f1e1d/af752/fa88e", "f1e1d/e74c9/d9fb2/c572a/d0a31"], function(e, t, i, s, n, a, o, r) {
     var l = e.extend({
         id: "playlist-panel",
         className: "playlist--override plugdj__panel plugdj__panel-left",
         initialize: function() {
             this.isOpen = !1,
             this.search = new r,
             this.media = new n,
             this.isOpen = !1,
             this.keyDownBind = i.bind(this.onKeyDown, this),
             this.keyUpBind = i.bind(this.onKeyUp, this),
             t.on("playlist:show", this.setOpen, this).on("playlist:toggle", this.toggle, this).on("playlist:hide", this.setClose, this),
             t.on("playlist:section", this.onChangeSection, this),
             t.on("playlist:back", this.onClickBackButton, this),
             this.setData("state", "closed")
         },
         render: function() {
             return this.$el.append(this.search.$el).append(a.$el).append(this.media.$el),
             this.search.render(),
             a.render(),
             this.media.render(),
             this
         },
         toggle: function() {
             this.isOpen === !0 ? t.trigger("panel:back", !0) : this.setOpen()
         },
         setOpen: function() {
             t.trigger("panel:show", "playlist"),
             this.setData("state", "open"),
             this.setData("sub-view", "main-section"),
             this.isOpen = !0,
             $(document).on("keydown", this.keyDownBind).on("keyup", this.keyUpBind)
         },
         setClose: function() {
             this.setData("state", "closed"),
             this.isOpen = !1,
             $(document).off("keydown", this.keyDownBind).off("keyup", this.keyUpBind)
         },
         onChangeSection: function(e) {
             switch (this.setData("section", e),
             e) {
             case "playlists":
                 this.setData("sub-view", "main-section");
                 break;
             default:
                 this.setData("sub-view", "inner-section")
             }
         },
         onClickBackButton: function() {
             var e = this.getData("section");
             "playlists" === e ? t.trigger("panel:back", !0) : t.trigger("playlist:section", "playlists")
         },
         onKeyDown: function(e) {
             if ("BODY" === document.activeElement.nodeName.toUpperCase()) {
                 var i;
                 if (e && (i = e.which || e.keyCode),
                 17 === i || o.isMac && (91 === i || 93 === i || 224 === i))
                     this.ctrlDown = !0;
                 else if (this.ctrlDown && "A" === String.fromCharCode(i).toUpperCase())
                     return e.preventDefault(),
                     e.stopImmediatePropagation(),
                     t.trigger("keycmd:selectAll"),
                     !1
             }
             return !0
         },
         onKeyUp: function(e) {
             var t;
             return e && (t = e.which || e.keyCode),
             (17 === t || o.isMac && (91 === t || 93 === t || 224 === t)) && (this.ctrlDown = !1),
             !0
         }
     });
     return l
 }),
 define("hbs!templates/footer/PlaylistMeta", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div id="playlist-button">\n    <i class="icon icon-playlist"></i>\n</div>\n<div class="bar-button">\n    <div id="your-active-playlist" class="section bar-value">\n        <i class="icon icon-check-purple"></i>\n        <span></span>\n        <div class="chevron"></div>\n    </div>\n    <div id="your-next-media" class="section bar-value">\n        <i class="icon icon-next-track"></i>\n        <span></span>\n    </div>\n</div>'
     });
     return t.registerPartial("templates_footer_PlaylistMeta", i),
     i
 }),
 define("f1e1d/e74c9/ec021/db3ed", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d6687", "f1e1d/fce39/a3ebf", "f1e1d/fce39/a4370", "f1e1d/e8300/dcb95", "f1e1d/d8478/b5029", "f1e1d/d8478/b885e", "f1e1d/e74c9/c00f1/fb4d1", "f1e1d/e74c9/ec021/f1667", "f1e1d/e74c9/ec021/e228b", "f1e1d/e74c9/ec021/e9913", "f1e1d/e74c9/ec021/ced67", "f1e1d/e74c9/ec021/b7a58", "f1e1d/e74c9/ec021/dcc53", "f1e1d/e74c9/d9fb2/cc26e", "f1e1d/e74c9/b14c6/c055e", "f1e1d/af752/fa88e", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "hbs!templates/footer/PlaylistMeta", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S) {
     var x = i.View.extend({
         id: "playlist-meta",
         className: "left-meta",
         initialize: function() {
             this.playlist = new b,
             this.twitter = new m,
             this.facebook = new f,
             this.ios = new u,
             this.android = new d,
             this.subscribe = new v,
             this.signup = new g,
             this.keyDownBind = t.bind(this.onKeyDown, this),
             this.keyUpBind = t.bind(this.onKeyUp, this),
             this.updateMetaBind = t.bind(this.updateMeta, this),
             this.inHistoryBind = t.bind(this.onInHistory, this),
             this.leaveBind = t.bind(this.onLeave, this),
             this.animateBind = t.bind(this.animateUp, this),
             this.ctrlDown = !1
         },
         render: function() {
             return this.$el.html(_(S)).append(this.playlist.$el).append(this.subscribe.$el).append(this.signup.$el).append(this.twitter.$el).append(this.facebook.$el).append(this.ios.$el).append(this.android.$el),
             this.subscribe.render(),
             this.signup.render(),
             this.twitter.render(),
             this.facebook.render(),
             this.ios.render(),
             this.android.render(),
             this.playlist.render(),
             this.$("#playlist-button").on("click", t.bind(this.onIconClick, this)),
             s.on("playlist:toggle", this.onIconClick, this),
             this.$icon = this.$("#playlist-button .icon"),
             this.$bar = this.$(".bar-button").on("click", t.bind(this.onBarClick, this)),
             this.$playlist = this.$("#your-active-playlist span"),
             this.$media = this.$("#your-next-media span"),
             this.$yourPlaylist = this.$("#your-active-playlist"),
             this.$yourMedia = this.$("#your-next-media"),
             this.$yourMediaIcon = this.$("#your-next-media i"),
             this.$yourNextMediaSpan = this.$("#your-next-media span"),
             this.$android = this.$("#androidbadge-menu"),
             this.$ios = this.$("#iosbadge-menu"),
             this.$facebook = this.$("#facebook-menu"),
             this.$twitter = this.$("#twitter-menu"),
             this.$subscribe = this.$("#subscribebtn-menu"),
             this.$subscribeLink = this.$("#subscribebtn-menu a").on("click", t.bind(this.onSubClick, this)),
             this.$signup = this.$("#signupbtn-menu"),
             this.$subscribeLink = this.$("#signupbtn-menu a").on("click", t.bind(this.onSignupClick, this)),
             r.on("reset change:active change:name", this.onChange, this),
             o.on("reset change:author change:title update:next", this.onChange, this),
             h.on("change:media", this.onChange, this),
             this.onChange(),
             C.resize(t.bind(this.onResize, this)),
             s.on("show:dashboard ", this.onShowDashboard, this).on("show:user show:history", this.onHideInstant, this).on("playlist:first", this.onPlaylistFirst, this).on("playlist:open", this.onPlaylistOpen, this).on("userPlaying:update", this.onChange, this),
             c.on("change:sub change:silver change:guest", this.onChange, this),
             this
         },
         onResize: function(e) {
             this.resizeMeta(e),
             this.playlist.$el.width(e.availWidth).is(":visible") && this.playlist.$el.height(e.height - C.PLAYLIST_OFFSET + e.barHeight)
         },
         resizeMeta: function(e) {
             e = e || C.getSize(),
             this.$bar.width(e.barWidth - 2.8 * this.android.$el.width() - this.$bar.offset().left),
             this.$yourMedia.css("left", this.$yourPlaylist.offset().left + this.$yourPlaylist.width() - (this.$bar.hasClass("no-playlist") ? 85 : 75)),
             this.$yourMedia.width(this.$bar.width() - this.$yourMedia.offset().left + 40),
             this.$yourNextMediaSpan.width(this.$bar.width() - this.$yourMedia.offset().left - 2)
         },
         onIconClick: function(t) {
             if (this.playlist.$el.is(":visible")) {
                 var i = this;
                 this.$icon.removeClass().addClass("icon icon-playlist"),
                 this.playlist.$el.show().animate({
                     height: e(".app-header").height()
                 }, {
                     duration: t !== !0 ? 250 : 1,
                     easing: "easeInOutExpo",
                     progress: function() {
                         s.trigger("anim:playlist:progress", C.getSize())
                     },
                     complete: function() {
                         i.$("#playlist-panel").hide(),
                         i.$(".bar-button").show(),
                         i.$(".social-menu").show(),
                         i.$android.removeAttr("style"),
                         i.$ios.removeAttr("style"),
                         i.$facebook.removeAttr("style"),
                         i.$twitter.removeAttr("style"),
                         i.$subscribe.removeAttr("style"),
                         i.$signup.removeAttr("style"),
                         k.pushState(null, window.location.pathname.replace(/\//g, "")),
                         i.onResize(C.getSize()),
                         s.trigger("dfp:playlist:closed")
                     }
                 }),
                 this.$el.animate({
                     top: 0
                 }, t !== !0 ? 250 : 1, "easeInOutExpo"),
                 e(document).off("keydown", this.keyDownBind).off("keyup", this.keyUpBind),
                 s.trigger("audience:pause", !1)
             } else
                 this.onBarClick()
         },
         onBarClick: function() {
             c.get("guest") ? s.trigger("signup:show", "Community: Trigger - Playlist") : (e("#playlist-panel").show(),
             this.$icon.removeClass().addClass("icon icon-arrow-down"),
             C.onResize(),
             k.pushState("View:playlists", "#playlists"),
             t.delay(this.animateBind, 10))
         },
         onSubClick: function() {
             k.actual("Subscribe", "Clicked", "Footer: Button"),
             c.get("guest") && s.trigger("signup:show", "Community: Trigger - Subscribe Button")
         },
         onSignupClick: function() {
             var e = window.location.pathname.indexOf("/dashboard") > -1 ? "Dashboard" : "Community";
             s.trigger("signup:show", e + ": Button - Sign Up (bottom nav)")
         },
         onShowDashboard: function() {
             this.playlist.$el.is(":visible") && this.onIconClick()
         },
         onHideInstant: function() {
             this.playlist.$el.is(":visible") && this.onIconClick(!0)
         },
         onPlaylistFirst: function() {
             this.onPlaylistOpen(),
             t.delay(function() {
                 s.dispatch(new l(l.SHOW,new p({
                     media: void 0
                 })))
             }, 250)
         },
         onPlaylistOpen: function() {
             this.playlist.$el.is(":visible") || this.onBarClick()
         },
         animateUp: function() {
             var t = Math.max(C.MIN_HEIGHT, e(window).height());
             this.$("#playlist-panel").animate({
                 height: t - C.PLAYLIST_OFFSET + e(".app-header").height()
             }, {
                 duration: 350,
                 easing: "easeInOutExpo",
                 progress: function() {
                     s.trigger("anim:playlist:progress", C.getSize())
                 }
             }),
             this.$el.animate({
                 top: -(t - C.PLAYLIST_OFFSET)
             }, 350, "easeInOutExpo"),
             this.$(".bar-button").hide(),
             this.$(".social-menu").hide(),
             e(document).on("keydown", this.keyDownBind).on("keyup", this.keyUpBind),
             s.trigger("audience:pause", !0).trigger("hide:user", !0).trigger("dfp:playlist:open")
         },
         onChange: function() {
             this.metaTimeoutID && clearTimeout(this.metaTimeoutID),
             this.metaTimeoutID = setTimeout(this.updateMetaBind, 500),
             c.get("sub") > 0 || c.get("silver") ? this.$el.addClass("sub") : this.$el.removeClass("sub")
         },
         updateMeta: function() {
             clearTimeout(this.metaTimeoutID);
             var e, i = r.getActiveID();
             if (i) {
                 var s;
                 n.isTheUserPlaying && h.get("playlistID") === i && 2 === r.activeMedia.length ? s = r.activeMedia[1] : r.activeMedia.length > 0 && (s = r.activeMedia[0]),
                 this.$playlist.text(r.get(i).get("name")),
                 s && (e = t.escape(s.get("author") + " - " + s.get("title")),
                 a.exists(s.get("cid")) ? this.$yourMediaIcon.hasClass("icon-chat-system") || (this.$yourMedia.addClass("in-history"),
                 this.$yourMediaIcon.removeClass().addClass("icon icon-chat-system"),
                 this.$yourMedia.on("mouseenter", this.inHistoryBind).on("mouseleave", this.leaveBind)) : this.$yourMediaIcon.hasClass("icon-next-track") || (this.$yourMedia.removeClass("in-history"),
                 this.$yourMediaIcon.removeClass().addClass("icon icon-next-track"),
                 this.$yourMedia.off()))
             }
             e ? (this.$media.html(e),
             this.$bar.removeClass("no-playlist")) : (this.$playlist.text(""),
             this.$media.text(S.footer.clickToMake),
             this.$bar.addClass("no-playlist")),
             this.resizeMeta(),
             this.$yourMedia.is(":visible") || t.delay(t.bind(this.showMedia, this), 500)
         },
         showMedia: function() {
             this.$yourMedia.show()
         },
         onKeyDown: function(t) {
             if (!C.currentDialog && "BODY" == e(document.activeElement)[0].nodeName) {
                 var i;
                 if (t && (i = t.which || t.keyCode),
                 17 === i || y.isMac && (91 === i || 93 === i || 224 === i))
                     this.ctrlDown = !0;
                 else {
                     if (this.ctrlDown && 65 === i)
                         return t.preventDefault(),
                         t.stopImmediatePropagation(),
                         s.trigger("keycmd:selectAll"),
                         !1;
                     if (!this.ctrlDown && (8 === i || 46 === i))
                         return t.preventDefault(),
                         t.stopImmediatePropagation(),
                         s.trigger("keycmd:delete"),
                         !1
                 }
             }
             return !0
         },
         onKeyUp: function(e) {
             var t;
             if (e && (t = e.which || e.keyCode),
             17 === t || y.isMac && (91 === t || 93 === t || 224 === t))
                 this.ctrlDown = !1;
             else if (!this.ctrlDown && (8 === t || 46 === t))
                 return e.preventDefault(),
                 !1;
             return !0
         },
         onInHistory: function() {
             s.trigger("tooltip:show", S.tooltips.inHistory, this.$yourMediaIcon, !1, !1, "orange")
         },
         onLeave: function() {
             s.trigger("tooltip:hide")
         }
     });
     return x
 }),
 define("f1e1d/e74c9/ec021/a33e7", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/af752/da104", "f1e1d/e74c9/ec021/b4ee7", "f1e1d/e74c9/ec021/db3ed"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         id: "footer",
         initialize: function() {
             this.playlist = new o,
             this.user = new a
         },
         render: function() {
             return this.$el.empty().append(this.playlist.$el).append(this.user.$el),
             this.playlist.render(),
             this.user.render(),
             n.i(),
             this
         }
     });
     return r
 }),
 define("hbs!templates/notifications/Notification", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="left">\n    <i class="icon ',
         (a = i.icon) ? a = a.call(t, {
             hash: {}
         }) : (a = t.icon,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"></i>\n</div>\n<div class="right">\n    <span>',
         (a = i.message) ? a = a.call(t, {
             hash: {}
         }) : (a = t.message,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>\n</div>\n"
     });
     return t.registerPartial("templates_notifications_Notification", i),
     i
 }),
 define("f1e1d/e74c9/a245a/d0978", ["underscore", "backbone", "hbs!templates/notifications/Notification"], function(e, t, i) {
     var s = t.View.extend({
         className: "notification notification--desktop",
         events: {
             click: "onClick"
         },
         render: function() {
             return this.rendered || (this.rendered = !0,
             this.$el.html(i(this.options)),
             e.defer(e.bind(this.adjustTop, this))),
             this
         },
         adjustTop: function() {
             this.$("span").css("top", (this.$(".right").height() - this.$("span").height()) / 2),
             this.$el.animate({
                 opacity: 1
             }, {
                 duration: s.FADE_IN
             }),
             this.interval = e.delay(e.bind(this.fadeOut, this), s.DISPLAY)
         },
         fadeOut: function() {
             clearInterval(this.interval),
             this.$el && (this.$el.animate({
                 opacity: 0
             }, {
                 duration: s.FADE_OUT
             }),
             this.interval = e.delay(e.bind(this.onClick, this), s.FADE_OUT + 10))
         },
         slideDown: function() {
             this.$el.animate({
                 top: parseInt(this.$el.css("top")) + this.$el.height() + 7
             }, {
                 duration: s.SLIDE,
                 easing: "easeInOutExpo"
             })
         },
         onClick: function(e) {
             clearInterval(this.interval),
             this.$el.stop(!0, !0),
             e && this.options.action && this.options.action(),
             this.trigger("close", this),
             this.destroy()
         },
         remove: function() {
             clearInterval(this.interval),
             this.rendered = void 0,
             delete this.rendered,
             this.options.action = void 0,
             delete this.options.action,
             this.interval = void 0,
             this.options = void 0,
             delete this.interval,
             delete this.options,
             this._super()
         }
     });
     return s.SLIDE = 250,
     s.FADE_IN = 250,
     s.FADE_OUT = 500,
     s.DISPLAY = 6e3,
     s
 }),
 define("f1e1d/e74c9/a245a/a0ec5", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e74c9/a245a/d0978"], function(e, t, i, s) {
     var n = t.View.extend({
         id: "toast-notifications",
         initialize: function() {
             this.rows = [],
             this.pushBind = e.bind(this.onPush, this),
             this.rowCloseBind = e.bind(this.onRowClose, this)
         },
         render: function() {
             return this.$el.empty(),
             i.on("notify", this.onNotify, this),
             this
         },
         onNotify: function(t, i, n) {
             var a = this.rows.length;
             if (a > 0) {
                 a > 4 && (this.rows[0].onClick(),
                 --a);
                 for (var o = 0; o < a; ++o)
                     this.rows[o].slideDown()
             }
             var r = new s({
                 icon: t,
                 message: i,
                 action: n
             });
             r.on("close", this.rowCloseBind),
             this.rows.push(r),
             e.delay(this.pushBind, s.SLIDE - 100)
         },
         onPush: function() {
             this.$el.append(this.rows[this.rows.length - 1].$el),
             this.rows[this.rows.length - 1].render()
         },
         onRowClose: function(e) {
             var t = this.rows.indexOf(e);
             t > -1 && this.rows.splice(t, 1)
         }
     });
     return n
 }),
 define("f1e1d/af752/b54a3", [], function() {
     var e = window.AvatarManifest || {
         getAvatarUrl: function(e, t) {
             return "/_/static/images/avatars/" + e + t + ".png"
         },
         getHitSlot: function() {
             return 0
         }
     };
     return window.AvatarManifest = void 0,
     delete window.AvatarManifest,
     e
 }),
 define("f1e1d/af752/a8577", ["f1e1d/e718c/b5ee0", "f1e1d/fce39/d3252", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d9232/b42c1", "f1e1d/af752/e6c91", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         init: function() {
             this.rows = 22,
             this.columns = 196,
             this.cellSize = 10,
             this.backScale = .4,
             this.random = new a,
             this.defaultInvalidation(),
             this.clear()
         },
         defaultInvalidation: function() {
             this.invalidationArray = []
         },
         clear: function() {
             this.zones = [],
             this.priorityGrid = [];
             var e, t, i, s;
             for (e = 0; e < this.rows; ++e) {
                 var n = [];
                 for (t = 0; t < this.columns; ++t)
                     n.push(100);
                 this.priorityGrid.push(n)
             }
             for (this.userCount = 0,
             this.userMap = {},
             this.addZone(1, {
                 x: 0,
                 y: 0,
                 w: this.columns,
                 h: this.rows - 12
             }),
             this.addZone(2, {
                 x: 0,
                 y: this.rows - 12,
                 w: this.columns,
                 h: 6
             }),
             this.addZone(3, {
                 x: 0,
                 y: this.rows - 5,
                 w: this.columns,
                 h: 3
             }),
             this.addZone(4, {
                 x: this.columns * (3 / 8),
                 y: this.rows - 4,
                 w: this.columns / 4,
                 h: 2
             }),
             this.addZone(5, {
                 x: ~~(this.columns / 2) - 7,
                 y: this.rows - 1,
                 w: 1,
                 h: 1
             }),
             this.addZone(6, {
                 x: 70,
                 y: this.rows - 5,
                 w: this.columns - 140,
                 h: 4
             }),
             e = 0; e < this.rows; ++e) {
                 i = o.quadEaseOut(e, 0, 1 - this.backScale, this.rows),
                 s = ~~(i * this.columns / 2);
                 var a = this.columns - 2 * s - 4;
                 for (t = 0; t < a; ++t)
                     i = t < a / 2 ? o.quadEaseOut(t, 50, 50, a / 2) : o.quadEaseIn(t - a / 2, 100, -50, a / 2),
                     this.setCellPriority(e, t + s + 2, i);
                 this.invalidateCellsInBounds({
                     x: 0,
                     y: e,
                     w: s + 2,
                     h: 1
                 }),
                 this.invalidateCellsInBounds({
                     x: this.columns - s - 2,
                     y: e,
                     w: s + 2,
                     h: 1
                 })
             }
             this.invalidateCellsInBounds({
                 x: 0,
                 y: this.rows - 1,
                 w: ~~(this.columns / 2) - 7,
                 h: 1
             }),
             this.invalidateCellsInBounds({
                 x: ~~(this.columns / 2) - 5,
                 y: this.rows - 1,
                 w: ~~(this.columns / 2) + 5,
                 h: 1
             }),
             this.invalidateRoomElements()
         },
         invalidateRoomElements: function() {
             for (var e = this.invalidationArray.length; e--; )
                 this.invalidateCellsInBounds(this.invalidationArray[e])
         },
         addZone: function(e, t) {
             this.zones.push({
                 id: e,
                 bounds: t
             })
         },
         addUser: function(e) {
             if (!this.userMap[e.get("id")]) {
                 if (this.userCount < (n.settings.avatarcap || 150)) {
                     var t = []
                       , i = this.getZone(e);
                     if (i < 6) {
                         do
                             t = this.getCellsInZone(i--);
                         while (0 === t.length && i > 0);if (0 === t.length) {
                             i = 4;
                             do
                                 t = this.getCellsInZone(i--);
                             while (0 === t.length && i > 0);if (0 === t.length)
                                 return !1
                         }
                     } else if (t = this.getCellsInZone(i),
                     0 === t.length)
                         return -1;
                     var s = this.getPosition(t);
                     e.set("_position", s),
                     this.userMap[e.get("id")] = e,
                     ++this.userCount,
                     this.invalidateCellAt(s.r, s.c);
                     for (var a = 1; a <= 4; ++a)
                         this.decrementCellsInBounds({
                             x: s.c - a,
                             y: s.r - 2 * a,
                             w: 2 * a + 1,
                             h: 3 * a
                         });
                     return !0
                 }
                 return !1
             }
             return -1
         },
         getHighestPriority: function() {
             var e, t = -1;
             for (var i in this.userMap) {
                 var s = this.userMap[i];
                 s && s.get("priority") > t && (t = s.get("priority"),
                 e = i)
             }
             return {
                 id: e,
                 priority: t
             }
         },
         getPosition: function(e) {
             for (var t = [], i = [], s = [], n = e.length; n--; ) {
                 var a = this.getPriorityLevelForCellAt(e[n].r, e[n].c);
                 a > 69 ? t.push(e[n]) : a > 49 ? i.push(e[n]) : a > 24 && s.push(e[n])
             }
             return t.length > 0 ? t[this.random.integer(0, t.length - 1)] : i.length > 0 ? i[this.random.integer(0, i.length - 1)] : s.length > 0 ? s[this.random.integer(0, s.length - 1)] : e[this.random.integer(0, e.length - 1)]
         },
         removeUser: function(e) {
             if (this.userMap[e]) {
                 var t = this.userMap[e].get("_position");
                 if (t) {
                     this.validateCellAt(t.r, t.c);
                     var i;
                     for (i = 1; i <= 4; ++i)
                         this.incrementCellsInBounds({
                             x: t.c - i,
                             y: t.r - 2 * i,
                             w: 2 * i + 1,
                             h: 3 * i
                         })
                 }
                 return this.userMap[e] = void 0,
                 delete this.userMap[e],
                 --this.userCount,
                 !0
             }
             return !1
         },
         getZone: function(e) {
             if (e.get("id") === i.get("id"))
                 return 5;
             if (e.get("avatarID").indexOf("dragon") > -1 || e.get("avatarID").indexOf("-e01") > -1)
                 return 6;
             if (e.hasPermission(s.BOUNCER, !0) || e.hasPermission(s.MANAGER) || e.get("friend"))
                 return 4;
             if (e.hasPermission(s.DJ))
                 return 3;
             var t = this.random.float(0, 1)
               , n = e.get("level");
             return n < 3 ? t > .75 ? 2 : 1 : n < 5 ? t > .95 ? 3 : t > .65 ? 2 : 1 : n < 7 ? t > .7 ? 3 : t > .5 ? 2 : 1 : n < 9 ? t > .55 ? 3 : t > .35 ? 2 : 1 : n < 11 ? t > .4 ? 3 : t > .2 ? 2 : 1 : t > .3 ? 3 : 2
         },
         getZoneIDsForCellAt: function(e, t) {
             for (var i = [], s = this.zones.length, n = 0; n < s; ++n) {
                 var a = this.zones[n];
                 t >= a.bounds.x && t <= a.bounds.x + a.bounds.w && e >= a.bounds.y && e <= a.bounds.y + a.bounds.h && i.push(a.id)
             }
             return i
         },
         getCellsInZone: function(e, t) {
             for (var i = [], s = this.zones.length, n = 0; n < s; ++n) {
                 var a = this.zones[n];
                 if (a.id === e) {
                     for (var o = a.bounds.y; o < a.bounds.y + a.bounds.h; ++o)
                         for (var r = a.bounds.x; r < a.bounds.x + a.bounds.w; ++r)
                             (this.getPriorityLevelForCellAt(o, r) > 0 || t) && i.push({
                                 c: r,
                                 r: o
                             });
                     break
                 }
             }
             return 5 !== e || t || 0 !== i.length ? i : this.getCellsInZone(e, !0)
         },
         getPriorityLevelForCellAt: function(e, t) {
             return Math.max(0, this.priorityGrid[e][t])
         },
         invalidateCellAt: function(e, t) {
             this.priorityGrid[e][t] -= 100
         },
         validateCellAt: function(e, t) {
             this.priorityGrid[e][t] += 100
         },
         invalidateCellsInBounds: function(e) {
             for (var t = e.y; t < e.y + e.h; ++t)
                 if (!(t < 0 || t >= this.rows))
                     for (var i = e.x; i < e.x + e.w; ++i)
                         i < 0 || i >= this.columns || this.invalidateCellAt(t, i)
         },
         decrementCellsInBounds: function(e) {
             for (var t = e.y; t < e.y + e.h; ++t)
                 if (!(t < 0 || t >= this.rows))
                     for (var i = e.x; i < e.x + e.w; ++i)
                         i < 0 || i >= this.columns || this.decrementCellAt(t, i)
         },
         incrementCellsInBounds: function(e) {
             for (var t = e.y; t < e.y + e.h; ++t)
                 if (!(t < 0 || t >= this.rows))
                     for (var i = e.x; i < e.x + e.w; ++i)
                         i < 0 || i >= this.columns || this.incrementCellAt(t, i)
         },
         decrementCellAt: function(e, t) {
             var i = this.getZoneIDsForCellAt(e, t).sort();
             this.priorityGrid[e][t] -= this.getAdjustment(i[i.length - 1])
         },
         incrementCellAt: function(e, t) {
             var i = this.getZoneIDsForCellAt(e, t).sort();
             this.priorityGrid[e][t] += this.getAdjustment(i[i.length - 1])
         },
         setCellPriority: function(e, t, i) {
             this.priorityGrid[e][t] = i
         },
         getAdjustment: function(e) {
             return 5 === e || 4 === e ? 45 : 3 === e ? 30 : 2 === e ? 25 : 15
         }
     });
     return new r
 }),
 define("hbs!templates/room/Audience", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<canvas id="audience-canvas" width="805" height="207"></canvas>'
     });
     return t.registerPartial("templates_room_Audience", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/a178a", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/ed416", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d9232/b42c1", "f1e1d/af752/b54a3", "f1e1d/af752/a8577", "f1e1d/af752/e504b", "f1e1d/af752/fa88e", "f1e1d/af752/e6c91", "f1e1d/af752/fd6ec", "f1e1d/e74c9/b14c6/c055e", "hbs!templates/room/Audience"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m) {
     var g = i.View.extend({
         id: "audience",
         WIDTH: 805,
         HEIGHT: 207,
         OFFSET_X: 15,
         OFFSET_Y: 50,
         INTERVAL: 100,
         initialize: function() {
             this.isAnimationEnabled = !1,
             this.setRenderMode(p.clipRender),
             this.friendBind = t.bind(this.onFriendChange, this),
             s.on({
                 "avatars:add": this.addUser.bind(this),
                 "avatars:remove": this.removeUser.bind(this),
                 "avatars:clear": this.clear.bind(this),
                 "avatars:start": this.startAnimation.bind(this),
                 "avatars:stop": this.stopAnimation.bind(this),
                 "avatars:toggle": this.toggleAnimation.bind(this),
                 "avatars:pause": this.pauseAnimation.bind(this),
                 "avatars:resume": this.resumeAnimation.bind(this)
             })
         },
         render: function() {
             return this.$el.html(m()),
             this.canvas = this.$("#audience-canvas").get(0),
             this.context = this.canvas.getContext("2d"),
             this.context.fillStyle = "rgba(0,0,0,0)",
             this.imageMap = e('<canvas width="805" height="207">'),
             this.imageMapContext = this.imageMap[0].getContext("2d"),
             this.imageMapContext.fillStyle = "rgba(0,0,0,0)",
             this.gridData = h,
             this.zoneColors = ["#33007F", "#80007F", "#990000", "#FF0000", "#FFFF00", "#00FF00"],
             this.frame = 0,
             this.colorMap = {},
             this.renderedFrames = [],
             this.clear(!0),
             this
         },
         getRGB: function(e) {
             return {
                 r: 0,
                 g: ~~(e / 255),
                 b: e % 255
             }
         },
         onRoomJoin: function() {
             this.clear()
         },
         onMouseMove: function(e) {
             var t = this.$el.offset()
               , i = e.pageX - t.left
               , s = e.pageY - t.top
               , n = this.imageMapContext.getImageData(i, s, 1, 1);
             if (255 === n.data[3]) {
                 var a, o = this.colorMap[255 * n.data[1] + n.data[2]];
                 if (o)
                     for (var r = o.length, l = 0; l < r; ++l) {
                         var h = o[l];
                         if (i > h.props.rect.l && i < h.props.rect.r && s > h.props.rect.t && s < h.props.rect.b) {
                             a = h.user;
                             break
                         }
                     }
                 a ? (f.showSimple(a, {
                     x: e.pageX,
                     y: e.pageY - 14
                 }),
                 this.$el.css("cursor", "pointer")) : (f.hide(!1),
                 this.$el.css("cursor", "default"))
             } else
                 f.hide(!1),
                 this.$el.css("cursor", "default")
         },
         setRenderMode: function(e) {
             e ? this.renderFunc = this.renderClip : this.renderFunc = this.renderNoClip
         },
         onImageLoaded: function() {
             ++this.loadCount,
             this.loadCount === this.images.length && (this.sortZIndex(),
             this.refresh(),
             this.draw())
         },
         clear: function() {
             this.gridData.clear(),
             this.userImageMap = {},
             this.images = [],
             this.loadCount = 0,
             this.context.clearRect(0, 0, this.WIDTH, this.HEIGHT),
             this.imageMapContext.clearRect(0, 0, this.WIDTH, this.HEIGHT),
             this.colorMap = {},
             this.full = !1,
             this.invisibleUsers = [],
             this.nonFriends = {},
             this.refresh()
         },
         refresh: function() {
             this.hitRendered = !1,
             this.isRendered = !1,
             this.renderPass = 0,
             this.renderedFrames = new Array(20)
         },
         draw: function() {
             var e;
             this.isRendered ? this.update() : (e = this.renderFunc(),
             e ? ++this.renderPass < 21 ? this.renderedFrames[this.frame] = this.context.getImageData(0, 0, this.WIDTH, this.HEIGHT) : this.isRendered = !0 : this.refresh())
         },
         update: function() {
             this.renderedFrames[this.frame] && this.context.putImageData(this.renderedFrames[this.frame], 0, 0)
         },
         renderClip: function() {
             this.context.clearRect(0, 0, this.WIDTH, this.HEIGHT),
             this.hitRendered || this.imageMapContext.clearRect(0, 0, this.WIDTH, this.HEIGHT);
             for (var e = this.images.length, t = !0, i = 0; i < e; ++i) {
                 var s = this.images[i];
                 if (s.image && s.image.complete) {
                     var n = 0;
                     r.settings.dancing && (n = 1 === s.user.get("vote") ? 4 * s.props.w + s.props.w * this.frame : s.props.w * this.getBlinkFrame(s)),
                     this.context.save(),
                     this.context.beginPath(),
                     this.context.moveTo(s.props.x, s.props.y),
                     this.context.lineTo(s.props.x + s.props.w, s.props.y),
                     this.context.lineTo(s.props.x + s.props.w, s.props.y + s.props.h),
                     this.context.lineTo(s.props.x, s.props.y + s.props.h),
                     this.context.lineTo(s.props.x, s.props.y),
                     this.context.closePath(),
                     this.context.fill(),
                     this.context.clip(),
                     this.context.drawImage(s.image, s.props.x - n, s.props.y, s.props.sw, s.props.h),
                     this.context.restore(),
                     this.drawHitArea(s)
                 } else
                     t = !1
             }
             return this.hitRendered = !0,
             t
         },
         renderNoClip: function() {
             this.context.clearRect(0, 0, this.WIDTH, this.HEIGHT),
             this.hitRendered || this.imageMapContext.clearRect(0, 0, this.WIDTH, this.HEIGHT);
             for (var e = this.images.length, t = !0, i = 0; i < e; ++i) {
                 var s = this.images[i];
                 if (s.image && s.image.complete) {
                     var n = 0;
                     r.settings.dancing && (n = 1 === s.user.get("vote") ? 4 * s.props.ow + s.props.ow * this.frame : s.props.ow * this.getBlinkFrame(s)),
                     this.context.save(),
                     this.context.translate(s.props.x, s.props.y),
                     this.context.scale(s.props.scale, s.props.scale),
                     this.context.drawImage(s.image, n, 0, s.props.ow, s.props.oh, 0, 0, s.props.ow, s.props.oh),
                     this.context.restore(),
                     this.drawHitArea(s)
                 } else
                     t = !1
             }
             return this.hitRendered = !0,
             t
         },
         drawHitArea: function(e) {
             if (!this.hitRendered) {
                 var t = this.getRGB(e.color);
                 this.imageMapContext.fillStyle = "rgba(" + t.r + "," + t.g + "," + t.b + ",255)",
                 this.imageMapContext.fillRect(e.props.rect.l, e.props.rect.t, e.props.rect.w, e.props.rect.h)
             }
         },
         getBlinkFrame: function(e) {
             return e.blink < 18 ? this.frame < e.blink || this.frame > e.blink + 2 ? 0 : this.frame - e.blink + 1 : 18 === e.blink ? this.frame < e.blink && this.frame > 0 ? 0 : 0 === this.frame ? 3 : this.frame - e.blink + 1 : this.frame < e.blink && this.frame > 1 ? 0 : 19 === this.frame ? 1 : 0 === this.frame ? 2 : 3
         },
         addUser: function(e) {
             if (e.on("change:friend", this.friendBind),
             !this.full)
                 if (!r.settings.friendAvatarsOnly || e.get("friend") || e.get("id") === o.get("id")) {
                     var t = this.gridData.addUser(e);
                     t === !0 ? (this.createUser(e),
                     this.sortZIndex(),
                     this.refresh(),
                     this.draw()) : t === !1 && (this.full = !0)
                 } else
                     this.nonFriends[e.get("id")] = e;
             if (this.full) {
                 var i = this.gridData.getHighestPriority();
                 if (e.get("priority") < i.priority) {
                     var s = this.gridData.userMap[i.id];
                     this.removeUser(i.id, !0),
                     this.addUser(e),
                     e = s
                 }
                 this.invisibleUsers.push(e),
                 this.invisibleUsers.sort(this.prioritySort)
             }
         },
         onFriendChange: function(e) {
             var t = e.get("id");
             e.get("friend") ? (this.nonFriends[t] = void 0,
             delete this.nonFriends[t],
             this.addUser(e)) : (this.removeUser(t),
             this.nonFriends[t] = e)
         },
         prioritySort: function(e, t) {
             return e.priority < t.priority ? 1 : -1
         },
         removeUser: function(e, t) {
             var i = this.gridData.removeUser(e);
             i && (this.full = !1);
             var s;
             if (this.userImageMap[e]) {
                 for (s = this.images.length; s--; )
                     if (this.images[s] === this.userImageMap[e]) {
                         this.images.splice(s, 1),
                         --this.loadCount;
                         break
                     }
                 this.removeFromColorMap(e),
                 this.userImageMap[e].user.off("change:avatarID", this.onAvatarChange, this).off("change:vote", this.onVoteChange, this),
                 delete this.userImageMap[e],
                 t || (this.refresh(),
                 this.draw())
             } else
                 for (this.nonFriends[e] && (this.nonFriends[e] = void 0,
                 delete this.nonFriends[e]),
                 s = this.invisibleUsers.length; s--; )
                     if (this.invisibleUsers[s].id === e) {
                         this.invisibleUsers.splice(s, 1);
                         break
                     }
             !this.full && !t && this.invisibleUsers.length > 0 && this.addUser(this.invisibleUsers.shift())
         },
         removeFromColorMap: function(e) {
             for (var t = this.colorMap[this.userImageMap[e].color].length; t--; )
                 if (this.colorMap[this.userImageMap[e].color][t].user.get("id") === e) {
                     this.colorMap[this.userImageMap[e].color].splice(t, 1);
                     break
                 }
         },
         createUser: function(e) {
             e.on("change:avatarID", this.onAvatarChange, this).on("change:vote", this.onVoteChange, this);
             for (var t = e.get("_position").r, i = e.get("_position").c, s = (1 - this.gridData.backScale) / this.gridData.rows, a = this.OFFSET_Y, o = .4, r = this.gridData.cellSize * o, h = 0; h < t; ++h)
                 o = s * h + this.gridData.backScale,
                 r = this.gridData.cellSize * o,
                 h < t && (a += r);
             var c = n.AUDIENCE;
             e.get("avatarID").indexOf("dragon") > -1 ? c = n.DRAGON : e.get("avatarID").indexOf("-e01") > -1 && (c = n.EPIC);
             var p = 15 + (this.WIDTH - 30 - this.gridData.cellSize * this.gridData.columns * o) / 2
               , u = this.userImageMap[e.get("id")] = {
                 user: e,
                 avatarID: e.get("avatarID"),
                 color: l.getHitSlot(e.get("avatarID")) || 1,
                 blink: d.MASTER.integer(0, 19),
                 props: {
                     x: ~~(p + i * r + r / 2 - c.w / 2 * o),
                     y: ~~(a + r / 2 - c.h * o),
                     w: c.w * o,
                     h: c.h * o,
                     sw: c.sw * o,
                     scale: o,
                     ox: p + i * r + r / 2 - c.w / 2,
                     oy: a + r / 2 - c.h,
                     ow: c.w,
                     oh: c.h
                 }
             };
             this.setHitRect(u),
             n.IMAGES[u.avatarID] ? u.image = n.IMAGES[u.avatarID] : this.loadAvatar(u),
             this.images.push(this.userImageMap[e.get("id")])
         },
         onAvatarChange: function(e) {
             if (this.userImageMap[e.get("id")]) {
                 if (e.get("id") !== o.get("id") && e.get("avatarID").indexOf("-e") > -1)
                     return this.removeUser(e.get("id")),
                     void this.addUser(e);
                 for (var t = this.gridData.userMap[e.get("id")], i = t.get("_position").r, s = t.get("_position").c, a = (1 - this.gridData.backScale) / this.gridData.rows, h = this.OFFSET_Y, c = .4, p = this.gridData.cellSize * c, d = 0; d < i; ++d)
                     c = a * d + this.gridData.backScale,
                     p = this.gridData.cellSize * c,
                     d < i && (h += p);
                 var u = 15 + (this.WIDTH - 30 - this.gridData.cellSize * this.gridData.columns * c) / 2;
                 this.removeFromColorMap(e.get("id"));
                 var f = this.userImageMap[e.get("id")]
                   , m = n.AUDIENCE;
                 e.get("avatarID").indexOf("dragon") > -1 ? m = n.DRAGON : e.get("avatarID").indexOf("-e01") > -1 && (m = n.EPIC),
                 f.avatarID = e.get("avatarID"),
                 f.color = l.getHitSlot(f.avatarID) || 1,
                 f.props = {
                     x: ~~(u + s * p + p / 2 - m.w / 2 * c),
                     y: ~~(h + p / 2 - m.h * c),
                     w: m.w * c,
                     h: m.h * c,
                     sw: m.sw * c,
                     scale: c,
                     ox: u + s * p + p / 2 - m.w / 2,
                     oy: h + p / 2 - m.h,
                     ow: m.w,
                     oh: m.h
                 },
                 this.setHitRect(f),
                 n.IMAGES[f.avatarID] ? (f.image = n.IMAGES[f.avatarID],
                 r.settings.dancing ? (this.refresh(),
                 this.draw()) : (this.hitRendered = !1,
                 this.draw())) : this.loadAvatar(f, !0)
             }
         },
         setHitRect: function(e) {
             e.props.rect = {
                 l: Math.round(e.props.x + 55 * e.props.scale),
                 t: Math.round(e.props.y + 50 * e.props.scale),
                 r: Math.round(e.props.x + e.props.w - 55 * e.props.scale),
                 b: Math.round(e.props.y + e.props.h)
             },
             e.props.rect.w = e.props.rect.r - e.props.rect.l,
             e.props.rect.h = e.props.rect.b - e.props.rect.t,
             this.colorMap[String(e.color)] || (this.colorMap[String(e.color)] = []),
             this.colorMap[String(e.color)].push(e)
         },
         onVoteChange: function(e, t) {
             if (this.userImageMap[e.get("id")]) {
                 var i = e.previousAttributes()
                   , s = !1;
                 i && (0 === i.vote || i.vote === -1 && 1 === t ? s = !0 : 1 === i.vote && (s = !0)),
                 s && this.refresh()
             }
         },
         sortZIndex: function() {
             this.images.sort(function(e, t) {
                 var i = e.props.y + e.props.h
                   , s = t.props.y + t.props.h;
                 if (e.user && t.user) {
                     if (e.user.get("id") === o.get("id"))
                         return 1;
                     if (t.user.get("id") === o.get("id"))
                         return -1;
                     e.user.get("priority") < t.user.get("priority") ? i += .5 : e.user.get("priority") > t.user.get("priority") && (i -= .5)
                 }
                 return i > s ? 1 : i < s + s ? -1 : 0
             });
             for (var e = this.images.length, t = null; e--; )
                 if (this.images[e].user && this.images[e].user.get("id") === o.get("id")) {
                     t = e;
                     break
                 }
             if (null !== t) {
                 var i = this.images.splice(t, 1)[0];
                 i && this.images.push(i)
             }
             for (e = this.images.length; e--; )
                 this.images[e].props.zindex = e;
             for (var s in this.colorMap)
                 this.colorMap[s].sort(function(e, t) {
                     return e.props.zindex > t.props.zindex ? 1 : e.props.zindex < t.props.zindex ? -1 : 0
                 })
         },
         loadAvatar: function(e, t) {
             var i = new Image;
             i.crossOrigin = "Anonymous";
             var s = this;
             i.onload = function() {
                 s.onAvatarLoaded(this, e, t)
             }
             ,
             i.src = l.getAvatarUrl(e.avatarID, "")
         },
         onAvatarLoaded: function(e, t, i) {
             n.IMAGES[t.avatarID] = t.image = e,
             i ? (this.refresh(),
             this.draw()) : this.onImageLoaded()
         },
         onFXChange: function(e, i) {
             if (this.strobeTimeoutID && clearTimeout(this.strobeTimeoutID),
             this.strobeBind || (this.strobeBind = t.bind(this.strobeSwap, this)),
             i) {
                 if (i === ["dim"])
                     this.toggleLights(!1);
                 else if (i === ["strobe"])
                     return this.strobeTimeoutID = setTimeout(this.strobeBind, 160),
                     !0
             } else
                 this.toggleLights(!0)
         },
         strobeSwap: function() {
             this.toggleLights(!this.strobeState),
             clearTimeout(this.strobeTimeoutID),
             this.strobeTimeoutID = setTimeout(this.strobeBind, this.strobeState ? 50 : 160)
         },
         toggleLights: function(t) {
             this.strobeState = t,
             t ? e(this.canvas).show() : e(this.canvas).hide()
         },
         drawGrid: function() {
             for (var e = (1 - this.gridData.backScale) / this.gridData.rows, t = this.OFFSET_Y, i = 0; i < this.gridData.rows; ++i) {
                 for (var s = e * i + this.gridData.backScale, n = this.gridData.cellSize * s, a = 15 + (this.WIDTH - 30 - this.gridData.cellSize * this.gridData.columns * s) / 2, o = 0; o < this.gridData.columns; ++o) {
                     var r = c.hexToRGB(this.getCellColor(i, o))
                       , l = this.getCellAlpha(i, o);
                     this.context.fillStyle = "rgba(" + r.red + ", " + r.green + ", " + r.blue + ", " + l + ")",
                     this.context.fillRect(a + o * n, t, n - 1, n - 1)
                 }
                 t += n
             }
         },
         getCellAlpha: function(e, t) {
             return this.gridData.getPriorityLevelForCellAt(e, t) / 100
         },
         getCellColor: function(e, t) {
             var i = this.gridData.getZoneIDsForCellAt(e, t);
             return i.sort(),
             i.length > 0 ? this.zoneColors[i[i.length - 1] - 1] : "#333333"
         },
         pauseAnimation: function() {
             this.stopPooling(),
             this.refresh(),
             this.draw()
         },
         resumeAnimation: function() {
             this.startPooling()
         },
         startPooling: function() {
             void 0 === this.interval ? this.interval = setInterval(this.onHitInterval.bind(this), this.INTERVAL) : (this.destroyInterval(),
             this.startPooling())
         },
         stopPooling: function() {
             this.destroyInterval()
         },
         destroyInterval: function() {
             try {
                 clearInterval(this.interval),
                 this.interval = void 0
             } catch (e) {}
         },
         onHitInterval: function() {
             this.draw()
         },
         startAnimation: function() {
             this.isAnimationEnabled = !0,
             this.startPooling()
         },
         stopAnimation: function() {
             this.isAnimationEnabled = !1,
             this.stopPooling()
         },
         toggleAnimation: function() {
             this.isAnimationEnabled === !0 ? this.stopAnimation() : this.startAnimation()
         }
     });
     return new g
 }),
 define("hbs!templates/room/Booth", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<canvas id="dj-canvas" width="340" height="275"></canvas>'
     });
     return t.registerPartial("templates_room_Booth", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/a6125", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/d8478/ed416", "f1e1d/d8478/eeaaf", "f1e1d/d9232/b42c1", "f1e1d/af752/b54a3", "f1e1d/af752/fa88e", "f1e1d/e74c9/b14c6/c055e", "hbs!templates/room/Booth"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = t.View.extend({
         id: "dj-booth",
         initialize: function() {
             this.setRenderMode(l.clipRender),
             i.on("room:loaded", this.onDJUpdate, this)
         },
         render: function() {
             return this.$el.html(c()),
             this.djCanvas = this.$("#dj-canvas").get(0),
             this.djContext = this.djCanvas.getContext("2d"),
             this.djContext.fillStyle = "rgba(0,0,0,0)",
             this.image = void 0,
             this.frame = 0,
             a.on("change:currentDJ", this.onDJUpdate, this),
             this.clear(),
             this
         },
         onRoomJoin: function() {
             this.clear()
         },
         onMouseMove: function(e) {
             this.image ? (h.showSimple(this.image.user, {
                 x: e.pageX,
                 y: e.pageY - 14
             }),
             this.$el.css("cursor", "pointer")) : (h.hide(!1),
             this.$el.css("cursor", "default"))
         },
         clear: function() {
             this.removeChangeListeners(),
             this.djContext.clearRect(0, 0, 340, 275),
             this.userImageMap = {},
             this.image = void 0,
             this.refresh()
         },
         removeChangeListeners: function() {
             for (var e in this.userImageMap)
                 this.userImageMap[e].user.off("change:avatarID", this.onUserChange, this)
         },
         onDJUpdate: function() {
             var e = a.get("currentDJ");
             if (this.removeChangeListeners(),
             this.userImageMap = {},
             this.image = void 0,
             this.refresh(),
             e) {
                 var t = s.get(e);
                 t && this.createUser(t)
             }
             this.draw()
         },
         createUser: function(e) {
             e.on("change:avatarID", this.onUserChange, this).on("change:vote", this.onVoteChange, this);
             var t = n.DJ
               , i = 85
               , s = 55;
             e.get("avatarID").indexOf("dragon") > -1 ? (i = 0,
             t = n.DJ_DRAGON) : e.get("avatarID").indexOf("-e01") > -1 && (i = 60,
             s = 0,
             t = n.DJ_EPIC);
             var a = this.userImageMap[e.get("id")] = {
                 user: e,
                 avatarID: e.get("avatarID"),
                 props: {
                     x: i,
                     y: s,
                     w: t.w,
                     h: t.h,
                     scale: 1,
                     sw: t.sw,
                     ox: i,
                     oy: s,
                     ow: t.w,
                     oh: t.h
                 }
             };
             n.IMAGES[a.avatarID + "dj"] ? a.image = n.IMAGES[a.avatarID + "dj"] : this.loadAvatar(a),
             this.image = this.userImageMap[e.get("id")]
         },
         onUserChange: function(e) {
             if (this.userImageMap[e.get("id")]) {
                 var t = this.userImageMap[e.get("id")];
                 t.avatarID = e.get("avatarID");
                 var i = n.DJ
                   , s = 85
                   , a = 55;
                 t.avatarID.indexOf("dragon") > -1 ? (s = 0,
                 i = n.DJ_DRAGON) : t.avatarID.indexOf("-e01") > -1 && (s = 60,
                 a = 0,
                 i = n.DJ_EPIC),
                 t.props = {
                     x: s,
                     y: a,
                     w: i.w,
                     h: i.h,
                     scale: 1,
                     sw: i.sw,
                     ox: s,
                     oy: a,
                     ow: i.w,
                     oh: i.h
                 },
                 n.IMAGES[t.avatarID + "dj"] ? (t.image = n.IMAGES[t.avatarID + "dj"],
                 this.refresh(),
                 o.settings.dancing || this.draw()) : this.loadAvatar(t, !0)
             }
         },
         loadAvatar: function(e, t) {
             var i = this
               , s = new Image;
             s.crossOrigin = "Anonymous",
             s.onload = function() {
                 i.onAvatarLoaded(this, e, t)
             }
             ,
             s.src = r.getAvatarUrl(e.avatarID, "dj")
         },
         onAvatarLoaded: function(e, t, i) {
             n.IMAGES[t.avatarID + "dj"] = t.image = e,
             this.refresh(),
             this.draw()
         },
         refresh: function() {
             this.isRendered = !1,
             this.renderPass = 0,
             this.renderedFrames = new Array(20)
         },
         draw: function() {
             if (this.isRendered)
                 this.update();
             else {
                 var e = this.renderFunc();
                 e ? l.isMac && l.isSafari || (++this.renderPass < 21 ? this.renderedFrames[this.frame] = this.djContext.getImageData(0, 0, 340, 275) : this.isRendered = !0) : this.refresh()
             }
         },
         update: function() {
             this.renderedFrames[this.frame] && this.djContext.putImageData(this.renderedFrames[this.frame], 0, 0)
         },
         setRenderMode: function(e) {
             e ? this.renderFunc = this.renderClip : this.renderFunc = this.renderNoClip
         },
         renderClip: function() {
             this.djContext.clearRect(0, 0, 340, 275);
             var e = !0;
             return this.image && (this.image.image && this.image.image.complete ? (this.djContext.save(),
             this.djContext.beginPath(),
             this.djContext.moveTo(this.image.props.x, this.image.props.y),
             this.djContext.lineTo(this.image.props.x + this.image.props.w, this.image.props.y),
             this.djContext.lineTo(this.image.props.x + this.image.props.w, this.image.props.y + this.image.props.h),
             this.djContext.lineTo(this.image.props.x, this.image.props.y + this.image.props.h),
             this.djContext.lineTo(this.image.props.x, this.image.props.y),
             this.djContext.closePath(),
             this.djContext.fill(),
             this.djContext.clip(),
             this.djContext.drawImage(this.image.image, this.image.props.x - this.image.props.w * this.frame, this.image.props.y, this.image.props.sw, this.image.props.h),
             this.djContext.restore()) : e = !1),
             e
         },
         renderNoClip: function() {
             this.djContext.clearRect(0, 0, 340, 275);
             var e = !0;
             return this.image && (this.image.image && this.image.image.complete ? (this.djContext.save(),
             this.djContext.translate(this.image.props.x, this.image.props.y),
             this.djContext.scale(this.image.props.scale, this.image.props.scale),
             this.djContext.drawImage(this.image.image, this.image.props.ow * this.frame, 0, this.image.props.ow, this.image.props.oh, 0, 0, this.image.props.ow, this.image.props.oh),
             this.djContext.restore()) : e = !1),
             e
         }
     });
     return new p
 }),
 define("hbs!templates/room/DJButton", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<span class="d-block d-lg-none">\n    <button class="btn btn-room-controls btn-play">\n        <i class="plugdjfont icon-dj" aria-hidden="true"></i>\n    </button>\n    <p class="room-controls__bottom-text"></p>\n</span>\n<span class="d-none d-lg-block">\n    <button class="btn btn-no-dj-secondary play btn-no-dj-secondary__bottom">\n        <div class="btn-no-dj-secondary__icon ">\n          <i class="plugdjfont icon-dj" aria-hidden="true"></i>\n        </div>\n        <span class="room-controls__bottom-text"></span>\n    </button>\n</span>\n'
     });
     return t.registerPartial("templates_room_DJButton", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/d5b88", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/fce39/a4370", "f1e1d/e8300/a815f", "f1e1d/e8300/c0237", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/e7b9f", "f1e1d/af752/bacfb", "f1e1d/e74c9/a6e51/f2220", "hbs!templates/room/DJButton", "lang/Lang", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m) {
     var g = t.View.extend({
         className: "room-controls__bottom-item dj-button",
         render: function() {
             return this.$el.html(u).click(e.bind(this.onClick, this)),
             this.$label = this.$(".room-controls__bottom-text"),
             this.$icon = this.$("i"),
             i.on("userPlaying:update", this.updateUserPlaying, this).on("djButton:update", this.updateUserPlaying, this).on("djButton:click", this.onClick, this),
             r.on("change:isLocked", this.updateDJButton, this),
             this.updateDJButton(),
             this
         },
         showSpinner: function() {
             this.hideSpinner(),
             this.$icon.hide(),
             this.spinner = new d({
                 size: d.SMALL
             }),
             this.$icon.parent().parent().find(".btn-no-dj-secondary__icon").append(this.spinner.$el),
             this.spinner.render()
         },
         hideSpinner: function() {
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             this.$icon.show())
         },
         setMode: function(e) {
             this.mode = e,
             "join" === this.mode ? (this.$icon.removeClass().addClass("plugdjfont icon-dj"),
             this.$label.text(f.dj.djJoin)) : "wait" === this.mode ? (this.$icon.removeClass().addClass("fa fa-clock-o"),
             this.$label.text(f.dj.waitJoin)) : "quit" === this.mode ? (this.$icon.removeClass().addClass("fa fa-times-circle"),
             this.$label.text(f.dj.djLeave)) : "leave" === this.mode ? (this.$icon.removeClass().addClass("fa fa-times-circle"),
             this.$label.text(f.dj.waitLeave)) : "full" === this.mode ? (this.$icon.removeClass().addClass("fa fa-dot-circle"),
             this.$label.text(f.dj.waitFull)) : "locked" === this.mode && (this.$icon.removeClass().addClass("fa fa-lock"),
             this.$label.text(f.dj.boothLocked)),
             this.$el.removeClass().addClass("room-controls__bottom-item dj-button is-" + e),
             i.trigger("djButton:mode:" + e, this)
         },
         onClick: function() {
             l.get("guest") ? i.trigger("signup:show", "Community: Trigger - Waitlist Join") : "quit" === this.mode ? i.dispatch(new a(a.CONFIRM,f.alerts.quitDJTitle,f.alerts.quitDJMessage,e.bind(this.onQuitConfirm, this))) : "leave" === this.mode ? i.dispatch(new a(a.CONFIRM,f.alerts.leaveWaitlistTitle,f.alerts.leaveWaitlistMessage,e.bind(this.onLeaveConfirm, this))) : this.onPlayClick(),
             i.trigger("djButton:onclick", this)
         },
         onPlayClick: function() {
             var e = 0
               , t = n.findWhere({
                 active: !0
             });
             l.hasPermission(h.MANAGER) || l.get("role") === h.DJ ? e = 0 : r.get("isLocked") && (e = 1),
             0 === e && s.isFull() && (e = 3),
             0 !== e || t && 0 !== t.get("count") || (e = 2),
             0 === e ? s.isTheUserPlaying ? i.trigger("notify", "icon-current-dj-white", f.alerts.alreadyPlaying) : s.isTheUserWaiting ? i.trigger("notify", "icon-join-waitlist-big", f.alerts.alreadyWaiting) : (this.showSpinner(),
             i.dispatch(new o(o.JOIN)),
             p.track(p.type.action, p.event.joinWaitlist),
             m("send", "event", "Community", "Wait List", "Join Wait List"),
             i.trigger("click:waitlist")) : 1 === e ? i.trigger("notify", "icon-booth-locked", f.alerts.lockedBooth) : 2 === e ? t ? (i.trigger("error:noMedia", f.alerts.playlistWithoutMedia),
             i.trigger("notify", "icon-playlist", f.alerts.playlistWithoutMedia, function() {
                 i.trigger("playlist:open")
             })) : (i.trigger("error:noPlaylist", f.alerts.createFirstPlaylist),
             i.trigger("notify", "icon-create-playlist", f.alerts.createFirstPlaylist, function() {
                 i.trigger("playlist:first")
             })) : 3 === e && i.trigger("notify", "icon-waitlist-full", f.alerts.waitListFull)
         },
         onQuitConfirm: function() {
             this.showSpinner(),
             i.dispatch(new o(o.LEAVE))
         },
         onLeaveConfirm: function() {
             this.showSpinner(),
             i.dispatch(new o(o.LEAVE))
         },
         updateUserPlaying: function() {
             this.hideSpinner(),
             this.updateDJButton()
         },
         updateDJButton: function() {
             var e = s.isFull();
             r.get("isLocked") ? s.isTheUserPlaying ? this.setMode("quit") : s.getUserPosition() > -1 ? this.setMode("leave") : e ? this.setMode("full") : l.hasPermission(h.MANAGER) || l.get("role") === h.DJ ? r.get("currentDJ") ? this.setMode("wait") : this.setMode("join") : this.setMode("locked") : s.isTheUserPlaying ? "quit" !== this.mode && this.setMode("quit") : s.getUserPosition() > -1 ? this.setMode("leave") : r.get("currentDJ") ? e ? this.setMode("full") : this.setMode("wait") : this.setMode("join")
         }
     });
     return g
 }),
 define("hbs!templates/playlist/media/list/HistoryMediaRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<img src="',
         (a = i.image) ? a = a.call(t, {
             hash: {}
         }) : (a = t.image,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"/>\r\n<div class="meta">\r\n    <span class="author">',
         (a = i.author) ? a = a.call(t, {
             hash: {}
         }) : (a = t.author,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += " - ",
         (a = i.title) ? a = a.call(t, {
             hash: {}
         }) : (a = t.title,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += '</span>\r\n    <span class="name">',
         (a = i.name) ? a = a.call(t, {
             hash: {}
         }) : (a = t.name,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\r\n    <span class="timestamp">',
         (a = i.timestamp) ? a = a.call(t, {
             hash: {}
         }) : (a = t.timestamp,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\r\n</div>\r\n<div class="score">\r\n    <div class="item positive">\r\n        <i class="icon icon-history-positive"></i><span>' + l((a = t.score,
         a = null == a || a === !1 ? a : a.positive,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n    </div>\r\n    <div class="item grabs">\r\n        <i class="icon icon-history-grabs"></i><span>' + l((a = t.score,
         a = null == a || a === !1 ? a : a.grabs,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n    </div>\r\n    <div class="item negative">\r\n        <i class="icon icon-history-negative"></i><span>' + l((a = t.score,
         a = null == a || a === !1 ? a : a.negative,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n    </div>\r\n    <div class="item listeners">\r\n        <i class="icon icon-history-listeners"></i><span>' + l((a = t.score,
         a = null == a || a === !1 ? a : a.listeners,
         typeof a === r ? a.apply(t) : a)) + "</span>\r\n    </div>\r\n</div>"
     });
     return t.registerPartial("templates_playlist_media_list_HistoryMediaRow", i),
     i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/f5e8a", ["underscore", "f1e1d/fce39/d3252", "f1e1d/af752/e504b", "f1e1d/e74c9/d9fb2/ead2a/e9def/c6092", "hbs!templates/playlist/media/list/HistoryMediaRow"], function(e, t, i, s, n) {
     var a = s.extend({
         render: function() {
             var t = this.model.get("media")
               , s = this.model.get("score");
             return this.$el.html(n({
                 image: t.get("image").replace("http:/", "https:/"),
                 author: e.escape(t.get("author")),
                 title: e.escape(t.get("title")),
                 timestamp: i.convertTimestampToReadableDate(this.model.get("timestamp"), !0),
                 name: this.getName(),
                 score: s
             })),
             this.updateScore(s),
             this.update(),
             this
         },
         getName: function() {
             return this.model.get("user").username
         },
         onChange: function() {
             this.updateScore(this.model.get("score"))
         },
         updateScore: function(e) {
             this.$(".positive span").text(e.positive),
             this.$(".grabs span").text(e.grabs),
             this.$(".negative span").text(e.negative),
             this.$(".listeners span").text(e.listeners || t.length - 1)
         },
         updateTime: function() {
             this.$(".timestamp").text(i.convertTimestampToReadableDate(this.model.get("timestamp"), !0))
         },
         getAction: function() {
             return "history"
         }
     });
     return a
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/da623", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/fce39/d6687", "f1e1d/e8300/b280a", "f1e1d/e8300/d904e", "f1e1d/af752/c506b", "f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", "f1e1d/e74c9/d9fb2/ead2a/e9def/f5e8a"], function(e, t, i, s, n, a, o, r, l) {
     var h = r.extend({
         collection: s,
         RowClass: l,
         listClass: "history",
         doubleClickRow: function(t) {
             e(document).off("mousemove", this.thresholdBind),
             this.resetDrag(),
             i.dispatch(new a(a.PREVIEW,t.model.get("media")))
         },
         getSelectedRows: function() {
             var e, t = [], i = {};
             for (e in this.selectedRows)
                 try {
                     i[this.selectedRows[e].model.get("media").get("cid")] || (t.push(this.selectedRows[e]),
                     i[this.selectedRows[e].model.get("media").get("cid")] = !0)
                 } catch (e) {}
             return t.sort(this.sortSelectedRows),
             t
         },
         selectMultipleRows: function(e, t) {
             for (var i = e; i >= t; i--)
                 this.selectedRows[this.collection.at(i).get("media").get("cid")] = this.rows[i];
             this.updateSelectedRows()
         },
         updateSelectedRows: function() {
             var e = this;
             t.each(this.rows, function(t) {
                 t.select(void 0 != e.selectedRows[t.model.get("media").get("cid")])
             })
         },
         toggleRow: function(e) {
             e.select(!e.options.selected),
             e.options.selected ? this.selectedRows[e.model.get("media").get("cid")] = e : delete this.selectedRows[e.model.get("media").get("cid")]
         },
         onResize: function(e) {
             e = e || o.getSize(),
             this.scrollPane && this.scrollPane.reinitialise(),
             this.deletePending || (this.scrollLock = !1)
         },
         resetDrag: function() {
             e(document).off("mouseup", this.documentReleaseBind).off("mousemove", this.mousePositionBind)
         },
         onCheckThreshold: function() {},
         onMousePosition: function() {},
         onDragUpdate: function() {}
     });
     return h
 }),
 define("hbs!templates/room/history/HistoryPixel", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="pixel__container">\n    <div id="plugdj_pixel_history"></div>\n</div>\n'
     });
     return t.registerPartial("templates_room_history_HistoryPixel", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b3668/def02", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/fce39/d6687", "f1e1d/d8478/b5029", "f1e1d/af752/c506b", "f1e1d/e74c9/d9fb2/ead2a/e9def/da623", "hbs!templates/room/history/HistoryPixel"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = s.extend({
         id: "history-panel",
         className: "plugdj__panel plugdj__panel-bottom",
         initialize: function() {
             this.resizeBind = t.bind(this.onResize, this),
             this.cleanupBind = t.bind(this.cleanup, this),
             this.showBind = t.bind(this.onShow, this),
             this.showDeferBind = t.bind(this.showDefer, this),
             this.animateBind = t.bind(this.onAnimate, this),
             this.elapsedBind = t.bind(this.onElapsed, this),
             this.$divider = e("<div/>").addClass("divider"),
             this.showing = !1,
             this.setData("state", "closed")
         },
         render: function() {
             return n.on("show:history history:show", this.show, this).on("history:hide", this.hide, this).on("history:toggle", this.toggle, this),
             this
         },
         toggle: function() {
             this.showing ? n.trigger("panel:back", !0) : this.show()
         },
         show: function() {
             this.showing ? this.hide() : (r.resize(this.resizeBind),
             t.defer(this.showDeferBind),
             n.trigger("dfp:history:show"),
             n.trigger("panel:show", "history"),
             this.setData("state", "open"),
             this.showing = !0)
         },
         showDefer: function() {
             this.list = new l,
             this.$el.empty().append(h()).append(this.$divider).append(this.list.$el).show(),
             this.list.render(),
             e("#history-button").addClass("selected").find("i").removeClass().addClass("icon icon-arrow-up"),
             o.on("change:elapsed", this.elapsedBind),
             t.defer(this.showBind)
         },
         onElapsed: function() {
             if (a.length > 0 && o.get("historyID") === a.at(0).get("id") && this.list && this.list.rows.length)
                 for (var e = this.list.rows.length; e--; )
                     this.list.rows[e].updateTime()
         },
         onAnimate: function() {},
         onShow: function() {
             this.showing = !0
         },
         hide: function() {
             this.showing === !0 && (this.showing = !1,
             setTimeout(this.cleanupBind, 500),
             n.trigger("dfp:history:hide"),
             n.trigger("history:hide"),
             this.setData("state", "closed"))
         },
         onResize: function(e) {},
         cleanup: function() {
             this.showing = !1,
             o.off("change:elapsed", this.elapsedBind),
             r.off("resize", this.resizeBind),
             this.list && this.list.destroy(),
             this.list = void 0,
             delete this.list,
             this.$el.empty(),
             e("#history-button").removeClass("selected").find("i").removeClass().addClass("icon icon-history-white")
         }
     });
     return c
 }),
 define("hbs!templates/room/header/RoomBar", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="icon icon-room"></i>\n<div id="room-name">\n    <span class="bar-value"></span>\n</div>\n<div id="room-host">\n    <span class="dark-label">' + l((a = t.header,
         a = null == a || a === !1 ? a : a.hostedBy,
         typeof a === r ? a.apply(t) : a)) + ': </span><span class="username"></span>\n</div>\n<div class="favorite" >\n    <i class="icon icon-star-white"></i>\n</div>'
     });
     return t.registerPartial("templates_room_header_RoomBar", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b3668/a1fdd", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/be642/e32cc/d1ea2", "f1e1d/be642/e32cc/fa5a3", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "hbs!templates/room/header/RoomBar", "lang/Lang", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = i.View.extend({
         id: "room-bar",
         className: "bar-button",
         render: function() {
             return this.$el.html(c(p)).click(t.bind(this.onClick, this)),
             this.$room = this.$("#room-name span"),
             this.$host = this.$("#room-host .username"),
             this.$favorite = this.$(".favorite"),
             this.$favoriteIcon = this.$(".favorite i"),
             this.$roomName = this.$("#room-name"),
             n.on("change:name", this.onNameChange, this).on("change:hostName", this.onHostChange, this).on("change:favorite", this.onFavoriteChange, this),
             l.resize(t.bind(this.onResize, this)),
             this
         },
         onClick: function(i) {
             if (!e("#app").hasClass("is-wt")) {
                 var l = e(i.target);
                 a.get("guest") ? s.trigger("signup:show", l.hasClass("icon-star-white") || l.hasClass("icon-grab") ? "Community: Trigger - Favorite" : "Community: Trigger - Community Settings") : l.hasClass("icon-star-white") || l.hasClass("icon-grab") ? n.get("favorite") ? new r(n.get("id")).on("success", t.bind(this.onSuccess, this)) : (new o(n.get("id")).on("success", t.bind(this.onSuccess, this)),
                 d("send", "event", "Community", "Favorite", "Add")) : e("#room-settings").is(":visible") ? s.trigger("hide:settings") : s.trigger("show:settings")
             }
         },
         onNameChange: function() {
             this.$room.text(n.get("name"))
         },
         onHostChange: function() {
             this.$host.text(n.get("hostName") || p.roomInfo.noHostName)
         },
         onFavoriteChange: function() {
             n.get("favorite") ? (this.$favorite.addClass("selected"),
             this.$favoriteIcon.removeClass().addClass("icon icon-grab")) : (this.$favorite.removeClass("selected"),
             this.$favoriteIcon.removeClass().addClass("icon icon-star-white"))
         },
         onSuccess: function(e) {
             n.set("favorite", e)
         },
         onResize: function(e) {
             var t = Math.min(e.barWidth - 452, 392);
             this.$el.width(t),
             this.$roomName.width(t - this.$roomName.offset().left + 10)
         }
     });
     return u
 }),
 define("hbs!templates/room/header/NowPlayingBar", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="bar-divider"></div>\n<i class="icon icon-current-dj"></i>\n<div id="now-playing-media">\n    <span class="bar-value"></span>\n</div>\n<div id="now-playing-dj">\n    <span class="dark-label">' + l((a = t.header,
         a = null == a || a === !1 ? a : a.currentDJ,
         typeof a === r ? a.apply(t) : a)) + ': </span><span class="username"></span>\n</div>\n<div id="now-playing-time">\n    <i class="icon icon-time"></i>\n    <span></span>\n</div>\n<div id="history-button">\n    <i class="icon icon-history-white"></i>\n</div>'
     });
     return t.registerPartial("templates_room_header_NowPlayingBar", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b3668/a0c08", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/af752/c506b", "f1e1d/af752/e504b", "f1e1d/e74c9/b49ed/c0731/a48dc", "hbs!templates/room/header/NowPlayingBar", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = i.View.extend({
         id: "now-playing-bar",
         render: function() {
             return this.$el.html(p(d)),
             this.$media = this.$("#now-playing-media .bar-value"),
             this.$dj = this.$("#now-playing-dj .username"),
             this.$time = this.$("#now-playing-time span"),
             this.$history = this.$("#history-button").on("click", t.bind(this.onHistoryClick, this)).on("mouseenter", t.bind(this.onShowTooltip, this)).on("mouseleave", t.bind(this.onHideTooltip, this)),
             this.volume = new c,
             this.$el.append(this.volume.$el),
             this.volume.render(),
             o.on("change:media", this.onMediaChange, this).on("change:remaining", this.onTimeChange, this),
             a.on("change:currentDJ", this.onDJChange, this),
             l.resize(t.bind(this.onResize, this)),
             r.on("change:slug", this.onSpecial, this),
             this.onMediaChange(),
             this.onDJChange(),
             this
         },
         onSpecial: function() {
             switch (r.get("slug")) {
             default:
                 this.onMediaChange(),
                 this.onDJChange()
             }
         },
         onResize: function(e) {
             var t = Math.min(e.barWidth - 452, 392)
               , i = e.barWidth - t;
             this.$el.width(i).css("left", e.barHeight + t),
             this.$("#now-playing-media").width(this.$("#now-playing-time").offset().left - this.$("#now-playing-media").offset().left - 10)
         },
         onMediaChange: function() {
             try {
                 var e = o.get("media");
                 e && this.$media ? (this.$media.html('<span class="author">' + h.cleanTypedString(e.get("author")) + "</span> - " + h.cleanTypedString(e.get("title"))),
                 this.$("#now-playing-media").attr("title", h.cleanTypedString(e.get("author")) + " - " + h.cleanTypedString(e.get("title"))),
                 this.$("#now-playing-time").css("opacity", 1)) : (this.$media.html("<span>" + d.playback.noDJTitle + "</span>"),
                 this.$("#now-playing-media").attr("title", d.playback.noDJTitle),
                 this.$("#now-playing-time").css("opacity", 0))
             } catch (e) {}
             this.onResize(l.getSize())
         },
         onDJChange: function() {
             this.djUser && this.djUser.off("change:username", this.onUsername, this);
             var e, t = n.get(a.get("currentDJ"));
             t ? (this.djUser = t,
             this.djUser.on("change:username", this.onUsername, this),
             e = t.get("username")) : e = d.playback.noDJ,
             this.$dj.text(e)
         },
         onUsername: function() {
             this.djUser && this.$dj.text(this.djUser.get("username"))
         },
         onTimeChange: function() {
             var e = o.get("remaining");
             e < 0 || !o.get("media") ? this.$time.text("00:00") : this.$time.text(h.formatTimeLeading(e)),
             e < 5 ? this.$time.hasClass("elapsing") || this.$time.addClass("elapsing") : this.$time.hasClass("elapsing") && this.$time.removeClass("elapsing");
             try {
                 this.$("#now-playing-media").width(this.$("#now-playing-time").offset().left - this.$("#now-playing-media").offset().left - 10)
             } catch (e) {}
         },
         onHistoryClick: function() {
             e("#app").hasClass("is-wt") || (s.trigger("hide:user", !0).trigger("hide:settings", !0),
             t.defer(function() {
                 s.trigger("show:history")
             }))
         },
         onShowTooltip: function() {
             s.trigger("tooltip:show", d.tooltips.history, this.$history, !0)
         },
         onHideTooltip: function() {
             s.trigger("tooltip:hide")
         }
     });
     return u
 }),
 define("f1e1d/e74c9/b49ed/b3668/ee34b", ["backbone", "f1e1d/e74c9/b49ed/b3668/a1fdd", "f1e1d/e74c9/b49ed/b3668/a0c08"], function(e, t, i) {
     var s = e.View.extend({
         id: "room-meta",
         className: "left-meta",
         initialize: function() {
             this.room = new t,
             this.playing = new i
         },
         render: function() {
             return this.$el.append(this.room.$el).append(this.playing.$el),
             this.room.render(),
             this.playing.render(),
             this
         }
     });
     return s
 });
 define("hbs!templates/room/header/PanelBar", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div id="chat-button" class="header-panel-button selected" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.headerChat,
         typeof a === r ? a.apply(t) : a)) + '">\n    <i class="fa fa-comments-o" aria-hidden="true"></i>\n    <span>' + l((a = t.header,
         a = null == a || a === !1 ? a : a.chat,
         typeof a === r ? a.apply(t) : a)) + '</span>\n</div>\n<div id="users-button" class="header-panel-button" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.headerUsers,
         typeof a === r ? a.apply(t) : a)) + '">\n    <div class="box">\n        <i class="fa fa-users" aria-hidden="true"></i>\n        <span class="bar-count"></span>\n        <span class="guest-count"></span>\n    </div>\n</div>\n<div id="waitlist-button" class="header-panel-button" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.headerWaitList,
         typeof a === r ? a.apply(t) : a)) + '">\n    <div class="box">\n        <i class="plugdjfont icon-dj" aria-hidden="true"></i>\n        <span class="current"></span><span class="count"></span>\n    </div>\n</div>\n<div id="friends-button" class="header-panel-button"  title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.headerFriends,
         typeof a === r ? a.apply(t) : a)) + '">\n   <i class="plugdjfont icon-friends" aria-hidden="true"></i>\n    <span class="request-count"></span>\n</div>'
     });
     return t.registerPartial("templates_room_header_PanelBar", i),
     i
 });
 define("f1e1d/e74c9/b49ed/b3668/dc5f7", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/fce39/fb3ca", "f1e1d/fce39/ac151", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/e74c9/b49ed/eab37/ca9c9", "hbs!templates/room/header/PanelBar", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = s.extend({
         id: "header-panel-bar",
         className: "right-meta",
         initialize: function(e) {
             this.currentPanel = e,
             this.preventGuest("onUsersClick", "Trigger user list on right bar"),
             this.preventGuest("onWaitListClick", "Trigger DJ waitlist on right bar"),
             this.preventGuest("onFriendsClick", "Trigger friends list on right bar")
         },
         render: function() {
             return n.on("chat:show", this.onChatClick, this),
             n.on("users:show", this.onUsersClick, this),
             n.on("waitlist:show", this.onWaitListClick, this),
             n.on("friends:show", this.onFriendsClick, this),
             n.on("panel:back", this.onPanelBack, this),
             n.on("resize:stop", this.onResize, this),
             this.$el.html(p(d)),
             this.$chatButton = this.$("#chat-button").on("click", t.bind(this.onChatClick, this)),
             this.$usersButton = this.$("#users-button").on("click", t.bind(this.onUsersClick, this)),
             this.$waitButton = this.$("#waitlist-button").on("click", t.bind(this.onWaitListClick, this)),
             this.$friendsButton = this.$("#friends-button").on("click", t.bind(this.onFriendsClick, this)),
             this.$(".header-panel-button").on("mouseleave", t.bind(this.onHideTooltip, this)),
             this.$users = this.$("span.bar-count"),
             this.$guests = this.$("span.guest-count"),
             this.$count = this.$(".count"),
             this.$current = this.$(".current"),
             this.$requestCount = this.$(".request-count"),
             a.isMobile === !1,
             l.on("change:population change:guests", this.onUsersUpdate, this),
             o.on("reset", this.onWaitListUpdate, this),
             r.on("reset add remove", this.onRequests, this),
             h.on("change:level", this.onLevelChange, this),
             this.onUsersUpdate(),
             this.onWaitListUpdate(),
             this.onRequests(),
             this.onLevelChange(),
             this.onResize(),
             this
         },
         onResize: function() {
             e(window).width() > 991 && ("chat" === this.currentPanel() ? this.onChatClick() : "user-lists" === this.currentPanel() ? this.onUsersClick() : "waitlist" === this.currentPanel() ? this.onWaitListClick() : "friends" === this.currentPanel() && this.onFriendsClick()),
             n.trigger("right-bar:hide")
         },
         onPanelBack: function() {
             e(window).width() > 991 || this.$(".header-panel-button").removeClass("selected")
         },
         onUsersUpdate: function() {
             this.$users.text(l.get("population") + l.get("guests"))
         },
         onWaitListUpdate: function() {
             var e = o.getUserPosition();
             e > -1 ? (this.$current.text(e + 1),
             o.length > 0 ? this.$count.text("/" + o.length) : this.$count.empty()) : (this.$current.text(o.length),
             this.$count.empty())
         },
         onChatClick: function() {
             (this.$chatButton.hasClass("selected") || c.chat) && a.isMobile !== !0 || (this.$(".header-panel-button").removeClass("selected"),
             this.$chatButton.addClass("selected"),
             n.trigger("show:chat"))
         },
         onUsersClick: function() {
             this.$usersButton.hasClass("selected") && a.isMobile !== !0 || (this.$(".header-panel-button").removeClass("selected"),
             this.$usersButton.addClass("selected"),
             n.trigger("show:users"))
         },
         onWaitListClick: function() {
             this.$waitButton.hasClass("selected") && a.isMobile !== !0 || (this.$(".header-panel-button").removeClass("selected"),
             this.$waitButton.addClass("selected"),
             n.trigger("show:waitlist"))
         },
         onFriendsClick: function() {
             this.$friendsButton.hasClass("selected") && a.isMobile !== !0 || (this.$(".header-panel-button").removeClass("selected"),
             this.$friendsButton.addClass("selected"),
             n.trigger("show:friends"))
         },
         onRequests: function() {
             r.length > 0 ? (this.$friendsButton.addClass("notify"),
             this.$requestCount.text(String(r.length))) : (this.$friendsButton.removeClass("notify"),
             this.$requestCount.text(""))
         },
         onLevelChange: function() {
             h.get("level") > 1 ? (this.$el.removeClass("level-1"),
             h.off("change:level", this.onLevel, this)) : this.$el.addClass("level-1")
         },
         onChatEnter: function() {
             n.trigger("tooltip:show", d.tooltips.headerChat, this.$chatButton, !0)
         },
         onUsersEnter: function() {
             n.trigger("tooltip:show", d.tooltips.headerUsers, this.$usersButton, !0)
         },
         onWaitListEnter: function() {
             n.trigger("tooltip:show", d.tooltips.headerWaitList, this.$waitButton, !0)
         },
         onFriendsEnter: function() {
             n.trigger("tooltip:show", d.tooltips.headerFriends, this.$friendsButton, !0)
         },
         onHideTooltip: function() {
             n.trigger("tooltip:hide")
         }
     });
     return u
 }),
 define("f1e1d/e74c9/b49ed/b3668/a20c1", ["backbone", "f1e1d/e74c9/b49ed/b3668/ee34b", "f1e1d/e74c9/b49ed/b3668/dc5f7"], function(e, t, i) {
     var s = e.View.extend({
         className: "app-header",
         initialize: function() {
             this.room = new t,
             this.panels = new i
         },
         render: function() {
             return this.$el.empty().append(this.room.$el).append(this.panels.$el),
             this.room.render(),
             this.panels.render(),
             this
         }
     });
     return s
 }),
 define("hbs!templates/community/playback/CommunityPlaybackMeta", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="community__playback-meta--mobile">\n    <div class="community__playing-bottom-bg"></div>\n    <div class="community__playing-bottom-container">\n        <div class="container-fluid">\n            <div class="row">\n                <div class="col-10">\n                    <p class="community__playing-bottom-text playing-bottom-text--is-dj">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.youArePlaying,
         typeof a === r ? a.apply(t) : a)) + '</p>\n                    <p class="community__playing-bottom-text">\n                        <span class="playing__label"></span>\n                    </p>\n                    <p class="community__song-playing">-</p>\n                </div>\n                <div class="col-2">\n                    <p class="community__song-playing-time">-</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="community__song-playing-progress">\n        <div class="progress">\n            <div class="progress-bar" role="progressbar" style="width: 0" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>\n        </div>\n    </div>\n</div>\n\n<div class="community__playback-meta--desktop">\n    <!-- <div class="community__playing-bottom-bg"></div> -->\n    <div class="community__playing-bottom-container">\n        <p class="community__playing-bottom-text playing-bottom-text--is-dj">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.youArePlaying,
         typeof a === r ? a.apply(t) : a)) + '</p>\n        <p class="community__playing-bottom-text">\n            <span class="playing__label"></span>\n        </p>\n        <p class="community__song-playing">-</p>\n    </div>\n    <div class="community__song-playing-progress">\n        <div class="progress">\n            <div class="progress-bar" role="progressbar" style="width: 0" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>\n        </div>\n        <p class="community__song-playing-time">-</p>\n    </div>\n</div>'
     });
     return t.registerPartial("templates_community_playback_CommunityPlaybackMeta", i),
     i
 }),
 define("f1e1d/e74c9/dc178/c0731/a6b8b", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/af752/c506b", "f1e1d/af752/e504b", "lang/Lang", "hbs!templates/community/playback/CommunityPlaybackMeta"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = e.extend({
         className: "community__playing-bottom",
         events: {},
         initialize: function() {
             o.on("change:media", this.onMediaChange, this).on("change:remaining", this.onTimeChange, this),
             a.on("change:currentDJ", this.onDJChange, this),
             t.on("room:loaded", this.onRoomChange, this)
         },
         render: function() {
             return this.$el.html(p({
                 trans: c,
                 isDJ: s.isTheUserPlaying
             })),
             this.mapDOM(),
             this
         },
         mapDOM: function() {
             this.$dj = this.$(".playing__label"),
             this.$time = this.$(".community__song-playing-time"),
             this.$media = this.$(".community__song-playing"),
             this.$progress = this.$(".community__song-playing-progress .progress-bar")
         },
         hide: function() {
             this.$el.toggleClass("d-none", !0)
         },
         show: function() {
             this.$el.toggleClass("d-none", !1)
         },
         onMediaChange: function() {
             try {
                 var e = o.get("media")
                   , t = c.playback.noDJTitle
                   , i = null;
                 e ? (t = h.cleanTypedString(e.get("author")),
                 i = h.cleanTypedString(e.get("title")),
                 this.$media.html('<span class="author">' + t + "</span> - " + i),
                 this.$media.attr("title", t + " - " + i)) : (this.$media.html(""),
                 this.$media.attr("title", null))
             } catch (e) {
                 console.debug("[onMediaChange]: %o", e)
             }
         },
         onDJChange: function() {
             var e = n.get(a.get("currentDJ"))
               , t = c.playback.noDJTitle;
             e && (t = e.get("username") + " " + c.playback.isPlaying),
             s.isTheUserPlaying === !0 ? this.setData("isDJ", !0) : this.setData("isDJ", null),
             this.$dj.text(t)
         },
         onTimeChange: function() {
             var e = o.get("remaining")
               , t = o.get("media")
               , i = "00:00";
             if (e > 0 && t) {
                 var s = t.get("duration");
                 e > s && (e = s);
                 var n = 100 - Math.round(e / s * 100);
                 this.$progress.attr({
                     style: "width: " + n.toString() + "%"
                 }),
                 i = h.formatTimeLeading(e)
             } else
                 this.$progress.attr({
                     style: "width: 0"
                 });
             this.$time.text(i),
             this.$time.toggleClass("elapsing", e < 5)
         },
         onRoomChange: function() {
             this.onDJChange(),
             this.onMediaChange()
         }
     });
     return d
 }),
 define("f1e1d/ffb50/b7d7d", [], function() {
     "use strict";
     return {
         state: {
             PLAYING: "playing",
             PAUSED: "paused"
         }
     }
 }),
 define("hbs!templates/room/playback/Playback", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o, r = "", l = "function", h = this.escapeExpression;
         return r += '<div class="community__playing-no-dj">\r\n    <h3 class="no-dj-title">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.noDJTitle,
         typeof a === l ? a.apply(t) : a)) + '</h3>\r\n    <p class="no-dj-text">',
         a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.noDJLabel,
         o = typeof a === l ? a.apply(t) : a,
         (o || 0 === o) && (r += o),
         r += '</p>\r\n    <div class="no-dj-buttons">\r\n        <button class="btn btn-no-dj-primary invite-friends"><i class="fa fa-share-alt"></i>' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.social,
         a = null == a || a === !1 ? a : a.inviteFriends,
         typeof a === l ? a.apply(t) : a)) + '</button>\r\n        <button class="btn btn-no-dj-secondary play"><i class="plugdjfont icon-dj"></i>' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.playButton,
         typeof a === l ? a.apply(t) : a)) + '</button>\r\n    </div>\r\n</div>\r\n<div class="community__playing-stream-disabled">\r\n    <h3 class="stream-disabled-title">Stream is disabled</h3>\r\n    <p class="stream-disabled-text">If you want to turn the video and audio on, go to options and enable them.</p>\r\n    <div class="stream-disabled-buttons">\r\n        <button class="btn btn-no-dj-secondary settings"><i class="fa fa-cog"></i>options</button>\r\n    </div>\r\n</div>\r\n<div class="community__playing-continue">\r\n    <p class="community__playing-continue-text">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.pausedText,
         typeof a === l ? a.apply(t) : a)) + '</p>\r\n    <button class="btn btn-no-dj-primary play">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.continueButton,
         typeof a === l ? a.apply(t) : a)) + '</button>\r\n</div>\r\n\r\n<div class="community__playing-controls">\r\n    <div class="background"></div>\r\n    <ul class="list-unstyled community__playing-top-buttons clearfix">\r\n        <li class="community__playing-top-item hd"><i class="plugdjfont icon-hd"></i><span class="sr-only">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.HDButton,
         typeof a === l ? a.apply(t) : a)) + '</span></li>\r\n        <li class="community__playing-top-item video"><i class="plugdjfont icon-video"></i><span class="sr-only">Video</span>\r\n        </li>\r\n        <li class="community__playing-top-item fullscreen"><i class="plugdjfont icon-fullscreen"></i><span class="sr-only">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.fullScreenButton,
         typeof a === l ? a.apply(t) : a)) + '</span>\r\n        </li>\r\n        <li class="community__playing-top-item exit-fullscreen"><i class="plugdjfont icon-fullscreen-exit"></i><span class="sr-only">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.exitFullScreenButton,
         typeof a === l ? a.apply(t) : a)) + '</span>\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n<div class="community__playing-top">\r\n    <!-- YouTube video placeholder -->\r\n</div>\r\n\r\n<div class="community__playing-bottom"></div>\r\n\r\n<div id="playback-controls">\r\n    <div class="button refresh">\r\n        <div class="box"><i class="icon icon-refresh-video"></i>' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.refresh,
         typeof a === l ? a.apply(t) : a)) + '</div>\r\n    </div>\r\n    <div class="button hd">\r\n        <div class="box"><strong>' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.HDButton,
         typeof a === l ? a.apply(t) : a)) + '</strong>\r\n            <div class="divider"></div>\r\n            <span class="label">ON</span></div>\r\n    </div>\r\n    <div class="button snooze">\r\n        <div class="box"><i class="icon icon-playback-snooze"></i>' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.snooze,
         typeof a === l ? a.apply(t) : a)) + '</div>\r\n    </div>\r\n</div>\r\n\r\n<div id="playback-buffering"></div>\r\n<div id="playback-block"></div>'
     });
     return t.registerPartial("templates_room_playback_Playback", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/c0731/de88a", ["jquery", "underscore", "backbone", "hls", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/e8300/c0237", "f1e1d/e8300/c6f34", "f1e1d/e74c9/dc178/c0731/a6b8b", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d9232/b42c1", "f1e1d/e74c9/c00f1/d979d", "f1e1d/af752/fa88e", "f1e1d/af752/c506b", "f1e1d/af752/e6c91", "f1e1d/af752/f0d32", "f1e1d/af752/fd6ec", "f1e1d/ffb50/b7d7d", "f1e1d/a3bee/ce1c2", "hbs!templates/room/playback/Playback", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S) {
     var x, $ = n.extend({
         id: "playback",
         className: "community__playing",
         template: _({
             trans: S
         }),
         events: {
             "click .community__playing-no-dj .play": "onClickPlay",
             "click .community__playing-no-dj .invite-friends": "onClickInviteFriends",
             "click .community__playing-stream-disabled .settings": "onClickSettings",
             "click .community__playing-continue .play": "onClickContinue",
             "click .hd": "onClickHD"
         },
         initialize: function() {
             this.player = void 0,
             this.buffering = !1,
             this.ignoreComplete = !1,
             this.yto = void 0,
             this.random = new b,
             this.visualizers = [y.rainbow1, y.rainbow2],
             this.ytFrameLoadedBind = t.bind(this.onYTFrameLoaded, this),
             this.scFrameLoadBind = t.bind(this.onSCFrameLoaded, this),
             this.scFrameUnloadBind = t.bind(this.onSCUnload, this),
             this.scStateBind = t.bind(this.onSCState, this),
             this.scLoadedBind = t.bind(this.onSCState, this, "loading"),
             this.scFinishedBind = t.bind(this.onSCState, this, "ended"),
             this.scDeadBind = t.bind(this.onSCState, this, "dead"),
             this.scTimeoutBind = t.bind(this.onSCTimeout, this),
             this.ytOrigin = window.location.protocol + "//yt.bug.dj",
             this.ytSource = void 0,
             window.addEventListener("message", t.bind(this.rx, this), !1)
         },
         render: function() {
             return this.$el.html(this.template).on("mouseenter", t.bind(this.onPlaybackEnter, this)).on("mouseleave", t.bind(this.onPlaybackLeave, this)),
             this.$ytIframe = this.$("#yt-frame"),
             this.$scIframe = this.$("#sc-frame"),
             this.$scVisIframe = this.$("#scvis-frame"),
             this.$syncIframe = this.$("#sync-frame"),
             this.$container = this.$(".community__playing-top"),
             this.$block = this.$("#playback-block"),
             this.$noDJ = this.$(".community__playing-no-dj"),
             this.$streamDisabled = this.$(".community__playing-stream-disabled"),
             this.$streamDisabled.hide(),
             this.playbackMeta = new h({
                 el: this.$(".community__playing-bottom")
             }).render(),
             this.$controls = this.$(".community__playing-controls"),
             this.$("#playback-controls .button.refresh").click(t.bind(this.onRefreshClick, this)),
             this.$("#playback-controls .button.hd").click(t.bind(this.onHDClick, this)),
             this.$("#playback-controls .button.snooze").click(t.bind(this.onSnoozeClick, this)),
             a.on("playback:refresh", t.bind(this.onRefreshClick, this)),
             a.on("playback:hd", t.bind(this.onHDClick, this)),
             a.on("playback:snooze", t.bind(this.onSnoozeClick, this)),
             this.$hdLabel = this.$("#playback-controls .button.hd .label"),
             this.$buffering = this.$("#playback-buffering"),
             this.setHD(f.settings.hdVideo),
             this.onVolumeChange(),
             v.resize(t.bind(this.onResize, this)),
             c.on("change:volume", this.onVolumeChange, this).on("change:media", this.onMediaChange, this).on("change:remaining", this.onRemainingChange, this),
             a.on("playback:block", this.block, this).on("playback:unblock", this.unblock, this).on("change:streamDisabled", this.onMediaChange, this).on("change:videoOnly", this.onVideoOnlyChange, this),
             p.on("change:slug", this.onSpecial, this),
             a.on("change:streamDisabled", this.onSpecial, this),
             a.on("playback:playing", this.onPlaybackPlay, this),
             this.onVideoOnlyChange(),
             this
         },
         onVideoOnlyChange: function() {
             f.settings.videoOnly ? this.$el.addClass("video-only") : this.$el.removeClass("video-only")
         },
         onSpecial: function() {
             switch (this.$ytIframe.remove(),
             this.$ytIframe = this.$("#yt-frame"),
             p.get("slug")) {
             default:
                 this.reset(),
                 this.onMediaChange()
             }
         },
         onResize: function(e) {},
         block: function() {
             this.$block.show()
         },
         unblock: function() {
             this.$block.hide()
         },
         onVolumeChange: function() {
             var e = c.get("volume");
             try {
                 var t = c.get("media");
                 t && 2 === t.get("format") && this.player && this.player.setVolume(e),
                 this.tx("setVolume=" + e)
             } catch (e) {}
         },
         onMediaChange: function(i) {
             function s() {
                 p.$syncIframe.hide(),
                 p.$ytIframe.hide(),
                 x = setTimeout(p.scTimeoutBind, 5e3),
                 n && (p.scFrameUnloadBind(),
                 p.player.load("https://api.soundcloud.com/tracks/" + n.get("cid"), {
                     auto_play: !0,
                     buying: !1,
                     download: !1,
                     hide_related: !1,
                     liking: !1,
                     sharing: !1,
                     show_artwork: !0,
                     show_comments: !1,
                     show_playcount: !1,
                     show_user: !1,
                     start_track: "0",
                     visual: !0,
                     callback: p.scLoadedBind
                 }),
                 p.scFrameLoadBind())
             }
             this.reset(),
             this.$controls.removeClass("snoozed");
             var n = c.get("media");
             if (n)
                 if (a.trigger("playback:playing", n),
                 f.settings.streamDisabled)
                     this.reset(),
                     this.stop(),
                     this.$syncIframe.hide(),
                     this.$ytIframe.hide(),
                     this.$scIframe.hide();
                 else {
                     this.ignoreComplete = !0,
                     t.delay(t.bind(this.resetIgnoreComplete, this), 1e3);
                     var o = c.get("volume")
                       , r = c.get("elapsed")
                       , l = r < 4 ? 0 : r;
                     if (1 === n.get("format")) {
                         if (a.trigger("playback:media", "youtube"),
                         this.buffering = !1,
                         this.yto = {
                             id: n.get("cid"),
                             volume: o,
                             seek: l,
                             quality: f.settings.hdVideo ? "hd720" : ""
                         },
                         this.$ytIframe.length)
                             e(this.$ytIframe).show(),
                             this.ytFrameLoadedBind();
                         else {
                             var h = e(k.getEmbedHTML());
                             h.onImageLoad(this.ytFrameLoadedBind),
                             this.$container.append(h),
                             this.$ytIframe = this.$("#yt-frame")
                         }
                         this.$syncIframe.hide(),
                         this.$scIframe.hide()
                     } else if (2 === n.get("format"))
                         if (a.trigger("playback:media", "soundcloud"),
                         w.r)
                             if (w.sc) {
                                 var p = this;
                                 this.$scIframe.length ? (this.$scIframe.show(),
                                 s()) : (this.$container.append(e('<iframe id="sc-frame" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/0&amp;auto_play=true&amp;hide_related=true&amp;show_comments=false&amp;show_user=false&amp;show_reposts=false&amp;visual=true" allow="autoplay; fullscreen"></iframe>')),
                                 s()),
                                 i === !0 && (e("#sc-frame").attr("src", e("#sc-frame").attr("src")),
                                 s())
                             } else
                                 this.$container.append(e('<img src="https://soundcloud-support.s3.amazonaws.com/images/downtime.png" height="271"/>').css("position", "absolute").css("left", 46));
                         else
                             a.on("sc:ready", this.onSCReady, this)
                 }
             else
                 this.$syncIframe.hide(),
                 this.$ytIframe.hide(),
                 this.$scIframe.hide(),
                 a.trigger("playback:playing", !1),
                 this.$controls.hide()
         },
         onSCReady: function() {
             a.off("sc:ready"),
             this.onMediaChange()
         },
         onSCUnload: function() {
             this.player = w.sc.Widget("sc-frame"),
             this.player.unbind(w.sc.Widget.Events.PLAY),
             this.player.unbind(w.sc.Widget.Events.FINISH),
             this.player.unbind(w.sc.Widget.Events.ERROR),
             this.$scIframe = this.$("#sc-frame")
         },
         onSCFrameLoaded: function() {
             this.player = w.sc.Widget("sc-frame"),
             this.player.bind(w.sc.Widget.Events.PLAY, this.scLoadedBind),
             this.player.bind(w.sc.Widget.Events.FINISH, this.scFinishedBind),
             this.player.bind(w.sc.Widget.Events.ERROR, this.scDeadBind),
             this.$scIframe = this.$("#sc-frame")
         },
         durationUpdate: function(e, t) {
             var i = c.get("media");
             i && (i.get("cid") === e && i.set("duration", t),
             c.set("duration", t))
         },
         reset: function() {
             this.stop(),
             this.ytSource = void 0,
             this.yto = void 0,
             v.currentDialog instanceof m && v.currentDialog.close()
         },
         resetIgnoreComplete: function() {
             this.ignoreComplete = !1
         },
         stop: function() {
             x && clearTimeout(x),
             x = void 0;
             var e = this;
             if (this.tx("stopVideo"),
             this.player && !this.yto)
                 try {
                     this.player.isPaused(function(t) {
                         t || e.player.pause()
                     })
                 } catch (e) {
                     console.error("Could not pause SC:", e)
                 }
             this.buffering = !1
         },
         onPlaybackEnter: function(e) {
             var t = c.get("media");
             t && !f.settings.streamDisabled && (1 !== t.get("format") ? this.$controls.addClass("no-hd") : (this.$controls.removeClass("no-hd"),
             f.settings.hdVideo ? this.$hdLabel.text("ON") : this.$hdLabel.text("OFF")),
             this.$controls.show())
         },
         onPlaybackLeave: function(e) {
             c.get("media") && this.$controls.hide()
         },
         onRefreshClick: function(e) {
             c.get("media") && (c.get("restricted") ? c.set({
                 media: c.get("restricted"),
                 restricted: void 0
             }) : this.onMediaChange(!0))
         },
         onHDClick: function(e) {
             this.setHD(!f.settings.hdVideo)
         },
         setHD: function(e) {
             var t = c.get("media");
             e ? (f.settings.hdVideo = !0,
             t && 1 === t.get("format") && this.tx("setPlaybackQuality=hd720"),
             f.save(),
             this.$hdLabel.text("ON")) : (f.settings.hdVideo = !1,
             t && 1 === t.get("format") && this.tx("setPlaybackQuality=medium"),
             f.save(),
             this.$hdLabel.text("OFF"))
         },
         onSnoozeClick: function() {
             this.getState() === C.state.PLAYING && (this.reset(),
             this.stop(),
             this.$ytIframe.hide(),
             this.$scIframe.hide(),
             this.setState(C.state.PAUSED))
         },
         onSCState: function(e) {
             var t = c.get("volume")
               , i = c.get("elapsed")
               , s = i < 4 ? 0 : i;
             switch (e) {
             case "loading":
                 this.player.setVolume(t),
                 this.player.seekTo(1e3 * s);
                 break;
             case "dead":
                 this.scTimeoutBind();
                 break;
             case "ended":
             }
         },
         onSCLoading: function() {
             this.player && this.player.getDuration(function(e) {
                 var t = ~~(e / 1e3)
                   , i = c.get("elapsed");
                 t >= i ? (this.buffering = !1,
                 this.bufferPerc = 0,
                 this.$buffering.is(":visible") && this.$buffering.text("").hide()) : (this.buffering = !0,
                 this.bufferPerc = ~~(t / i * 100),
                 this.$buffering.text(S.playback.buffering + this.bufferPerc + "%"),
                 this.$buffering.is(":visible") || this.$buffering.show())
             })
         },
         onSCTimeout: function() {
             this.player || a.dispatch(new l(l.SEARCH))
         },
         playbackComplete: function() {
             this.ignoreComplete || (this.stop(),
             this.$syncIframe.length ? this.$syncIframe.show() : (this.$container.append(e('<iframe id="sync-frame" frameborder="0" src="' + y.syncing + '" allow="autoplay; fullscreen"></iframe>')),
             this.$syncIframe = this.$("#sync-frame")),
             this.$ytIframe.hide(),
             this.$scIframe.hide())
         },
         onRemainingChange: function() {
             var e = c.get("media");
             !e || 1 === e.get("format") || c.get("remaining") < 0 ? this.$buffering && this.$buffering.is(":visible") && this.$buffering.text("").hide() : !this.buffering && this.$buffering && this.$buffering.is(":visible") && this.$buffering.text("").hide(),
             o.isTheUserPlaying && !c.get("durationChecked") && c.get("media") && 1 === c.get("media").get("format") && !c.get("restricted") && this.player && this.tx("durationCheck")
         },
         durationCheck: function(e) {
             e > 0 && c.set({
                 durationChecked: !0,
                 ytDuration: e
             }),
             c.get("durationChecked") && e !== c.get("duration")
         },
         onYTPlayerError: function(e) {
             console.warn("YT ERROR :: " + e),
             "100" != e && "101" != e && "150" != e && "2" != e && "5" != e && "0" != e || a.dispatch(new l(l.SEARCH))
         },
         onYTFrameLoaded: function(e) {
             if (this.yto) {
                 var t = document.getElementById("yt-frame").contentWindow;
                 t.postMessage(JSON.stringify(this.yto), this.ytOrigin)
             }
         },
         rx: function(e) {
             if (e.origin === this.ytOrigin)
                 if ("playbackReady" === e.data)
                     this.ytSource = e.source,
                     this.ytOrigin = e.origin,
                     this.tx("setVolume=" + c.get("volume"));
                 else if (0 === e.data.indexOf("onPlayerError"))
                     this.onYTPlayerError(e.data.split("=").pop());
                 else if ("playbackComplete" === e.data) {
                     if (o.isTheUserPlaying && !c.get("durationChecked")) {
                         var t = !1;
                         c.get("restricted") ? 0 === c.get("restricted").get("duration") && (t = !0) : t = c.get("media") && 0 === c.get("media").get("duration"),
                         t && a.dispatch(new r(r.SKIP))
                     }
                 } else
                     0 === e.data.indexOf("durationCheck") && this.durationCheck(parseInt(e.data.split("=").pop()))
         },
         tx: function(e) {
             this.ytSource && this.ytSource.postMessage && this.ytSource.postMessage(e, this.ytOrigin)
         },
         setState: function(e) {
             this.setData("state", e),
             a.trigger("playback:state", e)
         },
         getState: function() {
             return this.getData("state")
         },
         onPlaybackPlay: function(e) {
             e === !1 ? (this.$streamDisabled.hide(),
             this.$noDJ.show(),
             this.$el.toggleClass("is-playing", !1),
             this.setState(null)) : (this.$noDJ.hide(),
             f.settings.streamDisabled ? (this.$streamDisabled.show(),
             this.$el.toggleClass("is-playing", !1),
             this.setState(null)) : (this.$streamDisabled.hide(),
             this.$el.toggleClass("is-playing", !0),
             this.setState(C.state.PLAYING)))
         },
         onClickPlay: function(e) {
             e.preventDefault(),
             e.stopPropagation(),
             a.trigger("djButton:click")
         },
         onClickInviteFriends: function(e) {
             e.preventDefault(),
             e.stopPropagation(),
             a.trigger("shareRoom:toggle", e.currentTarget)
         },
         onClickSettings: function(e) {
             e.preventDefault(),
             e.stopPropagation(),
             a.trigger("show:user", "settings")
         },
         onClickContinue: function(e) {
             e.preventDefault(),
             e.stopPropagation(),
             a.trigger("playback:refresh")
         },
         onClickHD: function(e) {
             e.preventDefault(),
             e.stopPropagation(),
             a.trigger("playback:hd")
         }
     });
     return $
 }),
 define("hbs!templates/room/RoomLoader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o, r = "", l = "function", h = this.escapeExpression;
         return r += '<div class="content">\n    <i class="logo"></i>\n    <div class="spotx"></div>\n    <div class="spotlight-wrapper">\n      <div class="spotlight">\n        <div class="avatar"></div>\n      </div>\n    </div>\n    <span class="connecting">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.roomInfo,
         a = null == a || a === !1 ? a : a.loading,
         typeof a === l ? a.apply(t) : a)) + '...</span>\n</div>\n<a class="help__link" href="http://support.plug.dj" target="_blank">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.transfer,
         a = null == a || a === !1 ? a : a.support,
         typeof a === l ? a.apply(t) : a)) + '</a>\n<span class="version">',
         (o = i.version) ? o = o.call(t, {
             hash: {}
         }) : (o = t.version,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + "</span>"
     });
     return t.registerPartial("templates_room_RoomLoader", i),
     i
 }),
 define("hbs!templates/spotx/easi", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div id="spotxvideo"></div>\r\n<div id="spotxbanner"></div>\r\n\r\n<script type="text/javascript">\r\n  function spotxDone ()\r\n  {\r\n    window["',
         (a = i.doneFunction) ? a = a.call(t, {
             hash: {}
         }) : (a = t.doneFunction,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"]();\r\n  }\r\n</script>\r\n<script type="text/javascript" src="//js.spotx.tv/easi/v1/',
         (a = i.id) ? a = a.call(t, {
             hash: {}
         }) : (a = t.id,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '.js" \r\n  data-spotx_channel_id="',
         (a = i.id) ? a = a.call(t, {
             hash: {}
         }) : (a = t.id,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" \r\n  data-spotx_content_width="',
         (a = i.width) ? a = a.call(t, {
             hash: {}
         }) : (a = t.width,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" \r\n  data-spotx_content_height="',
         (a = i.height) ? a = a.call(t, {
             hash: {}
         }) : (a = t.height,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" \r\n  data-spotx_ad_done_function="spotxDone" \r\n  data-spotx_content_container_id="',
         (a = i.containerId) ? a = a.call(t, {
             hash: {}
         }) : (a = t.containerId,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" \r\n  data-spotx_banner_container_id="',
         (a = i.bannerId) ? a = a.call(t, {
             hash: {}
         }) : (a = t.bannerId,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '" \r\n  data-spotx_ad_unit="instream" \r\n  data-spotx_ad_skippable="1" \r\n  data-spotx_ad_skip_delay="5" \r\n  data-spotx_ad_volume="',
         (a = i.volume) ? a = a.call(t, {
             hash: {}
         }) : (a = t.volume,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"></script>'
     });
     return t.registerPartial("templates_spotx_easi", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/fbb41", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/af752/b54a3", "f1e1d/af752/fa88e", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/af752/fd6ec", "f1e1d/af752/e504b", "hbs!templates/room/RoomLoader", "hbs!templates/spotx/easi", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f) {
     var m = i.View.extend({
         className: "loading-box",
         initialize: function() {
             this.$el.toggleClass("has-spotx", !0),
             this.firstTime = !0,
             this.frameWidth = 490,
             this.frameHeight = 274,
             this.videoResizeBind = t.bind(this.onVideoResize, this)
         },
         render: function() {
             return this.$el.append(d({
                 trans: f,
                 version: window._v
             })),
             this.$spotlight = this.$el.find(".spotlight"),
             this.$avatar = this.$el.find(".avatar"),
             s.on("room:joining", this.show, this).on("room:joined", this.onJoined, this).on("show:dashboard", this.hide, this),
             this
         },
         show: function(t) {
             if (this.joined = !1,
             !this.showing) {
                 this.showing = !0,
                 this.$el.toggleClass("d-none", !1);
                 var i;
                 switch (t) {
                 case "tastycat":
                 case "monstercat":
                     i = "tastycat";
                     break;
                 case "nightcore":
                     i = "nightcore";
                     break;
                 default:
                     i = a.get("avatarID")
                 }
                 this.showAvatar(i),
                 this.initSpotX(),
                 e("#footer").hide()
             }
         },
         hide: function() {
             this.showing && (e("#footer").show(),
             this.hideAvatar(),
             this.$el.toggleClass("d-none", !0),
             this.showing = !1,
             l.onResize())
         },
         showAvatar: function(i) {
             this.hideAvatar();
             var s = i;
             this.$avatarImage = e("<img/>").attr("src", o.getAvatarUrl(s, "")).onImageLoad(t.bind(this.onAvatarLoaded, this)),
             s.indexOf("dragon") > -1 ? (this.aviW = 300,
             this.$avatar.addClass("wide")) : (this.aviW = 150,
             this.$avatar.removeClass("wide"),
             s.indexOf("-e01") > -1 && this.$avatar.addClass("epic"))
         },
         onAvatarLoaded: function() {
             this.showing && this.$spotlight.append(this.$avatar.append(this.$avatarImage)).append(this.$span)
         },
         hideAvatar: function() {
             this.$avatar.empty().remove(),
             this.$avatarImage = void 0
         },
         animate: function(e) {
             this.showing && this.$avatarImage.css("left", -(4 * this.aviW) - e * this.aviW)
         },
         loadBG: function() {
             this.firstTime ? (this.firstTime = !1,
             e("<img/>").attr("src", c.background).onImageLoad(t.bind(this.onBGLoaded, this)),
             this.$videoFrame = e("<img/>").attr("src", c.videoframe).onImageLoad(t.bind(this.onFrameLoaded, this))) : this.onBGLoaded()
         },
         onBGLoaded: function() {
             this.bgLoaded = !0,
             this.checkReady()
         },
         onFrameLoaded: function() {
             this.frameLoaded = !0,
             this.checkReady()
         },
         initSpotX: function() {
             r.isMobile ? (volume = "0",
             channelID = "214864") : (volume = "60",
             channelID = "214863"),
             5e3 === a.get("gRole") && console.debug("[SpotX]", "Initializing ad video with volume", volume),
             window.__spotxhideloader = t.bind(this.checkReady, this),
             window.__spotxdone = function() {
                 window.__spotx = !0,
                 5e3 === a.get("gRole") && console.debug("[SpotX]", "Ad video done"),
                 window.__spotxhideloader(),
                 e(".loading-box").toggleClass("has-spotx", !1)
             }
             .bind(this),
             e(".spotx").html(u({
                 id: 214863,
                 volume: volume,
                 containerId: "spotxvideo",
                 bannerId: "spotxbanner",
                 width: "330",
                 height: "280",
                 doneFunction: "__spotxdone"
             }))
         },
         checkReady: function() {
             e(".spotx iframe").length < 1 && (window.__spotx = !0),
             (this.bgLoaded && this.frameLoaded && window.__spotx) === !0 && t.defer(this.onReady.bind(this))
         },
         onReady: t.debounce(function() {
             e(".room-background").css("background", "url(" + c.background + ") no-repeat"),
             e("#playback .background").empty().append(this.$videoFrame),
             l.resize(this.videoResizeBind),
             this.joined === !0 && this.hide(),
             s.trigger("room:loaded")
         }, 100),
         onJoined: function(e) {
             this.joined = !0,
             this.loadBG()
         },
         customLoaded: function() {
             this.joined = !0,
             this.custom = !0,
             l.off("resize", this.videoResizeBind),
             this.hide()
         },
         customUnload: function() {
             this.firstTime = !0,
             this.custom = !1,
             this.loadBG()
         },
         onVideoResize: function(e) {
             var t = 231 + Math.min(50, e.bgTop + 216)
               , i = Math.round(t * (484 / 271))
               , s = i / 484;
             this.$videoFrame && this.$videoFrame.width(Math.round(this.frameWidth * s)).height(Math.round(this.frameHeight * s)).css("left", Math.round(484 - this.frameWidth * s) / 2)
         }
     });
     return new m
 }),
 define("hbs!templates/room/user/BanListRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="name">',
         (a = i.username) ? a = a.call(t, {
             hash: {}
         }) : (a = t.username,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="timestamp">',
         (a = i.timestamp) ? a = a.call(t, {
             hash: {}
         }) : (a = t.timestamp,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="label">',
         (a = i.bannedBy) ? a = a.call(t, {
             hash: {}
         }) : (a = t.bannedBy,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="moderator">',
         (a = i.moderator) ? a = a.call(t, {
             hash: {}
         }) : (a = t.moderator,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="duration">',
         (a = i.duration) ? a = a.call(t, {
             hash: {}
         }) : (a = t.duration,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="unban">',
         (a = i.unban) ? a = a.call(t, {
             hash: {}
         }) : (a = t.unban,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>"
     });
     return t.registerPartial("templates_room_user_BanListRow", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/ef9aa", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/e504b", "hbs!templates/room/user/BanListRow", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = t.View.extend({
         className: "user",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave"
         },
         render: function() {
             var t = r.convertTimestampToReadableDate(this.model.get("timestamp"), !0)
               , i = this.model.get("duration");
             return i = "h" === i ? h.dialog.forHour : "d" === i ? h.dialog.forDay : h.dialog.forever,
             this.$el.html(l({
                 username: this.model.get("username"),
                 timestamp: t,
                 moderator: this.model.get("moderator"),
                 bannedBy: h.userList.bannedBy,
                 unban: h.userList.unban,
                 duration: i
             })),
             (t.indexOf("second") > -1 || t.indexOf("minute") > -1) && (this.$timestamp = this.$(".timestamp"),
             this.intervalID = setInterval(e.bind(this.updateTime, this), 1e3)),
             this
         },
         updateTime: function() {
             var e = r.convertTimestampToReadableDate(this.model.get("timestamp"), !0);
             this.$timestamp.text(e),
             e.indexOf("second") === -1 && e.indexOf("minute") === -1 && this.clearUpdate()
         },
         clearUpdate: function() {
             clearInterval(this.intervalID),
             this.intervalID = void 0,
             delete this.intervalID,
             this.$timestamp = void 0,
             delete this.$timestamp
         },
         onClick: function() {
             a.hasPermission(o.MANAGER) && i.dispatch(new s(s.CONFIRM,h.alerts.unbanConfirm,h.alerts.unbanMessage.split("%NAME%").join(e.escape(this.model.get("username"))),e.bind(this.onConfirm, this)))
         },
         onEnter: function() {
             a.get("gRole") !== o.SITEMOD || a.hasPermission(o.MANAGER) || ($(".unban").hide(),
             $(".duration").show());
             var e = parseInt(this.model.get("reason"));
             (isNaN(e) || e < 1 || e > 5) && (e = 0),
             e = h.ban["reason" + e],
             e || (e = h.ban.reason1),
             i.trigger("tooltip:show", e, this.$el, !0, !0)
         },
         onLeave: function() {
             i.trigger("tooltip:hide")
         },
         remove: function() {
             this.intervalID && this.clearUpdate(),
             this._super()
         },
         onConfirm: function() {
             i.dispatch(new n(n.UNBAN,this.model.get("id"),this.model.get("username")))
         }
     });
     return c
 }),
 define("f1e1d/e74c9/b49ed/b14c6/d77ee", ["underscore", "backbone", "f1e1d/fce39/cbf8c"], function(e, t, i) {
     var s = t.View.extend({
         className: "list",
         RowClass: void 0,
         collection: i,
         initialize: function() {
             return this.rows = [],
             this.count = 0,
             this.drawBind = e.bind(this.drawRow, this),
             this
         },
         render: function() {
             this.$el.jScrollPane(),
             this.scrollPane = this.$el.data("jsp"),
             this.collection.on("reset", this.draw, this)
         },
         remove: function() {
             this.collection.off("reset", this.draw, this),
             this.clear(),
             this.scrollPane && (this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane),
             this.collection = void 0,
             this.rows = void 0,
             delete this.collection,
             delete this.rows,
             this._super()
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             return this.rows.length = 0,
             this.scrollPane && (this.scrollPane.getContentPane().empty(),
             this.scrollPane.reinitialise()),
             this
         },
         draw: function() {
             var e;
             this.scrollPane && this.scrollPane.scrollTop() > 0 && (e = this.scrollPane.scrollTop()),
             this.clear(),
             this.collection.length > 0 && this.collection.each(this.drawBind),
             this.scrollPane && (this.scrollPane.reinitialise(),
             e ? this.scrollPane.scrollTop(e) : this.scrollPane.scrollTop(0))
         },
         drawRow: function(e) {
             if (this.canDraw(e)) {
                 var t = new this.RowClass({
                     model: e
                 });
                 this.scrollPane.getContentPane().append(t.$el),
                 this.rows.push(t),
                 t.render()
             }
         },
         canDraw: function(e) {
             return e.get("username")
         }
     });
     return s
 }),
 define("f1e1d/e74c9/b49ed/b14c6/a0623", ["f1e1d/e74c9/b49ed/b14c6/ef9aa", "f1e1d/e74c9/b49ed/b14c6/d77ee"], function(e, t) {
     var i = t.extend({
         className: "list bans",
         RowClass: e
     });
     return i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/f37a3", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/e504b", "hbs!templates/room/user/BanListRow", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = t.View.extend({
         className: "user",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave"
         },
         render: function() {
             var t = r.convertTimestampToReadableDate(this.model.get("timestamp"), !0)
               , i = this.model.get("duration");
             return i = "s" === i ? h.dialog.for15min : "m" === i ? h.dialog.forHour : "l" === i ? h.dialog.forDay : h.dialog.forever,
             this.$el.html(l({
                 username: this.model.get("username"),
                 timestamp: t,
                 moderator: this.model.get("moderator"),
                 bannedBy: h.userList.bannedBy,
                 unban: h.userList.unban,
                 duration: i
             })),
             (t.indexOf("second") > -1 || t.indexOf("minute") > -1) && (this.$timestamp = this.$(".timestamp"),
             this.intervalID = setInterval(e.bind(this.updateTime, this), 1e3)),
             this
         },
         updateTime: function() {
             var e = r.convertTimestampToReadableDate(this.model.get("timestamp"), !0);
             this.$timestamp.text(e),
             e.indexOf("second") === -1 && e.indexOf("minute") === -1 && this.clearUpdate()
         },
         clearUpdate: function() {
             clearInterval(this.intervalID),
             this.intervalID = void 0,
             delete this.intervalID,
             this.$timestamp = void 0,
             delete this.$timestamp
         },
         onClick: function() {
             a.hasPermission(o.MANAGER) && i.dispatch(new s(s.CONFIRM,h.alerts.unbanConfirm,h.alerts.unbanMessage.split("%NAME%").join(e.escape(this.model.get("username"))),e.bind(this.onConfirm, this)))
         },
         onEnter: function() {
             a.get("gRole") !== o.SITEMOD || a.hasPermission(o.MANAGER) || ($(".unban").hide(),
             $(".duration").show());
             var e = parseInt(this.model.get("reason"));
             (isNaN(e) || e < 1 || e > 5) && (e = 0),
             e = h.ban["reason" + e],
             e || (e = h.ban.reason1),
             i.trigger("tooltip:show", e, this.$el, !0, !0)
         },
         onLeave: function() {
             i.trigger("tooltip:hide")
         },
         remove: function() {
             this.intervalID && this.clearUpdate(),
             this._super()
         },
         onConfirm: function() {
             i.dispatch(new n(n.WAITLIST_UNBAN,this.model.get("id"),this.model.get("username")))
         }
     });
     return c
 }),
 define("f1e1d/e74c9/b49ed/b14c6/a38d3", ["f1e1d/e74c9/b49ed/b14c6/f37a3", "f1e1d/e74c9/b49ed/b14c6/d77ee"], function(e, t) {
     var i = t.extend({
         className: "list bans",
         RowClass: e
     });
     return i
 }),
 define("hbs!templates/room/user/IgnoreRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="name">',
         (a = i.username) ? a = a.call(t, {
             hash: {}
         }) : (a = t.username,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="unignore">',
         (a = i.unignore) ? a = a.call(t, {
             hash: {}
         }) : (a = t.unignore,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>"
     });
     return t.registerPartial("templates_room_user_IgnoreRow", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/cbc50", ["jquery", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/be642/a65aa/a4c24", "hbs!templates/room/user/IgnoreRow", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = t.View.extend({
         className: "user",
         events: {
             click: "onClick"
         },
         render: function() {
             return this.$el.html(a({
                 username: this.model.get("username"),
                 unignore: o.userList.unignore
             })),
             this
         },
         onClick: function() {
             i.dispatch(new s(s.CONFIRM,o.alerts.unignoreConfirm,o.alerts.unignoreMessage.split("%NAME%").join(this.model.get("username")),_.bind(this.onConfirm, this)))
         },
         onConfirm: function() {
             new n(this.model.get("id"))
         },
         remove: function() {
             this.model = void 0,
             delete this.model,
             this._super()
         }
     });
     return r
 }),
 define("f1e1d/e74c9/b49ed/b14c6/d6d91", ["f1e1d/e74c9/b49ed/b14c6/cbc50", "f1e1d/e74c9/b49ed/b14c6/d77ee"], function(e, t) {
     var i = t.extend({
         className: "list ignored",
         RowClass: e
     });
     return i
 }),
 define("hbs!templates/room/user/MuteListRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="name">',
         (a = i.username) ? a = a.call(t, {
             hash: {}
         }) : (a = t.username,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="expires">',
         (a = i.expires) ? a = a.call(t, {
             hash: {}
         }) : (a = t.expires,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="label">',
         (a = i.mutedBy) ? a = a.call(t, {
             hash: {}
         }) : (a = t.mutedBy,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="moderator">',
         (a = i.moderator) ? a = a.call(t, {
             hash: {}
         }) : (a = t.moderator,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<span class="unmute">',
         (a = i.unmute) ? a = a.call(t, {
             hash: {}
         }) : (a = t.unmute,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>"
     });
     return t.registerPartial("templates_room_user_MuteListRow", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/dbdaa", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/fbb60", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/abc02", "f1e1d/af752/e504b", "hbs!templates/room/user/MuteListRow", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = t.View.extend({
         className: "user",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave"
         },
         render: function() {
             return this.$el.html(h({
                 username: this.model.get("username"),
                 expires: c.userList.expires.split("%TIME%").join(l.formatTime(this.model.get("expires"))),
                 moderator: this.model.get("moderator"),
                 mutedBy: c.userList.mutedBy,
                 unmute: c.userList.unmute
             })),
             this.$expires = this.$(".expires"),
             this.model.on("change:expires", this.update, this),
             this
         },
         update: function() {
             this.$expires.text(c.userList.expires.split("%TIME%").join(l.formatTime(this.model.get("expires"))))
         },
         onClick: function() {
             a.hasPermission(o.MANAGER) && i.dispatch(new s(s.CONFIRM,c.alerts.unmuteConfirm,c.alerts.unmuteMessage.split("%NAME%").join(e.escape(this.model.get("username"))),e.bind(this.onConfirm, this)))
         },
         onEnter: function() {
             a.get("gRole") !== o.SITEMOD || a.hasPermission(o.MANAGER) || $(".unmute").hide();
             var e = parseInt(this.model.get("reason"));
             (isNaN(e) || e < 1 || e > 5) && (e = 0),
             e = c.mute["reason" + e],
             e || (e = c.mute.reason1),
             i.trigger("tooltip:show", e, this.$el, !0, !0)
         },
         onLeave: function() {
             i.trigger("tooltip:hide")
         },
         remove: function() {
             this.model.off("change:expires", this.update, this),
             this.expireDate = void 0,
             this.$expires = void 0,
             delete this.expireDate,
             delete this.$expires,
             this._super()
         },
         onConfirm: function() {
             i.dispatch(new n(n.UNMUTE,this.model.get("id"),this.model.get("username")))
         }
     });
     return p
 }),
 define("f1e1d/e74c9/b49ed/b14c6/c4fb4", ["f1e1d/e74c9/b49ed/b14c6/dbdaa", "f1e1d/e74c9/b49ed/b14c6/d77ee"], function(e, t) {
     var i = t.extend({
         className: "list mutes",
         RowClass: e
     });
     return i
 }),
 define("hbs!templates/room/user/RoomUserRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<i class="icon icon-chat-',
             (s = i.rank) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.rank,
             s = typeof s === l ? s.apply(e) : s),
             n += h(s) + '"></i>'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = "function", h = this.escapeExpression, c = this;
         return o = i.if.call(t, t.rank, {
             hash: {},
             inverse: c.noop,
             fn: c.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += '\n<span class="name">',
         (o = i.username) ? o = o.call(t, {
             hash: {}
         }) : (o = t.username,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + "</span>"
     });
     return t.registerPartial("templates_room_user_RoomUserRow", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/bcf5d", ["jquery", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/bb607", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "hbs!templates/room/user/RoomUserRow"], function(e, t, i, s, n, a, o) {
     var r = t.View.extend({
         events: {
             click: "onClick"
         },
         render: function() {
             return this.isRendered ? this.delegateEvents() : (this.draw(),
             this.model.on("change:vote change:grab", this.vote, this).on("change:username", this.update, this),
             this.isRendered = !0),
             this
         },
         remove: function() {
             this.model.off("change:vote change:grab", this.vote, this).off("change:username", this.update, this),
             this.$icon && this.$icon.remove(),
             this.isRendered = void 0,
             this.$icon = void 0,
             this.model = void 0,
             delete this.isRendered,
             delete this.$icon,
             delete this.model,
             this._super()
         },
         onClick: function() {
             i.dispatch(new s(s.SHOW,this.model,{
                 x: e("#user-lists").offset().left,
                 y: this.$el.offset().top + 1
             },!0))
         },
         draw: function() {
             this.$el.removeClass().addClass("user");
             var e = {
                 username: this.model.get("username")
             }
               , t = this.model.get("role")
               , i = this.model.get("gRole");
             i === a.HOST ? (e.rank = "admin",
             this.$el.addClass("is-admin")) : i >= a.MANAGER && i < a.HOST ? (e.rank = "ambassador",
             this.$el.addClass("is-ambassador")) : i === a.SITEMOD ? (this.$el.addClass("is-sitemod"),
             e.rank = "sitemod") : i === a.PLOT ? (e.rank = "plot",
             this.$el.addClass("is-plot")) : i === a.PROMOTER ? (e.rank = "promoter",
             this.$el.addClass("is-promoter")) : t >= a.DJ ? (this.$el.addClass("is-staff"),
             t === a.HOST ? e.rank = "host" : t === a.COHOST ? e.rank = "cohost" : t === a.MANAGER ? e.rank = "manager" : t === a.BOUNCER ? e.rank = "bouncer" : t === a.DJ && (e.rank = "dj",
             this.$el.addClass("is-dj"))) : (this.model.get("sub") > 0 ? e.rank = "subscriber" : this.model.get("silver") && (e.rank = "silver-subscriber"),
             this.model.get("id") === n.get("id") ? this.$el.addClass("is-you") : this.model.get("sub") > 0 ? this.$el.addClass("is-subscriber") : this.model.get("silver") && this.$el.addClass("is-subscriber silver")),
             this.$el.html(o(e)),
             this.vote()
         },
         update: function() {
             this.$(".name").text(this.model.get("username"))
         },
         vote: function() {
             this.model.get("grab") || 1 === this.model.get("vote") ? (this.$icon || (this.$icon = e("<i/>").addClass("icon"),
             this.$el.append(this.$icon)),
             this.model.get("grab") ? this.$icon.removeClass().addClass("icon icon-grab") : this.$icon.removeClass().addClass("icon icon-woot")) : this.$icon && (this.$icon.remove(),
             this.$icon = void 0)
         }
     });
     return r
 }),
 define("f1e1d/e74c9/b49ed/b14c6/e00cb", ["jquery", "underscore", "f1e1d/e74c9/b49ed/b14c6/bcf5d", "f1e1d/e74c9/b49ed/b14c6/d77ee"], function(e, t, i, s) {
     var n = 30
       , a = s.extend({
         className: "list room",
         RowClass: i,
         initialize: function() {
             return this._super(),
             this.firstRow = 0,
             this.currentRow = -1,
             this.lastRow = 15,
             this.visibleRows = 15,
             this.$firstRow = e('<div class="user">'),
             this.$lastRow = e('<div class="user">'),
             this.scrollBind = t.bind(this.onScroll, this),
             this
         },
         render: function() {
             this._super(),
             this.$el.on("jsp-scroll-y", this.scrollBind)
         },
         remove: function() {
             this.$el.off("jsp-scroll-y", this.scrollBind),
             this._super(),
             this.firstRow = void 0,
             this.currentRow = void 0,
             this.lastRow = void 0,
             this.visibleRows = void 0,
             this.$firstRow = void 0,
             this.$lastRow = void 0,
             delete this.firstRow,
             delete this.currentRow,
             delete this.lastRow,
             delete this.visibleRows,
             delete this.$firstRow,
             delete this.$lastRow
         },
         clear: function() {
             this.currentRow = -1,
             this.$firstRow.remove(),
             this.$lastRow.remove(),
             this._super()
         },
         onScroll: function() {
             if (this.scrollPane && (this.firstRow = ~~(this.scrollPane.scrollTop() / n),
             this.lastRow = Math.min(this.firstRow + this.visibleRows, this.collection.length),
             this.currentRow !== this.firstRow)) {
                 this.currentRow = this.firstRow,
                 this.$firstRow.height(this.firstRow * n),
                 this.$lastRow.height((this.collection.length - this.lastRow) * n),
                 this.scrollPane.getContentPane().empty().append(this.$firstRow);
                 for (var e = this.firstRow; e < this.lastRow; e++)
                     this.rows[e] && (this.scrollPane.getContentPane().append(this.rows[e].$el),
                     this.rows[e].render());
                 this.scrollPane.getContentPane().append(this.$lastRow)
             }
         },
         onResize: function() {
             this.$el.height() < 200 ? this.currentRow = -1 : (this.visibleRows = Math.ceil(this.$el.height() / n) + 1,
             this.scrollPane.reinitialise(),
             this.onScroll())
         },
         draw: function() {
             var e;
             this.scrollPane && this.scrollPane.scrollTop() > 0 && (e = this.scrollPane.scrollTop()),
             this.clear(),
             this.collection.length > 0 && this.collection.each(this.drawBind),
             this.onResize(),
             this.scrollPane && (this.scrollPane.reinitialise(),
             e ? this.scrollPane.scrollTop(e) : this.scrollPane.scrollTop(0))
         },
         drawRow: function(e) {
             this.canDraw(e) && this.rows.push(new this.RowClass({
                 model: e
             }))
         }
     });
     return a
 }),
 define("hbs!templates/room/user/UserLists", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="header">\n    <div class="button room" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.usersRoom,
         typeof a === r ? a.apply(t) : a)) + '">\n        <i class="icon icon-community-users"></i> \n        \n    </div>\n    <div class="button staff"  title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.usersStaff,
         typeof a === r ? a.apply(t) : a)) + '">\n        <i class="icon icon-staff"></i>\n    </div>\n    <div class="button bans" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.usersBans,
         typeof a === r ? a.apply(t) : a)) + '">\n        <i class="icon icon-ban"></i>\n    </div>\n    <div class="button waitlist-bans" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.usersWaitlistBans,
         typeof a === r ? a.apply(t) : a)) + '">\n        <i class="icon icon-pv-white"></i>\n    </div>\n    <div class="button mutes" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.usersMutes,
         typeof a === r ? a.apply(t) : a)) + '">\n        <i class="icon icon-mute"></i>\n    </div>\n    <div class="button ignored" title="' + l((a = t.tooltips,
         a = null == a || a === !1 ? a : a.usersIgnored,
         typeof a === r ? a.apply(t) : a)) + '">\n        <i class="icon icon-ignored"  ></i> \n    </div>\n</div>\n<div class="list-header">\n    <span class="title"></span>\n    <span class="count"></span>\n    <div class="input-background">\n        <input id="list-filter-input" type="text" maxlength="10" placeholder="' + l((a = t.userList,
         a = null == a || a === !1 ? a : a.filter,
         typeof a === r ? a.apply(t) : a)) + '" data-placeholder="' + l((a = t.userList,
         a = null == a || a === !1 ? a : a.filter,
         typeof a === r ? a.apply(t) : a)) + '"/>\n    </div>\n    <div class="clear-filter">\n        <i class="icon icon-clear-input"></i>\n    </div>\n</div>'
     });
     return t.registerPartial("templates_room_user_UserLists", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/a041b", ["f1e1d/e718c/b2952", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/d583a", "f1e1d/fce39/a992f", "f1e1d/fce39/a09eb", "f1e1d/fce39/cbf8c", "f1e1d/fce39/b5cf9", "f1e1d/fce39/fd103", "f1e1d/fce39/d3252", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/c506b", "f1e1d/af752/c96dd", "f1e1d/e74c9/b49ed/b14c6/a0623", "f1e1d/e74c9/b49ed/b14c6/a38d3", "f1e1d/e74c9/b49ed/b14c6/d6d91", "f1e1d/e74c9/b49ed/b14c6/c4fb4", "f1e1d/e74c9/b49ed/b14c6/d336c", "f1e1d/e74c9/b49ed/b14c6/e00cb", "hbs!templates/room/user/UserLists", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k) {
     var _ = e.extend({
         id: "user-lists",
         initialize: function() {
             this.resizeBind = t.bind(this.onResize, this),
             this.preventList("onRoomClick", "onStaffClick", "onBansClick", "onWaitlistBansClick", "onIgnoredClick", "onMutesClick", "onClearFilterClick")
         },
         render: function() {
             return this.$el.html(C(k)),
             this.$title = this.$(".list-header .title"),
             this.$count = this.$(".list-header .count"),
             this.$filterInput = this.$("#list-filter-input").on("keyup", t.bind(this.onKeyUp, this)).on("focus", t.bind(this.onFocus, this)).on("blur", t.bind(this.onBlur, this)),
             this.filterInput = this.$filterInput[0],
             this.$clearFilter = this.$(".clear-filter").on("click", t.bind(this.onClearFilterClick, this)),
             this.$roomButton = this.$(".button.room").on("click", t.bind(this.onRoomClick, this)),
             this.$staffButton = this.$(".button.staff").on("click", t.bind(this.onStaffClick, this)),
             this.$bansButton = this.$(".button.bans").on("click", t.bind(this.onBansClick, this)),
             this.$waitlistBansButton = this.$(".button.waitlist-bans").on("click", t.bind(this.onWaitlistBansClick, this)).on("mouseenter", t.bind(this.onWaitlistBansEnter, this)),
             this.$ignoredButton = this.$(".button.ignored").on("click", t.bind(this.onIgnoredClick, this)).on("mouseenter", t.bind(this.onIgnoredEnter, this)),
             this.$mutesButton = this.$(".button.mutes").on("click", t.bind(this.onMutesClick, this)).on("mouseenter", t.bind(this.onMutesEnter, this)),
             this.$(".button").on("mouseleave", t.bind(this.onHideTooltip, this)),
             s.on("show:users", this.show, this).on("show:chat show:waitlist show:friends", this.hide, this).on("mod:ban", this.onModBan, this).on("mod:mute", this.onModMute, this),
             p.on("change:role change:gRole", this.checkRole, this),
             r.on("empty", this.onEmpty, this),
             this
         },
         show: function() {
             this.$el.show(),
             this.checkRole();
             var e = this;
             t.defer(function() {
                 e.onRoomClick(),
                 u.resize(e.resizeBind)
             })
         },
         hide: function() {
             this.$el.hide(),
             this.mode = void 0,
             this.listView && (this.listView.destroy(),
             this.$el.children().remove(".list"),
             this.listView = void 0,
             delete this.listView),
             r.sourceCollection && r.sourceCollection.off("add remove reset", this.onCollectionUpdate, this),
             r.reset(),
             u.off("resize", this.resizeBind)
         },
         checkRole: function() {
             p.hasPermission(d.SITEMOD) ? this.$(".header").addClass("manager") : (this.$(".header").removeClass("manager"),
             "bans" !== this.mode && "mutes" !== this.mode || this.onRoomClick())
         },
         onResize: function(e) {
             e = e || u.getSize(),
             this.listView && this.listView.$el && (this.listView.$el.height(e.height - e.barHeight - this.listView.$el.offset().top),
             "room" === this.mode && this.listView.onResize()),
             this.listView.scrollPane && this.listView.scrollPane.reinitialise()
         },
         onCollectionUpdate: function() {
             var e = this;
             t.delay(function() {
                 e.$count.text(e.listView && e.listView.rows ? e.listView.rows.length : "0"),
                 e.listView && e.listView.scrollPane && e.listView.scrollPane.reinitialise()
             }, 5)
         },
         onEmpty: function() {
             this.$count.text(0)
         },
         setMode: function(e) {
             this.mode = e,
             this.listView && (this.listView.destroy(),
             this.$el.children().remove(".list"),
             this.listView = void 0,
             delete this.listView),
             this.$(".button").removeClass("selected"),
             this.$(".button." + e).addClass("selected"),
             this.$count.text(""),
             this.filterInput.value = "",
             this.$clearFilter.hide(),
             r.sourceCollection && r.sourceCollection.off("add remove reset", this.onCollectionUpdate, this)
         },
         onModBan: function() {
             "bans" === this.mode && s.dispatch(new n(n.BANS))
         },
         onModMute: function() {
             "mutes" === this.mode && s.dispatch(new n(n.MUTES))
         },
         onRoomClick: function() {
             this.setMode("room"),
             this.$title.text(k.userList.roomTitle),
             this.listView = new y,
             this.$el.append(this.listView.$el),
             this.listView.render(),
             r.setSource(c),
             this.onResize()
         },
         onStaffClick: function() {
             "staff" !== this.mode && (this.setMode("staff"),
             this.$title.text(k.userList.staffTitle),
             this.listView = new w,
             this.$el.append(this.listView.$el),
             this.listView.render(),
             s.dispatch(new n(n.STAFF)),
             this.onResize())
         },
         onWaitlistBansClick: function() {
             p.hasPermission(d.SITEMOD) && "waitlist-bans" !== this.mode && (this.setMode("waitlist-bans"),
             this.$title.text(k.userList.waitlistBannedTitle),
             this.listView = new g,
             this.$el.append(this.listView.$el),
             this.listView.render(),
             a.on("add remove reset", this.onCollectionUpdate, this),
             r.setSource(a),
             s.dispatch(new n(n.WAITLIST_BANS)),
             this.onResize())
         },
         onBansClick: function() {
             p.hasPermission(d.SITEMOD) && "bans" !== this.mode && (this.setMode("bans"),
             this.$title.text(k.userList.bannedTitle),
             this.listView = new m,
             this.$el.append(this.listView.$el),
             this.listView.render(),
             a.on("add remove reset", this.onCollectionUpdate, this),
             r.setSource(a),
             s.dispatch(new n(n.BANS)),
             this.onResize())
         },
         onMutesClick: function() {
             p.hasPermission(d.SITEMOD) && "mutes" !== this.mode && (this.setMode("mutes"),
             this.$title.text(k.userList.mutedTitle),
             this.listView = new b,
             this.$el.append(this.listView.$el),
             this.listView.render(),
             h.on("add remove reset", this.onCollectionUpdate, this),
             r.setSource(h),
             s.dispatch(new n(n.MUTES)),
             this.onResize())
         },
         onIgnoredClick: function() {
             "ignored" !== this.mode && (this.setMode("ignored"),
             this.$title.text(k.userList.ignoredTitle),
             this.listView = new v,
             this.$el.append(this.listView.$el),
             this.listView.render(),
             l.on("add remove reset", this.onCollectionUpdate, this),
             r.setSource(l),
             s.dispatch(new n(n.IGNORED)),
             this.onResize())
         },
         onRoomEnter: function() {
             s.trigger("tooltip:show", k.tooltips.usersRoom, this.$roomButton, !0)
         },
         onStaffEnter: function() {
             s.trigger("tooltip:show", k.tooltips.usersStaff, this.$staffButton, !0)
         },
         onBansEnter: function() {
             s.trigger("tooltip:show", k.tooltips.usersBans, this.$bansButton, !0)
         },
         onWaitlistBansEnter: function() {
             s.trigger("tooltip:show", k.tooltips.usersWaitlistBans, this.$waitlistBansButton, !0)
         },
         onMutesEnter: function() {
             s.trigger("tooltip:show", k.tooltips.usersMutes, this.$mutesButton, !0)
         },
         onIgnoredEnter: function() {
             s.trigger("tooltip:show", k.tooltips.usersIgnored, this.$ignoredButton, !0)
         },
         onHideTooltip: function() {
             s.trigger("tooltip:hide")
         },
         onFocus: function(e) {
             $(e.target).parent().addClass("focused")
         },
         onBlur: function(e) {
             $(e.target).parent().removeClass("focused")
         },
         onKeyUp: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             27 === t && (this.filterInput.value = ""),
             "staff" !== this.mode ? r.setFilter(this.filterInput.value.toLowerCase()) : o.setFilter(this.filterInput.value.toLowerCase()),
             this.filterInput.value.length > 0 ? this.$clearFilter.show() : this.$clearFilter.hide(),
             !0)
         },
         onClearFilterClick: function() {
             this.filterInput.value = "",
             this.$clearFilter.hide(),
             "staff" !== this.mode ? r.setFilter() : o.setFilter()
         }
     });
     return new _
 }),
 define("hbs!templates/room/user/WaitListRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="icon icon-drag-handle"></i>\n<div class="meta">\n    <span class="position"></span>\n    <div class="image online"><div class="thumb small"><i class="avi avi-',
         (a = i.avatarID) ? a = a.call(t, {
             hash: {}
         }) : (a = t.avatarID,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '"></i></div></div>\n    <div class="name"><i></i><span>',
         (a = i.username) ? a = a.call(t, {
             hash: {}
         }) : (a = t.username,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span></div>\n</div>\n<i class="icon icon-woot-disabled"></i>\n<i class="icon icon-x-white"></i>'
     });
     return t.registerPartial("templates_room_user_WaitListRow", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/e4df3", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/fbb60", "f1e1d/e8300/bb607", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/f109a/c9f4a", "f1e1d/af752/e504b", "hbs!templates/room/user/WaitListRow", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = i.View.extend({
         className: "user",
         initialize: function() {
             this.clickBind = t.bind(this.onDJClick, this),
             this.topBind = t.bind(this.onTopClick, this),
             this.removeBind = t.bind(this.onRemoveClick, this)
         },
         render: function() {
             return this.$el.html(p({
                 username: this.model.get("username"),
                 avatarID: c.aviClass(this.model.get("avatarID"))
             })),
             this.$(".position").text(this.options.index + 1),
             this.$top = this.$(".icon-woot-disabled"),
             this.$remove = this.$(".icon-x-white").on("click", this.removeBind),
             this.$el.attr("data-uid", this.model.get("id")),
             0 === this.options.index ? this.$el.addClass("locked") : this.$top.on("click", this.topBind),
             this.model.on("change:avatarID", this.onAvatar, this).on("change:username", this.onUsername, this).on("change:role change:gRole change:sub change:silver", this.onRole, this),
             this.onRole(),
             this
         },
         onAvatar: function() {
             this.$(".thumb i").removeClass().addClass("avi avi-" + c.aviClass(this.model.get("avatarID")))
         },
         onUsername: function() {
             this.$(".name").text(this.model.get("username"))
         },
         onRole: function() {
             try {
                 var e;
                 if (this.$(".meta").removeClass("is-admin is-ambassador is-sitemod is-plot is-promoter is-staff is-you is-subscriber"),
                 this.model.hasPermission(l.ADMIN, !0))
                     this.$(".meta").addClass("is-admin"),
                     this.$(".name i").removeClass().addClass("icon icon-chat-admin");
                 else if (this.model.hasPermission(l.AMBASSADOR, !0))
                     this.$(".meta").addClass("is-ambassador"),
                     this.$(".name i").removeClass().addClass("icon icon-chat-ambassador");
                 else if (this.model.hasPermission(l.SITEMOD, !0))
                     this.$(".meta").addClass("is-sitemod"),
                     this.$(".name i").removeClass().addClass("icon icon-chat-sitemod");
                 else if (this.model.hasPermission(l.PLOT, !0))
                     this.$(".meta").addClass("is-plot"),
                     this.$(".name i").removeClass().addClass("icon icon-chat-plot");
                 else if (this.model.hasPermission(l.PROMOTER, !0))
                     this.$(".meta").addClass("is-promoter"),
                     this.$(".name i").removeClass().addClass("icon icon-chat-promoter");
                 else if (this.model.hasPermission(l.DJ)) {
                     this.$(".meta").addClass("is-staff");
                     var t = this.model.get("role");
                     t === l.HOST || t === l.COHOST ? e = "host" : t === l.MANAGER ? e = "manager" : t === l.BOUNCER ? e = "bouncer" : t === l.DJ && (e = "dj"),
                     this.$(".name i").removeClass().addClass("icon icon-chat-" + e)
                 } else
                     this.$(".name i").removeClass(),
                     this.model.get("sub") > 0 ? this.$(".name i").addClass("icon icon-chat-subscriber") : this.model.get("silver") && this.$(".name i").addClass("icon icon-chat-silver-subscriber"),
                     this.model.get("id") === r.get("id") ? this.$(".meta").addClass("is-you") : (this.$(".meta").removeClass("is-you"),
                     this.model.get("sub") > 0 ? this.$(".meta").addClass("is-subscriber") : this.model.get("silver") && this.$(".meta").addClass("is-subscriber silver"))
             } catch (e) {}
         },
         onDJClick: function() {
             s.dispatch(new o(o.SHOW,this.model,{
                 x: e("#waitlist").offset().left,
                 y: this.$el.offset().top + 11
             }))
         },
         onTopClick: function() {
             new h(this.model.get("id"),0)
         },
         onRemoveClick: function() {
             s.dispatch(new n(n.CONFIRM,d.alerts.removeDJConfirm,d.alerts.removeDJMessage.split("%NAME%").join(t.escape(this.model.get("username"))),t.bind(this.onConfirm, this)))
         },
         onConfirm: function() {
             s.dispatch(new a(a.REMOVE_DJ,this.model.get("id")))
         },
         remove: function() {
             this.model.off("change:avatarID", this.onAvatar, this).off("change:username", this.onUsername, this).off("change:role change:gRole change:sub change:silver", this.onRole, this),
             this.$top.off(),
             this.$remove.off(),
             this.$username = void 0,
             this.$top = void 0,
             this.$remove = void 0,
             this.options = void 0,
             this.model = void 0,
             this.clickBind = void 0,
             this.topBind = void 0,
             this.removeBind = void 0,
             delete this.$username,
             delete this.$top,
             delete this.$remove,
             delete this.options,
             delete this.model,
             delete this.clickBind,
             delete this.topBind,
             delete this.removeBind,
             this._super()
         }
     });
     return u
 }),
 define("hbs!templates/room/user/WaitList", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="header">\n    <span class="title">' + l((a = t.userList,
         a = null == a || a === !1 ? a : a.waitlist,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    <div class="position">\n        <span class="current"></span><span class="count"></span>\n    </div>\n    <div class="divider left"></div>\n    <div class="divider right"></div>\n</div>\n<div class="list"></div>'
     });
     return t.registerPartial("templates_room_user_WaitList", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/b14c6/bbebc", ["jquery-sortable", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/fb3ca", "f1e1d/d8478/eeaaf", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/f109a/c9f4a", "f1e1d/af752/c506b", "f1e1d/e74c9/b49ed/b14c6/e4df3", "hbs!templates/room/user/WaitList", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = i.View.extend({
         id: "waitlist",
         initialize: function() {
             this.rows = [],
             this.drawBind = t.bind(this.drawRow, this),
             this.resizeBind = t.bind(this.onResize, this),
             this.enableBind = t.bind(this.enableSort, this),
             this.startBind = t.bind(this.onDragStart, this),
             this.moveBind = t.bind(this.onDragMove, this),
             this.endBind = t.bind(this.onDragEnd, this),
             this.sortBind = t.bind(this.onSortUpdate, this),
             this.mouseBind = t.bind(this.onMouseCheck, this),
             this.dragIntervalID = 0,
             this.mouseX = void 0,
             this.mouseY = void 0,
             this.count = 0
         },
         render: function() {
             return this.$el.html(p(d)),
             this.$count = this.$(".position .count"),
             this.$current = this.$(".position .current"),
             this.$list = this.$(".list"),
             this.$list.jScrollPane(),
             this.scrollPane = this.$list.data("jsp"),
             this.$title = this.$(".header .title"),
             s.on("show:waitlist", this.show, this).on("show:chat show:users show:friends", this.hide, this),
             a.on("change:isLocked", this.onLockChange, this),
             this.onLockChange(),
             this
         },
         enableSort: function() {
             this.scrollPane.getContentPane().sortable("destroy").off(),
             this.$list.hasClass("manager") && n.length > 1 && this.scrollPane.getContentPane().sortable({
                 forcePlaceholderSize: !0,
                 handle: ".icon-drag-handle .meta",
                 items: ".user"
             }).on("dragstart", this.startBind).on("dragmove", this.moveBind).on("dragend", this.endBind).on("sortupdate", this.sortBind)
         },
         onDragStart: function() {
             clearInterval(this.dragIntervalID),
             this.dragIntervalID = setInterval(this.mouseBind, 20)
         },
         onDragMove: function(e, t) {
             this.mouseX = t.pageX,
             this.mouseY = t.pageY
         },
         onDragEnd: function() {
             clearInterval(this.dragIntervalID)
         },
         onSortUpdate: function(e, t) {
             var i;
             try {
                 i = t.item[0].dataset.uid
             } catch (e) {}
             i && new l(i,t.newIndex).on("error", this.onError, this)
         },
         onMouseCheck: function() {
             var e, t, i = this.$list.offset().top + 20, s = this.$list.offset().left + 10, n = s + this.$list.width() - 5, a = this.scrollPane.scrollTop(), o = this.$list.height() - 40;
             this.mouseX >= s && this.mouseX <= n && (this.mouseY < i ? (e = (i - this.mouseY) / 1.25,
             t = Math.max(0, a - e),
             this.scrollPane.scrollTop(t)) : this.mouseY > i + o && (e = (this.mouseY - (i + o)) / 1.25,
             t = Math.min(a + e, this.scrollPane.getContentHeight() - o),
             this.scrollPane.scrollTop(t)))
         },
         onLockChange: function() {
             var e = a.get("isLocked");
             this.$title.text(e ? d.userList.waitlistLocked : d.userList.waitlist);
             var t = !1;
             o.hasPermission(r.MANAGER) ? t = !0 : o.hasPermission(r.BOUNCER) && (t = !e),
             t ? this.$list.hasClass("bouncer") || this.$list.addClass("bouncer") : this.$list.removeClass("bouncer")
         },
         show: function() {
             this.draw(),
             this.$el.show(),
             h.resize(this.resizeBind),
             n.on("reset", this.onReset, this),
             o.on("change:role", this.onRoleChange, this),
             t.defer(this.enableBind)
         },
         hide: function() {
             n.off("reset", this.onReset, this),
             o.off("change:role", this.onRoleChange, this),
             h.off("resize", this.resizeBind),
             this.clear(),
             this.$el.hide()
         },
         updateCount: function() {
             var e = n.getUserPosition();
             e > -1 ? (this.$current.text(e + 1),
             n.length > 0 ? this.$count.text(" / " + n.length) : this.$count.empty()) : (this.$current.text(n.length),
             this.$count.empty())
         },
         onRoleChange: function() {
             n.length > 1 ? this.$list.removeClass("single") : this.$list.addClass("single"),
             o.hasPermission(r.BOUNCER) ? o.hasPermission(r.MANAGER) && (this.$list.hasClass("manager") || (this.$list.addClass("manager"),
             this.enableSort())) : this.$list.removeClass("manager").removeClass("bouncer"),
             this.onLockChange()
         },
         onResize: function(e) {
             this.$list.height(e.height - e.barHeight - this.$list.offset().top),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             return this.rows.length = 0,
             this.scrollPane.getContentPane().sortable("destroy").off(),
             this.scrollPane.getContentPane().empty(),
             this.scrollPane && this.scrollPane.reinitialise(),
             this
         },
         draw: function() {
             var e;
             this.scrollPane && this.scrollPane.scrollTop() > 0 && (e = this.scrollPane.scrollTop()),
             this.clear(),
             n.length > 0 && (n.each(this.drawBind),
             this.onRoleChange()),
             this.updateCount(),
             this.scrollPane && (this.scrollPane.reinitialise(),
             e ? this.scrollPane.scrollTop(e) : this.scrollPane.scrollTop(0))
         },
         drawRow: function(e, t) {
             var i = new c({
                 model: e,
                 index: t
             });
             this.scrollPane.getContentPane().append(i.$el),
             this.rows.push(i),
             i.render()
         },
         onError: function() {
             this.draw()
         },
         onReset: function() {
             this.draw(),
             this.updateCount(),
             t.defer(this.enableBind)
         }
     });
     return u
 }),
 define("hbs!templates/room/walkthrough/GuestWalkThrough", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="wt-cover"></div>\n<div class="container">\n    <div class="step wt-welcome">\n        <h1>',
         (a = i.welcomeTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.welcomeTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.overview) ? a = a.call(t, {
             hash: {}
         }) : (a = t.overview,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "<br/><br/>",
         (a = i.welcomeMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.welcomeMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "<br/><br/>",
         (a = i.rightNow) ? a = a.call(t, {
             hash: {}
         }) : (a = t.rightNow,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\n        <span class="next"><a>',
         (a = i.next) ? a = a.call(t, {
             hash: {}
         }) : (a = t.next,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n    </div>\n    <div class="step wt-mode">\n        <h1>',
         (a = i.modeTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.modeTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.modeMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.modeMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "<br><br>",
         (a = i.modePrefer) ? a = a.call(t, {
             hash: {}
         }) : (a = t.modePrefer,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\n        <div class="mode avatar-mode selected">',
         (a = i.avatarMode) ? a = a.call(t, {
             hash: {}
         }) : (a = t.avatarMode,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</div>\n        <div class="mode video-mode">',
         (a = i.videoMode) ? a = a.call(t, {
             hash: {}
         }) : (a = t.videoMode,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</div>\n        <span class="back"><a>',
         (a = i.back) ? a = a.call(t, {
             hash: {}
         }) : (a = t.back,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n        <span class="next"><a>',
         (a = i.next) ? a = a.call(t, {
             hash: {}
         }) : (a = t.next,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n    </div>\n    <div class="step wt-chat">\n        <h1>',
         (a = i.chatTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.chatTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.chatMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.chatMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\n        <span class="back"><a>',
         (a = i.back) ? a = a.call(t, {
             hash: {}
         }) : (a = t.back,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n        <span class="next"><a>',
         (a = i.next) ? a = a.call(t, {
             hash: {}
         }) : (a = t.next,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n    </div>\n    <div class="step wt-menu">\n        <h1>',
         (a = i.menuTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.menuTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.menuMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.menuMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\n        <span class="back"><a>',
         (a = i.back) ? a = a.call(t, {
             hash: {}
         }) : (a = t.back,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n        <span class="next"><a>',
         (a = i.next) ? a = a.call(t, {
             hash: {}
         }) : (a = t.next,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n    </div>\n    <div class="step wt-guest">\n        <h1>',
         (a = i.guestTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.guestTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.guestMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.guestMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\n        <span class="back"><a>',
         (a = i.back) ? a = a.call(t, {
             hash: {}
         }) : (a = t.back,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n        <span class="next"><a>',
         (a = i.guestFinish) ? a = a.call(t, {
             hash: {}
         }) : (a = t.guestFinish,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</a></span>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_room_walkthrough_GuestWalkThrough", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/e23ea/ab5bd", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/b5029", "f1e1d/d8478/e70c0", "f1e1d/af752/c506b", "f1e1d/d9232/b42c1", "f1e1d/af752/e7b9f", "hbs!templates/room/walkthrough/GuestWalkThrough", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p, d = [0, 0, 0, 0, 0], u = i.View.extend({
         id: "walkthrough",
         render: function() {
             this.$app = e("#app"),
             this.setVideoOnly(!0);
             var i = a.get("population") + a.get("guests") - 1
               , s = t.clone(c.walkthrough);
             return s.back = c.playlist.back,
             s.welcomeMessage = 0 === i ? c.walkthrough.welcome0 : 1 === i ? c.walkthrough.welcome1 : c.walkthrough.welcome.split("%COUNT%").join(String(i)),
             this.$app.addClass("is-wt").append(this.$el.html(h(s))),
             this.$app.append(this.$(".wt-cover")),
             this.$(".step span.next a").on("click", t.bind(this.onNextClick, this)),
             this.$(".step span.back a").on("click", t.bind(this.onBackClick, this)),
             this.$(".step .video-mode").on("click", t.bind(this.onVideoClick, this)),
             this.$(".step .avatar-mode").on("click", t.bind(this.onAvatarClick, this)),
             this.step = 1,
             clearInterval(p),
             p = setInterval(t.bind(this.fadeIn, this), 250),
             this.update(),
             this
         },
         fadeIn: function() {
             n.get("volume") < 14 ? n.set("volume", n.get("volume") + 1) : (clearInterval(p),
             n.set({
                 volume: 15,
                 lastVolume: 15
             }),
             r.settings.volume = 15,
             r.save())
         },
         onResize: function(e) {
             e || (e = o.getSize()),
             this.$(".wt-chat").css("top", (e.height - this.$(".wt-chat").height()) / 2 + "px")
         },
         setVideoOnly: function(e) {
             r.settings.videoOnly = e,
             r.save(),
             s.trigger("change:videoOnly")
         },
         onNextClick: function() {
             ++this.step < 6 ? this.update() : (l.actual("Guest Walkthrough", "Complete", r.settings.videoOnly ? "Video Mode" : "Avatar Mode"),
             localStorage.setItem("wt", Date.now()),
             this.trigger("finish"))
         },
         onBackClick: function() {
             --this.step < 1 ? this.step = 1 : this.update()
         },
         onVideoClick: function() {
             r.settings.videoOnly || (this.$(".step .mode").removeClass("selected"),
             this.$(".step .video-mode").addClass("selected"),
             this.setVideoOnly(!0))
         },
         onAvatarClick: function() {
             r.settings.videoOnly && (this.$(".step .mode").removeClass("selected"),
             this.$(".step .avatar-mode").addClass("selected"),
             this.setVideoOnly(!1))
         },
         update: function() {
             var e;
             d[this.step - 1] || (e = !0,
             d[this.step - 1] = 1),
             this.$app.removeClass().addClass("is-wt wt-" + this.step),
             1 === this.step ? (this.onVideoClick(),
             e && l.actual("Guest Walkthrough", "View", "Welcome")) : 2 === this.step ? (this.onAvatarClick(),
             e && l.actual("Guest Walkthrough", "View", "Modes")) : 3 === this.step ? e && (r.settings.videoOnly ? l.actual("Guest Walkthrough", "Choose Mode", "Video") : l.actual("Guest Walkthrough", "Choose Mode", "Avatar"),
             l.actual("Guest Walkthrough", "View", "Chat")) : 4 === this.step ? e && l.actual("Guest Walkthrough", "View", "Communities") : 5 === this.step && e && l.actual("Guest Walkthrough", "View", "Guest"),
             this.onResize()
         },
         remove: function() {
             this.$(".step a").off(),
             this.$(".step .mode").off(),
             e(".wt-cover").remove(),
             this.$app.removeClass(),
             this.$app = void 0,
             delete this.$app,
             this._super()
         }
     });
     return u
 }),
 define("hbs!templates/room/walkthrough/NewUserWalkThrough", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="wt-cover"></div>\n<div class="container">\n    <div class="step wt-meta">\n        <h1>',
         (a = i.metaTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.metaTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.metaMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.metaMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\n        <span class="next"><a>',
         (a = i.next) ? a = a.call(t, {
             hash: {}
         }) : (a = t.next,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n    </div>\n    <div class="step wt-vote">\n        <h1>',
         (a = i.voteTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.voteTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.voteMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.voteMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\n        <span class="back"><a>',
         (a = i.back) ? a = a.call(t, {
             hash: {}
         }) : (a = t.back,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n        <span class="next"><a>',
         (a = i.next) ? a = a.call(t, {
             hash: {}
         }) : (a = t.next,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n    </div>\n    <div class="step wt-dj">\n        <h1>',
         (a = i.djTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.djTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.djMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.djMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\n        <span class="back"><a>',
         (a = i.back) ? a = a.call(t, {
             hash: {}
         }) : (a = t.back,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n        <span class="next"><a>',
         (a = i.next) ? a = a.call(t, {
             hash: {}
         }) : (a = t.next,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n    </div>\n    <div class="step wt-explore">\n        <h1>',
         (a = i.exploreTitle) ? a = a.call(t, {
             hash: {}
         }) : (a = t.exploreTitle,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h1>\n        <p>",
         (a = i.exploreMessage) ? a = a.call(t, {
             hash: {}
         }) : (a = t.exploreMessage,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "<br/><br/>",
         (a = i.exploreFAQ) ? a = a.call(t, {
             hash: {}
         }) : (a = t.exploreFAQ,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += '</p>\n        <span class="back"><a>',
         (a = i.back) ? a = a.call(t, {
             hash: {}
         }) : (a = t.back,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</a></span>\n        <span class="next"><a>',
         (a = i.finish) ? a = a.call(t, {
             hash: {}
         }) : (a = t.finish,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</a></span>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_room_walkthrough_NewUserWalkThrough", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/e23ea/c865c", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/e70c0", "f1e1d/af752/c506b", "f1e1d/d9232/b42c1", "f1e1d/af752/e7b9f", "hbs!templates/room/walkthrough/NewUserWalkThrough", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = [0, 0, 0, 0, 0, 0, 0, 0, 0]
       , p = i.View.extend({
         id: "walkthrough",
         render: function() {
             this.$app = e("#app"),
             this.resizeBind = t.bind(this.onResize, this),
             a.resize(this.resizeBind);
             var i = t.clone(h.walkthrough);
             return i.back = h.playlist.back,
             i.exploreFAQ = i.exploreFAQ.split("%FAQ%").join('<a href="http://support.plug.dj/" target="_blank">FAQ</a>'),
             this.$app.addClass("is-wt").append(this.$el.html(l(i))),
             this.$app.append(this.$(".wt-cover")),
             this.$(".step span.next a").on("click", t.bind(this.onNextClick, this)),
             this.$(".step span.back a").on("click", t.bind(this.onBackClick, this)),
             this.step = 6,
             this.update(),
             this
         },
         onResize: function() {
             var t = e("#grab")
               , i = e("#dj-button");
             this.$(".wt-vote").css({
                 top: t.offset().top - this.$(".wt-vote").height() - 75 + "px",
                 left: t.offset().left + t.width() / 2 - this.$(".wt-vote").width() / 2 - 25 + "px"
             }),
             this.$(".wt-dj").css({
                 top: i.offset().top - this.$(".wt-dj").height() - 75 + "px",
                 left: i.offset().left + (o.settings.videoOnly ? 25 : -20) + "px"
             })
         },
         onNextClick: function() {
             ++this.step < 10 ? this.update() : (r.actual("New User Walkthrough", "Complete"),
             this.trigger("finish"))
         },
         onBackClick: function() {
             --this.step < 6 ? this.step = 6 : this.update()
         },
         update: function() {
             var e;
             c[this.step - 1] || (e = !0,
             c[this.step - 1] = 1),
             this.$app.removeClass().addClass("is-wt wt-" + this.step),
             6 === this.step ? e && r.actual("New User Walkthrough", "View", "Meta") : 7 === this.step ? e && r.actual("New User Walkthrough", "View", "Vote") : 8 === this.step ? e && r.actual("New User Walkthrough", "View", "DJ") : 9 === this.step && e && r.actual("New User Walkthrough", "View", "Explore"),
             this.onResize()
         },
         remove: function() {
             a.off("resize", this.resizeBind),
             this.$(".step a").off(),
             e(".wt-cover").remove(),
             this.$app.removeClass(),
             this.$app = void 0,
             delete this.$app,
             this.resizeBind = void 0,
             delete this.resizeBind,
             this._super()
         }
     });
     return p
 }),
 define("hbs!templates/room/DfpBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="a-container banner--desktop" id="plugdj_booth_bottom">\n    <div id=""></div>\n</div>\n'
     });
     return t.registerPartial("templates_room_DfpBanner", i),
     i
 }),
 define("hbs!templates/room/PlaybackBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="banner playbackbanner-container banner--desktop" id="plugdj_below_player">\r\n    <!--FIXME: No more below playback banner-->\r\n\t<div id=""></div>\r\n</div>\r\n'
     });
     return t.registerPartial("templates_room_PlaybackBanner", i),
     i
 }),
 define("hbs!templates/room/OuterDockedBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="outerdockedbanner-container banner--desktop">\r\n\t<div id="div-gpt-ad-1523297134334-2" class="banner__outer_docked"></div>\r\n</div>\r\n'
     });
     return t.registerPartial("templates_room_OuterDockedBanner", i),
     i
 }),
 define("data/custom-behavior", [], function() {
     return {
         default: {
             expires: null,
             isWalktroughtEnabled: !0,
             forceRegister: !1
         },
         monstercat: {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         },
         "pdj-chillout": {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         },
         "pdj-dubstep": {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         },
         "pdj-drum-bass": {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         },
         "pdj-edm": {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         },
         "pdj-pop": {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         },
         "pdj-rock": {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         },
         "pdj-techno": {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         },
         "pdj-trap": {
             expires: null,
             isWalktroughtEnabled: !1,
             forceRegister: !0
         }
     }
 }),
 define("f1e1d/af752/b661e", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/af752/e504b", "f1e1d/af752/fa88e", "data/custom-behavior"], function(e, t, i, s, n, a, o) {
     var r = function() {
         a.isProduction !== !0 && (arguments[0] = "[CustomBehavior] " + arguments[0],
         console.debug.apply(console, arguments))
     }
       , l = t.extend({
         init: function(e) {
             r("Initialize"),
             this.data = e.data
         },
         canWalkthrough: function() {
             return r("canWalkthrough"),
             this.getCurrentRoom().isWalktroughtEnabled === !0
         },
         triggerSignupOverlay: function() {
             r("triggerSignupOverlay"),
             this.canWalkthrough() === !1 && s.isGuest() === !0 && i.trigger("signup:show")
         },
         getCurrentRoom: function() {
             var t = window.location.pathname.replace(/\//gi, "");
             return e.keys(this.data).indexOf(t) === -1 && (t = "default"),
             r("getCurrentRoom %s %o", t, this.data[t]),
             this.data[t]
         }
     });
     return new l({
         data: o
     })
 }),
 define("f1e1d/e74c9/b49ed/e307c", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/d676d", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d9232/b42c1", "f1e1d/af752/c506b", "f1e1d/af752/e6c91", "f1e1d/e74c9/b49ed/a178a", "f1e1d/e74c9/b49ed/a6125", "f1e1d/e74c9/b49ed/adbd9/ff68a", "f1e1d/e74c9/b49ed/d5b88", "f1e1d/e74c9/b49ed/b3668/def02", "f1e1d/e74c9/b49ed/b3668/a20c1", "f1e1d/e74c9/b49ed/c0731/de88a", "f1e1d/e74c9/b49ed/fbb41", "f1e1d/e74c9/b49ed/b14c6/c7f51", "f1e1d/e74c9/b49ed/b14c6/a041b", "f1e1d/e74c9/b49ed/b14c6/bbebc", "f1e1d/e74c9/b14c6/c055e", "f1e1d/e74c9/b49ed/e23ea/ab5bd", "f1e1d/e74c9/b49ed/e23ea/c865c", "f1e1d/e74c9/b49ed/f4fba", "hbs!templates/room/DfpBanner", "hbs!templates/room/PlaybackBanner", "hbs!templates/room/OuterDockedBanner", "f1e1d/af752/fa88e", "f1e1d/af752/b661e"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $, E, M, T, I, D, P, R) {
     var A = i.View.extend({
         id: "room",
         className: "app-view",
         initialize: function() {
             this.$background = e("<div/>").addClass("room-background"),
             this.$right = e("<div/>").addClass("app-right"),
             this.header = new w,
             this.playback = new y,
             this.djButton = new v,
             this.chat = new g,
             this.waitlist = new S,
             this.friends = new k,
             this.vote = new M,
             this.history = new b,
             this.audience = f,
             this.booth = m,
             this.audienceArray = [],
             this.audienceIntervalID = 0,
             this.random = new u,
             this.testID = 99999,
             this.paused = !1,
             this.$avatars = e("<div/>").attr("id", "avatars-container"),
             this.clickBind = t.bind(x.onAvatarClick, x),
             this.moveBind = t.bind(this.onMouseMove, this)
         },
         render: function() {
             return this.$el.append(this.$background).append(this.header.$el).append(this.$avatars.append(this.audience.$el).append(this.booth.$el)).append(this.playback.$el).append(I()).append(D()).append(this.djButton.$el).append(this.vote.$el).append(this.$right.append(this.chat.$el).append(_.$el).append(this.waitlist.$el).append(this.friends.$el)).append(this.history.$el),
             this.header.render(),
             this.playback.render(),
             this.djButton.render(),
             this.vote.render(),
             this.audience.render(),
             this.booth.render(),
             this.chat.render(),
             _.render(),
             this.waitlist.render(),
             this.friends.render(),
             this.history.render(),
             C.render(),
             x.render(),
             d.resize(t.bind(this.onResize, this)),
             s.on("user:join", this.onUserJoin, this).on("user:leave", this.onUserLeave, this).on("audience:draw", this.redraw, this).on("audience:test", this.testAddAvatar, this).on("audience:pause", this.onAudiencePause, this).on("audience:stop", this.onAnimateStop, this).on("change:videoOnly", this.onVideoOnlyChange, this),
             r.on("change:currentDJ", this.onDJUpdate, this),
             a.on("toAudience", this.onDJAudience, this),
             this.$avatars.on("mousemove", this.moveBind).on("click", this.clickBind),
             P.isMobile !== !0 && R.canWalkthrough() === !0 && h.on("change:walkthrough", this.onWTChange, this),
             e("#avatars-container").append(T()),
             e("#plugdj_below_player").css("margin-left", "-" + e(".app-right").css("width")),
             this.onVideoOnlyChange(),
             s.on("room:loaded", function() {
                 R.triggerSignupOverlay()
             }, this),
             this
         },
         drawAudience: function(e) {
             p.settings.videoOnly || (this.audienceArray = e,
             this.audienceIntervalID && clearInterval(this.audienceIntervalID),
             this.audienceArray.length > 0 && (this.audienceIntervalID = setInterval(t.bind(this.drawAudienceNext, this), 100)))
         },
         drawAudienceNext: function() {
             this.audienceArray.length > 0 ? this.audience.addUser(this.audienceArray.shift()) : (clearInterval(this.audienceIntervalID),
             this.onDJUpdate(),
             h.hasPermission(c.HOST, !0) && console.log("Audience Render Complete :: " + this.audience.gridData.userCount + " avatars"),
             p.settings.dancing || this.onAnimateStop())
         },
         onDJUpdate: function() {
             r.get("currentDJ") && this.onUserLeave(r.get("currentDJ"))
         },
         onDJAudience: function(e) {
             e && this.audience.addUser(e)
         },
         clear: function() {
             this.audience.clear(),
             this.booth.clear(),
             x.hide()
         },
         redraw: function() {
             this.clear(),
             this.drawAudience(o.getAudience()),
             p.settings.videoOnly || this.booth.onDJUpdate()
         },
         onUserJoin: function(e) {
             p.settings.videoOnly || this.audience.addUser(e)
         },
         onUserLeave: function(e) {
             p.settings.videoOnly || this.audience.removeUser(e),
             x.user && x.user.get("id") === e && x.hide()
         },
         animate: function(e) {
             !p.settings.videoOnly && p.settings.dancing && (this.paused || (this.audience.frame = this.booth.frame = e,
             this.audience.draw(),
             this.booth.draw()),
             C.animate(e))
         },
         onAudiencePause: function(e) {
             this.paused = e,
             e || (this.audience.refresh(),
             this.booth.refresh())
         },
         onAnimateStop: function() {
             this.paused = !0,
             this.audience.frame = this.booth.frame = 0,
             this.audience.refresh(),
             this.audience.draw(),
             this.booth.draw()
         },
         onVideoOnlyChange: function() {
             p.settings.videoOnly ? (this.$el.addClass("video-only"),
             this.clear(),
             this.onAnimateStop()) : (e("#app").hasClass("is-wt") && (this.paused = !1),
             this.$el.removeClass("video-only"),
             this.redraw());
             var t = d.getSize();
             this.onResize(t),
             this.playback.onResize(t)
         },
         onWTChange: function() {
             var e = h.get("walkthrough");
             1 === e ? this.walkthrough = new $ : 2 === e && (this.walkthrough = new E),
             this.walkthrough.render().on("finish", this.onWTFinish, this)
         },
         onWTFinish: function() {
             this.walkthrough && (this.walkthrough.destroy(),
             this.walkthrough = void 0,
             delete this.walkthrough,
             2 === h.get("walkthrough") && (h.off("change:walkthrough", this.onWTChange, this),
             h.unset("walkthrough")))
         },
         onResize: function(t) {
             if (e(".left-meta").width(t.availWidth),
             p.settings.videoOnly)
                 this.$background.css("left", 0).css("top", t.barHeight).width(t.availWidth).height(t.height - 2 * t.barHeight),
                 this.djButton.$el.css("top", "auto").css("left", 0).css("bottom", t.barHeight),
                 this.vote.$el.css("top", "auto").css("left", "auto").css("right", "345px").css("bottom", t.barHeight).width(t.availWidth - 231),
                 this.vote.videoOnlyResize();
             else {
                 this.$background.css("left", (t.availWidth - 1600) / 2).css("top", t.bgTop).width(1600).height(900),
                 this.$avatars.css("left", (t.availWidth - this.$avatars.width()) / 2).css("top", t.bgTop + 492);
                 var i = t.availWidth / 2
                   , s = t.bgTop + t.barHeight + 664
                   , n = Math.max(0, Math.min(16, 422 - i));
                 this.djButton.$el.css("left", i + n - 159 - this.djButton.$el.width()).css("top", s),
                 this.vote.$el.css("left", i - n + 159).css("top", s).width(256)
             }
         },
         onMouseMove: function(e) {
             if (!p.settings.videoOnly) {
                 var t = this.$el.offset()
                   , i = e.pageX - t.left
                   , s = e.pageY - t.top
                   , n = this.booth.$el.offset().left + 85
                   , a = this.booth.$el.offset().top;
                 s > a + 105 && i > n && i < n + 170 ? s < a + 215 ? this.booth.onMouseMove(e) : x.hide(!0) : this.audience.onMouseMove(e)
             }
         },
         testAddAvatar: function(e) {
             var t = [];
             e || (e = 1);
             var i = [];
             n.each(function(e) {
                 i.push(e.get("id"))
             });
             for (var s = 0; s < e; ++s) {
                 var a = this.random.integer(0, i.length - 1)
                   , o = new c({
                     id: ++this.testID,
                     username: this.testID + "_" + i[a],
                     avatarID: i[a],
                     vote: Math.round(this.random.float(.3, .99)),
                     level: this.random.integer(1, 10)
                 })
                   , r = Math.random();
                 r > .5 && o.set("friend", !0),
                 t.push(o)
             }
             this.drawAudience(t)
         }
     });
     return A
 }),
 define("f1e1d/e74c9/c00f1/d1411", ["underscore", "f1e1d/e8300/bef7f", "f1e1d/d8478/e70c0", "f1e1d/be642/f109a/ad97d", "f1e1d/e74c9/c00f1/b182f", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = n.extend({
         id: "dialog-confirm",
         className: "dialog destructive",
         render: function() {
             return this.$el.append(this.getHeader(a.dialog.lockBoothTitle)).append(this.getBody().append(this.getMessage(a.dialog.lockBoothMessage))).append(this.getButtons(a.dialog.lockBoothSubmit, !0)),
             e.defer(e.bind(this.adjustTop, this)),
             this._super()
         },
         adjustTop: function() {
             this.$(".dialog-body .message").css("top", (this.$(".dialog-body").height() - this.$(".dialog-body .message").height()) / 2),
             this.$(".cancel span").text(a.dialog.lockBoothCancel)
         },
         submit: function() {
             new s(!0,!0),
             this.close()
         },
         cancel: function() {
             new s(!0,!1),
             this.close()
         }
     });
     return o
 }),
 define("hbs!templates/room/settings/ChatLevelDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<dt><span></span><i class="icon icon-arrow-down-grey"></i><i class="icon icon-arrow-up-grey"></i></dt>\n<dd>\n    <div class="row" data-value="1"><span>1</span></div>\n    <div class="row" data-value="2"><span>2</span></div>\n    <div class="row" data-value="3"><span>3</span></div>\n</dd>'
     });
     return t.registerPartial("templates_room_settings_ChatLevelDropDown", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/db9d2", ["jquery", "underscore", "backbone", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/e32cc/c2a56", "hbs!templates/room/settings/ChatLevelDropDown"], function(e, t, i, s, n, a, o, r) {
     var l = i.View.extend({
         className: "dropdown",
         tagName: "dl",
         initialize: function() {
             this.docBind = t.bind(this.onDocClick, this)
         },
         render: function() {
             return this.$el.html(r(Lang)),
             n.get("gRole") >= a.MANAGER && this.$el.find("dd").append('<div class="row" data-value="4"><span>4</span></div><div class="row" data-value="5"><span>5</span></div>'),
             this.$("dt").on("click", t.bind(this.onBaseClick, this)),
             this.$(".row").on("click", t.bind(this.onRowClick, this)),
             this.$("dt span").text(s.get("minChatLevel")),
             this.$('[data-value="' + s.get("minChatLevel") + '"]').addClass("selected"),
             this
         },
         onBaseClick: function() {
             if (!this.$el.hasClass("disabled"))
                 if (this.$el.hasClass("open"))
                     this.$el.removeClass("open"),
                     e(document).off("click", this.docBind);
                 else {
                     this.$el.addClass("open");
                     var i = this;
                     t.defer(function() {
                         e(document).on("click", i.docBind)
                     })
                 }
         },
         onRowClick: function(t) {
             var i = e(t.target).closest(".row");
             this.$(".row").removeClass("selected"),
             i.addClass("selected"),
             this.$el.removeClass("open"),
             this.$("dt span").text(i.data("value"));
             var n = parseInt(i.data("value"));
             n !== s.get("minChatLevel") && new o(void 0,void 0,void 0,n)
         },
         onDocClick: function() {
             var i = this;
             t.defer(function() {
                 i.$el.removeClass("open"),
                 e(document).off("click", i.docBind)
             })
         },
         select: function(e) {
             this.$(".row").removeClass("selected"),
             this.$('[data-value="' + e + '"]').addClass("selected"),
             this.$("dt span").text(e)
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", this.docBind),
             this.docBind = void 0,
             delete this.docBind,
             this._super()
         }
     });
     return l
 }),
 define("hbs!templates/room/settings/CommunityBackground", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<span class="title">Community Background</span>\n<div class="backgrounds-container owl-carousel owl-theme">\n\n</div>\n<div class="background-text">\n    <h1>Looking for new backgrounds?</h1>\n    <p> You can chose your favorites in our store! Have fun with our <span>free versions!</span></p>\n    <button class="add-background">ADD A NEW BACKGROUND</button>\n</div>'
     });
     return t.registerPartial("templates_room_settings_CommunityBackground", i),
     i
 }),
 define("hbs!templates/dialogs/DialogBackgroundPreviewSlider", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="modal-dialog" role="document">\n    <div class="modal-content">\n\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true#">&times;</span></button>\n\n\n        <div class="modal-title">\n            <h1>Choose your background</h1>\n            <p class="communityName"></p>\n        </div>\n\n        <div class="mb-4 content-inside backgrounds-container owl-carousel owl-theme">\n\n        </div>\n        <div>\n            <button type="button" class="mb-4 btn-blue small apply">Apply this background</button>\n        </div>\n        <p class="backgroundCoolDown error">Background can be updated only once every few hours.</p>\n        <p class="backgroundCoolDown succes">You have successfully changed the background.</p>\n\n    </div>\n</div>'
     });
     return t.registerPartial("templates_dialogs_DialogBackgroundPreviewSlider", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/f0647", ["jquery", "underscore", "backbone", "bootstrap", "owlCarousel", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/fce39/e3678", "f1e1d/e8300/dcb95", "f1e1d/be642/c76df/e719d", "f1e1d/e8300/bb9e2", "hbs!templates/dialogs/DialogBackgroundPreviewSlider", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = a.extend({
         className: "modal-backgroundPreviewSlider modal",
         collection: r,
         eventName: c.GET_USER_BACKGROUNDS,
         events: {
             "click button.apply": "onSubmit",
             "click button.close": "hide"
         },
         initialize: function() {
             this.startIndex = 0,
             this.currentIndex = -1,
             this.cells = [],
             this._super()
         },
         render: function() {
             return this.$el.append(p),
             this.$container = this.$el.find(".owl-carousel"),
             0 === r.length ? (o.dispatch(new c(this.eventName)),
             this.collection.on("reset", this.onCollectionUpdated, this)) : this.onCollectionUpdated(),
             this.$el.modal({
                 show: !1,
                 focus: !0,
                 keyboard: !0,
                 backdrop: !1
             }),
             this._super()
         },
         setIndex: function(e) {
             this.startIndex = e,
             this.currentIndex = e
         },
         onCollectionUpdated: function() {
             this.collection.each(function(t) {
                 var i = e("<img/>");
                 i.attr("src", t.getLink());
                 var s = e('<div class="item"></div>');
                 this.$container.append(s.append(i)),
                 this.cells.push(s)
             }
             .bind(this))
         },
         show: function() {
             var e = this;
             this.cointanerLoaded ? this.$container.trigger("to.owl.carousel", [this.startIndex, 0]) : (this.currentIndex = this.startIndex,
             this.$el.on("shown.bs.modal", function(t) {
                 e.cointanerLoaded = !0,
                 e.$container.owlCarousel({
                     startPosition: e.startIndex,
                     items: 1,
                     margin: 10,
                     loop: !0,
                     autoWidth: !1,
                     nav: !0,
                     dots: !0,
                     navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>']
                 })
             }),
             e.$container.on("changed.owl.carousel", function(t) {
                 t.page.index >= 0 && (e.currentIndex = t.page.index),
                 e.$el.find(".communityName").text(e.collection.at(e.currentIndex).get("id"))
             })),
             this.$el.modal("show")
         },
         hide: function() {
             this.$el.find(".error").removeClass("show"),
             this.$el.find(".succes").removeClass("show"),
             this.$el.modal("hide")
         },
         onSubmit: function() {
             var e = this.collection.at(this.currentIndex);
             new h(e.get("id")).on("success", t.bind(this.onSuccess, this, e)).on("error", t.bind(this.onError, this))
         },
         onSuccess: function(e) {
             e.set("active", !0),
             this.$el.find(".error").removeClass("show"),
             this.$el.find(".succes").addClass("show"),
             this.hide()
         },
         onError: function(e) {
             this.$el.find(".succes").removeClass("show"),
             this.$el.find(".error").addClass("show")
         },
         remove: function() {
             this.$container.modal("dispose"),
             this.$container.trigger("destroy.owl.carousel").removeClass("owl-carousel owl-loaded"),
             this.$container.find(".owl-stage-outer").children().unwrap(),
             this.cells.forEach(function(e) {
                 e.remove()
             }),
             this.collection.off("reset", this.onCollectionUpdated, this),
             this.collection = void 0,
             delete this.collection,
             this.eventName = void 0,
             this.$el.remove(),
             this._super()
         }
     });
     return u
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/f0379", ["backbone", "bootstrap", "f1e1d/e718c/b7acd", "f1e1d/d8478/ceca8", "f1e1d/be642/c76df/e719d", "f1e1d/e74c9/c00f1/f0647", "f1e1d/e8300/dcb95", "f1e1d/d8478/e70c0", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.View.extend({
         className: "item",
         events: {
             click: "onClick"
         },
         initialize: function() {
             this.listenTo(this.model, "change:active", this.onActiveChange)
         },
         render: function() {
             return this.$img = $("<img/>"),
             this.$img.attr("src", "https://cdn-prod.plug.dj/_/static/images/sheets/backgrounds.c7f5d524b2612e4af1196649276d419ab7afb1ee.png"),
             this.$img.css("right", 200 * this.model.getColumn()),
             this.$img.css("bottom", 100 * this.model.getRow()),
             r.get("background") === this.model.get("id") && this.model.set("active", !0),
             this.onActiveChange(this.model, this.model.get("active")),
             this.$el.append(this.$img),
             this
         },
         onClick: function() {
             i.trigger("backgroundCell:click", this.model)
         },
         onActiveChange: function(e, t) {
             this.$el.toggleClass("outline", t)
         },
         remove: function() {
             this.$img = void 0,
             delete this.$img,
             this._super()
         }
     });
     return h
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/e36e8", ["backbone", "owlCarousel", "f1e1d/e718c/b7acd", "hbs!templates/room/settings/CommunityBackground", "f1e1d/fce39/e3678", "f1e1d/e74c9/b49ed/ff2dd/f0379", "f1e1d/e74c9/c00f1/f0647", "f1e1d/fce39/dc7a1", "f1e1d/e8300/bb9e2", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = e.View.extend({
         className: "community-background",
         collection: n,
         eventName: l.GET_USER_BACKGROUNDS,
         events: {
             "click .add-background": "onClickStoreBackground"
         },
         initialize: function() {
             this.cells = []
         },
         render: function() {
             this.collection.on("click", this.onClick, this),
             this.$el.html(s(h)),
             this.$owl = this.$el.find(".owl-carousel"),
             this.backgroundText = this.$(".background-text"),
             this.backgroundText.addClass("show"),
             console.log(this.backgroundText);
             var e = !1;
             return 0 === n.length ? (i.dispatch(new l(this.eventName)),
             this.listenTo(n, "reset", function() {
                 0 !== r.length && this.onColectionUpdated()
             }, this)) : e || (this.onColectionUpdated(),
             e = !0),
             0 === r.length ? (i.dispatch(new l(l.GET_STORE_BACKGROUNDS,"free")),
             this.listenTo(r, "reset", function() {
                 0 !== n.length && this.onColectionUpdated()
             }, this)) : 0 === n.length || e || (this.onColectionUpdated(),
             e = !0),
             this
         },
         onClick: function(e) {
             this.dialogBackgroundPreviewSlider.setIndex(this.collection.indexOf(e)),
             this.dialogBackgroundPreviewSlider.show()
         },
         onClickStoreBackground: function() {
             i.trigger("show:user", "store", "backgrounds")
         },
         onColectionUpdated: function() {
             this.collection.length && (0 === r.length && this.backgroundText.removeClass("show"),
             this.collection.each(function(e) {
                 var t = new a({
                     model: e
                 });
                 this.cells.push(t),
                 this.$owl.append(t.$el),
                 t.render()
             }
             .bind(this)),
             this.$owl.owlCarousel({
                 items: 1,
                 margin: 10,
                 loop: !1,
                 autoWidth: !0,
                 nav: !0,
                 dots: !1,
                 navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>']
             }),
             this.dialogBackgroundPreviewSlider = new o,
             this.dialogBackgroundPreviewSlider.render())
         },
         remove: function() {
             this.$owl.trigger("destroy.owl.carousel").removeClass("owl-loaded"),
             this.$owl.find(".owl-stage-outer").children().unwrap(),
             this.$owl.html(""),
             void 0 !== this.dialogBackgroundPreviewSlider && this.dialogBackgroundPreviewSlider.remove(),
             this.cells.forEach(function(e) {
                 e.remove()
             }),
             this.collection.off("click", this.onClick, this),
             this.collection = void 0,
             delete this.collection,
             this.eventName = void 0,
             this.stopListening(),
             this._super()
         }
     });
     return c
 }),
 define("f1e1d/e0a52/fa359/ffb50", [], function() {
     "use strict";
     return {
         ON: "on",
         OFF: "off"
     }
 }),
 define("f1e1d/e0a52/fa359/adb1c", ["backbone", "f1e1d/e0a52/fa359/ffb50"], function(e, t) {
     var i = e.Model.extend({
         defaults: {
             selected: t.OFF,
             on: "ON",
             off: "OFF"
         }
     });
     return i
 }),
 define("hbs!app/components/switch/template", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function";
         return o += '<div class="switch-widget__option-wrapper">\n    <div class="switch-widget__option switch-widget__option--on" data-value="on">',
         (a = i.on) ? a = a.call(t, {
             hash: {}
         }) : (a = t.on,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += '</div>\n    <div class="switch-widget__option switch-widget__option--off" data-value="off">',
         (a = i.off) ? a = a.call(t, {
             hash: {}
         }) : (a = t.off,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += '</div>\n</div>\n<div class="widget__messages"></div>'
     });
     return t.registerPartial("app_components_switch_template", i),
     i
 }),
 define("f1e1d/e0a52/fa359/e14ef", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "lang/Lang", "f1e1d/e0a52/fa359/adb1c", "f1e1d/e0a52/fa359/ffb50", "hbs!app/components/switch/template"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         identifier: "switch",
         className: "switch-widget",
         events: {
             "click .switch-widget__option": "onClickOption"
         },
         defaults: {},
         classes: {
             small: "switch-widget--small",
             big: "switch-widget--big",
             readonly: "switch-widget--readonly"
         },
         initialize: function(e) {
             this.options = _.extend({}, this.defaults, e || {}),
             void 0 === this.options.model && (this.model = new n(this.options)),
             void 0 !== this.options.size && this.addClass(this.classes[this.options.size]),
             this.options.readonly === !0 && this.addClass(this.classes.readonly)
         },
         render: function() {
             return this.$el.html(o(_.extend({
                 trans: s
             }, this.model.toJSON()))),
             this.mapDOM(),
             this.selectOption(this.model.get("selected")),
             this
         },
         mapDOM: function() {
             this.$options = this.$(".switch-widget__option")
         },
         selectOption: function(e, t) {
             var i = this.$options.filter('[data-value="%value%"]'.replace(/\%value\%/, e));
             this.currentValue = e,
             this.$options.removeClass("selected"),
             $(i).addClass("selected"),
             void 0 !== t && t.silent === !0 || this.trigger("change", this.currentValue)
         },
         selectBoolean: function(e, t) {
             var i = e === !0 ? a.ON : a.OFF;
             this.selectOption(i, _.extend({
                 silent: !0
             }, t || {}))
         },
         showSuccessMessage: function(e) {
             this.showMessage("success", e)
         },
         showErrorMessage: function(e) {
             this.showMessage("error", e)
         },
         showMessage: function(e, t) {
             this.setData("state", e),
             this.messages.html(t)
         },
         clearMessage: function() {
             this.setData("state", null)
         },
         onClickOption: function(e) {
             if (this.prevent(e),
             this.options.readonly !== !0) {
                 var t = e.currentTarget;
                 t.dataset.value !== this.currentValue && this.selectOption(t.dataset.value)
             }
         }
     });
     return r
 }),
 define("hbs!templates/room/settings/General", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="container-fluid">\n\n    <div class="row row--divider">\n        <div class="col-12">\n            <div class="name panel">\n                <span class="title">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.name,
         typeof a === r ? a.apply(t) : a)) + '</span>\n                <span class="count"></span>\n                <div class="edit button-change-text">                    \n                    <i class="fa fa-pencil"></i>\n                </div>\n                <div class="save button-change-text">                    \n                    <i class="fa fa-save"></i>\n                </div>\n                <span class="value"></span>\n            </div>\n        </div>\n    </div>\n\n    <div class="row row--divider">\n        <div class="col-12">\n            <div class="community-background panel">\n                <!--CommunityBackground.hbs REPLACE CONTENT-->\n                <span class="title">Community Background</span>\n                <div class="helptext no-permissions-text">You are not able to change the background of a community that doesn’t belong to you.</div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row row--divider">\n        <div class="col-xs-12 col-sm-4">\n            <div class="dj-cycle plug-option">\n                <span class="title">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.djCycle,
         typeof a === r ? a.apply(t) : a)) + '</span>\n                <span class="helptext">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.djCycleHelp,
         typeof a === r ? a.apply(t) : a)) + '</span>\n                <div class="switch-widget"></div>\n                <!--<button class="off">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.on,
         typeof a === r ? a.apply(t) : a)) + '</button>-->\n                <!--<button class="on">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.off,
         typeof a === r ? a.apply(t) : a)) + '</button>-->\n            </div>\n        </div>\n        <div class="col-xs-12 col-sm-4">\n            <div class="waitlist-container"></div>\n            <div class="wait-list plug-option">\n                <span class="title">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.waitList,
         typeof a === r ? a.apply(t) : a)) + '</span>\n                <span class="helptext">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.waitListHelp,
         typeof a === r ? a.apply(t) : a)) + '</span>\n                <div class="switch-widget"></div>\n                <!--<button class="off"><i class="icon icon-unlocked"></i></button>-->\n                <!--<button class="on"><i class="icon icon-locked"></i></button>-->\n            </div>\n        </div>\n        <div class="col-xs-12 col-sm-4">\n            <div class="chat-level plug-option">\n                <span class="title">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.chatLevel,
         typeof a === r ? a.apply(t) : a)) + '</span>\n                <span class="helptext">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.chatLevelHelp,
         typeof a === r ? a.apply(t) : a)) + '</span>\n            </div>\n        </div>\n    </div>\n\n    <div class="row row--divider">\n        <div class="col-12">\n            <div class="welcome panel">\n                <span class="title">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.welcome,
         typeof a === r ? a.apply(t) : a)) + '</span>\n                <i class="fa fa-question-circle" title="This is the message that users will see on the chat window. Remember you can use %u to mention the User name, or %r to mention the Room name."></i>\n                <span class="count"></span>\n               \n                 <div class="edit button-change-text">                    \n                    <i class="fa fa-pencil"></i>\n                </div>\n                <div class="save button-change-text">                    \n                    <i class="fa fa-save"></i>\n                </div>\n                <span class="value">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.noWelcome,
         typeof a === r ? a.apply(t) : a)) + '</span>\n\n            </div>\n        </div>\n    </div>\n\n    <!--<div class="description panel hidden">-->\n        <!--<span class="title">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.description,
         typeof a === r ? a.apply(t) : a)) + '</span>-->\n        <!--<span class="count"></span>-->\n        <!--<div class="edit">-->\n            <!--<span>' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.edit,
         typeof a === r ? a.apply(t) : a)) + '</span>-->\n            <!--<i class="icon icon-edit-grey"></i>-->\n        <!--</div>-->\n        <!--<div class="value">' + l((a = t.roomSettings,
         a = null == a || a === !1 ? a : a.noDescription,
         typeof a === r ? a.apply(t) : a)) + "</div>-->\n    <!--</div>-->\n\n</div>"
     });
     return t.registerPartial("templates_room_settings_General", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/e6907", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/dcb95", "f1e1d/a3bee/c49d1", "f1e1d/d8478/eeaaf", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/f109a/b4c9a", "f1e1d/be642/f109a/ad97d", "f1e1d/be642/e32cc/c2a56", "f1e1d/e74c9/c00f1/d1411", "f1e1d/e74c9/b49ed/ff2dd/db9d2", "f1e1d/be642/e32cc/d27a5", "f1e1d/e74c9/b49ed/ff2dd/e36e8", "f1e1d/e0a52/fa359/e14ef", "f1e1d/e0a52/fa359/ffb50", "hbs!templates/room/settings/General", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y) {
     var C = i.View.extend({
         className: "general-settings",
         initialize: function() {
             this.keyUpBind = t.bind(this.onKeyUp, this),
             this.keyDownBind = t.bind(this.onKeyDown, this),
             this.blurBind = t.bind(this.onBlur, this),
             this.focusBind = t.bind(this.onFocus, this),
             this.editing = !1
         },
         render: function() {
             return this.$el.html(w(y)),
             this.$(".name .value").on("click", t.bind(this.onNameEdit, this)),
             this.$(".description .value").on("click", t.bind(this.onDescriptionEdit, this)),
             this.$(".welcome .value").on("click", t.bind(this.onWelcomeEdit, this)),
             this.djCycleToggle = new v({
                 el: this.$(".dj-cycle .switch-widget")[0],
                 selected: o.get("shouldCycle") === !0 ? b.ON : b.OFF,
                 on: y.roomSettings.on,
                 off: y.roomSettings.off,
                 size: "small",
                 readonly: !l.hasPermission(h.MANAGER)
             }).render(),
             this.waitListToggle = new v({
                 el: this.$(".wait-list .switch-widget")[0],
                 selected: !o.get("isLocked") == !0 ? b.ON : b.OFF,
                 on: '<i class="fa fa-unlock"></i>',
                 off: '<i class="fa fa-lock"></i>',
                 size: "small",
                 readonly: !l.hasPermission(h.MANAGER)
             }).render(),
             this.$(".chat-level").on("mouseenter", t.bind(this.onChatLevelEnter, this)).on("mouseleave", t.bind(this.onHideTooltip, this)),
             this.$(".welcome").on("mouseenter", t.bind(this.onWelcomeEnter, this)).on("mouseleave", t.bind(this.onHideTooltip, this)),
             this.$(".name .edit").on("click", t.bind(this.onNameEdit, this)),
             this.$(".description .edit").on("click", t.bind(this.onDescriptionEdit, this)),
             this.$(".welcome .edit").on("click", t.bind(this.onWelcomeEdit, this)),
             r.on("change:name change:description change:welcome change:minChatLevel", this.onChange, this),
             l.on("change:permission", this.onChange, this),
             this.dropdown = new f,
             this.$(".chat-level").append(this.dropdown.$el),
             this.dropdown.render(),
             (l.hasPermission(h.HOST) || l.hasPermission(h.COHOST) || l.hasPermission(h.ADMIN)) && (this.backgroundSettings = new g,
             this.$(".community-background").html(this.backgroundSettings.$el),
             this.backgroundSettings.render()),
             this.bindEvents(),
             this.onChange(),
             this
         },
         bindEvents: function() {
             this.listenTo(this.djCycleToggle, "change", function(e) {
                 new c(!o.get("shouldCycle"))
             }),
             this.listenTo(this.waitListToggle, "change", function(e) {
                 e === b.OFF ? s.dispatch(new n(n.SHOW,new u)) : new p(!1,!1)
             }),
             this.listenTo(o, "change:isLocked", this.onChangeWaitlist),
             this.listenTo(o, "change:shouldCycle", this.onChangeDJCycle)
         },
         unbindEvents: function() {
             this.stopListening(o)
         },
         onChangeDJCycle: function(e, t) {
             this.djCycleToggle.selectBoolean(t)
         },
         onChangeWaitlist: function(e, t) {
             this.waitListToggle.selectBoolean(!t)
         },
         onChange: function(e) {
             var i = e ? e.changedAttributes() : t.extend(t.clone(o.attributes), r.attributes);
             if (i) {
                 for (var s in i)
                     "description" === s ? this.$(".description .value").html(a.parse(i[s] || y.roomSettings.noDescription).split("\n").join("<br/>")) : "name" === s ? this.$(".name .value").text(i[s]) : "welcome" === s ? this.$(".welcome .value").html(a.parse(i[s] || y.roomSettings.noWelcome)) : "minChatLevel" === s && this.dropdown.select(i[s]);
                 l.hasPermission(h.MANAGER) ? (this.$el.addClass("is-manager"),
                 this.dropdown.$el.removeClass("disabled"),
                 l.hasPermission(h.COHOST) && this.$el.addClass("is-host")) : l.hasPermission(h.SITEMOD, !0) ? (this.$el.addClass("is-sitemod"),
                 this.dropdown.$el.removeClass("disabled")) : (this.dropdown.$el.addClass("disabled"),
                 this.$el.removeClass("is-manager is-host"))
             }
         },
         onNameEdit: function() {
             if (l.hasPermission(h.COHOST) && !this.editing) {
                 var i = this.$(".value").width();
                 this.editing = "name",
                 this.$currentInput = e("<div/>").addClass("input-background").append(e('<input id="input-room-name" type="text" maxlength="32" value="' + r.get("name") + '"/>')),
                 this.$(".name .value").hide(),
                 this.$currentCount = this.$(".name .count").text(r.get("name").length + " / 32"),
                 32 === r.get("name").length && this.$currentCount.addClass("limit"),
                 this.$(".name .edit").hide(),
                 this.$(".name .save").show(),
                 this.$(".name").append(this.$currentInput),
                 this.$currentInput.width(i),
                 this.$currentInput.find("input").on("keyup", this.keyUpBind).on("keydown", this.keyDownBind).on("blur", this.blurBind).on("focus", this.focusBind).width(i - 15);
                 var s = this.$currentInput.find("input").focus()[0];
                 t.defer(function() {
                     s.focus(),
                     s.selectionStart = s.selectionEnd = s.value.length
                 })
             }
         },
         onDescriptionEdit: function() {
             if (l.hasPermission(h.COHOST) && !this.editing) {
                 var i = this.$(".value").width();
                 this.editing = "description",
                 this.$currentInput = e("<div/>").addClass("input-background").append(e('<textarea id="input-room-description" rows="120" cols="5" maxlength="512">' + (r.get("description") || "") + "</textarea>")),
                 this.$(".description .value").hide(),
                 this.$currentCount = this.$(".description .count").text(r.get("description").length + " / 512"),
                 512 === r.get("description").length && this.$currentCount.addClass("limit"),
                 this.$(".description .edit").hide(),
                 this.$(".description .save").show(),
                 this.$(".description").append(this.$currentInput),
                 this.$currentInput.width(i),
                 this.$currentInput.find("textarea").on("keyup", this.keyUpBind).on("keydown", this.keyDownBind).on("blur", this.blurBind).on("focus", this.focusBind).width(i - 12).css("max-width", i - 12 + "px").css("min-width", i - 12 + "px");
                 var s = this.$currentInput.find("textarea").focus()[0];
                 this.onResize(),
                 t.defer(function() {
                     s.focus(),
                     s.selectionStart = s.selectionEnd = s.value.length
                 })
             }
         },
         onWelcomeEdit: function() {
             if (l.hasPermission(h.COHOST) && !this.editing) {
                 var i = this.$(".value").width();
                 this.editing = "welcome",
                 this.$currentInput = e("<div/>").addClass("input-background").append(e('<textarea id="input-room-welcome" rows="80" cols="5" maxlength="255">' + (r.get("welcome") || "") + "</textarea>")),
                 this.$(".welcome .value").hide(),
                 this.$currentCount = this.$(".welcome .count").text(r.get("welcome").length + " / 255"),
                 255 === r.get("welcome").length && this.$currentCount.addClass("limit"),
                 this.$(".welcome .edit").hide(),
                 this.$(".welcome .save").show(),
                 this.$(".welcome").append(this.$currentInput),
                 this.$currentInput.width(i),
                 this.$currentInput.find("textarea").on("keyup", this.keyUpBind).on("keydown", this.keyDownBind).on("blur", this.blurBind).on("focus", this.focusBind).width(i - 12).css("max-width", i - 12 + "px").css("min-width", i - 12 + "px");
                 var s = this.$currentInput.find("textarea").focus()[0];
                 t.defer(function() {
                     s.focus(),
                     s.selectionStart = s.selectionEnd = s.value.length
                 })
             }
         },
         onKeyDown: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             13 === t || 9 === t ? "input-room-description" === e.target.id && 9 !== t || (e.preventDefault(),
             e.stopImmediatePropagation(),
             e.target.blur(),
             !1) : 27 !== t || (e.preventDefault(),
             e.stopImmediatePropagation(),
             "input-room-name" === e.target.id ? this.$(e.target)[0].value = r.get("name") : "input-room-description" === e.target.id ? this.$(e.target).val(r.get("description")) : "input-room-welcome" === e.target.id && this.$(e.target).val(r.get("welcome")),
             e.target.blur(),
             !1))
         },
         onKeyUp: function(t) {
             var i;
             if (!t)
                 return !0;
             if (i = t.which || t.keyCode,
             13 === i || 9 === i)
                 return "input-room-description" === t.target.id && 9 !== i || (t.preventDefault(),
                 t.stopImmediatePropagation(),
                 !1);
             if (27 === i)
                 return t.preventDefault(),
                 t.stopImmediatePropagation(),
                 !1;
             if ("input-room-description" === t.target.id || "input-room-welcome" === t.target.id) {
                 var s = e(t.target)
                   , n = parseInt(s.attr("maxlength"));
                 s.val().length > n && s.val(s.val().substr(0, s.attr("maxlength")))
             }
             if (this.$currentCount) {
                 var a = e(t.target).val().length
                   , o = e(t.target).attr("maxlength");
                 this.$currentCount.text(a + " / " + o),
                 a == o ? this.$currentCount.addClass("limit") : this.$currentCount.removeClass("limit")
             }
             return !0
         },
         onBlur: function(i) {
             "input-room-name" === i.target.id ? (i.target.value !== r.get("name") && i.target.value.length > 2 && (r.set("name", i.target.value),
             new d(i.target.value)),
             this.$(".name .edit").show(),
             this.$(".name .save").hide(),
             this.$(".name .value").show()) : "input-room-description" === i.target.id ? (e(i.target).val() !== r.get("description") && (r.set("description", e("<span/>").text(e(i.target).val()).html()),
             new d(void 0,i.target.value,void 0)),
             this.$(".description .edit").show(),
             this.$(".description .save").hide(),
             this.$(".description .value").show()) : "input-room-welcome" === i.target.id && (e(i.target).val() !== r.get("welcome") && (r.set("welcome", e("<span/>").text(e(i.target).val()).html()),
             new d(void 0,void 0,i.target.value)),
             this.$(".welcome .edit").show(),
             this.$(".welcome .save").hide(),
             this.$(".welcome .value").show()),
             this.$(".count").text("").removeClass("limit"),
             this.$currentInput.off().removeClass("focused").remove(),
             this.$currentInput = void 0,
             delete this.$currentInput,
             this.$currentCount = void 0,
             delete this.$currentCount;
             var s = this;
             t.delay(function() {
                 s.editing = !1
             }, 100)
         },
         onFocus: function(t) {
             e(t.target).parent().addClass("focused")
         },
         onChatLevelEnter: function() {
             !this.editing && this.$el.hasClass("is-manager") && s.trigger("tooltip:show", y.tooltips.chatLevel, this.$(".chat-level .title"), !0, !1, "purple")
         },
         onWelcomeEnter: function() {
             !this.editing && this.$el.hasClass("is-host") && s.trigger("tooltip:show", y.tooltips.welcomeTip, this.$(".panel.welcome .title"), !1, !1, "purple")
         },
         onHideTooltip: function() {
             s.trigger("tooltip:hide")
         },
         onResize: function() {
             var e = this.$el.width() - 20;
             this.$(".value").width(e);
             var t = this.$el.height() - 584;
             this.$el.hasClass("is-host") || (t += 70),
             this.$(".panel.description").height(275 + t),
             this.$(".panel.description .value").height(235 + t),
             this.$currentInput && (this.$currentInput.width(e),
             e -= 12,
             "name" === this.editing ? this.$("input").width(e - 3) : ("description" === this.editing && (this.$currentInput.height(235 + t),
             this.$("textarea").height(223 + t).css("min-height", 223 + t + "px").css("max-height", 223 + t + "px")),
             this.$("textarea").width(e).css("max-width", e + "px").css("min-width", e + "px")))
         },
         remove: function() {
             this.unbindEvents(),
             r.off("change:name change:description change:welcome change:minChatLevel", this.onChange, this),
             l.off("change:permission", this.onChange, this),
             this.dropdown.destroy(),
             this.dropdown = void 0,
             this.backgroundSettings && (this.backgroundSettings.remove(),
             this.backgroundSettings = void 0,
             delete this.backgroundSettings),
             delete this.dropdown,
             this.$currentInput && (this.$currentInput.off().removeClass("focused").remove(),
             this.$currentInput = void 0,
             delete this.$currentInput),
             this.$currentCount = void 0,
             delete this.$currentCount,
             this.$el.find("*").off(),
             this.keyUpBind = void 0,
             this.keyDownBind = void 0,
             this.blurBind = void 0,
             this.focusBind = void 0,
             delete this.keyUpBind,
             delete this.keyDownBind,
             delete this.blurBind,
             delete this.focusBind,
             delete this.editing,
             this._super()
         }
     });
     return C
 }),
 define("f1e1d/ffb50/d975a", [], function() {
     "use strict";
     return {
         byte: 1,
         kilobyte: 1024,
         megabyte: 1048576,
         gigabyte: 1073741824
     }
 }),
 define("f1e1d/d8478/fa54b", ["backbone", "f1e1d/ffb50/d975a"], function(e, t) {
     var i = e.Model.extend({
         defaults: {
             image: null,
             placeholder: "https://placehold.it/100x100",
             sizeLimit: 5 * t.megabyte,
             allowedTypes: ["image/jpeg", "image/png"],
             canvasOptions: {},
             pluginOptions: {}
         },
         getClosestCanvas: function(e) {
             for (var t = null, i = this.get("canvasOptions").dimensions, s = e.width, n = 0; n < i.length; n++) {
                 var a = i[n]
                   , o = Math.abs(s - a.width);
                 if (null !== t) {
                     var r = Math.abs(s - t.width);
                     if (o < r)
                         t = a;
                     else if (o > r)
                         break
                 } else
                     t = a
             }
             return t
         }
     });
     return i
 }),
 define("hbs!templates/image-crop/ImageCropModal", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o, r = "", l = "function", h = this.escapeExpression;
         return r += '<div class="modal-dialog" role="document">\n    <div class="modal-content">\n\n\n        <div class="modal-header">\n            <h1 class="modal-title">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.dialog,
         a = null == a || a === !1 ? a : a.crop,
         typeof a === l ? a.apply(t) : a)) + '</h1>\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                    aria-hidden="true#">&times;</span></button>\n        </div>\n\n        <div class="modal-body">\n            <img src="',
         (o = i.url) ? o = o.call(t, {
             hash: {}
         }) : (o = t.url,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '" alt="">\n        </div>\n\n        <div class="modal-footer">\n             <button type="button" class="btn btn-secondary " data-dismiss="modal" data-action="cancel">Cancel</button>\n            <button type="button" class="btn btn-primary" data-action="save">Crop</button>\n           \n        </div>\n\n    </div>\n</div>\n'
     });
     return t.registerPartial("templates_image-crop_ImageCropModal", i),
     i
 }),
 define("f1e1d/af752/a6cf9", ["f1e1d/e718c/b5ee0"], function(e) {
     var t = e.extend({
         ratioExpression: new RegExp(/^([\d]+:[\d]+)$/),
         init: function(e) {
             if (this.validateRatio(e || "") === !1)
                 throw new Error("Ratio is required to start Aspect Ratio Helper\nSample value 16:9, 1:1, 2:1");
             var t = e.split(":");
             if ("0" === t[0] || "0" === t[1])
                 throw new Error("0 (zero) is not allowed as ratio wildcard yet");
             this.ratio = {
                 width: t[0],
                 height: t[1]
             }
         },
         validateRatio: function(e) {
             return this.ratioExpression.test(e)
         },
         getHeightFromWidth: function(e) {
             return e * this.ratio.height / this.ratio.width
         },
         getWidthFromHeight: function(e) {
             return e * this.ratio.width / this.ratio.height
         },
         getNextIntegerRatioFromWidth: function(e) {
             var t = e % this.ratio.width
               , i = e + (this.ratio.width - t);
             return {
                 width: i,
                 height: this.getHeightFromWidth(i)
             }
         },
         getPreviousIntegerRatioFromWidth: function(e) {
             var t = e % this.ratio.width
               , i = e - t;
             return {
                 width: i,
                 height: this.getHeightFromWidth(i)
             }
         },
         getNextIntegerRatioFromHeight: function(e) {
             var t = e % this.ratio.height
               , i = e + (this.ratio.height - t);
             return {
                 width: this.getWidthFromHeight(i),
                 height: i
             }
         },
         getPreviousIntegerRatioFromHeight: function(e) {
             var t = e % this.ratio.height
               , i = e - t;
             return {
                 width: this.getWidthFromHeight(i),
                 height: i
             }
         }
     });
     return t
 }),
 function(e, t) {
     "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define("cropper", t) : e.Cropper = t()
 }(this, function() {
     "use strict";
     function e(e) {
         return "number" == typeof e && !Te(e)
     }
     function t(e) {
         return "undefined" == typeof e
     }
     function i(e) {
         return "object" === ("undefined" == typeof e ? "undefined" : xe(e)) && null !== e
     }
     function s(e) {
         if (!i(e))
             return !1;
         try {
             var t = e.constructor
               , s = t.prototype;
             return t && s && Ie.call(s, "isPrototypeOf")
         } catch (e) {
             return !1
         }
     }
     function n(e) {
         return "function" == typeof e
     }
     function a(t, s) {
         if (t && n(s))
             if (Array.isArray(t) || e(t.length)) {
                 var a = t.length
                   , o = void 0;
                 for (o = 0; o < a && s.call(t, t[o], o, t) !== !1; o += 1)
                     ;
             } else
                 i(t) && Object.keys(t).forEach(function(e) {
                     s.call(t, t[e], e, t)
                 });
         return t
     }
     function o(e) {
         var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e11;
         return Pe.test(e) ? Math.round(e * t) / t : e
     }
     function r(t, i) {
         var s = t.style;
         a(i, function(t, i) {
             Re.test(i) && e(t) && (t += "px"),
             s[i] = t
         })
     }
     function l(e, t) {
         return e.classList ? e.classList.contains(t) : e.className.indexOf(t) > -1
     }
     function h(t, i) {
         if (i) {
             if (e(t.length))
                 return void a(t, function(e) {
                     h(e, i)
                 });
             if (t.classList)
                 return void t.classList.add(i);
             var s = t.className.trim();
             s ? s.indexOf(i) < 0 && (t.className = s + " " + i) : t.className = i
         }
     }
     function c(t, i) {
         if (i)
             return e(t.length) ? void a(t, function(e) {
                 c(e, i)
             }) : t.classList ? void t.classList.remove(i) : void (t.className.indexOf(i) >= 0 && (t.className = t.className.replace(i, "")))
     }
     function p(t, i, s) {
         if (i)
             return e(t.length) ? void a(t, function(e) {
                 p(e, i, s)
             }) : void (s ? h(t, i) : c(t, i))
     }
     function d(e) {
         return e.replace(Ae, "$1-$2").toLowerCase()
     }
     function u(e, t) {
         return i(e[t]) ? e[t] : e.dataset ? e.dataset[t] : e.getAttribute("data-" + d(t))
     }
     function f(e, t, s) {
         i(s) ? e[t] = s : e.dataset ? e.dataset[t] = s : e.setAttribute("data-" + d(t), s)
     }
     function m(e, t) {
         if (i(e[t]))
             try {
                 delete e[t]
             } catch (i) {
                 e[t] = void 0
             }
         else if (e.dataset)
             try {
                 delete e.dataset[t]
             } catch (i) {
                 e.dataset[t] = void 0
             }
         else
             e.removeAttribute("data-" + d(t))
     }
     function g(e, t, i) {
         var s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}
           , n = i;
         t.trim().split(Ue).forEach(function(t) {
             if (!Be) {
                 var a = e.listeners;
                 a && a[t] && a[t][i] && (n = a[t][i],
                 delete a[t][i],
                 0 === Object.keys(a[t]).length && delete a[t],
                 0 === Object.keys(a).length && delete e.listeners)
             }
             e.removeEventListener(t, n, s)
         })
     }
     function v(e, t, i) {
         var s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}
           , n = i;
         t.trim().split(Ue).forEach(function(t) {
             if (s.once && !Be) {
                 var a = e.listeners
                   , o = void 0 === a ? {} : a;
                 n = function() {
                     for (var a = arguments.length, r = Array(a), l = 0; l < a; l++)
                         r[l] = arguments[l];
                     delete o[t][i],
                     e.removeEventListener(t, n, s),
                     i.apply(e, r)
                 }
                 ,
                 o[t] || (o[t] = {}),
                 o[t][i] && e.removeEventListener(t, o[t][i], s),
                 o[t][i] = n,
                 e.listeners = o
             }
             e.addEventListener(t, n, s)
         })
     }
     function b(e, t, i) {
         var s = void 0;
         return n(Event) && n(CustomEvent) ? s = new CustomEvent(t,{
             detail: i,
             bubbles: !0,
             cancelable: !0
         }) : (s = document.createEvent("CustomEvent"),
         s.initCustomEvent(t, !0, !0, i)),
         e.dispatchEvent(s)
     }
     function w(e) {
         var t = e.getBoundingClientRect();
         return {
             left: t.left + (window.pageXOffset - document.documentElement.clientLeft),
             top: t.top + (window.pageYOffset - document.documentElement.clientTop)
         }
     }
     function y(e) {
         var t = e.match(Oe);
         return t && (t[1] !== Le.protocol || t[2] !== Le.hostname || t[3] !== Le.port)
     }
     function C(e) {
         var t = "timestamp=" + (new Date).getTime();
         return e + (e.indexOf("?") === -1 ? "?" : "&") + t
     }
     function k(t) {
         var i = t.rotate
           , s = t.scaleX
           , n = t.scaleY
           , a = t.translateX
           , o = t.translateY
           , r = [];
         e(a) && 0 !== a && r.push("translateX(" + a + "px)"),
         e(o) && 0 !== o && r.push("translateY(" + o + "px)"),
         e(i) && 0 !== i && r.push("rotate(" + i + "deg)"),
         e(s) && 1 !== s && r.push("scaleX(" + s + ")"),
         e(n) && 1 !== n && r.push("scaleY(" + n + ")");
         var l = r.length ? r.join(" ") : "none";
         return {
             WebkitTransform: l,
             msTransform: l,
             transform: l
         }
     }
     function _(e) {
         var t = De({}, e)
           , i = [];
         return a(e, function(e, s) {
             delete t[s],
             a(t, function(t) {
                 var s = Math.abs(e.startX - t.startX)
                   , n = Math.abs(e.startY - t.startY)
                   , a = Math.abs(e.endX - t.endX)
                   , o = Math.abs(e.endY - t.endY)
                   , r = Math.sqrt(s * s + n * n)
                   , l = Math.sqrt(a * a + o * o)
                   , h = (l - r) / r;
                 i.push(h)
             })
         }),
         i.sort(function(e, t) {
             return Math.abs(e) < Math.abs(t)
         }),
         i[0]
     }
     function S(e, t) {
         var i = e.pageX
           , s = e.pageY
           , n = {
             endX: i,
             endY: s
         };
         return t ? n : De({
             startX: i,
             startY: s
         }, n)
     }
     function x(e) {
         var t = 0
           , i = 0
           , s = 0;
         return a(e, function(e) {
             var n = e.startX
               , a = e.startY;
             t += n,
             i += a,
             s += 1
         }),
         t /= s,
         i /= s,
         {
             pageX: t,
             pageY: i
         }
     }
     function $(e) {
         var t = e.aspectRatio
           , i = e.height
           , s = e.width
           , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "contain"
           , a = function(e) {
             return Ne(e) && e > 0
         };
         if (a(s) && a(i)) {
             var o = i * t;
             "contain" === n && o > s || "cover" === n && o < s ? i = s / t : s = i * t
         } else
             a(s) ? i = s / t : a(i) && (s = i * t);
         return {
             width: s,
             height: i
         }
     }
     function E(e) {
         var t = e.width
           , i = e.height
           , s = e.degree;
         if (s = Math.abs(s) % 180,
         90 === s)
             return {
                 width: i,
                 height: t
             };
         var n = s % 90 * Math.PI / 180
           , a = Math.sin(n)
           , o = Math.cos(n)
           , r = t * o + i * a
           , l = t * a + i * o;
         return s > 90 ? {
             width: l,
             height: r
         } : {
             width: r,
             height: l
         }
     }
     function M(e, t, i, s) {
         var n = t.aspectRatio
           , a = t.naturalWidth
           , r = t.naturalHeight
           , l = t.rotate
           , h = void 0 === l ? 0 : l
           , c = t.scaleX
           , p = void 0 === c ? 1 : c
           , d = t.scaleY
           , u = void 0 === d ? 1 : d
           , f = i.aspectRatio
           , m = i.naturalWidth
           , g = i.naturalHeight
           , v = s.fillColor
           , b = void 0 === v ? "transparent" : v
           , w = s.imageSmoothingEnabled
           , y = void 0 === w || w
           , C = s.imageSmoothingQuality
           , k = void 0 === C ? "low" : C
           , _ = s.maxWidth
           , S = void 0 === _ ? 1 / 0 : _
           , x = s.maxHeight
           , E = void 0 === x ? 1 / 0 : x
           , M = s.minWidth
           , T = void 0 === M ? 0 : M
           , I = s.minHeight
           , D = void 0 === I ? 0 : I
           , P = document.createElement("canvas")
           , R = P.getContext("2d")
           , A = $({
             aspectRatio: f,
             width: S,
             height: E
         })
           , U = $({
             aspectRatio: f,
             width: T,
             height: D
         }, "cover")
           , B = Math.min(A.width, Math.max(U.width, m))
           , L = Math.min(A.height, Math.max(U.height, g))
           , O = $({
             aspectRatio: n,
             width: S,
             height: E
         })
           , N = $({
             aspectRatio: n,
             width: T,
             height: D
         }, "cover")
           , j = Math.min(O.width, Math.max(N.width, a))
           , V = Math.min(O.height, Math.max(N.height, r))
           , F = [-j / 2, -V / 2, j, V];
         return P.width = o(B),
         P.height = o(L),
         R.fillStyle = b,
         R.fillRect(0, 0, B, L),
         R.save(),
         R.translate(B / 2, L / 2),
         R.rotate(h * Math.PI / 180),
         R.scale(p, u),
         R.imageSmoothingEnabled = y,
         R.imageSmoothingQuality = k,
         R.drawImage.apply(R, [e].concat(Me(F.map(function(e) {
             return Math.floor(o(e))
         })))),
         R.restore(),
         P
     }
     function T(e, t, i) {
         var s = ""
           , n = void 0;
         for (i += t,
         n = t; n < i; n += 1)
             s += je(e.getUint8(n));
         return s
     }
     function I(e) {
         var t = e.replace(Ve, "")
           , i = atob(t)
           , s = new ArrayBuffer(i.length)
           , n = new Uint8Array(s);
         return a(n, function(e, t) {
             n[t] = i.charCodeAt(t)
         }),
         s
     }
     function D(e, t) {
         var i = new Uint8Array(e)
           , s = "";
         return n(i.forEach) ? i.forEach(function(e) {
             s += je(e)
         }) : a(i, function(e) {
             s += je(e)
         }),
         "data:" + t + ";base64," + btoa(s)
     }
     function P(e) {
         var t = new DataView(e)
           , i = void 0
           , s = void 0
           , n = void 0
           , a = void 0;
         if (255 === t.getUint8(0) && 216 === t.getUint8(1))
             for (var o = t.byteLength, r = 2; r < o; ) {
                 if (255 === t.getUint8(r) && 225 === t.getUint8(r + 1)) {
                     n = r;
                     break
                 }
                 r += 1
             }
         if (n) {
             var l = n + 4
               , h = n + 10;
             if ("Exif" === T(t, l, 4)) {
                 var c = t.getUint16(h);
                 if (s = 18761 === c,
                 (s || 19789 === c) && 42 === t.getUint16(h + 2, s)) {
                     var p = t.getUint32(h + 4, s);
                     p >= 8 && (a = h + p)
                 }
             }
         }
         if (a) {
             var d = t.getUint16(a, s)
               , u = void 0
               , f = void 0;
             for (f = 0; f < d; f += 1)
                 if (u = a + 12 * f + 2,
                 274 === t.getUint16(u, s)) {
                     u += 8,
                     i = t.getUint16(u, s),
                     t.setUint16(u, 1, s);
                     break
                 }
         }
         return i
     }
     function R(e) {
         var t = 0
           , i = 1
           , s = 1;
         switch (e) {
         case 2:
             i = -1;
             break;
         case 3:
             t = -180;
             break;
         case 4:
             s = -1;
             break;
         case 5:
             t = 90,
             s = -1;
             break;
         case 6:
             t = 90;
             break;
         case 7:
             t = 90,
             i = -1;
             break;
         case 8:
             t = -90
         }
         return {
             rotate: t,
             scaleX: i,
             scaleY: s
         }
     }
     var A = "undefined" != typeof window
       , U = A ? window : {}
       , B = "cropper"
       , L = "all"
       , O = "crop"
       , N = "move"
       , j = "zoom"
       , V = "e"
       , F = "w"
       , z = "s"
       , H = "n"
       , q = "ne"
       , G = "nw"
       , W = "se"
       , Y = "sw"
       , J = B + "-crop"
       , X = B + "-disabled"
       , K = B + "-hidden"
       , Q = B + "-hide"
       , Z = B + "-invisible"
       , ee = B + "-modal"
       , te = B + "-move"
       , ie = B + "Action"
       , se = B + "Preview"
       , ne = "crop"
       , ae = "move"
       , oe = "none"
       , re = "crop"
       , le = "cropend"
       , he = "cropmove"
       , ce = "cropstart"
       , pe = "dblclick"
       , de = U.PointerEvent ? "pointerdown" : "touchstart mousedown"
       , ue = U.PointerEvent ? "pointermove" : "touchmove mousemove"
       , fe = U.PointerEvent ? "pointerup pointercancel" : "touchend touchcancel mouseup"
       , me = "ready"
       , ge = "resize"
       , ve = "wheel mousewheel DOMMouseScroll"
       , be = "zoom"
       , we = /^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/
       , ye = /^data:/
       , Ce = /^data:image\/jpeg;base64,/
       , ke = /^(?:img|canvas)$/i
       , _e = {
         viewMode: 0,
         dragMode: ne,
         initialAspectRatio: NaN,
         aspectRatio: NaN,
         data: null,
         preview: "",
         responsive: !0,
         restore: !0,
         checkCrossOrigin: !0,
         checkOrientation: !0,
         modal: !0,
         guides: !0,
         center: !0,
         highlight: !0,
         background: !0,
         autoCrop: !0,
         autoCropArea: .8,
         movable: !0,
         rotatable: !0,
         scalable: !0,
         zoomable: !0,
         zoomOnTouch: !0,
         zoomOnWheel: !0,
         wheelZoomRatio: .1,
         cropBoxMovable: !0,
         cropBoxResizable: !0,
         toggleDragModeOnDblclick: !0,
         minCanvasWidth: 0,
         minCanvasHeight: 0,
         minCropBoxWidth: 0,
         minCropBoxHeight: 0,
         minContainerWidth: 200,
         minContainerHeight: 100,
         ready: null,
         cropstart: null,
         cropmove: null,
         cropend: null,
         crop: null,
         zoom: null
     }
       , Se = '<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>'
       , xe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
         return typeof e
     }
     : function(e) {
         return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
     }
       , $e = function(e, t) {
         if (!(e instanceof t))
             throw new TypeError("Cannot call a class as a function")
     }
       , Ee = function() {
         function e(e, t) {
             for (var i = 0; i < t.length; i++) {
                 var s = t[i];
                 s.enumerable = s.enumerable || !1,
                 s.configurable = !0,
                 "value"in s && (s.writable = !0),
                 Object.defineProperty(e, s.key, s)
             }
         }
         return function(t, i, s) {
             return i && e(t.prototype, i),
             s && e(t, s),
             t
         }
     }()
       , Me = function(e) {
         if (Array.isArray(e)) {
             for (var t = 0, i = Array(e.length); t < e.length; t++)
                 i[t] = e[t];
             return i
         }
         return Array.from(e)
     }
       , Te = Number.isNaN || U.isNaN
       , Ie = Object.prototype.hasOwnProperty
       , De = Object.assign || function(e) {
         for (var t = arguments.length, s = Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++)
             s[n - 1] = arguments[n];
         return i(e) && s.length > 0 && s.forEach(function(t) {
             i(t) && Object.keys(t).forEach(function(i) {
                 e[i] = t[i]
             })
         }),
         e
     }
       , Pe = /\.\d*(?:0|9){12}\d*$/i
       , Re = /^(?:width|height|left|top|marginLeft|marginTop)$/
       , Ae = /([a-z\d])([A-Z])/g
       , Ue = /\s\s*/
       , Be = function() {
         var e = !1;
         if (A) {
             var t = !1
               , i = function() {}
               , s = Object.defineProperty({}, "once", {
                 get: function() {
                     return e = !0,
                     t
                 },
                 set: function(e) {
                     t = e
                 }
             });
             U.addEventListener("test", i, s),
             U.removeEventListener("test", i, s)
         }
         return e
     }()
       , Le = U.location
       , Oe = /^(https?:)\/\/([^:\/?#]+):?(\d*)/i
       , Ne = Number.isFinite || U.isFinite
       , je = String.fromCharCode
       , Ve = /^data:.*,/
       , Fe = {
         render: function() {
             this.initContainer(),
             this.initCanvas(),
             this.initCropBox(),
             this.renderCanvas(),
             this.cropped && this.renderCropBox()
         },
         initContainer: function() {
             var e = this.element
               , t = this.options
               , i = this.container
               , s = this.cropper;
             h(s, K),
             c(e, K);
             var n = {
                 width: Math.max(i.offsetWidth, Number(t.minContainerWidth) || 200),
                 height: Math.max(i.offsetHeight, Number(t.minContainerHeight) || 100)
             };
             this.containerData = n,
             r(s, {
                 width: n.width,
                 height: n.height
             }),
             h(e, K),
             c(s, K)
         },
         initCanvas: function() {
             var e = this.containerData
               , t = this.imageData
               , i = this.options.viewMode
               , s = Math.abs(t.rotate) % 180 === 90
               , n = s ? t.naturalHeight : t.naturalWidth
               , a = s ? t.naturalWidth : t.naturalHeight
               , o = n / a
               , r = e.width
               , l = e.height;
             e.height * o > e.width ? 3 === i ? r = e.height * o : l = e.width / o : 3 === i ? l = e.width / o : r = e.height * o;
             var h = {
                 aspectRatio: o,
                 naturalWidth: n,
                 naturalHeight: a,
                 width: r,
                 height: l
             };
             h.left = (e.width - r) / 2,
             h.top = (e.height - l) / 2,
             h.oldLeft = h.left,
             h.oldTop = h.top,
             this.canvasData = h,
             this.limited = 1 === i || 2 === i,
             this.limitCanvas(!0, !0),
             this.initialImageData = De({}, t),
             this.initialCanvasData = De({}, h)
         },
         limitCanvas: function(e, t) {
             var i = this.options
               , s = this.containerData
               , n = this.canvasData
               , a = this.cropBoxData
               , o = i.viewMode
               , r = n.aspectRatio
               , l = this.cropped && a;
             if (e) {
                 var h = Number(i.minCanvasWidth) || 0
                   , c = Number(i.minCanvasHeight) || 0;
                 o > 1 ? (h = Math.max(h, s.width),
                 c = Math.max(c, s.height),
                 3 === o && (c * r > h ? h = c * r : c = h / r)) : o > 0 && (h ? h = Math.max(h, l ? a.width : 0) : c ? c = Math.max(c, l ? a.height : 0) : l && (h = a.width,
                 c = a.height,
                 c * r > h ? h = c * r : c = h / r));
                 var p = $({
                     aspectRatio: r,
                     width: h,
                     height: c
                 });
                 h = p.width,
                 c = p.height,
                 n.minWidth = h,
                 n.minHeight = c,
                 n.maxWidth = 1 / 0,
                 n.maxHeight = 1 / 0
             }
             if (t)
                 if (o > (l ? 0 : 1)) {
                     var d = s.width - n.width
                       , u = s.height - n.height;
                     n.minLeft = Math.min(0, d),
                     n.minTop = Math.min(0, u),
                     n.maxLeft = Math.max(0, d),
                     n.maxTop = Math.max(0, u),
                     l && this.limited && (n.minLeft = Math.min(a.left, a.left + (a.width - n.width)),
                     n.minTop = Math.min(a.top, a.top + (a.height - n.height)),
                     n.maxLeft = a.left,
                     n.maxTop = a.top,
                     2 === o && (n.width >= s.width && (n.minLeft = Math.min(0, d),
                     n.maxLeft = Math.max(0, d)),
                     n.height >= s.height && (n.minTop = Math.min(0, u),
                     n.maxTop = Math.max(0, u))))
                 } else
                     n.minLeft = -n.width,
                     n.minTop = -n.height,
                     n.maxLeft = s.width,
                     n.maxTop = s.height
         },
         renderCanvas: function(e, t) {
             var i = this.canvasData
               , s = this.imageData;
             if (t) {
                 var n = E({
                     width: s.naturalWidth * Math.abs(s.scaleX || 1),
                     height: s.naturalHeight * Math.abs(s.scaleY || 1),
                     degree: s.rotate || 0
                 })
                   , a = n.width
                   , o = n.height
                   , l = i.width * (a / i.naturalWidth)
                   , h = i.height * (o / i.naturalHeight);
                 i.left -= (l - i.width) / 2,
                 i.top -= (h - i.height) / 2,
                 i.width = l,
                 i.height = h,
                 i.aspectRatio = a / o,
                 i.naturalWidth = a,
                 i.naturalHeight = o,
                 this.limitCanvas(!0, !1)
             }
             (i.width > i.maxWidth || i.width < i.minWidth) && (i.left = i.oldLeft),
             (i.height > i.maxHeight || i.height < i.minHeight) && (i.top = i.oldTop),
             i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth),
             i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight),
             this.limitCanvas(!1, !0),
             i.left = Math.min(Math.max(i.left, i.minLeft), i.maxLeft),
             i.top = Math.min(Math.max(i.top, i.minTop), i.maxTop),
             i.oldLeft = i.left,
             i.oldTop = i.top,
             r(this.canvas, De({
                 width: i.width,
                 height: i.height
             }, k({
                 translateX: i.left,
                 translateY: i.top
             }))),
             this.renderImage(e),
             this.cropped && this.limited && this.limitCropBox(!0, !0)
         },
         renderImage: function(e) {
             var t = this.canvasData
               , i = this.imageData
               , s = i.naturalWidth * (t.width / t.naturalWidth)
               , n = i.naturalHeight * (t.height / t.naturalHeight);
             De(i, {
                 width: s,
                 height: n,
                 left: (t.width - s) / 2,
                 top: (t.height - n) / 2
             }),
             r(this.image, De({
                 width: i.width,
                 height: i.height
             }, k(De({
                 translateX: i.left,
                 translateY: i.top
             }, i)))),
             e && this.output()
         },
         initCropBox: function() {
             var e = this.options
               , t = this.canvasData
               , i = e.aspectRatio || e.initialAspectRatio
               , s = Number(e.autoCropArea) || .8
               , n = {
                 width: t.width,
                 height: t.height
             };
             i && (t.height * i > t.width ? n.height = n.width / i : n.width = n.height * i),
             this.cropBoxData = n,
             this.limitCropBox(!0, !0),
             n.width = Math.min(Math.max(n.width, n.minWidth), n.maxWidth),
             n.height = Math.min(Math.max(n.height, n.minHeight), n.maxHeight),
             n.width = Math.max(n.minWidth, n.width * s),
             n.height = Math.max(n.minHeight, n.height * s),
             n.left = t.left + (t.width - n.width) / 2,
             n.top = t.top + (t.height - n.height) / 2,
             n.oldLeft = n.left,
             n.oldTop = n.top,
             this.initialCropBoxData = De({}, n)
         },
         limitCropBox: function(e, t) {
             var i = this.options
               , s = this.containerData
               , n = this.canvasData
               , a = this.cropBoxData
               , o = this.limited
               , r = i.aspectRatio;
             if (e) {
                 var l = Number(i.minCropBoxWidth) || 0
                   , h = Number(i.minCropBoxHeight) || 0
                   , c = o ? Math.min(s.width, n.width, n.width + n.left, s.width - n.left) : s.width
                   , p = o ? Math.min(s.height, n.height, n.height + n.top, s.height - n.top) : s.height;
                 l = Math.min(l, s.width),
                 h = Math.min(h, s.height),
                 r && (l && h ? h * r > l ? h = l / r : l = h * r : l ? h = l / r : h && (l = h * r),
                 p * r > c ? p = c / r : c = p * r),
                 a.minWidth = Math.min(l, c),
                 a.minHeight = Math.min(h, p),
                 a.maxWidth = c,
                 a.maxHeight = p
             }
             t && (o ? (a.minLeft = Math.max(0, n.left),
             a.minTop = Math.max(0, n.top),
             a.maxLeft = Math.min(s.width, n.left + n.width) - a.width,
             a.maxTop = Math.min(s.height, n.top + n.height) - a.height) : (a.minLeft = 0,
             a.minTop = 0,
             a.maxLeft = s.width - a.width,
             a.maxTop = s.height - a.height))
         },
         renderCropBox: function() {
             var e = this.options
               , t = this.containerData
               , i = this.cropBoxData;
             (i.width > i.maxWidth || i.width < i.minWidth) && (i.left = i.oldLeft),
             (i.height > i.maxHeight || i.height < i.minHeight) && (i.top = i.oldTop),
             i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth),
             i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight),
             this.limitCropBox(!1, !0),
             i.left = Math.min(Math.max(i.left, i.minLeft), i.maxLeft),
             i.top = Math.min(Math.max(i.top, i.minTop), i.maxTop),
             i.oldLeft = i.left,
             i.oldTop = i.top,
             e.movable && e.cropBoxMovable && f(this.face, ie, i.width >= t.width && i.height >= t.height ? N : L),
             r(this.cropBox, De({
                 width: i.width,
                 height: i.height
             }, k({
                 translateX: i.left,
                 translateY: i.top
             }))),
             this.cropped && this.limited && this.limitCanvas(!0, !0),
             this.disabled || this.output()
         },
         output: function() {
             this.preview(),
             b(this.element, re, this.getData())
         }
     }
       , ze = {
         initPreview: function() {
             var e = this.crossOrigin
               , t = this.options.preview
               , i = e ? this.crossOriginUrl : this.url
               , s = document.createElement("img");
             if (e && (s.crossOrigin = e),
             s.src = i,
             this.viewBox.appendChild(s),
             this.viewBoxImage = s,
             t) {
                 var n = t;
                 "string" == typeof t ? n = this.element.ownerDocument.querySelectorAll(t) : t.querySelector && (n = [t]),
                 this.previews = n,
                 a(n, function(t) {
                     var s = document.createElement("img");
                     f(t, se, {
                         width: t.offsetWidth,
                         height: t.offsetHeight,
                         html: t.innerHTML
                     }),
                     e && (s.crossOrigin = e),
                     s.src = i,
                     s.style.cssText = 'display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',
                     t.innerHTML = "",
                     t.appendChild(s)
                 })
             }
         },
         resetPreview: function() {
             a(this.previews, function(e) {
                 var t = u(e, se);
                 r(e, {
                     width: t.width,
                     height: t.height
                 }),
                 e.innerHTML = t.html,
                 m(e, se)
             })
         },
         preview: function() {
             var e = this.imageData
               , t = this.canvasData
               , i = this.cropBoxData
               , s = i.width
               , n = i.height
               , o = e.width
               , l = e.height
               , h = i.left - t.left - e.left
               , c = i.top - t.top - e.top;
             this.cropped && !this.disabled && (r(this.viewBoxImage, De({
                 width: o,
                 height: l
             }, k(De({
                 translateX: -h,
                 translateY: -c
             }, e)))),
             a(this.previews, function(t) {
                 var i = u(t, se)
                   , a = i.width
                   , p = i.height
                   , d = a
                   , f = p
                   , m = 1;
                 s && (m = a / s,
                 f = n * m),
                 n && f > p && (m = p / n,
                 d = s * m,
                 f = p),
                 r(t, {
                     width: d,
                     height: f
                 }),
                 r(t.getElementsByTagName("img")[0], De({
                     width: o * m,
                     height: l * m
                 }, k(De({
                     translateX: -h * m,
                     translateY: -c * m
                 }, e))))
             }))
         }
     }
       , He = {
         bind: function() {
             var e = this.element
               , t = this.options
               , i = this.cropper;
             n(t.cropstart) && v(e, ce, t.cropstart),
             n(t.cropmove) && v(e, he, t.cropmove),
             n(t.cropend) && v(e, le, t.cropend),
             n(t.crop) && v(e, re, t.crop),
             n(t.zoom) && v(e, be, t.zoom),
             v(i, de, this.onCropStart = this.cropStart.bind(this)),
             t.zoomable && t.zoomOnWheel && v(i, ve, this.onWheel = this.wheel.bind(this)),
             t.toggleDragModeOnDblclick && v(i, pe, this.onDblclick = this.dblclick.bind(this)),
             v(e.ownerDocument, ue, this.onCropMove = this.cropMove.bind(this)),
             v(e.ownerDocument, fe, this.onCropEnd = this.cropEnd.bind(this)),
             t.responsive && v(window, ge, this.onResize = this.resize.bind(this))
         },
         unbind: function() {
             var e = this.element
               , t = this.options
               , i = this.cropper;
             n(t.cropstart) && g(e, ce, t.cropstart),
             n(t.cropmove) && g(e, he, t.cropmove),
             n(t.cropend) && g(e, le, t.cropend),
             n(t.crop) && g(e, re, t.crop),
             n(t.zoom) && g(e, be, t.zoom),
             g(i, de, this.onCropStart),
             t.zoomable && t.zoomOnWheel && g(i, ve, this.onWheel),
             t.toggleDragModeOnDblclick && g(i, pe, this.onDblclick),
             g(e.ownerDocument, ue, this.onCropMove),
             g(e.ownerDocument, fe, this.onCropEnd),
             t.responsive && g(window, ge, this.onResize)
         }
     }
       , qe = {
         resize: function() {
             var e = this.options
               , t = this.container
               , i = this.containerData
               , s = Number(e.minContainerWidth) || 200
               , n = Number(e.minContainerHeight) || 100;
             if (!(this.disabled || i.width <= s || i.height <= n)) {
                 var o = t.offsetWidth / i.width;
                 if (1 !== o || t.offsetHeight !== i.height) {
                     var r = void 0
                       , l = void 0;
                     e.restore && (r = this.getCanvasData(),
                     l = this.getCropBoxData()),
                     this.render(),
                     e.restore && (this.setCanvasData(a(r, function(e, t) {
                         r[t] = e * o
                     })),
                     this.setCropBoxData(a(l, function(e, t) {
                         l[t] = e * o
                     })))
                 }
             }
         },
         dblclick: function() {
             this.disabled || this.options.dragMode === oe || this.setDragMode(l(this.dragBox, J) ? ae : ne)
         },
         wheel: function(e) {
             var t = this
               , i = Number(this.options.wheelZoomRatio) || .1
               , s = 1;
             this.disabled || (e.preventDefault(),
             this.wheeling || (this.wheeling = !0,
             setTimeout(function() {
                 t.wheeling = !1
             }, 50),
             e.deltaY ? s = e.deltaY > 0 ? 1 : -1 : e.wheelDelta ? s = -e.wheelDelta / 120 : e.detail && (s = e.detail > 0 ? 1 : -1),
             this.zoom(-s * i, e)))
         },
         cropStart: function(e) {
             if (!this.disabled) {
                 var t = this.options
                   , i = this.pointers
                   , s = void 0;
                 e.changedTouches ? a(e.changedTouches, function(e) {
                     i[e.identifier] = S(e)
                 }) : i[e.pointerId || 0] = S(e),
                 s = Object.keys(i).length > 1 && t.zoomable && t.zoomOnTouch ? j : u(e.target, ie),
                 we.test(s) && b(this.element, ce, {
                     originalEvent: e,
                     action: s
                 }) !== !1 && (e.preventDefault(),
                 this.action = s,
                 this.cropping = !1,
                 s === O && (this.cropping = !0,
                 h(this.dragBox, ee)))
             }
         },
         cropMove: function(e) {
             var t = this.action;
             if (!this.disabled && t) {
                 var i = this.pointers;
                 e.preventDefault(),
                 b(this.element, he, {
                     originalEvent: e,
                     action: t
                 }) !== !1 && (e.changedTouches ? a(e.changedTouches, function(e) {
                     De(i[e.identifier], S(e, !0))
                 }) : De(i[e.pointerId || 0], S(e, !0)),
                 this.change(e))
             }
         },
         cropEnd: function(e) {
             if (!this.disabled) {
                 var t = this.action
                   , i = this.pointers;
                 e.changedTouches ? a(e.changedTouches, function(e) {
                     delete i[e.identifier]
                 }) : delete i[e.pointerId || 0],
                 t && (e.preventDefault(),
                 Object.keys(i).length || (this.action = ""),
                 this.cropping && (this.cropping = !1,
                 p(this.dragBox, ee, this.cropped && this.options.modal)),
                 b(this.element, le, {
                     originalEvent: e,
                     action: t
                 }))
             }
         }
     }
       , Ge = {
         change: function(e) {
             var t = this.options
               , i = this.canvasData
               , s = this.containerData
               , n = this.cropBoxData
               , o = this.pointers
               , r = this.action
               , l = t.aspectRatio
               , h = n.left
               , p = n.top
               , d = n.width
               , u = n.height
               , f = h + d
               , m = p + u
               , g = 0
               , v = 0
               , b = s.width
               , y = s.height
               , C = !0
               , k = void 0;
             !l && e.shiftKey && (l = d && u ? d / u : 1),
             this.limited && (g = n.minLeft,
             v = n.minTop,
             b = g + Math.min(s.width, i.width, i.left + i.width),
             y = v + Math.min(s.height, i.height, i.top + i.height));
             var S = o[Object.keys(o)[0]]
               , x = {
                 x: S.endX - S.startX,
                 y: S.endY - S.startY
             }
               , $ = function(e) {
                 switch (e) {
                 case V:
                     f + x.x > b && (x.x = b - f);
                     break;
                 case F:
                     h + x.x < g && (x.x = g - h);
                     break;
                 case H:
                     p + x.y < v && (x.y = v - p);
                     break;
                 case z:
                     m + x.y > y && (x.y = y - m)
                 }
             };
             switch (r) {
             case L:
                 h += x.x,
                 p += x.y;
                 break;
             case V:
                 if (x.x >= 0 && (f >= b || l && (p <= v || m >= y))) {
                     C = !1;
                     break
                 }
                 $(V),
                 d += x.x,
                 d < 0 && (r = F,
                 d = -d,
                 h -= d),
                 l && (u = d / l,
                 p += (n.height - u) / 2);
                 break;
             case H:
                 if (x.y <= 0 && (p <= v || l && (h <= g || f >= b))) {
                     C = !1;
                     break
                 }
                 $(H),
                 u -= x.y,
                 p += x.y,
                 u < 0 && (r = z,
                 u = -u,
                 p -= u),
                 l && (d = u * l,
                 h += (n.width - d) / 2);
                 break;
             case F:
                 if (x.x <= 0 && (h <= g || l && (p <= v || m >= y))) {
                     C = !1;
                     break
                 }
                 $(F),
                 d -= x.x,
                 h += x.x,
                 d < 0 && (r = V,
                 d = -d,
                 h -= d),
                 l && (u = d / l,
                 p += (n.height - u) / 2);
                 break;
             case z:
                 if (x.y >= 0 && (m >= y || l && (h <= g || f >= b))) {
                     C = !1;
                     break
                 }
                 $(z),
                 u += x.y,
                 u < 0 && (r = H,
                 u = -u,
                 p -= u),
                 l && (d = u * l,
                 h += (n.width - d) / 2);
                 break;
             case q:
                 if (l) {
                     if (x.y <= 0 && (p <= v || f >= b)) {
                         C = !1;
                         break
                     }
                     $(H),
                     u -= x.y,
                     p += x.y,
                     d = u * l
                 } else
                     $(H),
                     $(V),
                     x.x >= 0 ? f < b ? d += x.x : x.y <= 0 && p <= v && (C = !1) : d += x.x,
                     x.y <= 0 ? p > v && (u -= x.y,
                     p += x.y) : (u -= x.y,
                     p += x.y);
                 d < 0 && u < 0 ? (r = Y,
                 u = -u,
                 d = -d,
                 p -= u,
                 h -= d) : d < 0 ? (r = G,
                 d = -d,
                 h -= d) : u < 0 && (r = W,
                 u = -u,
                 p -= u);
                 break;
             case G:
                 if (l) {
                     if (x.y <= 0 && (p <= v || h <= g)) {
                         C = !1;
                         break
                     }
                     $(H),
                     u -= x.y,
                     p += x.y,
                     d = u * l,
                     h += n.width - d
                 } else
                     $(H),
                     $(F),
                     x.x <= 0 ? h > g ? (d -= x.x,
                     h += x.x) : x.y <= 0 && p <= v && (C = !1) : (d -= x.x,
                     h += x.x),
                     x.y <= 0 ? p > v && (u -= x.y,
                     p += x.y) : (u -= x.y,
                     p += x.y);
                 d < 0 && u < 0 ? (r = W,
                 u = -u,
                 d = -d,
                 p -= u,
                 h -= d) : d < 0 ? (r = q,
                 d = -d,
                 h -= d) : u < 0 && (r = Y,
                 u = -u,
                 p -= u);
                 break;
             case Y:
                 if (l) {
                     if (x.x <= 0 && (h <= g || m >= y)) {
                         C = !1;
                         break
                     }
                     $(F),
                     d -= x.x,
                     h += x.x,
                     u = d / l
                 } else
                     $(z),
                     $(F),
                     x.x <= 0 ? h > g ? (d -= x.x,
                     h += x.x) : x.y >= 0 && m >= y && (C = !1) : (d -= x.x,
                     h += x.x),
                     x.y >= 0 ? m < y && (u += x.y) : u += x.y;
                 d < 0 && u < 0 ? (r = q,
                 u = -u,
                 d = -d,
                 p -= u,
                 h -= d) : d < 0 ? (r = W,
                 d = -d,
                 h -= d) : u < 0 && (r = G,
                 u = -u,
                 p -= u);
                 break;
             case W:
                 if (l) {
                     if (x.x >= 0 && (f >= b || m >= y)) {
                         C = !1;
                         break
                     }
                     $(V),
                     d += x.x,
                     u = d / l
                 } else
                     $(z),
                     $(V),
                     x.x >= 0 ? f < b ? d += x.x : x.y >= 0 && m >= y && (C = !1) : d += x.x,
                     x.y >= 0 ? m < y && (u += x.y) : u += x.y;
                 d < 0 && u < 0 ? (r = G,
                 u = -u,
                 d = -d,
                 p -= u,
                 h -= d) : d < 0 ? (r = Y,
                 d = -d,
                 h -= d) : u < 0 && (r = q,
                 u = -u,
                 p -= u);
                 break;
             case N:
                 this.move(x.x, x.y),
                 C = !1;
                 break;
             case j:
                 this.zoom(_(o), e),
                 C = !1;
                 break;
             case O:
                 if (!x.x || !x.y) {
                     C = !1;
                     break
                 }
                 k = w(this.cropper),
                 h = S.startX - k.left,
                 p = S.startY - k.top,
                 d = n.minWidth,
                 u = n.minHeight,
                 x.x > 0 ? r = x.y > 0 ? W : q : x.x < 0 && (h -= d,
                 r = x.y > 0 ? Y : G),
                 x.y < 0 && (p -= u),
                 this.cropped || (c(this.cropBox, K),
                 this.cropped = !0,
                 this.limited && this.limitCropBox(!0, !0))
             }
             C && (n.width = d,
             n.height = u,
             n.left = h,
             n.top = p,
             this.action = r,
             this.renderCropBox()),
             a(o, function(e) {
                 e.startX = e.endX,
                 e.startY = e.endY
             })
         }
     }
       , We = {
         crop: function() {
             return !this.ready || this.cropped || this.disabled || (this.cropped = !0,
             this.limitCropBox(!0, !0),
             this.options.modal && h(this.dragBox, ee),
             c(this.cropBox, K),
             this.setCropBoxData(this.initialCropBoxData)),
             this
         },
         reset: function() {
             return this.ready && !this.disabled && (this.imageData = De({}, this.initialImageData),
             this.canvasData = De({}, this.initialCanvasData),
             this.cropBoxData = De({}, this.initialCropBoxData),
             this.renderCanvas(),
             this.cropped && this.renderCropBox()),
             this
         },
         clear: function() {
             return this.cropped && !this.disabled && (De(this.cropBoxData, {
                 left: 0,
                 top: 0,
                 width: 0,
                 height: 0
             }),
             this.cropped = !1,
             this.renderCropBox(),
             this.limitCanvas(!0, !0),
             this.renderCanvas(),
             c(this.dragBox, ee),
             h(this.cropBox, K)),
             this
         },
         replace: function(e) {
             var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
             return !this.disabled && e && (this.isImg && (this.element.src = e),
             t ? (this.url = e,
             this.image.src = e,
             this.ready && (this.viewBoxImage.src = e,
             a(this.previews, function(t) {
                 t.getElementsByTagName("img")[0].src = e
             }))) : (this.isImg && (this.replaced = !0),
             this.options.data = null,
             this.uncreate(),
             this.load(e))),
             this
         },
         enable: function() {
             return this.ready && this.disabled && (this.disabled = !1,
             c(this.cropper, X)),
             this
         },
         disable: function() {
             return this.ready && !this.disabled && (this.disabled = !0,
             h(this.cropper, X)),
             this
         },
         destroy: function() {
             var e = this.element;
             return u(e, B) ? (this.isImg && this.replaced && (e.src = this.originalUrl),
             this.uncreate(),
             m(e, B),
             this) : this
         },
         move: function(e) {
             var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : e
               , s = this.canvasData
               , n = s.left
               , a = s.top;
             return this.moveTo(t(e) ? e : n + Number(e), t(i) ? i : a + Number(i))
         },
         moveTo: function(t) {
             var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t
               , s = this.canvasData
               , n = !1;
             return t = Number(t),
             i = Number(i),
             this.ready && !this.disabled && this.options.movable && (e(t) && (s.left = t,
             n = !0),
             e(i) && (s.top = i,
             n = !0),
             n && this.renderCanvas(!0)),
             this
         },
         zoom: function(e, t) {
             var i = this.canvasData;
             return e = Number(e),
             e = e < 0 ? 1 / (1 - e) : 1 + e,
             this.zoomTo(i.width * e / i.naturalWidth, null, t)
         },
         zoomTo: function(t, i, n) {
             var a = this.options
               , o = this.canvasData
               , r = o.width
               , l = o.height
               , h = o.naturalWidth
               , c = o.naturalHeight;
             if (t = Number(t),
             t >= 0 && this.ready && !this.disabled && a.zoomable) {
                 var p = h * t
                   , d = c * t;
                 if (b(this.element, be, {
                     ratio: t,
                     oldRatio: r / h,
                     originalEvent: n
                 }) === !1)
                     return this;
                 if (n) {
                     var u = this.pointers
                       , f = w(this.cropper)
                       , m = u && Object.keys(u).length ? x(u) : {
                         pageX: n.pageX,
                         pageY: n.pageY
                     };
                     o.left -= (p - r) * ((m.pageX - f.left - o.left) / r),
                     o.top -= (d - l) * ((m.pageY - f.top - o.top) / l)
                 } else
                     s(i) && e(i.x) && e(i.y) ? (o.left -= (p - r) * ((i.x - o.left) / r),
                     o.top -= (d - l) * ((i.y - o.top) / l)) : (o.left -= (p - r) / 2,
                     o.top -= (d - l) / 2);
                 o.width = p,
                 o.height = d,
                 this.renderCanvas(!0)
             }
             return this
         },
         rotate: function(e) {
             return this.rotateTo((this.imageData.rotate || 0) + Number(e))
         },
         rotateTo: function(t) {
             return t = Number(t),
             e(t) && this.ready && !this.disabled && this.options.rotatable && (this.imageData.rotate = t % 360,
             this.renderCanvas(!0, !0)),
             this
         },
         scaleX: function(t) {
             var i = this.imageData.scaleY;
             return this.scale(t, e(i) ? i : 1)
         },
         scaleY: function(t) {
             var i = this.imageData.scaleX;
             return this.scale(e(i) ? i : 1, t)
         },
         scale: function(t) {
             var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t
               , s = this.imageData
               , n = !1;
             return t = Number(t),
             i = Number(i),
             this.ready && !this.disabled && this.options.scalable && (e(t) && (s.scaleX = t,
             n = !0),
             e(i) && (s.scaleY = i,
             n = !0),
             n && this.renderCanvas(!0, !0)),
             this
         },
         getData: function() {
             var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
               , t = this.options
               , i = this.imageData
               , s = this.canvasData
               , n = this.cropBoxData
               , o = void 0;
             if (this.ready && this.cropped) {
                 o = {
                     x: n.left - s.left,
                     y: n.top - s.top,
                     width: n.width,
                     height: n.height
                 };
                 var r = i.width / i.naturalWidth;
                 if (a(o, function(e, t) {
                     o[t] = e / r
                 }),
                 e) {
                     var l = Math.round(o.y + o.height)
                       , h = Math.round(o.x + o.width);
                     o.x = Math.round(o.x),
                     o.y = Math.round(o.y),
                     o.width = h - o.x,
                     o.height = l - o.y
                 }
             } else
                 o = {
                     x: 0,
                     y: 0,
                     width: 0,
                     height: 0
                 };
             return t.rotatable && (o.rotate = i.rotate || 0),
             t.scalable && (o.scaleX = i.scaleX || 1,
             o.scaleY = i.scaleY || 1),
             o
         },
         setData: function(t) {
             var i = this.options
               , n = this.imageData
               , a = this.canvasData
               , o = {};
             if (this.ready && !this.disabled && s(t)) {
                 var r = !1;
                 i.rotatable && e(t.rotate) && t.rotate !== n.rotate && (n.rotate = t.rotate,
                 r = !0),
                 i.scalable && (e(t.scaleX) && t.scaleX !== n.scaleX && (n.scaleX = t.scaleX,
                 r = !0),
                 e(t.scaleY) && t.scaleY !== n.scaleY && (n.scaleY = t.scaleY,
                 r = !0)),
                 r && this.renderCanvas(!0, !0);
                 var l = n.width / n.naturalWidth;
                 e(t.x) && (o.left = t.x * l + a.left),
                 e(t.y) && (o.top = t.y * l + a.top),
                 e(t.width) && (o.width = t.width * l),
                 e(t.height) && (o.height = t.height * l),
                 this.setCropBoxData(o)
             }
             return this
         },
         getContainerData: function() {
             return this.ready ? De({}, this.containerData) : {}
         },
         getImageData: function() {
             return this.sized ? De({}, this.imageData) : {}
         },
         getCanvasData: function() {
             var e = this.canvasData
               , t = {};
             return this.ready && a(["left", "top", "width", "height", "naturalWidth", "naturalHeight"], function(i) {
                 t[i] = e[i]
             }),
             t
         },
         setCanvasData: function(t) {
             var i = this.canvasData
               , n = i.aspectRatio;
             return this.ready && !this.disabled && s(t) && (e(t.left) && (i.left = t.left),
             e(t.top) && (i.top = t.top),
             e(t.width) ? (i.width = t.width,
             i.height = t.width / n) : e(t.height) && (i.height = t.height,
             i.width = t.height * n),
             this.renderCanvas(!0)),
             this
         },
         getCropBoxData: function() {
             var e = this.cropBoxData
               , t = void 0;
             return this.ready && this.cropped && (t = {
                 left: e.left,
                 top: e.top,
                 width: e.width,
                 height: e.height
             }),
             t || {}
         },
         setCropBoxData: function(t) {
             var i = this.cropBoxData
               , n = this.options.aspectRatio
               , a = void 0
               , o = void 0;
             return this.ready && this.cropped && !this.disabled && s(t) && (e(t.left) && (i.left = t.left),
             e(t.top) && (i.top = t.top),
             e(t.width) && t.width !== i.width && (a = !0,
             i.width = t.width),
             e(t.height) && t.height !== i.height && (o = !0,
             i.height = t.height),
             n && (a ? i.height = i.width / n : o && (i.width = i.height * n)),
             this.renderCropBox()),
             this
         },
         getCroppedCanvas: function() {
             var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
             if (!this.ready || !window.HTMLCanvasElement)
                 return null;
             var t = this.canvasData
               , i = M(this.image, this.imageData, t, e);
             if (!this.cropped)
                 return i;
             var s = this.getData()
               , n = s.x
               , a = s.y
               , r = s.width
               , l = s.height
               , h = i.width / Math.floor(t.naturalWidth);
             1 !== h && (n *= h,
             a *= h,
             r *= h,
             l *= h);
             var c = r / l
               , p = $({
                 aspectRatio: c,
                 width: e.maxWidth || 1 / 0,
                 height: e.maxHeight || 1 / 0
             })
               , d = $({
                 aspectRatio: c,
                 width: e.minWidth || 0,
                 height: e.minHeight || 0
             }, "cover")
               , u = $({
                 aspectRatio: c,
                 width: e.width || (1 !== h ? i.width : r),
                 height: e.height || (1 !== h ? i.height : l)
             })
               , f = u.width
               , m = u.height;
             f = Math.min(p.width, Math.max(d.width, f)),
             m = Math.min(p.height, Math.max(d.height, m));
             var g = document.createElement("canvas")
               , v = g.getContext("2d");
             g.width = o(f),
             g.height = o(m),
             v.fillStyle = e.fillColor || "transparent",
             v.fillRect(0, 0, f, m);
             var b = e.imageSmoothingEnabled
               , w = void 0 === b || b
               , y = e.imageSmoothingQuality;
             v.imageSmoothingEnabled = w,
             y && (v.imageSmoothingQuality = y);
             var C = i.width
               , k = i.height
               , _ = n
               , S = a
               , x = void 0
               , E = void 0
               , T = void 0
               , I = void 0
               , D = void 0
               , P = void 0;
             _ <= -r || _ > C ? (_ = 0,
             x = 0,
             T = 0,
             D = 0) : _ <= 0 ? (T = -_,
             _ = 0,
             x = Math.min(C, r + _),
             D = x) : _ <= C && (T = 0,
             x = Math.min(r, C - _),
             D = x),
             x <= 0 || S <= -l || S > k ? (S = 0,
             E = 0,
             I = 0,
             P = 0) : S <= 0 ? (I = -S,
             S = 0,
             E = Math.min(k, l + S),
             P = E) : S <= k && (I = 0,
             E = Math.min(l, k - S),
             P = E);
             var R = [_, S, x, E];
             if (D > 0 && P > 0) {
                 var A = f / r;
                 R.push(T * A, I * A, D * A, P * A)
             }
             return v.drawImage.apply(v, [i].concat(Me(R.map(function(e) {
                 return Math.floor(o(e))
             })))),
             g
         },
         setAspectRatio: function(e) {
             var i = this.options;
             return this.disabled || t(e) || (i.aspectRatio = Math.max(0, e) || NaN,
             this.ready && (this.initCropBox(),
             this.cropped && this.renderCropBox())),
             this
         },
         setDragMode: function(e) {
             var t = this.options
               , i = this.dragBox
               , s = this.face;
             if (this.ready && !this.disabled) {
                 var n = e === ne
                   , a = t.movable && e === ae;
                 e = n || a ? e : oe,
                 t.dragMode = e,
                 f(i, ie, e),
                 p(i, J, n),
                 p(i, te, a),
                 t.cropBoxMovable || (f(s, ie, e),
                 p(s, J, n),
                 p(s, te, a))
             }
             return this
         }
     }
       , Ye = U.Cropper
       , Je = function() {
         function e(t) {
             var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
             if ($e(this, e),
             !t || !ke.test(t.tagName))
                 throw new Error("The first argument is required and must be an <img> or <canvas> element.");
             this.element = t,
             this.options = De({}, _e, s(i) && i),
             this.cropped = !1,
             this.disabled = !1,
             this.pointers = {},
             this.ready = !1,
             this.reloading = !1,
             this.replaced = !1,
             this.sized = !1,
             this.sizing = !1,
             this.init()
         }
         return Ee(e, [{
             key: "init",
             value: function() {
                 var e = this.element
                   , t = e.tagName.toLowerCase()
                   , i = void 0;
                 if (!u(e, B)) {
                     if (f(e, B, this),
                     "img" === t) {
                         if (this.isImg = !0,
                         i = e.getAttribute("src") || "",
                         this.originalUrl = i,
                         !i)
                             return;
                         i = e.src
                     } else
                         "canvas" === t && window.HTMLCanvasElement && (i = e.toDataURL());
                     this.load(i)
                 }
             }
         }, {
             key: "load",
             value: function(e) {
                 var t = this;
                 if (e) {
                     this.url = e,
                     this.imageData = {};
                     var i = this.element
                       , s = this.options;
                     if (s.rotatable || s.scalable || (s.checkOrientation = !1),
                     !s.checkOrientation || !window.ArrayBuffer)
                         return void this.clone();
                     if (ye.test(e))
                         return void (Ce.test(e) ? this.read(I(e)) : this.clone());
                     var n = new XMLHttpRequest;
                     this.reloading = !0,
                     this.xhr = n;
                     var a = function() {
                         t.reloading = !1,
                         t.xhr = null
                     };
                     n.ontimeout = a,
                     n.onabort = a,
                     n.onerror = function() {
                         a(),
                         t.clone()
                     }
                     ,
                     n.onload = function() {
                         a(),
                         t.read(n.response)
                     }
                     ,
                     s.checkCrossOrigin && y(e) && i.crossOrigin && (e = C(e)),
                     n.open("get", e),
                     n.responseType = "arraybuffer",
                     n.withCredentials = "use-credentials" === i.crossOrigin,
                     n.send()
                 }
             }
         }, {
             key: "read",
             value: function(e) {
                 var t = this.options
                   , i = this.imageData
                   , s = P(e)
                   , n = 0
                   , a = 1
                   , o = 1;
                 if (s > 1) {
                     this.url = D(e, "image/jpeg");
                     var r = R(s);
                     n = r.rotate,
                     a = r.scaleX,
                     o = r.scaleY
                 }
                 t.rotatable && (i.rotate = n),
                 t.scalable && (i.scaleX = a,
                 i.scaleY = o),
                 this.clone()
             }
         }, {
             key: "clone",
             value: function() {
                 var e = this.element
                   , t = this.url
                   , i = void 0
                   , s = void 0;
                 this.options.checkCrossOrigin && y(t) && (i = e.crossOrigin,
                 i ? s = t : (i = "anonymous",
                 s = C(t))),
                 this.crossOrigin = i,
                 this.crossOriginUrl = s;
                 var n = document.createElement("img");
                 i && (n.crossOrigin = i),
                 n.src = s || t,
                 this.image = n,
                 n.onload = this.start.bind(this),
                 n.onerror = this.stop.bind(this),
                 h(n, Q),
                 e.parentNode.insertBefore(n, e.nextSibling)
             }
         }, {
             key: "start",
             value: function() {
                 var e = this
                   , t = this.isImg ? this.element : this.image;
                 t.onload = null,
                 t.onerror = null,
                 this.sizing = !0;
                 var i = U.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(U.navigator.userAgent)
                   , s = function(t, i) {
                     De(e.imageData, {
                         naturalWidth: t,
                         naturalHeight: i,
                         aspectRatio: t / i
                     }),
                     e.sizing = !1,
                     e.sized = !0,
                     e.build()
                 };
                 if (t.naturalWidth && !i)
                     return void s(t.naturalWidth, t.naturalHeight);
                 var n = document.createElement("img")
                   , a = document.body || document.documentElement;
                 this.sizingImage = n,
                 n.onload = function() {
                     s(n.width, n.height),
                     i || a.removeChild(n)
                 }
                 ,
                 n.src = t.src,
                 i || (n.style.cssText = "left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",
                 a.appendChild(n))
             }
         }, {
             key: "stop",
             value: function() {
                 var e = this.image;
                 e.onload = null,
                 e.onerror = null,
                 e.parentNode.removeChild(e),
                 this.image = null
             }
         }, {
             key: "build",
             value: function() {
                 if (this.sized && !this.ready) {
                     var e = this.element
                       , t = this.options
                       , i = this.image
                       , s = e.parentNode
                       , a = document.createElement("div");
                     a.innerHTML = Se;
                     var o = a.querySelector("." + B + "-container")
                       , r = o.querySelector("." + B + "-canvas")
                       , l = o.querySelector("." + B + "-drag-box")
                       , p = o.querySelector("." + B + "-crop-box")
                       , d = p.querySelector("." + B + "-face");
                     this.container = s,
                     this.cropper = o,
                     this.canvas = r,
                     this.dragBox = l,
                     this.cropBox = p,
                     this.viewBox = o.querySelector("." + B + "-view-box"),
                     this.face = d,
                     r.appendChild(i),
                     h(e, K),
                     s.insertBefore(o, e.nextSibling),
                     this.isImg || c(i, Q),
                     this.initPreview(),
                     this.bind(),
                     t.initialAspectRatio = Math.max(0, t.initialAspectRatio) || NaN,
                     t.aspectRatio = Math.max(0, t.aspectRatio) || NaN,
                     t.viewMode = Math.max(0, Math.min(3, Math.round(t.viewMode))) || 0,
                     h(p, K),
                     t.guides || h(p.getElementsByClassName(B + "-dashed"), K),
                     t.center || h(p.getElementsByClassName(B + "-center"), K),
                     t.background && h(o, B + "-bg"),
                     t.highlight || h(d, Z),
                     t.cropBoxMovable && (h(d, te),
                     f(d, ie, L)),
                     t.cropBoxResizable || (h(p.getElementsByClassName(B + "-line"), K),
                     h(p.getElementsByClassName(B + "-point"), K)),
                     this.render(),
                     this.ready = !0,
                     this.setDragMode(t.dragMode),
                     t.autoCrop && this.crop(),
                     this.setData(t.data),
                     n(t.ready) && v(e, me, t.ready, {
                         once: !0
                     }),
                     b(e, me)
                 }
             }
         }, {
             key: "unbuild",
             value: function() {
                 this.ready && (this.ready = !1,
                 this.unbind(),
                 this.resetPreview(),
                 this.cropper.parentNode.removeChild(this.cropper),
                 c(this.element, K))
             }
         }, {
             key: "uncreate",
             value: function() {
                 this.ready ? (this.unbuild(),
                 this.ready = !1,
                 this.cropped = !1) : this.sizing ? (this.sizingImage.onload = null,
                 this.sizing = !1,
                 this.sized = !1) : this.reloading ? this.xhr.abort() : this.image && this.stop()
             }
         }], [{
             key: "noConflict",
             value: function() {
                 return window.Cropper = Ye,
                 e
             }
         }, {
             key: "setDefaults",
             value: function(e) {
                 De(_e, s(e) && e)
             }
         }]),
         e
     }();
     return De(Je.prototype, Fe, ze, He, qe, Ge, We),
     Je
 }),
 define("f1e1d/e74c9/b08b1/ab8dc", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "hbs!templates/image-crop/ImageCropModal", "lang/Lang", "f1e1d/e74c9/c00f1/b182f", "f1e1d/af752/a6cf9", "cropper"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = s.extend({
         className: "image-crop-modal plug-modal modal fade",
         events: {
             'click [data-action="save"]': "onClickSave",
             "click [data-dismiss]": "hide"
         },
         initialize: function(e) {
             this.options = e
         },
         render: function() {
             return this.$el.html(a(t.extend({
                 trans: o
             }, this.model.toJSON()))),
             this
         },
         applyPlugin: function() {
             var e = this.$(".modal-body img")[0];
             this.pluginInstance = new h(e,this.model.get("pluginOptions"))
         },
         show: function() {
             this.render(),
             this.applyPlugin(),
             this.setData("state", "shown")
         },
         hide: function() {
             this.setData("state", "hidden")
         },
         onClickSave: function(e) {
             this.prevent(e);
             var i = this.model.get("canvasOptions")
               , s = this.pluginInstance.getData()
               , n = {};
             if (void 0 !== i.dimensions)
                 n = this.model.getClosestCanvas(s);
             else if (i.integer === !0 && void 0 !== i.ratio) {
                 var a = new l(i.ratio);
                 n = a.getPreviousIntegerRatioFromWidth(s.width)
             } else
                 void 0 !== i.width && void 0 !== i.height && (n = t.pick(this.model.get("canvasOptions"), "width", "height", "maxWidth", "maxHeight"));
             this.trigger("save", this.pluginInstance.getCroppedCanvas(n)),
             this.hide()
         }
     });
     return c
 }),
 define("hbs!templates/image-crop/Base", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<input type="file" class="crop-widget__hidden">\n<div class="crop-widget__preview-wrapper">\n    <div class="preview-icon" data-action="file">\n        <div class="fa fa-camera"></div>\n    </div>\n    <div class="crop-widget__preview">\n        <img src="',
         (a = i.url) ? a = a.call(t, {
             hash: {}
         }) : (a = t.url,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '">\n    </div>\n</div>\n<!--<div class="crop-widget__remove">\n    <div class="items__container">\n        <div class="item" data-remove="">\n            <div class="close"><div class="fa fa-times-circle"></div></div>\n            <div class="name">Remove Image</div>\n        </div>\n    </div>\n</div>-->\n<div class="crop-widget__messages"></div>'
     });
     return t.registerPartial("templates_image-crop_Base", i),
     i
 }),
 define("f1e1d/e74c9/b08b1/c7336", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "lang/Lang", "f1e1d/e74c9/b08b1/ab8dc", "f1e1d/e8300/dcb95", "hbs!templates/image-crop/Base"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         identifier: "imageCrop",
         className: "crop-widget",
         events: {
             "click .crop-widget__preview-wrapper": "onClickPreview",
             "click [data-remove]": "onClickRemove",
             "change .crop-widget__hidden": "onInputChange"
         },
         defaults: {},
         classes: {
             small: "widget--small",
             big: "widget--big",
             readonly: "widget--readonly"
         },
         initialize: function(e) {
             this.options = _.extend({}, this.defaults, e || {}),
             this.modal = new n({
                 model: this.model,
                 type: "image-crop"
             }),
             this.modal.on({
                 save: this.onCropImage.bind(this),
                 cancel: this.onCancelCropping.bind(this),
                 error: this.showErrorMessage.bind(this)
             }),
             $("body").append(this.modal.render().el),
             this.el.className.indexOf(this.className) === -1 && this.addClass(this.className),
             this.options.readonly === !0 && this.addClass(this.classes.readonly)
         },
         render: function() {
             return this.$el.html(o(_.extend({
                 trans: s
             }, this.model.toJSON()))),
             this.mapDOM(),
             _.isEmpty(this.model.get("image")) === !1 ? (this.updateImage(this.model.get("image")),
             this.setData("state", "cropped")) : (this.updateImage(this.model.get("placeholder")),
             this.setData("state", "empty")),
             this
         },
         mapDOM: function() {
             this.preview = this.$(".crop-widget__preview"),
             this.messages = this.$(".crop-widget__messages"),
             this.hiddenInput = this.$(".crop-widget__hidden")
         },
         validateImage: function(e) {
             var t = !0
               , i = null;
             return void 0 === e.size || void 0 === e.type ? (t = !1,
             i = s.errors.invalidImage) : this.model.get("allowedTypes").indexOf(e.type) === -1 ? (t = !1,
             i = s.errors.invalidImageType.replace(/\%type\%/, e.type)) : e.size > this.model.get("sizeLimit") && (t = !1,
             i = s.errors.invalidImageSize),
             t === !1 && this.showErrorMessage(i),
             t
         },
         updateImage: function(e) {
             var t = document.createElement("img");
             t.src = e,
             this.preview.html(t)
         },
         replaceImage: function(e) {
             this.preview.html(e)
         },
         showSuccessMessage: function(e) {
             this.showMessage("success", e)
         },
         showErrorMessage: function(e) {
             this.showMessage("error", e)
         },
         showMessage: function(e, t) {
             this.setData("state", e),
             this.messages.html(t)
         },
         clearMessage: function() {
             this.setData("state", null)
         },
         onClickPreview: function(e) {
             if (this.prevent(e),
             this.options.readonly !== !0) {
                 var t = this.hiddenInput[0];
                 if (void 0 !== t.click && null !== t.click)
                     t.click();
                 else {
                     var i = document.createEvent("MouseEvents");
                     i.initEvent("click", !0, !1),
                     t.dispatchEvent(i)
                 }
             }
         },
         onClickRemove: function(e) {
             this.prevent(e),
             this.options.readonly !== !0 && (this.model.set("image", null),
             this.render(),
             this.setData("state", "default"),
             this.trigger("remove"))
         },
         onInputChange: function() {
             var e = this.hiddenInput[0].files[0];
             if (this.validateImage(e) === !0) {
                 this.imageType = e.type,
                 this.imageName = e.name,
                 this.imageExtension = e.name.split(".").pop();
                 var t = new FileReader;
                 t.onload = function(e) {
                     var t = e.target.result;
                     this.model.set("url", t),
                     this.modal.show()
                 }
                 .bind(this),
                 t.readAsDataURL(e)
             }
         },
         onCropImage: function(e) {
             this.replaceImage(e),
             e.toBlob(function(e) {
                 this.trigger("change", {
                     blob: e,
                     name: this.imageName,
                     type: this.imageType,
                     extension: this.imageExtension
                 })
             }
             .bind(this), this.imageType),
             this.hiddenInput.val(null).blur(),
             this.setData("state", "cropped")
         },
         onCancelCropping: function() {}
     });
     return r
 }),
 define("hbs!templates/room/settings/About", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="container-fluid">\n\n    <div class="row row--divider">\n        <div class="col-xs-12 col-sm-6">\n            <!--Profile-->\n            <div class="widget profile-picture">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.profilePictureLabel,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__profile"></div>\n                <div class="widget__recommendation">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.profilePictureHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n            </div>\n            <!--Toggle for Search-->\n            <div class="widget profile-picture-toggle">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.profilePictureToggleLabel,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="widget__help">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.profilePictureToggleHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__profile-search-toggle"></div>\n            </div>\n        </div>\n\n        <div class="col-xs-12 col-sm-6">\n            <!--Background-->\n            <div class="widget background-picture">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.backgroundPictureLabel,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__background"></div>\n                <div class="widget__recommendation">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.backgroundPictureHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n            </div>\n            <!--Languages-->\n            <div class="widget chat-language">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.languageLabel,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="widget__help">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.languageHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__language"></div>\n            </div>\n        </div>\n\n    </div>\n\n    <div class="row row--divider">\n        <div class="col-xs-12 col-sm-6 genres-col">\n            <!--genre-->\n            <div class="widget genre">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.genreLabel,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="widget__help">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.genreHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__genre-container"></div>\n            </div>\n        </div>\n\n        <div class="col-xs-12 col-sm-6 subgenres-col">\n            <!--Subgenre-->\n            <div class="widget subgnere">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.subgenreLabel,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="widget__help">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.subgenreHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__subgenre-container"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row row--divider">\n        <div class="col-12">\n            <!--short description-->\n            <div class="widget short-description">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.shortDescriptionLabel,
         typeof a === r ? a.apply(t) : a)) + ' <i class="fa fa-question-circle help-icon" title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.shortDescriptionTooltip,
         typeof a === r ? a.apply(t) : a)) + '"></i></div>\n                <div class="widget__help">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.shortDescriptionHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__short-description"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row row--divider">\n        <div class="col-12">\n            <!--full/detailed description-->\n            <div class="widget detailed-description">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.longDescriptionLabel,
         typeof a === r ? a.apply(t) : a)) + ' <i class="fa fa-question-circle help-icon" title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.longDescriptionTooltip,
         typeof a === r ? a.apply(t) : a)) + '"></i></div>\n                <div class="widget__help">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.longDescriptionHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__detailed-description"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row row--divider">\n        <div class="col-12">\n            <!--Links-->\n            <div class="widget links">\n                <div class="widget__title">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.linksLabel,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="widget__help">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.linksHelpText,
         typeof a === r ? a.apply(t) : a)) + '</div>\n                <div class="about-settings__links-container"></div>\n            </div>\n        </div>\n    </div>\n\n    <!--More form elements-->\n\n</div> <!--End container-->\n\n\n'
     });
     return t.registerPartial("templates_room_settings_About", i),
     i
 }),
 define("hbs!templates/room/settings/SubgenreSettings", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="subgenres-dropdown-container">\n\n</div>\n<div class="subgenres-items-container">\n\n</div>\n<div class="message-max">You can only select 15 subgenres</div>'
     });
     return t.registerPartial("templates_room_settings_SubgenreSettings", i),
     i
 }),
 define("hbs!templates/room/settings/SubgenresDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<input type="text" placeholder="Enter a subgenre" maxlength="64">\n\n<div class="suggestion-list-container">\n\n</div>\n'
     });
     return t.registerPartial("templates_room_settings_SubgenresDropDown", i),
     i
 }),
 define("f1e1d/be642/e32cc/f4c1a", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         init: function(e, t, i) {
             this.route = "rooms/" + e,
             this.data = {},
             this.data.room = t;
             try {
                 switch (e) {
                 case "genre":
                     this.data.genres = i;
                     break;
                 case "subgenre":
                     this.data.subgenres = i;
                     break;
                 case "link":
                     this.data.linktype = i.linktype,
                     this.data.url = i.url;
                     break;
                 default:
                     throw "Incorrect group name"
                 }
             } catch (e) {
                 return void console.error(e)
             }
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e) : this.error && this.error(e)
         }
     });
     return t
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/ba9e3", ["jquery", "underscore", "f1e1d/e718c/b2952", "backbone", "f1e1d/d8478/e70c0", "hbs!templates/room/settings/SubgenresDropDown", "f1e1d/be642/e32cc/f4c1a", "f1e1d/be642/e32cc/d27a5", "f1e1d/af752/e7b9f", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = i.extend({
         identifier: "SubgenresDropDown",
         className: "subgenre dropdown",
         tagName: "dl",
         events: {
             click: "onElClick",
             "keyup input": "onKeyUp"
         },
         classes: {
             readonly: "widget--readonly"
         },
         initialize: function() {
             this.$rows = [],
             this.allSubgenres = null,
             this.roomSubgenres = [],
             this.maxAmountOfItemsList = 30,
             new r("subgenres").on("success", this.onSubgenresLoaded.bind(this)),
             this.executeOnlyIf("onKeyUp", this.options.readonly !== !0),
             this.executeOnlyIf("onElClick", this.options.readonly !== !0),
             this.options.readonly === !0 && this.addClass(this.classes.readonly)
         },
         onSubgenresLoaded: function(e) {
             this.allSubgenres = e
         },
         onElClick: function(t) {
             this.$suggestionsBox.is(":visible") || this.$input.val().length > 1 && (this.$suggestionsBox.show(),
             e(document).on("click", e.proxy(this.onDocClick, this)))
         },
         render: function() {
             return this.$el.html(a(Lang)),
             this.$input = this.$("input"),
             this.$suggestionsBox = this.$el.find(".suggestion-list-container"),
             this.options.readonly === !0 && this.$input.attr({
                 disabled: !0
             }),
             this
         },
         onKeyUp: function(e) {
             var i = e.target.value.toLowerCase();
             if (13 === e.which)
                 this.submitNewSubgenre(i);
             else if (null !== this.allSubgenres)
                 if (i.length > 1) {
                     var s = [];
                     this.allSubgenres.some(function(e) {
                         return e.name.includes(i) && !t.contains(this.roomSubgenres, e.name) && s.push(e.name),
                         s.length >= this.maxAmountOfItemsList
                     }, this),
                     this.onSuggestUpdate(s, i)
                 } else
                     this.onDocClick()
         },
         onSuggestUpdate: function(i, s) {
             if (this.query = s,
             i && i.length > 0) {
                 e(document).off("click", e.proxy(this.onDocClick, this)),
                 e(".search-suggestion-item").off(),
                 this.suggestions = i;
                 for (var n = e("<ul/>"), a = i.length, o = 0; o < a; ++o) {
                     var r = i[o].search(this.query)
                       , l = i[o].search(this.query) + this.query.length
                       , h = i[o].slice(0, r)
                       , c = i[o].slice(l)
                       , p = e("<li/>").addClass("search-suggestion-item").data("value", i[o]).data("index", o).append(e('<span class="text"/>').html('<span class="suggested">' + h + '</span><span class="query">' + this.query + '</span><span class="suggested">' + c + "</span>"));
                     n.append(p)
                 }
                 this.$suggestionsBox.html(n),
                 this.$suggestionsBox.show(),
                 e(".search-suggestion-item").on("click", t.bind(this.onSuggestionClick, this)),
                 e(document).on("click", e.proxy(this.onDocClick, this))
             } else
                 this.$suggestionsBox.html(""),
                 this.onDocClick()
         },
         onSuggestionClick: function(t) {
             this.submitNewSubgenre(e(t.currentTarget).data("value"))
         },
         submitNewSubgenre: function(e) {
             if (this.roomSubgenres.includes(e))
                 this.log("You have already this subgenre in your list");
             else {
                 var t = this.roomSubgenres.slice(0);
                 t.push(e),
                 this.roomSubgenres !== t && new o("subgenre",n.get("slug"),[e]).on("success", this.saveSucces.bind(this, t)).on("error", this.saveError.bind(this))
             }
         },
         saveSucces: function(e) {
             this.$input.val(""),
             this.onDocClick(),
             n.set("subgenres", e),
             t.each(e, function(e) {
                 l.actual("Settings", "add", "Subgenre"),
                 h.track(h.event.addSubgenre, e)
             }, this)
         },
         saveError: function() {
             this.log("DropDown Save Error")
         },
         onDocClick: function(t) {
             t && e(t.target).closest("dl.subgenre.dropdown").length || (this.$suggestionsBox.hide(),
             e(document).off("click", e.proxy(this.onDocClick, this)))
         },
         deactivate: function() {
             this.$input.prop("disabled", !0)
         },
         activate: function() {
             this.$input.prop("disabled", !1)
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", e.proxy(this.onDocClick, this)),
             this._super()
         }
     });
     return c
 }),
 define("f1e1d/be642/e32cc/a5d8e", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e, t, i) {
             this.route = "rooms/" + e + "/" + t + "/" + i,
             this._super(!0)
         }
     });
     return t
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/f17ea", ["backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "hbs!templates/room/settings/SubgenreSettings", "f1e1d/e74c9/b49ed/ff2dd/ba9e3", "f1e1d/d8478/e70c0", "f1e1d/be642/e32cc/a5d8e", "f1e1d/d8478/caf8b", "lang/Lang", "f1e1d/af752/e7b9f", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = t.extend({
         identifier: "SubgenreSettings",
         className: "subgenre-settings panel",
         classes: {
             readonly: "widget--readonly"
         },
         initialize: function() {
             this.$items = $(),
             this.$itemsCloses = $(),
             this.subgenres = [],
             this.executeOnlyIf("onItemCloseClick", this.options.readonly !== !0),
             this.options.readonly === !0 && this.addClass(this.classes.readonly),
             this.el.className.indexOf(this.className) === -1 && this.addClass(this.className)
         },
         render: function() {
             return this.$el.html(s(l)),
             this.$container = this.$(".subgenres-items-container"),
             this.$maxMessage = this.$(".message-max"),
             this.subgenresDropDown = new n({
                 readonly: this.options.readonly
             }),
             this.$(".subgenres-dropdown-container").append(this.subgenresDropDown.$el),
             this.subgenresDropDown.render(),
             a.on("change:subgenres", this.update, this),
             this.update(a),
             this
         },
         update: function(e) {
             this.$items.off(),
             this.$itemsCloses.off(),
             this.subgenres = e.get("subgenres"),
             this.subgenresDropDown.roomSubgenres = this.subgenres,
             this.$container.html(""),
             this.subgenres.forEach(function(e, t) {
                 var i = $("<div class='item'>");
                 i.data("value", e),
                 i.append("<div class='name'></div> <div class='close'> <i class='fa fa-times-circle'></i> </div>"),
                 i.find(".name").append(e),
                 this.$container.append(i)
             }, this),
             this.subgenres.length < 15 && this.options.readonly !== !0 ? (this.subgenresDropDown.activate(),
             this.$maxMessage.removeClass("show")) : (this.subgenresDropDown.deactivate(),
             this.$maxMessage.addClass("show")),
             this.$items = this.$container.find(".item"),
             this.$itemsCloses = this.$items.find(".close"),
             this.$itemsCloses.on("click", _.bind(this.onItemCloseClick, this))
         },
         onItemCloseClick: function(e) {
             var t = $(e.currentTarget).parent().data("value")
               , i = this.subgenres.slice()
               , s = i.indexOf(t);
             s > -1 && i.splice(s, 1);
             var n = _.find(r.get("subgenres"), function(e) {
                 return e.name === t
             }, this);
             new o("subgenre",a.get("id"),n.id).on("success", this.saveSucces.bind(this, i, n.name)).on("error", this.saveError.bind(this))
         },
         saveSucces: function(e, t) {
             h.actual("Settings", "remove", "Subgenre"),
             c.track(c.event.removeSubgenre, t)
         },
         saveError: function() {
             this.log("Delete Error")
         },
         remove: function() {
             this.$items.off(),
             this.$itemsCloses.off(),
             a.off("change:subgenres", this.update, this),
             this._super()
         }
     });
     return p
 }),
 define("hbs!templates/room/settings/GenreSettings", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="genres-dropdown-container">\n\n</div>\n<div class="genres-items-container">\n\n</div>\n<div class="message-max">You can only select 5 genres</div>'
     });
     return t.registerPartial("templates_room_settings_GenreSettings", i),
     i
 }),
 define("hbs!templates/room/settings/GenresDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<dt>\n    <div>\n        <span>Select a genre</span>\n    </div>\n    <div>\n        <i class="fa fa-angle-down"></i>\n        <i class="fa fa-angle-up"></i>\n    </div>\n</dt>\n<dd>\n</dd>\n<div class="bottom-panel">\n    <span class="amountFullText"><span class="amount"></span>/5 selected</span><span>&nbsp;&nbsp;·&nbsp;&nbsp;</span>\n    <span class="deselect">Deselect all</span>\n    <button class="save btn-blue">ADD</button>\n</div>\n'
     });
     return t.registerPartial("templates_room_settings_GenresDropDown", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/ba2e2", ["jquery", "underscore", "f1e1d/e718c/b2952", "backbone", "f1e1d/d8478/e70c0", "hbs!templates/room/settings/GenresDropDown", "f1e1d/be642/e32cc/f4c1a", "f1e1d/be642/e32cc/d27a5", "f1e1d/af752/e7b9f", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = i.extend({
         identifier: "GenresDropDown",
         className: "dropdown",
         tagName: "dl",
         events: {
             "click dt": "onBaseClick",
             "click .bottom-panel": "onBottomPanelClick",
             "click button.save": "onAdd",
             "click .row": "onRowClick",
             "click .deselect": "onDeselect"
         },
         classes: {
             readonly: "widget--readonly"
         },
         initialize: function() {
             this.roomGenres = n.get("genres"),
             this.amountOfSelected = this.roomGenres.length,
             this.$rows = e(),
             this.executeOnlyIf("onBaseClick", this.options.readonly !== !0),
             this.options.readonly === !0 && this.addClass(this.classes.readonly)
         },
         render: function() {
             return this.$el.html(a(Lang)),
             this.$amount = this.$el.find(".amount"),
             this.$baseText = this.$("dt span"),
             new r("genres").on("success", this.onGenresLoaded.bind(this)),
             this.roomGenres.length >= 5 && this.$el.addClass("disabled"),
             this
         },
         onGenresLoaded: function(e) {
             e.forEach(function(e) {
                 this.$el.find("dd").append('<div class="row" data-value="' + e.name + '"><span>' + e.name + "</span></div>")
             }
             .bind(this)),
             this.$rows = this.$el.find(".row"),
             this.updateBaseText()
         },
         onAdd: function() {
             if (!this.$el.hasClass("disabled")) {
                 this.onDocClick();
                 var t = this.$el.find(".row.selected")
                   , i = jQuery.map(t, function(t) {
                     return e(t).data("value")
                 });
                 this.roomGenres !== i && new o("genre",n.get("slug"),i).on("success", this.saveSucces.bind(this, i, t)).on("error", this.saveError.bind(this))
             }
         },
         saveSucces: function(e, i) {
             i.addClass("hidden"),
             i.removeClass("selected"),
             t.each(e, function(e) {
                 l.actual("Settings", "add", "Genre"),
                 h.track(h.event.addGenre, e)
             }, this)
         },
         saveError: function(e) {
             this.log("Add Error"),
             0 <= e.data.findIndex(function(e) {
                 return "overmaxgenres" === e
             }) && this.trigger("overmaxgenres")
         },
         updateBaseText: function() {
             var e = "";
             this.roomGenres.forEach(function(t, i) {
                 0 === i ? e = e.concat(t) : i < 3 ? e = e.concat(", " + t) : 3 === i && (e = e.concat("..."))
             })
         },
         updateAmount: function() {
             this.$amount.text(this.roomGenres.length)
         },
         onBaseClick: function() {
             this.$el.hasClass("open") ? (this.$el.removeClass("open"),
             e(document).off("click", e.proxy(this.onDocClick, this))) : (this.$el.addClass("open"),
             t.defer(function() {
                 e(document).on("click", e.proxy(this.onDocClick, this))
             }
             .bind(this)),
             this.amountOfSelected = this.roomGenres.length,
             this.$rows.removeClass("selected"),
             this.$rows.removeClass("hidden"),
             this.roomGenres.forEach(function(e) {
                 this.$('[data-value="' + e + '"]').addClass("hidden")
             }
             .bind(this)),
             this.$amount.text(this.amountOfSelected))
         },
         update: function() {
             this.roomGenres.length >= 5 ? (this.$el.addClass("disabled"),
             this.trigger("overmaxgenres")) : this.$el.removeClass("disabled"),
             this.amountOfSelected = this.roomGenres.length,
             this.$rows.removeClass("selected"),
             this.$rows.removeClass("hidden"),
             this.roomGenres.forEach(function(e) {
                 this.$('[data-value="' + e + '"]').addClass("hidden")
             }
             .bind(this)),
             this.$amount.text(this.amountOfSelected)
         },
         onRowClick: function(t) {
             if (t.stopPropagation(),
             !this.$el.hasClass("disabled")) {
                 var i = e(t.currentTarget);
                 i.hasClass("selected") ? (this.amountOfSelected--,
                 i.removeClass("selected")) : (this.amountOfSelected++,
                 i.addClass("selected")),
                 this.$amount.text(this.amountOfSelected)
             }
         },
         onDeselect: function() {
             this.amountOfSelected = this.roomGenres.length,
             this.$rows.removeClass("selected"),
             this.$amount.text(this.amountOfSelected)
         },
         onDocClick: function() {
             this.$el.removeClass("open"),
             e(document).off("click", e.proxy(this.onDocClick, this))
         },
         onBottomPanelClick: function(e) {
             e.stopPropagation()
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", e.proxy(this.onDocClick, this)),
             this.$el.html(""),
             this._super()
         }
     });
     return c
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/b1053", ["backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "hbs!templates/room/settings/GenreSettings", "f1e1d/e74c9/b49ed/ff2dd/ba2e2", "f1e1d/d8478/e70c0", "f1e1d/be642/e32cc/a5d8e", "f1e1d/d8478/caf8b", "lang/Lang", "f1e1d/af752/e7b9f", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = t.extend({
         identifier: "GenreSettings",
         className: "genre-panel-container",
         classes: {
             readonly: "widget--readonly"
         },
         initialize: function() {
             this.$items = $(),
             this.$itemsCloses = $(),
             this.genres = [],
             this.executeOnlyIf("onItemCloseClick", this.options.readonly !== !0),
             this.options.readonly === !0 && this.addClass(this.classes.readonly),
             this.el.className.indexOf(this.className) === -1 && this.addClass(this.className)
         },
         render: function() {
             return this.$el.html(s(l)),
             this.$container = this.$el.find(".genres-items-container"),
             this.$maxMessage = this.$(".message-max"),
             this.genresDropDown = new n({
                 readonly: this.options.readonly
             }),
             this.$(".genres-dropdown-container").append(this.genresDropDown.$el),
             this.genresDropDown.render(),
             this.genresDropDown.on("overmaxgenres", this.onOverMaxGenres, this),
             a.on("change:genres", this.update, this),
             this.update(a),
             this
         },
         onOverMaxGenres: function() {
             this.$maxMessage.addClass("show")
         },
         update: function(e) {
             this.$maxMessage.removeClass("show"),
             this.$items.off(),
             this.$itemsCloses.off(),
             this.genres = e.get("genres"),
             this.genresDropDown.roomGenres = this.genres,
             this.genresDropDown.update(),
             this.$container.html(""),
             this.genres.forEach(function(e, t) {
                 var i = $("<div class='item'>");
                 i.data("value", e),
                 i.append("<div class='name'></div> <div class='close'> <i class='fa fa-times-circle'></i>\n\n </div>"),
                 i.find(".name").append(e),
                 this.$container.append(i)
             }, this),
             this.$items = this.$container.find(".item"),
             this.$itemsCloses = this.$items.find(".close"),
             this.$itemsCloses.on("click", _.bind(this.onItemCloseClick, this))
         },
         onItemCloseClick: function(e) {
             var t = $(e.currentTarget).parent().data("value")
               , i = this.genres.slice()
               , s = i.indexOf(t);
             s > -1 && i.splice(s, 1);
             var n = _.find(r.get("genres"), function(e) {
                 return e.name === t
             }, this);
             new o("genre",a.get("id"),n.id).on("success", this.saveSucces.bind(this, i, n.name)).on("error", this.saveError.bind(this))
         },
         saveSucces: function(e, t) {
             a.set("genres", e),
             h.actual("Settings", "remove", "Genre"),
             c.track(c.event.removeGenre, t)
         },
         saveError: function() {
             this.log("Delete Error")
         },
         remove: function() {
             this.genresDropDown.off(),
             this.genresDropDown.remove(),
             this.$items.off(),
             this.$itemsCloses.off(),
             this.$el.html(""),
             a.off("change:genres", this.update, this),
             this._super()
         }
     });
     return p
 }),
 define("hbs!templates/room/settings/LinksSettings", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="flex-container">\n    <div class="links-dropdown-container">\n    </div>\n\n    <div class="links-url-container">\n        <input class="input-url" type="text" placeholder="https://www.facebook.com/plugdj" maxlength="64">\n    </div>\n    <button class="add btn-blue small">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.roomSettings,
         a = null == a || a === !1 ? a : a.linkAdd,
         typeof a === r ? a.apply(t) : a)) + '</button>\n</div>\n\n<div class="links-items-container"></div>\n<div class="message-max">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.alerts,
         a = null == a || a === !1 ? a : a.linksLimitError,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<div class="message-selectMedia">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.alerts,
         a = null == a || a === !1 ? a : a.linksMediaError,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<div class="message-incorrect">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.alerts,
         a = null == a || a === !1 ? a : a.linksURLFormatError,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<div class="message-enterURL">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.alerts,
         a = null == a || a === !1 ? a : a.linksEmptyURLError,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<div class="message-duplicateLink">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.alerts,
         a = null == a || a === !1 ? a : a.linksDuplicateError,
         typeof a === r ? a.apply(t) : a)) + "</div>"
     });
     return t.registerPartial("templates_room_settings_LinksSettings", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/bb1de", ["backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "hbs!templates/room/settings/LinksSettings", "f1e1d/d8478/e70c0", "f1e1d/be642/e32cc/a5d8e", "f1e1d/be642/e32cc/f4c1a", "f1e1d/d8478/caf8b", "f1e1d/e74c9/b49ed/ff2dd/ec4b4", "lang/Lang", "f1e1d/af752/e7b9f", "f1e1d/af752/bacfb"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = t.extend({
         identifier: "LinkSettings",
         className: "links-settings panel",
         events: {
             "click button": "add"
         },
         classes: {
             add: "widget--add",
             delete: "widget--delete"
         },
         defaults: {
             permissions: {
                 add: !0,
                 delete: !0
             }
         },
         initialize: function() {
             this.options = $.extend(!0, {}, this.defaults, this.options),
             this.$items = $(),
             this.$itemsCloses = $(),
             this.links = [],
             this.executeOnlyIf("add", this.options.permissions.add === !0),
             this.executeOnlyIf("onItemCloseClick", this.options.permissions.delete === !0),
             void 0 !== this.options.permissions && (this.options.permissions.add === !0 && this.addClass(this.classes.add),
             this.options.permissions.delete === !0 && this.addClass(this.classes.delete)),
             this.el.className.indexOf(this.className) === -1 && this.addClass(this.className)
         },
         render: function() {
             return this.$el.html(s({
                 trans: h
             })),
             this.mapDOM(),
             this.linksDropDown = new l({
                 el: this.$(".links-dropdown-container"),
                 readonly: !this.options.permissions.add,
                 groups: [{
                     name: "links",
                     list: r.get("linktypes"),
                     selector: "name",
                     converter: function(e) {
                         var t = this.getIcon(e);
                         return t + "<span>" + e + "</span>"
                     }
                     .bind(this)
                 }],
                 maxHeight: 120,
                 hide: !1,
                 defaultValue: "Select"
             }).render(),
             n.on("change:links", this.update, this),
             this.update(),
             this.options.permissions.add !== !0 && this.$input.attr({
                 disabled: !0
             }),
             this
         },
         mapDOM: function() {
             this.$dropdownContainer = this.$(".links-dropdown-container"),
             this.$input = this.$(".input-url"),
             this.$itemsContainer = this.$(".links-items-container"),
             this.$messageMax = this.$(".message-max"),
             this.$selectMedia = this.$(".message-selectMedia"),
             this.$messageIncorrect = this.$(".message-incorrect"),
             this.$duplicateLink = this.$(".message-duplicateLink"),
             this.$enterURL = this.$(".message-enterURL")
         },
         update: function() {
             this.$itemsCloses.off(),
             this.links = _.sortBy(n.get("links"), "room_link_id"),
             this.$itemsContainer.html(""),
             this.links.forEach(function(e, t) {
                 var i = $("<div class='item'>");
                 i.data("value", e),
                 i.append("<div class='name'></div> <div class='url'></div>  <div class='close'> <i class='fa fa-times-circle'></i> </div>");
                 var s = _.find(r.get("linktypes"), function(t) {
                     return t.id === e.linktype_id
                 }, this)
                   , n = this.getIcon(s.name);
                 i.find(".name").append(n),
                 i.find(".url").append(e.url),
                 this.$itemsContainer.append(i)
             }
             .bind(this)),
             this.$items = this.$itemsContainer.find(".item"),
             this.$itemsCloses = this.$itemsContainer.find(".close"),
             this.$itemsCloses.on("click", _.bind(this.onItemCloseClick, this))
         },
         onItemCloseClick: function(e) {
             var t = $(e.currentTarget).parent().data("value")
               , i = this.links.slice()
               , s = i.indexOf(t);
             s > -1 && i.splice(s, 1),
             new a("link",n.get("id"),t.room_link_id).on("success", this.deleteSuccess.bind(this, i, t)).on("error", this.deleteError.bind(this))
         },
         deleteSuccess: function(e, t) {
             this.clearWarnings(),
             c.actual("Settings", "remove", "Link"),
             p.track(p.event.removeLink, t.name)
         },
         deleteError: function(e) {
             this.log("Links delete Error", e)
         },
         add: function() {
             var e = this.linksDropDown && this.linksDropDown.selectedItem ? this.linksDropDown.selectedItem.name : null
               , t = this.$input.val();
             return this.clearWarnings(),
             "" === t ? void this.$enterURL.addClass("show") : null === e ? void this.$selectMedia.addClass("show") : void ("" !== t && null !== e && new o("link",n.get("slug"),{
                 linktype: e,
                 url: t
             }).on("success", this.addSuccess.bind(this, e)).on("error", this.addError.bind(this)))
         },
         addSuccess: function(e, t) {
             this.clearWarnings(),
             c.actual("Settings", "add", "Link"),
             p.track(p.event.addLink, e)
         },
         addError: function(e) {
             e.data.find(function(e) {
                 return "maxlinksreached" === e
             }) ? (this.log("overmaxgenres"),
             this.$messageMax.addClass("show")) : e.data.find(function(e) {
                 return "invalidurl" === e
             }) ? (this.log("invalidurl"),
             this.$messageIncorrect.addClass("show")) : e.data.find(function(e) {
                 return "duplicatelink" === e
             }) && (this.log("invalidurl"),
             this.$duplicateLink.addClass("show"))
         },
         clearWarnings: function() {
             this.$messageMax.removeClass("show"),
             this.$messageIncorrect.removeClass("show"),
             this.$selectMedia.removeClass("show"),
             this.$enterURL.removeClass("show"),
             this.$duplicateLink.removeClass("show")
         },
         getIcon: function(e) {
             switch (e) {
             case "plugbook":
                 return '<i class="dropdown2-icon fa fa-facebook-square"></i>';
             case "plugram":
                 return '<i class="dropdown2-icon fa fa-instagram"></i>';
             case "twitter":
                 return '<i class="dropdown2-icon fa fa-twitter"></i>';
             case "facebook":
                 return '<i class="dropdown2-icon fa fa-facebook"></i>';
             case "google":
                 return '<i class="dropdown2-icon fa fa-google-plus"></i>';
             case "youtube":
                 return '<i class="dropdown2-icon fa fa-youtube"></i>';
             case "github":
                 return '<i class="dropdown2-icon fa fa-github-alt"></i>';
             case "vimeo":
                 return '<i class="dropdown2-icon fa fa-vimeo"></i>';
             case "instagram":
                 return '<i class="dropdown2-icon fa fa-instagram"></i>';
             case "soundcloud":
                 return '<i class="dropdown2-icon fa fa-soundcloud"></i>';
             case "discord":
                 return '<i class="dropdown2-icon plugdjfont icon-discord"></i>';
             case "www":
                 return '<i class="dropdown2-icon plugdjfont icon-www"></i>';
             default:
                 return ""
             }
         },
         remove: function() {
             this._super()
         }
     });
     return d
 }),
 define("f1e1d/d8e24/dd974", ["underscore", "f1e1d/e718c/b5ee0"], function(e, t) {
     var i = t.extend({
         execute: function(t, i, s, n) {
             $.ajax({
                 type: "POST",
                 url: "/_/" + i,
                 data: n,
                 processData: !1,
                 contentType: !1,
                 success: function(t, i, n) {
                     e.isObject(t) ? (t.code = n.status,
                     s && s.onSuccess(t)) : this.error(n)
                 },
                 error: function(e) {
                     s && s.onError(e.status, e.responseJSON || e.responseText)
                 }
             })
         }
     });
     return new i
 }),
 define("f1e1d/be642/eaef7", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8e24/dd974", "f1e1d/be642/b7b48", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = n.extend({
         type: "POST",
         fileField: "file",
         filenameField: "filename",
         execute: function() {
             "GET" === this.type || "DELETE" === this.type ? s.execute(this.type, this.route, this) : s.execute(this.type, this.route, this, this.data)
         },
         init: function(e, t) {
             var i = new FormData;
             i.append(this.fileField, t, e),
             this.data = i,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data) : this.error && this.error(e.data)
         }
     });
     return o
 }),
 define("f1e1d/be642/e32cc/f6d97", ["f1e1d/be642/eaef7"], function(e) {
     var t = e.extend({
         route: "rooms/upload/thumbnail",
         success: function(e) {
             e.length > 0 && this.trigger("roomProfile:success", e[0])
         },
         error: function(e) {
             e.length > 0 && this.trigger("roomProfile:error", e)
         }
     });
     return t
 }),
 define("f1e1d/be642/e32cc/d8cb4", ["f1e1d/be642/eaef7", "f1e1d/e718c/b7acd"], function(e, t) {
     var i = e.extend({
         route: "rooms/upload/banner",
         success: function(e) {
             e.length > 0 && this.trigger("roomBackground:success", e[0])
         },
         error: function(e) {
             e.length > 0 && this.trigger("roomBackground:error", e)
         }
     });
     return i
 }),
 define("f1e1d/be642/e32cc/f81aa", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "rooms/update",
         init: function(e) {
             this.data = e,
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("f1e1d/e0a52/b0b2d/e14ef", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone"], function(e, t, i) {
     var s = e.extend({
         identifier: "textarea",
         className: "textarea-widget",
         events: {
             "click .value": "onClickText",
             "mouseenter .value": "onEnterText",
             "mouseleave .value": "onLeaveText",
             keypress: "onKeyPress"
         },
         defaults: {},
         classes: {
             size: {
                 small: "widget--small",
                 big: "widget--big"
             },
             state: {
                 readonly: "widget--readonly"
             }
         },
         model: i.Model,
         initialize: function() {
             $.extend(!0, this.defaults, this.options),
             void 0 === this.options.model && (this.model = new this.model(this.options)),
             _.each(_.pick(this.options, _.keys(this.classes)), function(e, t) {
                 this.addClass(this.classes[t][e])
             }, this),
             this.el.className.indexOf(this.className) === -1 && this.addClass(this.className)
         },
         mapDOM: function() {
             this.messages = this.$(".widget__messages")
         },
         showSuccessMessage: function(e) {
             this.showMessage("success", e)
         },
         showErrorMessage: function(e) {
             this.showMessage("error", e)
         },
         showMessage: function(e, t) {
             this.setData("state", e),
             this.messages.html(t)
         },
         clearMessage: function() {
             this.setData("state", null)
         }
     });
     return s
 }),
 define("f1e1d/e0a52/eaf38/ffb50", [], function() {
     "use strict";
     return {
         mode: {
             EDIT: "EDIT",
             READ: "READ"
         }
     }
 }),
 define("f1e1d/e0a52/eaf38/adb1c", ["backbone", "f1e1d/e0a52/eaf38/ffb50"], function(e, t) {
     var i = e.Model.extend({
         defaults: {
             value: null,
             placeholder: "write some text",
             limit: 255,
             mode: t.mode.READ
         }
     });
     return i
 }),
 define("hbs!app/components/textarea/template", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s;
             return (s = i.value) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.value,
             s = typeof s === h ? s.apply(e) : s),
             s || 0 === s ? s : ""
         }
         function o(e, t) {
             var s;
             return (s = i.placeholder) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.placeholder,
             s = typeof s === h ? s.apply(e) : s),
             c(s)
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var r, l = "", h = "function", c = this.escapeExpression, p = this;
         return l += '<div class="edit button-change-text">                    \n        <i class="fa fa-pencil"></i>\n    </div>\n    <div class="save button-change-text">                    \n        <i class="fa fa-save"></i>\n    </div>\n<div class="read-state">\n    <span class="value">',
         r = i.if.call(t, t.value, {
             hash: {},
             inverse: p.program(3, o, n),
             fn: p.program(1, a, n)
         }),
         (r || 0 === r) && (l += r),
         l += '</span>\n    \n</div>\n<div class="edit-state">\n    <div class="counter"></div>\n    <div class="input-background">\n        <textarea rows="80" cols="5" maxlength="',
         (r = i.limit) ? r = r.call(t, {
             hash: {}
         }) : (r = t.limit,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '" placeholder="',
         (r = i.placeholder) ? r = r.call(t, {
             hash: {}
         }) : (r = t.placeholder,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '">',
         (r = i.value) ? r = r.call(t, {
             hash: {}
         }) : (r = t.value,
         r = typeof r === h ? r.apply(t) : r),
         (r || 0 === r) && (l += r),
         l += "</textarea>\n    </div>\n\n</div>\n"
     });
     return t.registerPartial("app_components_textarea_template", i),
     i
 }),
 define("f1e1d/e0a52/eaf38/e14ef", ["f1e1d/e0a52/b0b2d/e14ef", "f1e1d/e718c/b7acd", "backbone", "lang/Lang", "f1e1d/e0a52/eaf38/adb1c", "f1e1d/e0a52/eaf38/ffb50", "hbs!app/components/textarea/template"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         identifier: "textarea",
         className: "textarea-widget",
         events: {
             click: "onClickAround",
             "click .read-state": "onClickText",
             "click .edit": "onClickText",
             keypress: "onKeyPress",
             "input textarea": "updateCounter",
             "change textarea": "updateCounter",
             "blur textarea": "setReadMode",
             "click .save": "setReadMode"
         },
         defaults: {},
         model: n,
         initialize: function() {
             this._super(),
             this.executeOnlyIf("onClickText", "readonly" !== this.options.state)
         },
         render: function() {
             return this.$el.html(o(_.extend({
                 trans: s
             }, this.model.toJSON()))),
             this.mapDOM(),
             this.setMode(this.model.get("mode"), {
                 silent: !0
             }),
             this.$(".edit").show(),
             this
         },
         mapDOM: function() {
             this.$readOnlyText = this.$(".value"),
             this.$input = this.$("textarea"),
             this.$counter = this.$(".counter"),
             this._super()
         },
         formatText: function(e) {
             return e.replace(/\n/gim, "<br>")
         },
         unformatText: function(e) {
             return e.replace(/<[br \/]+?>/gim, "\n")
         },
         change: function(e) {
             this.trigger("change", e)
         },
         setText: function(e, t) {
             this.currentValue !== e && (this.currentValue = e,
             this.$input.val(e),
             this.$readOnlyText.html(e),
             void 0 !== t && t.silent === !0 || this.change(this.currentValue))
         },
         setMode: function(e, t) {
             if (this.mode !== e) {
                 if (t.silent !== !0)
                     if (e === a.mode.EDIT) {
                         var i = this.$readOnlyText.html();
                         i !== this.model.get("placeholder") ? this.$input.val(this.unformatText(i)) : this.$input.val(null),
                         this.updateCounter(),
                         setTimeout(function() {
                             this.$input.focus()
                         }
                         .bind(this), 0)
                     } else if (e === a.mode.READ) {
                         var i = this.formatText(this.$input.val());
                         this.model.get("value") !== i && (this.change(i),
                         this.model.set("value", i)),
                         i.length <= 0 && (i = this.model.get("placeholder")),
                         this.$readOnlyText.html(i)
                     }
                 this.setData("mode", e.toLowerCase()),
                 this.mode = e
             }
         },
         setEditMode: function(e) {
             this.setMode(a.mode.EDIT, e || {}),
             this.$(".save").show(),
             this.$(".edit").hide()
         },
         setReadMode: function(e) {
             this.setMode(a.mode.READ, e || {}),
             this.$(".save").hide(),
             this.$(".edit").show()
         },
         updateCounter: function() {
             var e = this.$input.val().length;
             this.model.set("count", e);
             var t = this.model.get("limit");
             void 0 !== t ? (this.$counter.html("[count] / [limit]".replace(/\[count\]/, e).replace(/\[limit\]/, t)),
             this.$counter.toggleClass("limit", e >= t)) : this.$counter.html(e)
         },
         onClickText: function(e) {
             this.prevent(e),
             this.setEditMode()
         },
         onKeyPress: function(e) {
             (10 === e.keyCode || 13 === e.keyCode && e.ctrlKey === !0) && this.setReadMode(),
             this.updateCounter()
         }
     });
     return r
 }),
 function(e) {
     if ("object" == typeof exports && "undefined" != typeof module)
         module.exports = e();
     else if ("function" == typeof define && define.amd)
         define("Remarkable", [], e);
     else {
         var t;
         t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this,
         t.Remarkable = e()
     }
 }(function() {
     var e;
     return function e(t, i, s) {
         function n(o, r) {
             if (!i[o]) {
                 if (!t[o]) {
                     var l = "function" == typeof require && require;
                     if (!r && l)
                         return l(o, !0);
                     if (a)
                         return a(o, !0);
                     var h = new Error("Cannot find module '" + o + "'");
                     throw h.code = "MODULE_NOT_FOUND",
                     h
                 }
                 var c = i[o] = {
                     exports: {}
                 };
                 t[o][0].call(c.exports, function(e) {
                     var i = t[o][1][e];
                     return n(i ? i : e)
                 }, c, c.exports, e, t, i, s)
             }
             return i[o].exports
         }
         for (var a = "function" == typeof require && require, o = 0; o < s.length; o++)
             n(s[o]);
         return n
     }({
         1: [function(e, t, i) {
             "use strict";
             t.exports = {
                 Aacute: "Á",
                 aacute: "á",
                 Abreve: "Ă",
                 abreve: "ă",
                 ac: "∾",
                 acd: "∿",
                 acE: "∾̳",
                 Acirc: "Â",
                 acirc: "â",
                 acute: "´",
                 Acy: "А",
                 acy: "а",
                 AElig: "Æ",
                 aelig: "æ",
                 af: "⁡",
                 Afr: "𝔄",
                 afr: "𝔞",
                 Agrave: "À",
                 agrave: "à",
                 alefsym: "ℵ",
                 aleph: "ℵ",
                 Alpha: "Α",
                 alpha: "α",
                 Amacr: "Ā",
                 amacr: "ā",
                 amalg: "⨿",
                 AMP: "&",
                 amp: "&",
                 And: "⩓",
                 and: "∧",
                 andand: "⩕",
                 andd: "⩜",
                 andslope: "⩘",
                 andv: "⩚",
                 ang: "∠",
                 ange: "⦤",
                 angle: "∠",
                 angmsd: "∡",
                 angmsdaa: "⦨",
                 angmsdab: "⦩",
                 angmsdac: "⦪",
                 angmsdad: "⦫",
                 angmsdae: "⦬",
                 angmsdaf: "⦭",
                 angmsdag: "⦮",
                 angmsdah: "⦯",
                 angrt: "∟",
                 angrtvb: "⊾",
                 angrtvbd: "⦝",
                 angsph: "∢",
                 angst: "Å",
                 angzarr: "⍼",
                 Aogon: "Ą",
                 aogon: "ą",
                 Aopf: "𝔸",
                 aopf: "𝕒",
                 ap: "≈",
                 apacir: "⩯",
                 apE: "⩰",
                 ape: "≊",
                 apid: "≋",
                 apos: "'",
                 ApplyFunction: "⁡",
                 approx: "≈",
                 approxeq: "≊",
                 Aring: "Å",
                 aring: "å",
                 Ascr: "𝒜",
                 ascr: "𝒶",
                 Assign: "≔",
                 ast: "*",
                 asymp: "≈",
                 asympeq: "≍",
                 Atilde: "Ã",
                 atilde: "ã",
                 Auml: "Ä",
                 auml: "ä",
                 awconint: "∳",
                 awint: "⨑",
                 backcong: "≌",
                 backepsilon: "϶",
                 backprime: "‵",
                 backsim: "∽",
                 backsimeq: "⋍",
                 Backslash: "∖",
                 Barv: "⫧",
                 barvee: "⊽",
                 Barwed: "⌆",
                 barwed: "⌅",
                 barwedge: "⌅",
                 bbrk: "⎵",
                 bbrktbrk: "⎶",
                 bcong: "≌",
                 Bcy: "Б",
                 bcy: "б",
                 bdquo: "„",
                 becaus: "∵",
                 Because: "∵",
                 because: "∵",
                 bemptyv: "⦰",
                 bepsi: "϶",
                 bernou: "ℬ",
                 Bernoullis: "ℬ",
                 Beta: "Β",
                 beta: "β",
                 beth: "ℶ",
                 between: "≬",
                 Bfr: "𝔅",
                 bfr: "𝔟",
                 bigcap: "⋂",
                 bigcirc: "◯",
                 bigcup: "⋃",
                 bigodot: "⨀",
                 bigoplus: "⨁",
                 bigotimes: "⨂",
                 bigsqcup: "⨆",
                 bigstar: "★",
                 bigtriangledown: "▽",
                 bigtriangleup: "△",
                 biguplus: "⨄",
                 bigvee: "⋁",
                 bigwedge: "⋀",
                 bkarow: "⤍",
                 blacklozenge: "⧫",
                 blacksquare: "▪",
                 blacktriangle: "▴",
                 blacktriangledown: "▾",
                 blacktriangleleft: "◂",
                 blacktriangleright: "▸",
                 blank: "␣",
                 blk12: "▒",
                 blk14: "░",
                 blk34: "▓",
                 block: "█",
                 bne: "=⃥",
                 bnequiv: "≡⃥",
                 bNot: "⫭",
                 bnot: "⌐",
                 Bopf: "𝔹",
                 bopf: "𝕓",
                 bot: "⊥",
                 bottom: "⊥",
                 bowtie: "⋈",
                 boxbox: "⧉",
                 boxDL: "╗",
                 boxDl: "╖",
                 boxdL: "╕",
                 boxdl: "┐",
                 boxDR: "╔",
                 boxDr: "╓",
                 boxdR: "╒",
                 boxdr: "┌",
                 boxH: "═",
                 boxh: "─",
                 boxHD: "╦",
                 boxHd: "╤",
                 boxhD: "╥",
                 boxhd: "┬",
                 boxHU: "╩",
                 boxHu: "╧",
                 boxhU: "╨",
                 boxhu: "┴",
                 boxminus: "⊟",
                 boxplus: "⊞",
                 boxtimes: "⊠",
                 boxUL: "╝",
                 boxUl: "╜",
                 boxuL: "╛",
                 boxul: "┘",
                 boxUR: "╚",
                 boxUr: "╙",
                 boxuR: "╘",
                 boxur: "└",
                 boxV: "║",
                 boxv: "│",
                 boxVH: "╬",
                 boxVh: "╫",
                 boxvH: "╪",
                 boxvh: "┼",
                 boxVL: "╣",
                 boxVl: "╢",
                 boxvL: "╡",
                 boxvl: "┤",
                 boxVR: "╠",
                 boxVr: "╟",
                 boxvR: "╞",
                 boxvr: "├",
                 bprime: "‵",
                 Breve: "˘",
                 breve: "˘",
                 brvbar: "¦",
                 Bscr: "ℬ",
                 bscr: "𝒷",
                 bsemi: "⁏",
                 bsim: "∽",
                 bsime: "⋍",
                 bsol: "\\",
                 bsolb: "⧅",
                 bsolhsub: "⟈",
                 bull: "•",
                 bullet: "•",
                 bump: "≎",
                 bumpE: "⪮",
                 bumpe: "≏",
                 Bumpeq: "≎",
                 bumpeq: "≏",
                 Cacute: "Ć",
                 cacute: "ć",
                 Cap: "⋒",
                 cap: "∩",
                 capand: "⩄",
                 capbrcup: "⩉",
                 capcap: "⩋",
                 capcup: "⩇",
                 capdot: "⩀",
                 CapitalDifferentialD: "ⅅ",
                 caps: "∩︀",
                 caret: "⁁",
                 caron: "ˇ",
                 Cayleys: "ℭ",
                 ccaps: "⩍",
                 Ccaron: "Č",
                 ccaron: "č",
                 Ccedil: "Ç",
                 ccedil: "ç",
                 Ccirc: "Ĉ",
                 ccirc: "ĉ",
                 Cconint: "∰",
                 ccups: "⩌",
                 ccupssm: "⩐",
                 Cdot: "Ċ",
                 cdot: "ċ",
                 cedil: "¸",
                 Cedilla: "¸",
                 cemptyv: "⦲",
                 cent: "¢",
                 CenterDot: "·",
                 centerdot: "·",
                 Cfr: "ℭ",
                 cfr: "𝔠",
                 CHcy: "Ч",
                 chcy: "ч",
                 check: "✓",
                 checkmark: "✓",
                 Chi: "Χ",
                 chi: "χ",
                 cir: "○",
                 circ: "ˆ",
                 circeq: "≗",
                 circlearrowleft: "↺",
                 circlearrowright: "↻",
                 circledast: "⊛",
                 circledcirc: "⊚",
                 circleddash: "⊝",
                 CircleDot: "⊙",
                 circledR: "®",
                 circledS: "Ⓢ",
                 CircleMinus: "⊖",
                 CirclePlus: "⊕",
                 CircleTimes: "⊗",
                 cirE: "⧃",
                 cire: "≗",
                 cirfnint: "⨐",
                 cirmid: "⫯",
                 cirscir: "⧂",
                 ClockwiseContourIntegral: "∲",
                 CloseCurlyDoubleQuote: "”",
                 CloseCurlyQuote: "’",
                 clubs: "♣",
                 clubsuit: "♣",
                 Colon: "∷",
                 colon: ":",
                 Colone: "⩴",
                 colone: "≔",
                 coloneq: "≔",
                 comma: ",",
                 commat: "@",
                 comp: "∁",
                 compfn: "∘",
                 complement: "∁",
                 complexes: "ℂ",
                 cong: "≅",
                 congdot: "⩭",
                 Congruent: "≡",
                 Conint: "∯",
                 conint: "∮",
                 ContourIntegral: "∮",
                 Copf: "ℂ",
                 copf: "𝕔",
                 coprod: "∐",
                 Coproduct: "∐",
                 COPY: "©",
                 copy: "©",
                 copysr: "℗",
                 CounterClockwiseContourIntegral: "∳",
                 crarr: "↵",
                 Cross: "⨯",
                 cross: "✗",
                 Cscr: "𝒞",
                 cscr: "𝒸",
                 csub: "⫏",
                 csube: "⫑",
                 csup: "⫐",
                 csupe: "⫒",
                 ctdot: "⋯",
                 cudarrl: "⤸",
                 cudarrr: "⤵",
                 cuepr: "⋞",
                 cuesc: "⋟",
                 cularr: "↶",
                 cularrp: "⤽",
                 Cup: "⋓",
                 cup: "∪",
                 cupbrcap: "⩈",
                 CupCap: "≍",
                 cupcap: "⩆",
                 cupcup: "⩊",
                 cupdot: "⊍",
                 cupor: "⩅",
                 cups: "∪︀",
                 curarr: "↷",
                 curarrm: "⤼",
                 curlyeqprec: "⋞",
                 curlyeqsucc: "⋟",
                 curlyvee: "⋎",
                 curlywedge: "⋏",
                 curren: "¤",
                 curvearrowleft: "↶",
                 curvearrowright: "↷",
                 cuvee: "⋎",
                 cuwed: "⋏",
                 cwconint: "∲",
                 cwint: "∱",
                 cylcty: "⌭",
                 Dagger: "‡",
                 dagger: "†",
                 daleth: "ℸ",
                 Darr: "↡",
                 dArr: "⇓",
                 darr: "↓",
                 dash: "‐",
                 Dashv: "⫤",
                 dashv: "⊣",
                 dbkarow: "⤏",
                 dblac: "˝",
                 Dcaron: "Ď",
                 dcaron: "ď",
                 Dcy: "Д",
                 dcy: "д",
                 DD: "ⅅ",
                 dd: "ⅆ",
                 ddagger: "‡",
                 ddarr: "⇊",
                 DDotrahd: "⤑",
                 ddotseq: "⩷",
                 deg: "°",
                 Del: "∇",
                 Delta: "Δ",
                 delta: "δ",
                 demptyv: "⦱",
                 dfisht: "⥿",
                 Dfr: "𝔇",
                 dfr: "𝔡",
                 dHar: "⥥",
                 dharl: "⇃",
                 dharr: "⇂",
                 DiacriticalAcute: "´",
                 DiacriticalDot: "˙",
                 DiacriticalDoubleAcute: "˝",
                 DiacriticalGrave: "`",
                 DiacriticalTilde: "˜",
                 diam: "⋄",
                 Diamond: "⋄",
                 diamond: "⋄",
                 diamondsuit: "♦",
                 diams: "♦",
                 die: "¨",
                 DifferentialD: "ⅆ",
                 digamma: "ϝ",
                 disin: "⋲",
                 div: "÷",
                 divide: "÷",
                 divideontimes: "⋇",
                 divonx: "⋇",
                 DJcy: "Ђ",
                 djcy: "ђ",
                 dlcorn: "⌞",
                 dlcrop: "⌍",
                 dollar: "$",
                 Dopf: "𝔻",
                 dopf: "𝕕",
                 Dot: "¨",
                 dot: "˙",
                 DotDot: "⃜",
                 doteq: "≐",
                 doteqdot: "≑",
                 DotEqual: "≐",
                 dotminus: "∸",
                 dotplus: "∔",
                 dotsquare: "⊡",
                 doublebarwedge: "⌆",
                 DoubleContourIntegral: "∯",
                 DoubleDot: "¨",
                 DoubleDownArrow: "⇓",
                 DoubleLeftArrow: "⇐",
                 DoubleLeftRightArrow: "⇔",
                 DoubleLeftTee: "⫤",
                 DoubleLongLeftArrow: "⟸",
                 DoubleLongLeftRightArrow: "⟺",
                 DoubleLongRightArrow: "⟹",
                 DoubleRightArrow: "⇒",
                 DoubleRightTee: "⊨",
                 DoubleUpArrow: "⇑",
                 DoubleUpDownArrow: "⇕",
                 DoubleVerticalBar: "∥",
                 DownArrow: "↓",
                 Downarrow: "⇓",
                 downarrow: "↓",
                 DownArrowBar: "⤓",
                 DownArrowUpArrow: "⇵",
                 DownBreve: "̑",
                 downdownarrows: "⇊",
                 downharpoonleft: "⇃",
                 downharpoonright: "⇂",
                 DownLeftRightVector: "⥐",
                 DownLeftTeeVector: "⥞",
                 DownLeftVector: "↽",
                 DownLeftVectorBar: "⥖",
                 DownRightTeeVector: "⥟",
                 DownRightVector: "⇁",
                 DownRightVectorBar: "⥗",
                 DownTee: "⊤",
                 DownTeeArrow: "↧",
                 drbkarow: "⤐",
                 drcorn: "⌟",
                 drcrop: "⌌",
                 Dscr: "𝒟",
                 dscr: "𝒹",
                 DScy: "Ѕ",
                 dscy: "ѕ",
                 dsol: "⧶",
                 Dstrok: "Đ",
                 dstrok: "đ",
                 dtdot: "⋱",
                 dtri: "▿",
                 dtrif: "▾",
                 duarr: "⇵",
                 duhar: "⥯",
                 dwangle: "⦦",
                 DZcy: "Џ",
                 dzcy: "џ",
                 dzigrarr: "⟿",
                 Eacute: "É",
                 eacute: "é",
                 easter: "⩮",
                 Ecaron: "Ě",
                 ecaron: "ě",
                 ecir: "≖",
                 Ecirc: "Ê",
                 ecirc: "ê",
                 ecolon: "≕",
                 Ecy: "Э",
                 ecy: "э",
                 eDDot: "⩷",
                 Edot: "Ė",
                 eDot: "≑",
                 edot: "ė",
                 ee: "ⅇ",
                 efDot: "≒",
                 Efr: "𝔈",
                 efr: "𝔢",
                 eg: "⪚",
                 Egrave: "È",
                 egrave: "è",
                 egs: "⪖",
                 egsdot: "⪘",
                 el: "⪙",
                 Element: "∈",
                 elinters: "⏧",
                 ell: "ℓ",
                 els: "⪕",
                 elsdot: "⪗",
                 Emacr: "Ē",
                 emacr: "ē",
                 empty: "∅",
                 emptyset: "∅",
                 EmptySmallSquare: "◻",
                 emptyv: "∅",
                 EmptyVerySmallSquare: "▫",
                 emsp: " ",
                 emsp13: " ",
                 emsp14: " ",
                 ENG: "Ŋ",
                 eng: "ŋ",
                 ensp: " ",
                 Eogon: "Ę",
                 eogon: "ę",
                 Eopf: "𝔼",
                 eopf: "𝕖",
                 epar: "⋕",
                 eparsl: "⧣",
                 eplus: "⩱",
                 epsi: "ε",
                 Epsilon: "Ε",
                 epsilon: "ε",
                 epsiv: "ϵ",
                 eqcirc: "≖",
                 eqcolon: "≕",
                 eqsim: "≂",
                 eqslantgtr: "⪖",
                 eqslantless: "⪕",
                 Equal: "⩵",
                 equals: "=",
                 EqualTilde: "≂",
                 equest: "≟",
                 Equilibrium: "⇌",
                 equiv: "≡",
                 equivDD: "⩸",
                 eqvparsl: "⧥",
                 erarr: "⥱",
                 erDot: "≓",
                 Escr: "ℰ",
                 escr: "ℯ",
                 esdot: "≐",
                 Esim: "⩳",
                 esim: "≂",
                 Eta: "Η",
                 eta: "η",
                 ETH: "Ð",
                 eth: "ð",
                 Euml: "Ë",
                 euml: "ë",
                 euro: "€",
                 excl: "!",
                 exist: "∃",
                 Exists: "∃",
                 expectation: "ℰ",
                 ExponentialE: "ⅇ",
                 exponentiale: "ⅇ",
                 fallingdotseq: "≒",
                 Fcy: "Ф",
                 fcy: "ф",
                 female: "♀",
                 ffilig: "ﬃ",
                 fflig: "ﬀ",
                 ffllig: "ﬄ",
                 Ffr: "𝔉",
                 ffr: "𝔣",
                 filig: "ﬁ",
                 FilledSmallSquare: "◼",
                 FilledVerySmallSquare: "▪",
                 fjlig: "fj",
                 flat: "♭",
                 fllig: "ﬂ",
                 fltns: "▱",
                 fnof: "ƒ",
                 Fopf: "𝔽",
                 fopf: "𝕗",
                 ForAll: "∀",
                 forall: "∀",
                 fork: "⋔",
                 forkv: "⫙",
                 Fouriertrf: "ℱ",
                 fpartint: "⨍",
                 frac12: "½",
                 frac13: "⅓",
                 frac14: "¼",
                 frac15: "⅕",
                 frac16: "⅙",
                 frac18: "⅛",
                 frac23: "⅔",
                 frac25: "⅖",
                 frac34: "¾",
                 frac35: "⅗",
                 frac38: "⅜",
                 frac45: "⅘",
                 frac56: "⅚",
                 frac58: "⅝",
                 frac78: "⅞",
                 frasl: "⁄",
                 frown: "⌢",
                 Fscr: "ℱ",
                 fscr: "𝒻",
                 gacute: "ǵ",
                 Gamma: "Γ",
                 gamma: "γ",
                 Gammad: "Ϝ",
                 gammad: "ϝ",
                 gap: "⪆",
                 Gbreve: "Ğ",
                 gbreve: "ğ",
                 Gcedil: "Ģ",
                 Gcirc: "Ĝ",
                 gcirc: "ĝ",
                 Gcy: "Г",
                 gcy: "г",
                 Gdot: "Ġ",
                 gdot: "ġ",
                 gE: "≧",
                 ge: "≥",
                 gEl: "⪌",
                 gel: "⋛",
                 geq: "≥",
                 geqq: "≧",
                 geqslant: "⩾",
                 ges: "⩾",
                 gescc: "⪩",
                 gesdot: "⪀",
                 gesdoto: "⪂",
                 gesdotol: "⪄",
                 gesl: "⋛︀",
                 gesles: "⪔",
                 Gfr: "𝔊",
                 gfr: "𝔤",
                 Gg: "⋙",
                 gg: "≫",
                 ggg: "⋙",
                 gimel: "ℷ",
                 GJcy: "Ѓ",
                 gjcy: "ѓ",
                 gl: "≷",
                 gla: "⪥",
                 glE: "⪒",
                 glj: "⪤",
                 gnap: "⪊",
                 gnapprox: "⪊",
                 gnE: "≩",
                 gne: "⪈",
                 gneq: "⪈",
                 gneqq: "≩",
                 gnsim: "⋧",
                 Gopf: "𝔾",
                 gopf: "𝕘",
                 grave: "`",
                 GreaterEqual: "≥",
                 GreaterEqualLess: "⋛",
                 GreaterFullEqual: "≧",
                 GreaterGreater: "⪢",
                 GreaterLess: "≷",
                 GreaterSlantEqual: "⩾",
                 GreaterTilde: "≳",
                 Gscr: "𝒢",
                 gscr: "ℊ",
                 gsim: "≳",
                 gsime: "⪎",
                 gsiml: "⪐",
                 GT: ">",
                 Gt: "≫",
                 gt: ">",
                 gtcc: "⪧",
                 gtcir: "⩺",
                 gtdot: "⋗",
                 gtlPar: "⦕",
                 gtquest: "⩼",
                 gtrapprox: "⪆",
                 gtrarr: "⥸",
                 gtrdot: "⋗",
                 gtreqless: "⋛",
                 gtreqqless: "⪌",
                 gtrless: "≷",
                 gtrsim: "≳",
                 gvertneqq: "≩︀",
                 gvnE: "≩︀",
                 Hacek: "ˇ",
                 hairsp: " ",
                 half: "½",
                 hamilt: "ℋ",
                 HARDcy: "Ъ",
                 hardcy: "ъ",
                 hArr: "⇔",
                 harr: "↔",
                 harrcir: "⥈",
                 harrw: "↭",
                 Hat: "^",
                 hbar: "ℏ",
                 Hcirc: "Ĥ",
                 hcirc: "ĥ",
                 hearts: "♥",
                 heartsuit: "♥",
                 hellip: "…",
                 hercon: "⊹",
                 Hfr: "ℌ",
                 hfr: "𝔥",
                 HilbertSpace: "ℋ",
                 hksearow: "⤥",
                 hkswarow: "⤦",
                 hoarr: "⇿",
                 homtht: "∻",
                 hookleftarrow: "↩",
                 hookrightarrow: "↪",
                 Hopf: "ℍ",
                 hopf: "𝕙",
                 horbar: "―",
                 HorizontalLine: "─",
                 Hscr: "ℋ",
                 hscr: "𝒽",
                 hslash: "ℏ",
                 Hstrok: "Ħ",
                 hstrok: "ħ",
                 HumpDownHump: "≎",
                 HumpEqual: "≏",
                 hybull: "⁃",
                 hyphen: "‐",
                 Iacute: "Í",
                 iacute: "í",
                 ic: "⁣",
                 Icirc: "Î",
                 icirc: "î",
                 Icy: "И",
                 icy: "и",
                 Idot: "İ",
                 IEcy: "Е",
                 iecy: "е",
                 iexcl: "¡",
                 iff: "⇔",
                 Ifr: "ℑ",
                 ifr: "𝔦",
                 Igrave: "Ì",
                 igrave: "ì",
                 ii: "ⅈ",
                 iiiint: "⨌",
                 iiint: "∭",
                 iinfin: "⧜",
                 iiota: "℩",
                 IJlig: "Ĳ",
                 ijlig: "ĳ",
                 Im: "ℑ",
                 Imacr: "Ī",
                 imacr: "ī",
                 image: "ℑ",
                 ImaginaryI: "ⅈ",
                 imagline: "ℐ",
                 imagpart: "ℑ",
                 imath: "ı",
                 imof: "⊷",
                 imped: "Ƶ",
                 Implies: "⇒",
                 in: "∈",
                 incare: "℅",
                 infin: "∞",
                 infintie: "⧝",
                 inodot: "ı",
                 Int: "∬",
                 int: "∫",
                 intcal: "⊺",
                 integers: "ℤ",
                 Integral: "∫",
                 intercal: "⊺",
                 Intersection: "⋂",
                 intlarhk: "⨗",
                 intprod: "⨼",
                 InvisibleComma: "⁣",
                 InvisibleTimes: "⁢",
                 IOcy: "Ё",
                 iocy: "ё",
                 Iogon: "Į",
                 iogon: "į",
                 Iopf: "𝕀",
                 iopf: "𝕚",
                 Iota: "Ι",
                 iota: "ι",
                 iprod: "⨼",
                 iquest: "¿",
                 Iscr: "ℐ",
                 iscr: "𝒾",
                 isin: "∈",
                 isindot: "⋵",
                 isinE: "⋹",
                 isins: "⋴",
                 isinsv: "⋳",
                 isinv: "∈",
                 it: "⁢",
                 Itilde: "Ĩ",
                 itilde: "ĩ",
                 Iukcy: "І",
                 iukcy: "і",
                 Iuml: "Ï",
                 iuml: "ï",
                 Jcirc: "Ĵ",
                 jcirc: "ĵ",
                 Jcy: "Й",
                 jcy: "й",
                 Jfr: "𝔍",
                 jfr: "𝔧",
                 jmath: "ȷ",
                 Jopf: "𝕁",
                 jopf: "𝕛",
                 Jscr: "𝒥",
                 jscr: "𝒿",
                 Jsercy: "Ј",
                 jsercy: "ј",
                 Jukcy: "Є",
                 jukcy: "є",
                 Kappa: "Κ",
                 kappa: "κ",
                 kappav: "ϰ",
                 Kcedil: "Ķ",
                 kcedil: "ķ",
                 Kcy: "К",
                 kcy: "к",
                 Kfr: "𝔎",
                 kfr: "𝔨",
                 kgreen: "ĸ",
                 KHcy: "Х",
                 khcy: "х",
                 KJcy: "Ќ",
                 kjcy: "ќ",
                 Kopf: "𝕂",
                 kopf: "𝕜",
                 Kscr: "𝒦",
                 kscr: "𝓀",
                 lAarr: "⇚",
                 Lacute: "Ĺ",
                 lacute: "ĺ",
                 laemptyv: "⦴",
                 lagran: "ℒ",
                 Lambda: "Λ",
                 lambda: "λ",
                 Lang: "⟪",
                 lang: "⟨",
                 langd: "⦑",
                 langle: "⟨",
                 lap: "⪅",
                 Laplacetrf: "ℒ",
                 laquo: "«",
                 Larr: "↞",
                 lArr: "⇐",
                 larr: "←",
                 larrb: "⇤",
                 larrbfs: "⤟",
                 larrfs: "⤝",
                 larrhk: "↩",
                 larrlp: "↫",
                 larrpl: "⤹",
                 larrsim: "⥳",
                 larrtl: "↢",
                 lat: "⪫",
                 lAtail: "⤛",
                 latail: "⤙",
                 late: "⪭",
                 lates: "⪭︀",
                 lBarr: "⤎",
                 lbarr: "⤌",
                 lbbrk: "❲",
                 lbrace: "{",
                 lbrack: "[",
                 lbrke: "⦋",
                 lbrksld: "⦏",
                 lbrkslu: "⦍",
                 Lcaron: "Ľ",
                 lcaron: "ľ",
                 Lcedil: "Ļ",
                 lcedil: "ļ",
                 lceil: "⌈",
                 lcub: "{",
                 Lcy: "Л",
                 lcy: "л",
                 ldca: "⤶",
                 ldquo: "“",
                 ldquor: "„",
                 ldrdhar: "⥧",
                 ldrushar: "⥋",
                 ldsh: "↲",
                 lE: "≦",
                 le: "≤",
                 LeftAngleBracket: "⟨",
                 LeftArrow: "←",
                 Leftarrow: "⇐",
                 leftarrow: "←",
                 LeftArrowBar: "⇤",
                 LeftArrowRightArrow: "⇆",
                 leftarrowtail: "↢",
                 LeftCeiling: "⌈",
                 LeftDoubleBracket: "⟦",
                 LeftDownTeeVector: "⥡",
                 LeftDownVector: "⇃",
                 LeftDownVectorBar: "⥙",
                 LeftFloor: "⌊",
                 leftharpoondown: "↽",
                 leftharpoonup: "↼",
                 leftleftarrows: "⇇",
                 LeftRightArrow: "↔",
                 Leftrightarrow: "⇔",
                 leftrightarrow: "↔",
                 leftrightarrows: "⇆",
                 leftrightharpoons: "⇋",
                 leftrightsquigarrow: "↭",
                 LeftRightVector: "⥎",
                 LeftTee: "⊣",
                 LeftTeeArrow: "↤",
                 LeftTeeVector: "⥚",
                 leftthreetimes: "⋋",
                 LeftTriangle: "⊲",
                 LeftTriangleBar: "⧏",
                 LeftTriangleEqual: "⊴",
                 LeftUpDownVector: "⥑",
                 LeftUpTeeVector: "⥠",
                 LeftUpVector: "↿",
                 LeftUpVectorBar: "⥘",
                 LeftVector: "↼",
                 LeftVectorBar: "⥒",
                 lEg: "⪋",
                 leg: "⋚",
                 leq: "≤",
                 leqq: "≦",
                 leqslant: "⩽",
                 les: "⩽",
                 lescc: "⪨",
                 lesdot: "⩿",
                 lesdoto: "⪁",
                 lesdotor: "⪃",
                 lesg: "⋚︀",
                 lesges: "⪓",
                 lessapprox: "⪅",
                 lessdot: "⋖",
                 lesseqgtr: "⋚",
                 lesseqqgtr: "⪋",
                 LessEqualGreater: "⋚",
                 LessFullEqual: "≦",
                 LessGreater: "≶",
                 lessgtr: "≶",
                 LessLess: "⪡",
                 lesssim: "≲",
                 LessSlantEqual: "⩽",
                 LessTilde: "≲",
                 lfisht: "⥼",
                 lfloor: "⌊",
                 Lfr: "𝔏",
                 lfr: "𝔩",
                 lg: "≶",
                 lgE: "⪑",
                 lHar: "⥢",
                 lhard: "↽",
                 lharu: "↼",
                 lharul: "⥪",
                 lhblk: "▄",
                 LJcy: "Љ",
                 ljcy: "љ",
                 Ll: "⋘",
                 ll: "≪",
                 llarr: "⇇",
                 llcorner: "⌞",
                 Lleftarrow: "⇚",
                 llhard: "⥫",
                 lltri: "◺",
                 Lmidot: "Ŀ",
                 lmidot: "ŀ",
                 lmoust: "⎰",
                 lmoustache: "⎰",
                 lnap: "⪉",
                 lnapprox: "⪉",
                 lnE: "≨",
                 lne: "⪇",
                 lneq: "⪇",
                 lneqq: "≨",
                 lnsim: "⋦",
                 loang: "⟬",
                 loarr: "⇽",
                 lobrk: "⟦",
                 LongLeftArrow: "⟵",
                 Longleftarrow: "⟸",
                 longleftarrow: "⟵",
                 LongLeftRightArrow: "⟷",
                 Longleftrightarrow: "⟺",
                 longleftrightarrow: "⟷",
                 longmapsto: "⟼",
                 LongRightArrow: "⟶",
                 Longrightarrow: "⟹",
                 longrightarrow: "⟶",
                 looparrowleft: "↫",
                 looparrowright: "↬",
                 lopar: "⦅",
                 Lopf: "𝕃",
                 lopf: "𝕝",
                 loplus: "⨭",
                 lotimes: "⨴",
                 lowast: "∗",
                 lowbar: "_",
                 LowerLeftArrow: "↙",
                 LowerRightArrow: "↘",
                 loz: "◊",
                 lozenge: "◊",
                 lozf: "⧫",
                 lpar: "(",
                 lparlt: "⦓",
                 lrarr: "⇆",
                 lrcorner: "⌟",
                 lrhar: "⇋",
                 lrhard: "⥭",
                 lrm: "‎",
                 lrtri: "⊿",
                 lsaquo: "‹",
                 Lscr: "ℒ",
                 lscr: "𝓁",
                 Lsh: "↰",
                 lsh: "↰",
                 lsim: "≲",
                 lsime: "⪍",
                 lsimg: "⪏",
                 lsqb: "[",
                 lsquo: "‘",
                 lsquor: "‚",
                 Lstrok: "Ł",
                 lstrok: "ł",
                 LT: "<",
                 Lt: "≪",
                 lt: "<",
                 ltcc: "⪦",
                 ltcir: "⩹",
                 ltdot: "⋖",
                 lthree: "⋋",
                 ltimes: "⋉",
                 ltlarr: "⥶",
                 ltquest: "⩻",
                 ltri: "◃",
                 ltrie: "⊴",
                 ltrif: "◂",
                 ltrPar: "⦖",
                 lurdshar: "⥊",
                 luruhar: "⥦",
                 lvertneqq: "≨︀",
                 lvnE: "≨︀",
                 macr: "¯",
                 male: "♂",
                 malt: "✠",
                 maltese: "✠",
                 Map: "⤅",
                 map: "↦",
                 mapsto: "↦",
                 mapstodown: "↧",
                 mapstoleft: "↤",
                 mapstoup: "↥",
                 marker: "▮",
                 mcomma: "⨩",
                 Mcy: "М",
                 mcy: "м",
                 mdash: "—",
                 mDDot: "∺",
                 measuredangle: "∡",
                 MediumSpace: " ",
                 Mellintrf: "ℳ",
                 Mfr: "𝔐",
                 mfr: "𝔪",
                 mho: "℧",
                 micro: "µ",
                 mid: "∣",
                 midast: "*",
                 midcir: "⫰",
                 middot: "·",
                 minus: "−",
                 minusb: "⊟",
                 minusd: "∸",
                 minusdu: "⨪",
                 MinusPlus: "∓",
                 mlcp: "⫛",
                 mldr: "…",
                 mnplus: "∓",
                 models: "⊧",
                 Mopf: "𝕄",
                 mopf: "𝕞",
                 mp: "∓",
                 Mscr: "ℳ",
                 mscr: "𝓂",
                 mstpos: "∾",
                 Mu: "Μ",
                 mu: "μ",
                 multimap: "⊸",
                 mumap: "⊸",
                 nabla: "∇",
                 Nacute: "Ń",
                 nacute: "ń",
                 nang: "∠⃒",
                 nap: "≉",
                 napE: "⩰̸",
                 napid: "≋̸",
                 napos: "ŉ",
                 napprox: "≉",
                 natur: "♮",
                 natural: "♮",
                 naturals: "ℕ",
                 nbsp: " ",
                 nbump: "≎̸",
                 nbumpe: "≏̸",
                 ncap: "⩃",
                 Ncaron: "Ň",
                 ncaron: "ň",
                 Ncedil: "Ņ",
                 ncedil: "ņ",
                 ncong: "≇",
                 ncongdot: "⩭̸",
                 ncup: "⩂",
                 Ncy: "Н",
                 ncy: "н",
                 ndash: "–",
                 ne: "≠",
                 nearhk: "⤤",
                 neArr: "⇗",
                 nearr: "↗",
                 nearrow: "↗",
                 nedot: "≐̸",
                 NegativeMediumSpace: "​",
                 NegativeThickSpace: "​",
                 NegativeThinSpace: "​",
                 NegativeVeryThinSpace: "​",
                 nequiv: "≢",
                 nesear: "⤨",
                 nesim: "≂̸",
                 NestedGreaterGreater: "≫",
                 NestedLessLess: "≪",
                 NewLine: "\n",
                 nexist: "∄",
                 nexists: "∄",
                 Nfr: "𝔑",
                 nfr: "𝔫",
                 ngE: "≧̸",
                 nge: "≱",
                 ngeq: "≱",
                 ngeqq: "≧̸",
                 ngeqslant: "⩾̸",
                 nges: "⩾̸",
                 nGg: "⋙̸",
                 ngsim: "≵",
                 nGt: "≫⃒",
                 ngt: "≯",
                 ngtr: "≯",
                 nGtv: "≫̸",
                 nhArr: "⇎",
                 nharr: "↮",
                 nhpar: "⫲",
                 ni: "∋",
                 nis: "⋼",
                 nisd: "⋺",
                 niv: "∋",
                 NJcy: "Њ",
                 njcy: "њ",
                 nlArr: "⇍",
                 nlarr: "↚",
                 nldr: "‥",
                 nlE: "≦̸",
                 nle: "≰",
                 nLeftarrow: "⇍",
                 nleftarrow: "↚",
                 nLeftrightarrow: "⇎",
                 nleftrightarrow: "↮",
                 nleq: "≰",
                 nleqq: "≦̸",
                 nleqslant: "⩽̸",
                 nles: "⩽̸",
                 nless: "≮",
                 nLl: "⋘̸",
                 nlsim: "≴",
                 nLt: "≪⃒",
                 nlt: "≮",
                 nltri: "⋪",
                 nltrie: "⋬",
                 nLtv: "≪̸",
                 nmid: "∤",
                 NoBreak: "⁠",
                 NonBreakingSpace: " ",
                 Nopf: "ℕ",
                 nopf: "𝕟",
                 Not: "⫬",
                 not: "¬",
                 NotCongruent: "≢",
                 NotCupCap: "≭",
                 NotDoubleVerticalBar: "∦",
                 NotElement: "∉",
                 NotEqual: "≠",
                 NotEqualTilde: "≂̸",
                 NotExists: "∄",
                 NotGreater: "≯",
                 NotGreaterEqual: "≱",
                 NotGreaterFullEqual: "≧̸",
                 NotGreaterGreater: "≫̸",
                 NotGreaterLess: "≹",
                 NotGreaterSlantEqual: "⩾̸",
                 NotGreaterTilde: "≵",
                 NotHumpDownHump: "≎̸",
                 NotHumpEqual: "≏̸",
                 notin: "∉",
                 notindot: "⋵̸",
                 notinE: "⋹̸",
                 notinva: "∉",
                 notinvb: "⋷",
                 notinvc: "⋶",
                 NotLeftTriangle: "⋪",
                 NotLeftTriangleBar: "⧏̸",
                 NotLeftTriangleEqual: "⋬",
                 NotLess: "≮",
                 NotLessEqual: "≰",
                 NotLessGreater: "≸",
                 NotLessLess: "≪̸",
                 NotLessSlantEqual: "⩽̸",
                 NotLessTilde: "≴",
                 NotNestedGreaterGreater: "⪢̸",
                 NotNestedLessLess: "⪡̸",
                 notni: "∌",
                 notniva: "∌",
                 notnivb: "⋾",
                 notnivc: "⋽",
                 NotPrecedes: "⊀",
                 NotPrecedesEqual: "⪯̸",
                 NotPrecedesSlantEqual: "⋠",
                 NotReverseElement: "∌",
                 NotRightTriangle: "⋫",
                 NotRightTriangleBar: "⧐̸",
                 NotRightTriangleEqual: "⋭",
                 NotSquareSubset: "⊏̸",
                 NotSquareSubsetEqual: "⋢",
                 NotSquareSuperset: "⊐̸",
                 NotSquareSupersetEqual: "⋣",
                 NotSubset: "⊂⃒",
                 NotSubsetEqual: "⊈",
                 NotSucceeds: "⊁",
                 NotSucceedsEqual: "⪰̸",
                 NotSucceedsSlantEqual: "⋡",
                 NotSucceedsTilde: "≿̸",
                 NotSuperset: "⊃⃒",
                 NotSupersetEqual: "⊉",
                 NotTilde: "≁",
                 NotTildeEqual: "≄",
                 NotTildeFullEqual: "≇",
                 NotTildeTilde: "≉",
                 NotVerticalBar: "∤",
                 npar: "∦",
                 nparallel: "∦",
                 nparsl: "⫽⃥",
                 npart: "∂̸",
                 npolint: "⨔",
                 npr: "⊀",
                 nprcue: "⋠",
                 npre: "⪯̸",
                 nprec: "⊀",
                 npreceq: "⪯̸",
                 nrArr: "⇏",
                 nrarr: "↛",
                 nrarrc: "⤳̸",
                 nrarrw: "↝̸",
                 nRightarrow: "⇏",
                 nrightarrow: "↛",
                 nrtri: "⋫",
                 nrtrie: "⋭",
                 nsc: "⊁",
                 nsccue: "⋡",
                 nsce: "⪰̸",
                 Nscr: "𝒩",
                 nscr: "𝓃",
                 nshortmid: "∤",
                 nshortparallel: "∦",
                 nsim: "≁",
                 nsime: "≄",
                 nsimeq: "≄",
                 nsmid: "∤",
                 nspar: "∦",
                 nsqsube: "⋢",
                 nsqsupe: "⋣",
                 nsub: "⊄",
                 nsubE: "⫅̸",
                 nsube: "⊈",
                 nsubset: "⊂⃒",
                 nsubseteq: "⊈",
                 nsubseteqq: "⫅̸",
                 nsucc: "⊁",
                 nsucceq: "⪰̸",
                 nsup: "⊅",
                 nsupE: "⫆̸",
                 nsupe: "⊉",
                 nsupset: "⊃⃒",
                 nsupseteq: "⊉",
                 nsupseteqq: "⫆̸",
                 ntgl: "≹",
                 Ntilde: "Ñ",
                 ntilde: "ñ",
                 ntlg: "≸",
                 ntriangleleft: "⋪",
                 ntrianglelefteq: "⋬",
                 ntriangleright: "⋫",
                 ntrianglerighteq: "⋭",
                 Nu: "Ν",
                 nu: "ν",
                 num: "#",
                 numero: "№",
                 numsp: " ",
                 nvap: "≍⃒",
                 nVDash: "⊯",
                 nVdash: "⊮",
                 nvDash: "⊭",
                 nvdash: "⊬",
                 nvge: "≥⃒",
                 nvgt: ">⃒",
                 nvHarr: "⤄",
                 nvinfin: "⧞",
                 nvlArr: "⤂",
                 nvle: "≤⃒",
                 nvlt: "<⃒",
                 nvltrie: "⊴⃒",
                 nvrArr: "⤃",
                 nvrtrie: "⊵⃒",
                 nvsim: "∼⃒",
                 nwarhk: "⤣",
                 nwArr: "⇖",
                 nwarr: "↖",
                 nwarrow: "↖",
                 nwnear: "⤧",
                 Oacute: "Ó",
                 oacute: "ó",
                 oast: "⊛",
                 ocir: "⊚",
                 Ocirc: "Ô",
                 ocirc: "ô",
                 Ocy: "О",
                 ocy: "о",
                 odash: "⊝",
                 Odblac: "Ő",
                 odblac: "ő",
                 odiv: "⨸",
                 odot: "⊙",
                 odsold: "⦼",
                 OElig: "Œ",
                 oelig: "œ",
                 ofcir: "⦿",
                 Ofr: "𝔒",
                 ofr: "𝔬",
                 ogon: "˛",
                 Ograve: "Ò",
                 ograve: "ò",
                 ogt: "⧁",
                 ohbar: "⦵",
                 ohm: "Ω",
                 oint: "∮",
                 olarr: "↺",
                 olcir: "⦾",
                 olcross: "⦻",
                 oline: "‾",
                 olt: "⧀",
                 Omacr: "Ō",
                 omacr: "ō",
                 Omega: "Ω",
                 omega: "ω",
                 Omicron: "Ο",
                 omicron: "ο",
                 omid: "⦶",
                 ominus: "⊖",
                 Oopf: "𝕆",
                 oopf: "𝕠",
                 opar: "⦷",
                 OpenCurlyDoubleQuote: "“",
                 OpenCurlyQuote: "‘",
                 operp: "⦹",
                 oplus: "⊕",
                 Or: "⩔",
                 or: "∨",
                 orarr: "↻",
                 ord: "⩝",
                 order: "ℴ",
                 orderof: "ℴ",
                 ordf: "ª",
                 ordm: "º",
                 origof: "⊶",
                 oror: "⩖",
                 orslope: "⩗",
                 orv: "⩛",
                 oS: "Ⓢ",
                 Oscr: "𝒪",
                 oscr: "ℴ",
                 Oslash: "Ø",
                 oslash: "ø",
                 osol: "⊘",
                 Otilde: "Õ",
                 otilde: "õ",
                 Otimes: "⨷",
                 otimes: "⊗",
                 otimesas: "⨶",
                 Ouml: "Ö",
                 ouml: "ö",
                 ovbar: "⌽",
                 OverBar: "‾",
                 OverBrace: "⏞",
                 OverBracket: "⎴",
                 OverParenthesis: "⏜",
                 par: "∥",
                 para: "¶",
                 parallel: "∥",
                 parsim: "⫳",
                 parsl: "⫽",
                 part: "∂",
                 PartialD: "∂",
                 Pcy: "П",
                 pcy: "п",
                 percnt: "%",
                 period: ".",
                 permil: "‰",
                 perp: "⊥",
                 pertenk: "‱",
                 Pfr: "𝔓",
                 pfr: "𝔭",
                 Phi: "Φ",
                 phi: "φ",
                 phiv: "ϕ",
                 phmmat: "ℳ",
                 phone: "☎",
                 Pi: "Π",
                 pi: "π",
                 pitchfork: "⋔",
                 piv: "ϖ",
                 planck: "ℏ",
                 planckh: "ℎ",
                 plankv: "ℏ",
                 plus: "+",
                 plusacir: "⨣",
                 plusb: "⊞",
                 pluscir: "⨢",
                 plusdo: "∔",
                 plusdu: "⨥",
                 pluse: "⩲",
                 PlusMinus: "±",
                 plusmn: "±",
                 plussim: "⨦",
                 plustwo: "⨧",
                 pm: "±",
                 Poincareplane: "ℌ",
                 pointint: "⨕",
                 Popf: "ℙ",
                 popf: "𝕡",
                 pound: "£",
                 Pr: "⪻",
                 pr: "≺",
                 prap: "⪷",
                 prcue: "≼",
                 prE: "⪳",
                 pre: "⪯",
                 prec: "≺",
                 precapprox: "⪷",
                 preccurlyeq: "≼",
                 Precedes: "≺",
                 PrecedesEqual: "⪯",
                 PrecedesSlantEqual: "≼",
                 PrecedesTilde: "≾",
                 preceq: "⪯",
                 precnapprox: "⪹",
                 precneqq: "⪵",
                 precnsim: "⋨",
                 precsim: "≾",
                 Prime: "″",
                 prime: "′",
                 primes: "ℙ",
                 prnap: "⪹",
                 prnE: "⪵",
                 prnsim: "⋨",
                 prod: "∏",
                 Product: "∏",
                 profalar: "⌮",
                 profline: "⌒",
                 profsurf: "⌓",
                 prop: "∝",
                 Proportion: "∷",
                 Proportional: "∝",
                 propto: "∝",
                 prsim: "≾",
                 prurel: "⊰",
                 Pscr: "𝒫",
                 pscr: "𝓅",
                 Psi: "Ψ",
                 psi: "ψ",
                 puncsp: " ",
                 Qfr: "𝔔",
                 qfr: "𝔮",
                 qint: "⨌",
                 Qopf: "ℚ",
                 qopf: "𝕢",
                 qprime: "⁗",
                 Qscr: "𝒬",
                 qscr: "𝓆",
                 quaternions: "ℍ",
                 quatint: "⨖",
                 quest: "?",
                 questeq: "≟",
                 QUOT: '"',
                 quot: '"',
                 rAarr: "⇛",
                 race: "∽̱",
                 Racute: "Ŕ",
                 racute: "ŕ",
                 radic: "√",
                 raemptyv: "⦳",
                 Rang: "⟫",
                 rang: "⟩",
                 rangd: "⦒",
                 range: "⦥",
                 rangle: "⟩",
                 raquo: "»",
                 Rarr: "↠",
                 rArr: "⇒",
                 rarr: "→",
                 rarrap: "⥵",
                 rarrb: "⇥",
                 rarrbfs: "⤠",
                 rarrc: "⤳",
                 rarrfs: "⤞",
                 rarrhk: "↪",
                 rarrlp: "↬",
                 rarrpl: "⥅",
                 rarrsim: "⥴",
                 Rarrtl: "⤖",
                 rarrtl: "↣",
                 rarrw: "↝",
                 rAtail: "⤜",
                 ratail: "⤚",
                 ratio: "∶",
                 rationals: "ℚ",
                 RBarr: "⤐",
                 rBarr: "⤏",
                 rbarr: "⤍",
                 rbbrk: "❳",
                 rbrace: "}",
                 rbrack: "]",
                 rbrke: "⦌",
                 rbrksld: "⦎",
                 rbrkslu: "⦐",
                 Rcaron: "Ř",
                 rcaron: "ř",
                 Rcedil: "Ŗ",
                 rcedil: "ŗ",
                 rceil: "⌉",
                 rcub: "}",
                 Rcy: "Р",
                 rcy: "р",
                 rdca: "⤷",
                 rdldhar: "⥩",
                 rdquo: "”",
                 rdquor: "”",
                 rdsh: "↳",
                 Re: "ℜ",
                 real: "ℜ",
                 realine: "ℛ",
                 realpart: "ℜ",
                 reals: "ℝ",
                 rect: "▭",
                 REG: "®",
                 reg: "®",
                 ReverseElement: "∋",
                 ReverseEquilibrium: "⇋",
                 ReverseUpEquilibrium: "⥯",
                 rfisht: "⥽",
                 rfloor: "⌋",
                 Rfr: "ℜ",
                 rfr: "𝔯",
                 rHar: "⥤",
                 rhard: "⇁",
                 rharu: "⇀",
                 rharul: "⥬",
                 Rho: "Ρ",
                 rho: "ρ",
                 rhov: "ϱ",
                 RightAngleBracket: "⟩",
                 RightArrow: "→",
                 Rightarrow: "⇒",
                 rightarrow: "→",
                 RightArrowBar: "⇥",
                 RightArrowLeftArrow: "⇄",
                 rightarrowtail: "↣",
                 RightCeiling: "⌉",
                 RightDoubleBracket: "⟧",
                 RightDownTeeVector: "⥝",
                 RightDownVector: "⇂",
                 RightDownVectorBar: "⥕",
                 RightFloor: "⌋",
                 rightharpoondown: "⇁",
                 rightharpoonup: "⇀",
                 rightleftarrows: "⇄",
                 rightleftharpoons: "⇌",
                 rightrightarrows: "⇉",
                 rightsquigarrow: "↝",
                 RightTee: "⊢",
                 RightTeeArrow: "↦",
                 RightTeeVector: "⥛",
                 rightthreetimes: "⋌",
                 RightTriangle: "⊳",
                 RightTriangleBar: "⧐",
                 RightTriangleEqual: "⊵",
                 RightUpDownVector: "⥏",
                 RightUpTeeVector: "⥜",
                 RightUpVector: "↾",
                 RightUpVectorBar: "⥔",
                 RightVector: "⇀",
                 RightVectorBar: "⥓",
                 ring: "˚",
                 risingdotseq: "≓",
                 rlarr: "⇄",
                 rlhar: "⇌",
                 rlm: "‏",
                 rmoust: "⎱",
                 rmoustache: "⎱",
                 rnmid: "⫮",
                 roang: "⟭",
                 roarr: "⇾",
                 robrk: "⟧",
                 ropar: "⦆",
                 Ropf: "ℝ",
                 ropf: "𝕣",
                 roplus: "⨮",
                 rotimes: "⨵",
                 RoundImplies: "⥰",
                 rpar: ")",
                 rpargt: "⦔",
                 rppolint: "⨒",
                 rrarr: "⇉",
                 Rrightarrow: "⇛",
                 rsaquo: "›",
                 Rscr: "ℛ",
                 rscr: "𝓇",
                 Rsh: "↱",
                 rsh: "↱",
                 rsqb: "]",
                 rsquo: "’",
                 rsquor: "’",
                 rthree: "⋌",
                 rtimes: "⋊",
                 rtri: "▹",
                 rtrie: "⊵",
                 rtrif: "▸",
                 rtriltri: "⧎",
                 RuleDelayed: "⧴",
                 ruluhar: "⥨",
                 rx: "℞",
                 Sacute: "Ś",
                 sacute: "ś",
                 sbquo: "‚",
                 Sc: "⪼",
                 sc: "≻",
                 scap: "⪸",
                 Scaron: "Š",
                 scaron: "š",
                 sccue: "≽",
                 scE: "⪴",
                 sce: "⪰",
                 Scedil: "Ş",
                 scedil: "ş",
                 Scirc: "Ŝ",
                 scirc: "ŝ",
                 scnap: "⪺",
                 scnE: "⪶",
                 scnsim: "⋩",
                 scpolint: "⨓",
                 scsim: "≿",
                 Scy: "С",
                 scy: "с",
                 sdot: "⋅",
                 sdotb: "⊡",
                 sdote: "⩦",
                 searhk: "⤥",
                 seArr: "⇘",
                 searr: "↘",
                 searrow: "↘",
                 sect: "§",
                 semi: ";",
                 seswar: "⤩",
                 setminus: "∖",
                 setmn: "∖",
                 sext: "✶",
                 Sfr: "𝔖",
                 sfr: "𝔰",
                 sfrown: "⌢",
                 sharp: "♯",
                 SHCHcy: "Щ",
                 shchcy: "щ",
                 SHcy: "Ш",
                 shcy: "ш",
                 ShortDownArrow: "↓",
                 ShortLeftArrow: "←",
                 shortmid: "∣",
                 shortparallel: "∥",
                 ShortRightArrow: "→",
                 ShortUpArrow: "↑",
                 shy: "­",
                 Sigma: "Σ",
                 sigma: "σ",
                 sigmaf: "ς",
                 sigmav: "ς",
                 sim: "∼",
                 simdot: "⩪",
                 sime: "≃",
                 simeq: "≃",
                 simg: "⪞",
                 simgE: "⪠",
                 siml: "⪝",
                 simlE: "⪟",
                 simne: "≆",
                 simplus: "⨤",
                 simrarr: "⥲",
                 slarr: "←",
                 SmallCircle: "∘",
                 smallsetminus: "∖",
                 smashp: "⨳",
                 smeparsl: "⧤",
                 smid: "∣",
                 smile: "⌣",
                 smt: "⪪",
                 smte: "⪬",
                 smtes: "⪬︀",
                 SOFTcy: "Ь",
                 softcy: "ь",
                 sol: "/",
                 solb: "⧄",
                 solbar: "⌿",
                 Sopf: "𝕊",
                 sopf: "𝕤",
                 spades: "♠",
                 spadesuit: "♠",
                 spar: "∥",
                 sqcap: "⊓",
                 sqcaps: "⊓︀",
                 sqcup: "⊔",
                 sqcups: "⊔︀",
                 Sqrt: "√",
                 sqsub: "⊏",
                 sqsube: "⊑",
                 sqsubset: "⊏",
                 sqsubseteq: "⊑",
                 sqsup: "⊐",
                 sqsupe: "⊒",
                 sqsupset: "⊐",
                 sqsupseteq: "⊒",
                 squ: "□",
                 Square: "□",
                 square: "□",
                 SquareIntersection: "⊓",
                 SquareSubset: "⊏",
                 SquareSubsetEqual: "⊑",
                 SquareSuperset: "⊐",
                 SquareSupersetEqual: "⊒",
                 SquareUnion: "⊔",
                 squarf: "▪",
                 squf: "▪",
                 srarr: "→",
                 Sscr: "𝒮",
                 sscr: "𝓈",
                 ssetmn: "∖",
                 ssmile: "⌣",
                 sstarf: "⋆",
                 Star: "⋆",
                 star: "☆",
                 starf: "★",
                 straightepsilon: "ϵ",
                 straightphi: "ϕ",
                 strns: "¯",
                 Sub: "⋐",
                 sub: "⊂",
                 subdot: "⪽",
                 subE: "⫅",
                 sube: "⊆",
                 subedot: "⫃",
                 submult: "⫁",
                 subnE: "⫋",
                 subne: "⊊",
                 subplus: "⪿",
                 subrarr: "⥹",
                 Subset: "⋐",
                 subset: "⊂",
                 subseteq: "⊆",
                 subseteqq: "⫅",
                 SubsetEqual: "⊆",
                 subsetneq: "⊊",
                 subsetneqq: "⫋",
                 subsim: "⫇",
                 subsub: "⫕",
                 subsup: "⫓",
                 succ: "≻",
                 succapprox: "⪸",
                 succcurlyeq: "≽",
                 Succeeds: "≻",
                 SucceedsEqual: "⪰",
                 SucceedsSlantEqual: "≽",
                 SucceedsTilde: "≿",
                 succeq: "⪰",
                 succnapprox: "⪺",
                 succneqq: "⪶",
                 succnsim: "⋩",
                 succsim: "≿",
                 SuchThat: "∋",
                 Sum: "∑",
                 sum: "∑",
                 sung: "♪",
                 Sup: "⋑",
                 sup: "⊃",
                 sup1: "¹",
                 sup2: "²",
                 sup3: "³",
                 supdot: "⪾",
                 supdsub: "⫘",
                 supE: "⫆",
                 supe: "⊇",
                 supedot: "⫄",
                 Superset: "⊃",
                 SupersetEqual: "⊇",
                 suphsol: "⟉",
                 suphsub: "⫗",
                 suplarr: "⥻",
                 supmult: "⫂",
                 supnE: "⫌",
                 supne: "⊋",
                 supplus: "⫀",
                 Supset: "⋑",
                 supset: "⊃",
                 supseteq: "⊇",
                 supseteqq: "⫆",
                 supsetneq: "⊋",
                 supsetneqq: "⫌",
                 supsim: "⫈",
                 supsub: "⫔",
                 supsup: "⫖",
                 swarhk: "⤦",
                 swArr: "⇙",
                 swarr: "↙",
                 swarrow: "↙",
                 swnwar: "⤪",
                 szlig: "ß",
                 Tab: "\t",
                 target: "⌖",
                 Tau: "Τ",
                 tau: "τ",
                 tbrk: "⎴",
                 Tcaron: "Ť",
                 tcaron: "ť",
                 Tcedil: "Ţ",
                 tcedil: "ţ",
                 Tcy: "Т",
                 tcy: "т",
                 tdot: "⃛",
                 telrec: "⌕",
                 Tfr: "𝔗",
                 tfr: "𝔱",
                 there4: "∴",
                 Therefore: "∴",
                 therefore: "∴",
                 Theta: "Θ",
                 theta: "θ",
                 thetasym: "ϑ",
                 thetav: "ϑ",
                 thickapprox: "≈",
                 thicksim: "∼",
                 ThickSpace: "  ",
                 thinsp: " ",
                 ThinSpace: " ",
                 thkap: "≈",
                 thksim: "∼",
                 THORN: "Þ",
                 thorn: "þ",
                 Tilde: "∼",
                 tilde: "˜",
                 TildeEqual: "≃",
                 TildeFullEqual: "≅",
                 TildeTilde: "≈",
                 times: "×",
                 timesb: "⊠",
                 timesbar: "⨱",
                 timesd: "⨰",
                 tint: "∭",
                 toea: "⤨",
                 top: "⊤",
                 topbot: "⌶",
                 topcir: "⫱",
                 Topf: "𝕋",
                 topf: "𝕥",
                 topfork: "⫚",
                 tosa: "⤩",
                 tprime: "‴",
                 TRADE: "™",
                 trade: "™",
                 triangle: "▵",
                 triangledown: "▿",
                 triangleleft: "◃",
                 trianglelefteq: "⊴",
                 triangleq: "≜",
                 triangleright: "▹",
                 trianglerighteq: "⊵",
                 tridot: "◬",
                 trie: "≜",
                 triminus: "⨺",
                 TripleDot: "⃛",
                 triplus: "⨹",
                 trisb: "⧍",
                 tritime: "⨻",
                 trpezium: "⏢",
                 Tscr: "𝒯",
                 tscr: "𝓉",
                 TScy: "Ц",
                 tscy: "ц",
                 TSHcy: "Ћ",
                 tshcy: "ћ",
                 Tstrok: "Ŧ",
                 tstrok: "ŧ",
                 twixt: "≬",
                 twoheadleftarrow: "↞",
                 twoheadrightarrow: "↠",
                 Uacute: "Ú",
                 uacute: "ú",
                 Uarr: "↟",
                 uArr: "⇑",
                 uarr: "↑",
                 Uarrocir: "⥉",
                 Ubrcy: "Ў",
                 ubrcy: "ў",
                 Ubreve: "Ŭ",
                 ubreve: "ŭ",
                 Ucirc: "Û",
                 ucirc: "û",
                 Ucy: "У",
                 ucy: "у",
                 udarr: "⇅",
                 Udblac: "Ű",
                 udblac: "ű",
                 udhar: "⥮",
                 ufisht: "⥾",
                 Ufr: "𝔘",
                 ufr: "𝔲",
                 Ugrave: "Ù",
                 ugrave: "ù",
                 uHar: "⥣",
                 uharl: "↿",
                 uharr: "↾",
                 uhblk: "▀",
                 ulcorn: "⌜",
                 ulcorner: "⌜",
                 ulcrop: "⌏",
                 ultri: "◸",
                 Umacr: "Ū",
                 umacr: "ū",
                 uml: "¨",
                 UnderBar: "_",
                 UnderBrace: "⏟",
                 UnderBracket: "⎵",
                 UnderParenthesis: "⏝",
                 Union: "⋃",
                 UnionPlus: "⊎",
                 Uogon: "Ų",
                 uogon: "ų",
                 Uopf: "𝕌",
                 uopf: "𝕦",
                 UpArrow: "↑",
                 Uparrow: "⇑",
                 uparrow: "↑",
                 UpArrowBar: "⤒",
                 UpArrowDownArrow: "⇅",
                 UpDownArrow: "↕",
                 Updownarrow: "⇕",
                 updownarrow: "↕",
                 UpEquilibrium: "⥮",
                 upharpoonleft: "↿",
                 upharpoonright: "↾",
                 uplus: "⊎",
                 UpperLeftArrow: "↖",
                 UpperRightArrow: "↗",
                 Upsi: "ϒ",
                 upsi: "υ",
                 upsih: "ϒ",
                 Upsilon: "Υ",
                 upsilon: "υ",
                 UpTee: "⊥",
                 UpTeeArrow: "↥",
                 upuparrows: "⇈",
                 urcorn: "⌝",
                 urcorner: "⌝",
                 urcrop: "⌎",
                 Uring: "Ů",
                 uring: "ů",
                 urtri: "◹",
                 Uscr: "𝒰",
                 uscr: "𝓊",
                 utdot: "⋰",
                 Utilde: "Ũ",
                 utilde: "ũ",
                 utri: "▵",
                 utrif: "▴",
                 uuarr: "⇈",
                 Uuml: "Ü",
                 uuml: "ü",
                 uwangle: "⦧",
                 vangrt: "⦜",
                 varepsilon: "ϵ",
                 varkappa: "ϰ",
                 varnothing: "∅",
                 varphi: "ϕ",
                 varpi: "ϖ",
                 varpropto: "∝",
                 vArr: "⇕",
                 varr: "↕",
                 varrho: "ϱ",
                 varsigma: "ς",
                 varsubsetneq: "⊊︀",
                 varsubsetneqq: "⫋︀",
                 varsupsetneq: "⊋︀",
                 varsupsetneqq: "⫌︀",
                 vartheta: "ϑ",
                 vartriangleleft: "⊲",
                 vartriangleright: "⊳",
                 Vbar: "⫫",
                 vBar: "⫨",
                 vBarv: "⫩",
                 Vcy: "В",
                 vcy: "в",
                 VDash: "⊫",
                 Vdash: "⊩",
                 vDash: "⊨",
                 vdash: "⊢",
                 Vdashl: "⫦",
                 Vee: "⋁",
                 vee: "∨",
                 veebar: "⊻",
                 veeeq: "≚",
                 vellip: "⋮",
                 Verbar: "‖",
                 verbar: "|",
                 Vert: "‖",
                 vert: "|",
                 VerticalBar: "∣",
                 VerticalLine: "|",
                 VerticalSeparator: "❘",
                 VerticalTilde: "≀",
                 VeryThinSpace: " ",
                 Vfr: "𝔙",
                 vfr: "𝔳",
                 vltri: "⊲",
                 vnsub: "⊂⃒",
                 vnsup: "⊃⃒",
                 Vopf: "𝕍",
                 vopf: "𝕧",
                 vprop: "∝",
                 vrtri: "⊳",
                 Vscr: "𝒱",
                 vscr: "𝓋",
                 vsubnE: "⫋︀",
                 vsubne: "⊊︀",
                 vsupnE: "⫌︀",
                 vsupne: "⊋︀",
                 Vvdash: "⊪",
                 vzigzag: "⦚",
                 Wcirc: "Ŵ",
                 wcirc: "ŵ",
                 wedbar: "⩟",
                 Wedge: "⋀",
                 wedge: "∧",
                 wedgeq: "≙",
                 weierp: "℘",
                 Wfr: "𝔚",
                 wfr: "𝔴",
                 Wopf: "𝕎",
                 wopf: "𝕨",
                 wp: "℘",
                 wr: "≀",
                 wreath: "≀",
                 Wscr: "𝒲",
                 wscr: "𝓌",
                 xcap: "⋂",
                 xcirc: "◯",
                 xcup: "⋃",
                 xdtri: "▽",
                 Xfr: "𝔛",
                 xfr: "𝔵",
                 xhArr: "⟺",
                 xharr: "⟷",
                 Xi: "Ξ",
                 xi: "ξ",
                 xlArr: "⟸",
                 xlarr: "⟵",
                 xmap: "⟼",
                 xnis: "⋻",
                 xodot: "⨀",
                 Xopf: "𝕏",
                 xopf: "𝕩",
                 xoplus: "⨁",
                 xotime: "⨂",
                 xrArr: "⟹",
                 xrarr: "⟶",
                 Xscr: "𝒳",
                 xscr: "𝓍",
                 xsqcup: "⨆",
                 xuplus: "⨄",
                 xutri: "△",
                 xvee: "⋁",
                 xwedge: "⋀",
                 Yacute: "Ý",
                 yacute: "ý",
                 YAcy: "Я",
                 yacy: "я",
                 Ycirc: "Ŷ",
                 ycirc: "ŷ",
                 Ycy: "Ы",
                 ycy: "ы",
                 yen: "¥",
                 Yfr: "𝔜",
                 yfr: "𝔶",
                 YIcy: "Ї",
                 yicy: "ї",
                 Yopf: "𝕐",
                 yopf: "𝕪",
                 Yscr: "𝒴",
                 yscr: "𝓎",
                 YUcy: "Ю",
                 yucy: "ю",
                 Yuml: "Ÿ",
                 yuml: "ÿ",
                 Zacute: "Ź",
                 zacute: "ź",
                 Zcaron: "Ž",
                 zcaron: "ž",
                 Zcy: "З",
                 zcy: "з",
                 Zdot: "Ż",
                 zdot: "ż",
                 zeetrf: "ℨ",
                 ZeroWidthSpace: "​",
                 Zeta: "Ζ",
                 zeta: "ζ",
                 Zfr: "ℨ",
                 zfr: "𝔷",
                 ZHcy: "Ж",
                 zhcy: "ж",
                 zigrarr: "⇝",
                 Zopf: "ℤ",
                 zopf: "𝕫",
                 Zscr: "𝒵",
                 zscr: "𝓏",
                 zwj: "‍",
                 zwnj: "‌"
             }
         }
         , {}],
         2: [function(e, t, i) {
             "use strict";
             var s = {};
             ["article", "aside", "button", "blockquote", "body", "canvas", "caption", "col", "colgroup", "dd", "div", "dl", "dt", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hgroup", "hr", "iframe", "li", "map", "object", "ol", "output", "p", "pre", "progress", "script", "section", "style", "table", "tbody", "td", "textarea", "tfoot", "th", "tr", "thead", "ul", "video"].forEach(function(e) {
                 s[e] = !0
             }),
             t.exports = s
         }
         , {}],
         3: [function(e, t, i) {
             "use strict";
             function s(e, t) {
                 return e = e.source,
                 t = t || "",
                 function i(s, n) {
                     return s ? (n = n.source || n,
                     e = e.replace(s, n),
                     i) : new RegExp(e,t)
                 }
             }
             var n = /[a-zA-Z_:][a-zA-Z0-9:._-]*/
               , a = /[^"'=<>`\x00-\x20]+/
               , o = /'[^']*'/
               , r = /"[^"]*"/
               , l = s(/(?:unquoted|single_quoted|double_quoted)/)("unquoted", a)("single_quoted", o)("double_quoted", r)()
               , h = s(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name", n)("attr_value", l)()
               , c = s(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute", h)()
               , p = /<\/[A-Za-z][A-Za-z0-9]*\s*>/
               , d = /<!--([^-]+|[-][^-]+)*-->/
               , u = /<[?].*?[?]>/
               , f = /<![A-Z]+\s+[^>]*>/
               , m = /<!\[CDATA\[([^\]]+|\][^\]]|\]\][^>])*\]\]>/
               , g = s(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag", c)("close_tag", p)("comment", d)("processing", u)("declaration", f)("cdata", m)();
             t.exports.HTML_TAG_RE = g
         }
         , {}],
         4: [function(e, t, i) {
             "use strict";
             t.exports = ["coap", "doi", "javascript", "aaa", "aaas", "about", "acap", "cap", "cid", "crid", "data", "dav", "dict", "dns", "file", "ftp", "geo", "go", "gopher", "h323", "http", "https", "iax", "icap", "im", "imap", "info", "ipp", "iris", "iris.beep", "iris.xpc", "iris.xpcs", "iris.lwz", "ldap", "mailto", "mid", "msrp", "msrps", "mtqp", "mupdate", "news", "nfs", "ni", "nih", "nntp", "opaquelocktoken", "pop", "pres", "rtsp", "service", "session", "shttp", "sieve", "sip", "sips", "sms", "snmp", "soap.beep", "soap.beeps", "tag", "tel", "telnet", "tftp", "thismessage", "tn3270", "tip", "tv", "urn", "vemmi", "ws", "wss", "xcon", "xcon-userid", "xmlrpc.beep", "xmlrpc.beeps", "xmpp", "z39.50r", "z39.50s", "adiumxtra", "afp", "afs", "aim", "apt", "attachment", "aw", "beshare", "bitcoin", "bolo", "callto", "chrome", "chrome-extension", "com-eventbrite-attendee", "content", "cvs", "dlna-playsingle", "dlna-playcontainer", "dtn", "dvb", "ed2k", "facetime", "feed", "finger", "fish", "gg", "git", "gizmoproject", "gtalk", "hcp", "icon", "ipn", "irc", "irc6", "ircs", "itms", "jar", "jms", "keyparc", "lastfm", "ldaps", "magnet", "maps", "market", "message", "mms", "ms-help", "msnim", "mumble", "mvn", "notes", "oid", "palm", "paparazzi", "platform", "proxy", "psyc", "query", "res", "resource", "rmi", "rsync", "rtmp", "secondlife", "sftp", "sgn", "skype", "smb", "soldat", "spotify", "ssh", "steam", "svn", "teamspeak", "things", "udp", "unreal", "ut2004", "ventrilo", "view-source", "webcal", "wtai", "wyciwyg", "xfire", "xri", "ymsgr"]
         }
         , {}],
         5: [function(e, t, i) {
             "use strict";
             function s(e) {
                 return Object.prototype.toString.call(e)
             }
             function n(e) {
                 return "[object String]" === s(e)
             }
             function a(e, t) {
                 return !!e && f.call(e, t)
             }
             function o(e) {
                 var t = [].slice.call(arguments, 1);
                 return t.forEach(function(t) {
                     if (t) {
                         if ("object" != typeof t)
                             throw new TypeError(t + "must be object");
                         Object.keys(t).forEach(function(i) {
                             e[i] = t[i]
                         })
                     }
                 }),
                 e
             }
             function r(e) {
                 return e.indexOf("\\") < 0 ? e : e.replace(m, "$1")
             }
             function l(e) {
                 return !(e >= 55296 && e <= 57343) && (!(e >= 64976 && e <= 65007) && (65535 !== (65535 & e) && 65534 !== (65535 & e) && (!(e >= 0 && e <= 8) && (11 !== e && (!(e >= 14 && e <= 31) && (!(e >= 127 && e <= 159) && !(e > 1114111)))))))
             }
             function h(e) {
                 if (e > 65535) {
                     e -= 65536;
                     var t = 55296 + (e >> 10)
                       , i = 56320 + (1023 & e);
                     return String.fromCharCode(t, i)
                 }
                 return String.fromCharCode(e)
             }
             function c(e, t) {
                 var i = 0;
                 return a(b, t) ? b[t] : 35 === t.charCodeAt(0) && v.test(t) && (i = "x" === t[1].toLowerCase() ? parseInt(t.slice(2), 16) : parseInt(t.slice(1), 10),
                 l(i)) ? h(i) : e
             }
             function p(e) {
                 return e.indexOf("&") < 0 ? e : e.replace(g, c)
             }
             function d(e) {
                 return C[e]
             }
             function u(e) {
                 return w.test(e) ? e.replace(y, d) : e
             }
             var f = Object.prototype.hasOwnProperty
               , m = /\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g
               , g = /&([a-z#][a-z0-9]{1,31});/gi
               , v = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i
               , b = e("./entities")
               , w = /[&<>"]/
               , y = /[&<>"]/g
               , C = {
                 "&": "&amp;",
                 "<": "&lt;",
                 ">": "&gt;",
                 '"': "&quot;"
             };
             i.assign = o,
             i.isString = n,
             i.has = a,
             i.unescapeMd = r,
             i.isValidEntityCode = l,
             i.fromCodePoint = h,
             i.replaceEntities = p,
             i.escapeHtml = u
         }
         , {
             "./entities": 1
         }],
         6: [function(e, t, i) {
             "use strict";
             t.exports = {
                 options: {
                     html: !0,
                     xhtmlOut: !0,
                     breaks: !1,
                     langPrefix: "language-",
                     linkify: !1,
                     linkTarget: "",
                     typographer: !1,
                     quotes: "â€œâ€â€˜â€™",
                     highlight: null,
                     maxNesting: 20
                 },
                 components: {
                     core: {
                         rules: ["block", "inline", "references", "abbr2"]
                     },
                     block: {
                         rules: ["blockquote", "code", "fences", "heading", "hr", "htmlblock", "lheading", "list", "paragraph"]
                     },
                     inline: {
                         rules: ["autolink", "backticks", "emphasis", "entity", "escape", "htmltag", "links", "newline", "text"]
                     }
                 }
             }
         }
         , {}],
         7: [function(e, t, i) {
             "use strict";
             t.exports = {
                 options: {
                     html: !1,
                     xhtmlOut: !1,
                     breaks: !1,
                     langPrefix: "language-",
                     linkify: !1,
                     linkTarget: "",
                     typographer: !1,
                     quotes: "â€œâ€â€˜â€™",
                     highlight: null,
                     maxNesting: 20
                 },
                 components: {
                     core: {
                         rules: ["block", "inline", "references", "replacements", "linkify", "smartquotes", "references", "abbr2", "footnote_tail"]
                     },
                     block: {
                         rules: ["blockquote", "code", "fences", "footnote", "heading", "hr", "htmlblock", "lheading", "list", "paragraph", "table"]
                     },
                     inline: {
                         rules: ["autolink", "backticks", "del", "emphasis", "entity", "escape", "footnote_ref", "htmltag", "links", "newline", "text"]
                     }
                 }
             }
         }
         , {}],
         8: [function(e, t, i) {
             "use strict";
             t.exports = {
                 options: {
                     html: !1,
                     xhtmlOut: !1,
                     breaks: !1,
                     langPrefix: "language-",
                     linkify: !1,
                     linkTarget: "",
                     typographer: !1,
                     quotes: "â€œâ€â€˜â€™",
                     highlight: null,
                     maxNesting: 20
                 },
                 components: {
                     core: {},
                     block: {},
                     inline: {}
                 }
             }
         }
         , {}],
         9: [function(e, t, i) {
             "use strict";
             var s = e("../common/utils").replaceEntities;
             t.exports = function(e) {
                 var t = s(e);
                 try {
                     t = decodeURI(t)
                 } catch (e) {}
                 return encodeURI(t)
             }
         }
         , {
             "../common/utils": 5
         }],
         10: [function(e, t, i) {
             "use strict";
             t.exports = function(e) {
                 return e.trim().replace(/\s+/g, " ").toUpperCase()
             }
         }
         , {}],
         11: [function(e, t, i) {
             "use strict";
             var s = e("./normalize_link")
               , n = e("../common/utils").unescapeMd;
             t.exports = function(e, t) {
                 var i, a, o, r = t, l = e.posMax;
                 if (60 === e.src.charCodeAt(t)) {
                     for (t++; t < l; ) {
                         if (i = e.src.charCodeAt(t),
                         10 === i)
                             return !1;
                         if (62 === i)
                             return o = s(n(e.src.slice(r + 1, t))),
                             !!e.parser.validateLink(o) && (e.pos = t + 1,
                             e.linkContent = o,
                             !0);
                         92 === i && t + 1 < l ? t += 2 : t++
                     }
                     return !1
                 }
                 for (a = 0; t < l && (i = e.src.charCodeAt(t),
                 32 !== i) && !(i > 8 && i < 14); )
                     if (92 === i && t + 1 < l)
                         t += 2;
                     else {
                         if (40 === i && (a++,
                         a > 1))
                             break;
                         if (41 === i && (a--,
                         a < 0))
                             break;
                         t++
                     }
                 return r !== t && (o = n(e.src.slice(r, t)),
                 !!e.parser.validateLink(o) && (e.linkContent = o,
                 e.pos = t,
                 !0))
             }
         }
         , {
             "../common/utils": 5,
             "./normalize_link": 9
         }],
         12: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t) {
                 var i, s, n, a = -1, o = e.posMax, r = e.pos, l = e.isInLabel;
                 if (e.isInLabel)
                     return -1;
                 if (e.labelUnmatchedScopes)
                     return e.labelUnmatchedScopes--,
                     -1;
                 for (e.pos = t + 1,
                 e.isInLabel = !0,
                 i = 1; e.pos < o; ) {
                     if (n = e.src.charCodeAt(e.pos),
                     91 === n)
                         i++;
                     else if (93 === n && (i--,
                     0 === i)) {
                         s = !0;
                         break
                     }
                     e.parser.skipToken(e)
                 }
                 return s ? (a = e.pos,
                 e.labelUnmatchedScopes = 0) : e.labelUnmatchedScopes = i - 1,
                 e.pos = r,
                 e.isInLabel = l,
                 a
             }
         }
         , {}],
         13: [function(e, t, i) {
             "use strict";
             var s = e("../common/utils").unescapeMd;
             t.exports = function(e, t) {
                 var i, n = t, a = e.posMax, o = e.src.charCodeAt(t);
                 if (34 !== o && 39 !== o && 40 !== o)
                     return !1;
                 for (t++,
                 40 === o && (o = 41); t < a; ) {
                     if (i = e.src.charCodeAt(t),
                     i === o)
                         return e.pos = t + 1,
                         e.linkContent = s(e.src.slice(n + 1, t)),
                         !0;
                     92 === i && t + 1 < a ? t += 2 : t++
                 }
                 return !1
             }
         }
         , {
             "../common/utils": 5
         }],
         14: [function(e, t, i) {
             "use strict";
             function s(e, t, i) {
                 this.src = t,
                 this.env = i,
                 this.options = e.options,
                 this.tokens = [],
                 this.inlineMode = !1,
                 this.inline = e.inline,
                 this.block = e.block,
                 this.renderer = e.renderer,
                 this.typographer = e.typographer
             }
             function n(e, t) {
                 "string" != typeof e && (t = e,
                 e = "default"),
                 this.inline = new h,
                 this.block = new l,
                 this.core = new r,
                 this.renderer = new o,
                 this.ruler = new c,
                 this.options = {},
                 this.configure(p[e]),
                 this.set(t || {})
             }
             var a = e("./common/utils").assign
               , o = e("./renderer")
               , r = e("./parser_core")
               , l = e("./parser_block")
               , h = e("./parser_inline")
               , c = e("./ruler")
               , p = {
                 default: e("./configs/default"),
                 full: e("./configs/full"),
                 commonmark: e("./configs/commonmark")
             };
             n.prototype.set = function(e) {
                 a(this.options, e)
             }
             ,
             n.prototype.configure = function(e) {
                 var t = this;
                 if (!e)
                     throw new Error("Wrong `remarkable` preset, check name/content");
                 e.options && t.set(e.options),
                 e.components && Object.keys(e.components).forEach(function(i) {
                     e.components[i].rules && t[i].ruler.enable(e.components[i].rules, !0)
                 })
             }
             ,
             n.prototype.use = function(e, t) {
                 return e(this, t),
                 this
             }
             ,
             n.prototype.parse = function(e, t) {
                 var i = new s(this,e,t);
                 return this.core.process(i),
                 i.tokens
             }
             ,
             n.prototype.render = function(e, t) {
                 return t = t || {},
                 this.renderer.render(this.parse(e, t), this.options, t)
             }
             ,
             n.prototype.parseInline = function(e, t) {
                 var i = new s(this,e,t);
                 return i.inlineMode = !0,
                 this.core.process(i),
                 i.tokens
             }
             ,
             n.prototype.renderInline = function(e, t) {
                 return t = t || {},
                 this.renderer.render(this.parseInline(e, t), this.options, t)
             }
             ,
             t.exports = n,
             t.exports.utils = e("./common/utils")
         }
         , {
             "./common/utils": 5,
             "./configs/commonmark": 6,
             "./configs/default": 7,
             "./configs/full": 8,
             "./parser_block": 15,
             "./parser_core": 16,
             "./parser_inline": 17,
             "./renderer": 18,
             "./ruler": 19
         }],
         15: [function(e, t, i) {
             "use strict";
             function s() {
                 this.ruler = new n;
                 for (var e = 0; e < o.length; e++)
                     this.ruler.push(o[e][0], o[e][1], {
                         alt: (o[e][2] || []).slice()
                     })
             }
             var n = e("./ruler")
               , a = e("./rules_block/state_block")
               , o = [["code", e("./rules_block/code")], ["fences", e("./rules_block/fences"), ["paragraph", "blockquote", "list"]], ["blockquote", e("./rules_block/blockquote"), ["paragraph", "blockquote", "list"]], ["hr", e("./rules_block/hr"), ["paragraph", "blockquote", "list"]], ["list", e("./rules_block/list"), ["paragraph", "blockquote"]], ["footnote", e("./rules_block/footnote"), ["paragraph"]], ["heading", e("./rules_block/heading"), ["paragraph", "blockquote"]], ["lheading", e("./rules_block/lheading")], ["htmlblock", e("./rules_block/htmlblock"), ["paragraph", "blockquote"]], ["table", e("./rules_block/table"), ["paragraph"]], ["deflist", e("./rules_block/deflist"), ["paragraph"]], ["paragraph", e("./rules_block/paragraph")]];
             s.prototype.tokenize = function(e, t, i) {
                 for (var s, n, a = this.ruler.getRules(""), o = a.length, r = t, l = !1; r < i && (e.line = r = e.skipEmptyLines(r),
                 !(r >= i)) && !(e.tShift[r] < e.blkIndent); ) {
                     for (n = 0; n < o && !(s = a[n](e, r, i, !1)); n++)
                         ;
                     if (e.tight = !l,
                     e.isEmpty(e.line - 1) && (l = !0),
                     r = e.line,
                     r < i && e.isEmpty(r)) {
                         if (l = !0,
                         r++,
                         r < i && "list" === e.parentType && e.isEmpty(r))
                             break;
                         e.line = r
                     }
                 }
             }
             ;
             var r = /[\n\t]/g
               , l = /\r[\n\u0085]|[\u2424\u2028\u0085]/g
               , h = /\u00a0/g;
             s.prototype.parse = function(e, t, i, s) {
                 var n, o = 0, c = 0;
                 return e ? (e = e.replace(h, " "),
                 e = e.replace(l, "\n"),
                 e.indexOf("\t") >= 0 && (e = e.replace(r, function(t, i) {
                     var s;
                     return 10 === e.charCodeAt(i) ? (o = i + 1,
                     c = 0,
                     t) : (s = "    ".slice((i - o - c) % 4),
                     c = i - o + 1,
                     s)
                 })),
                 n = new a(e,this,t,i,s),
                 void this.tokenize(n, n.line, n.lineMax)) : []
             }
             ,
             t.exports = s
         }
         , {
             "./ruler": 19,
             "./rules_block/blockquote": 21,
             "./rules_block/code": 22,
             "./rules_block/deflist": 23,
             "./rules_block/fences": 24,
             "./rules_block/footnote": 25,
             "./rules_block/heading": 26,
             "./rules_block/hr": 27,
             "./rules_block/htmlblock": 28,
             "./rules_block/lheading": 29,
             "./rules_block/list": 30,
             "./rules_block/paragraph": 31,
             "./rules_block/state_block": 32,
             "./rules_block/table": 33
         }],
         16: [function(e, t, i) {
             "use strict";
             function s() {
                 this.options = {},
                 this.ruler = new n;
                 for (var e = 0; e < a.length; e++)
                     this.ruler.push(a[e][0], a[e][1])
             }
             var n = e("./ruler")
               , a = [["block", e("./rules_core/block")], ["abbr", e("./rules_core/abbr")], ["references", e("./rules_core/references")], ["inline", e("./rules_core/inline")], ["footnote_tail", e("./rules_core/footnote_tail")], ["abbr2", e("./rules_core/abbr2")], ["replacements", e("./rules_core/replacements")], ["smartquotes", e("./rules_core/smartquotes")], ["linkify", e("./rules_core/linkify")]];
             s.prototype.process = function(e) {
                 var t, i, s;
                 for (s = this.ruler.getRules(""),
                 t = 0,
                 i = s.length; t < i; t++)
                     s[t](e)
             }
             ,
             t.exports = s
         }
         , {
             "./ruler": 19,
             "./rules_core/abbr": 34,
             "./rules_core/abbr2": 35,
             "./rules_core/block": 36,
             "./rules_core/footnote_tail": 37,
             "./rules_core/inline": 38,
             "./rules_core/linkify": 39,
             "./rules_core/references": 40,
             "./rules_core/replacements": 41,
             "./rules_core/smartquotes": 42
         }],
         17: [function(e, t, i) {
             "use strict";
             function s() {
                 this.ruler = new a;
                 for (var e = 0; e < l.length; e++)
                     this.ruler.push(l[e][0], l[e][1]);
                 this.validateLink = n
             }
             function n(e) {
                 var t = ["vbscript", "javascript", "file", "data"]
                   , i = e.trim().toLowerCase();
                 return i = r.replaceEntities(i),
                 i.indexOf(":") === -1 || t.indexOf(i.split(":")[0]) === -1
             }
             var a = e("./ruler")
               , o = e("./rules_inline/state_inline")
               , r = e("./common/utils")
               , l = [["text", e("./rules_inline/text")], ["newline", e("./rules_inline/newline")], ["escape", e("./rules_inline/escape")], ["backticks", e("./rules_inline/backticks")], ["del", e("./rules_inline/del")], ["ins", e("./rules_inline/ins")], ["mark", e("./rules_inline/mark")], ["emphasis", e("./rules_inline/emphasis")], ["sub", e("./rules_inline/sub")], ["sup", e("./rules_inline/sup")], ["links", e("./rules_inline/links")], ["footnote_inline", e("./rules_inline/footnote_inline")], ["footnote_ref", e("./rules_inline/footnote_ref")], ["autolink", e("./rules_inline/autolink")], ["htmltag", e("./rules_inline/htmltag")], ["entity", e("./rules_inline/entity")]];
             s.prototype.skipToken = function(e) {
                 var t, i, s = this.ruler.getRules(""), n = s.length, a = e.pos;
                 if ((i = e.cacheGet(a)) > 0)
                     return void (e.pos = i);
                 for (t = 0; t < n; t++)
                     if (s[t](e, !0))
                         return void e.cacheSet(a, e.pos);
                 e.pos++,
                 e.cacheSet(a, e.pos)
             }
             ,
             s.prototype.tokenize = function(e) {
                 for (var t, i, s = this.ruler.getRules(""), n = s.length, a = e.posMax; e.pos < a; ) {
                     for (i = 0; i < n && !(t = s[i](e, !1)); i++)
                         ;
                     if (t) {
                         if (e.pos >= a)
                             break
                     } else
                         e.pending += e.src[e.pos++]
                 }
                 e.pending && e.pushPending()
             }
             ,
             s.prototype.parse = function(e, t, i, s) {
                 var n = new o(e,this,t,i,s);
                 this.tokenize(n)
             }
             ,
             t.exports = s
         }
         , {
             "./common/utils": 5,
             "./ruler": 19,
             "./rules_inline/autolink": 43,
             "./rules_inline/backticks": 44,
             "./rules_inline/del": 45,
             "./rules_inline/emphasis": 46,
             "./rules_inline/entity": 47,
             "./rules_inline/escape": 48,
             "./rules_inline/footnote_inline": 49,
             "./rules_inline/footnote_ref": 50,
             "./rules_inline/htmltag": 51,
             "./rules_inline/ins": 52,
             "./rules_inline/links": 53,
             "./rules_inline/mark": 54,
             "./rules_inline/newline": 55,
             "./rules_inline/state_inline": 56,
             "./rules_inline/sub": 57,
             "./rules_inline/sup": 58,
             "./rules_inline/text": 59
         }],
         18: [function(e, t, i) {
             "use strict";
             function s() {
                 this.rules = n.assign({}, a),
                 this.getBreak = a.getBreak
             }
             var n = e("./common/utils")
               , a = e("./rules");
             t.exports = s,
             s.prototype.renderInline = function(e, t, i) {
                 for (var s = this.rules, n = e.length, a = 0, o = ""; n--; )
                     o += s[e[a].type](e, a++, t, i, this);
                 return o
             }
             ,
             s.prototype.render = function(e, t, i) {
                 for (var s = this.rules, n = e.length, a = -1, o = ""; ++a < n; )
                     o += "inline" === e[a].type ? this.renderInline(e[a].children, t, i) : s[e[a].type](e, a, t, i, this);
                 return o
             }
         }
         , {
             "./common/utils": 5,
             "./rules": 20
         }],
         19: [function(e, t, i) {
             "use strict";
             function s() {
                 this.__rules__ = [],
                 this.__cache__ = null
             }
             s.prototype.__find__ = function(e) {
                 for (var t = this.__rules__.length, i = -1; t--; )
                     if (this.__rules__[++i].name === e)
                         return i;
                 return -1
             }
             ,
             s.prototype.__compile__ = function() {
                 var e = this
                   , t = [""];
                 e.__rules__.forEach(function(e) {
                     e.enabled && e.alt.forEach(function(e) {
                         t.indexOf(e) < 0 && t.push(e)
                     })
                 }),
                 e.__cache__ = {},
                 t.forEach(function(t) {
                     e.__cache__[t] = [],
                     e.__rules__.forEach(function(i) {
                         i.enabled && (t && i.alt.indexOf(t) < 0 || e.__cache__[t].push(i.fn))
                     })
                 })
             }
             ,
             s.prototype.at = function(e, t, i) {
                 var s = this.__find__(e)
                   , n = i || {};
                 if (s === -1)
                     throw new Error("Parser rule not found: " + e);
                 this.__rules__[s].fn = t,
                 this.__rules__[s].alt = n.alt || [],
                 this.__cache__ = null
             }
             ,
             s.prototype.before = function(e, t, i, s) {
                 var n = this.__find__(e)
                   , a = s || {};
                 if (n === -1)
                     throw new Error("Parser rule not found: " + e);
                 this.__rules__.splice(n, 0, {
                     name: t,
                     enabled: !0,
                     fn: i,
                     alt: a.alt || []
                 }),
                 this.__cache__ = null
             }
             ,
             s.prototype.after = function(e, t, i, s) {
                 var n = this.__find__(e)
                   , a = s || {};
                 if (n === -1)
                     throw new Error("Parser rule not found: " + e);
                 this.__rules__.splice(n + 1, 0, {
                     name: t,
                     enabled: !0,
                     fn: i,
                     alt: a.alt || []
                 }),
                 this.__cache__ = null
             }
             ,
             s.prototype.push = function(e, t, i) {
                 var s = i || {};
                 this.__rules__.push({
                     name: e,
                     enabled: !0,
                     fn: t,
                     alt: s.alt || []
                 }),
                 this.__cache__ = null
             }
             ,
             s.prototype.enable = function(e, t) {
                 e = Array.isArray(e) ? e : [e],
                 t && this.__rules__.forEach(function(e) {
                     e.enabled = !1
                 }),
                 e.forEach(function(e) {
                     var t = this.__find__(e);
                     if (t < 0)
                         throw new Error("Rules manager: invalid rule name " + e);
                     this.__rules__[t].enabled = !0
                 }, this),
                 this.__cache__ = null
             }
             ,
             s.prototype.disable = function(e) {
                 e = Array.isArray(e) ? e : [e],
                 e.forEach(function(e) {
                     var t = this.__find__(e);
                     if (t < 0)
                         throw new Error("Rules manager: invalid rule name " + e);
                     this.__rules__[t].enabled = !1
                 }, this),
                 this.__cache__ = null
             }
             ,
             s.prototype.getRules = function(e) {
                 return null === this.__cache__ && this.__compile__(),
                 this.__cache__[e] || []
             }
             ,
             t.exports = s
         }
         , {}],
         20: [function(e, t, i) {
             "use strict";
             function s(e, t) {
                 return ++t >= e.length - 2 ? t : "paragraph_open" === e[t].type && e[t].tight && "inline" === e[t + 1].type && 0 === e[t + 1].content.length && "paragraph_close" === e[t + 2].type && e[t + 2].tight ? s(e, t + 2) : t
             }
             var n = e("./common/utils").has
               , a = e("./common/utils").unescapeMd
               , o = e("./common/utils").replaceEntities
               , r = e("./common/utils").escapeHtml
               , l = {};
             l.blockquote_open = function() {
                 return "<blockquote>\n"
             }
             ,
             l.blockquote_close = function(e, t) {
                 return "</blockquote>" + h(e, t)
             }
             ,
             l.code = function(e, t) {
                 return e[t].block ? "<pre><code>" + r(e[t].content) + "</code></pre>" + h(e, t) : "<code>" + r(e[t].content) + "</code>"
             }
             ,
             l.fence = function(e, t, i, s, l) {
                 var c, p, d, u = e[t], f = "", m = i.langPrefix, g = "";
                 if (u.params) {
                     if (c = u.params.split(/\s+/g),
                     p = c.join(" "),
                     n(l.rules.fence_custom, c[0]))
                         return l.rules.fence_custom[c[0]](e, t, i, s, l);
                     g = r(o(a(p))),
                     f = ' class="' + m + g + '"'
                 }
                 return d = i.highlight ? i.highlight.apply(i.highlight, [u.content].concat(c)) || r(u.content) : r(u.content),
                 "<pre><code" + f + ">" + d + "</code></pre>" + h(e, t)
             }
             ,
             l.fence_custom = {},
             l.heading_open = function(e, t) {
                 return "<h" + e[t].hLevel + ">"
             }
             ,
             l.heading_close = function(e, t) {
                 return "</h" + e[t].hLevel + ">\n"
             }
             ,
             l.hr = function(e, t, i) {
                 return (i.xhtmlOut ? "<hr />" : "<hr>") + h(e, t)
             }
             ,
             l.bullet_list_open = function() {
                 return "<ul>\n"
             }
             ,
             l.bullet_list_close = function(e, t) {
                 return "</ul>" + h(e, t)
             }
             ,
             l.list_item_open = function() {
                 return "<li>"
             }
             ,
             l.list_item_close = function() {
                 return "</li>\n"
             }
             ,
             l.ordered_list_open = function(e, t) {
                 var i = e[t]
                   , s = i.order > 1 ? ' start="' + i.order + '"' : "";
                 return "<ol" + s + ">\n"
             }
             ,
             l.ordered_list_close = function(e, t) {
                 return "</ol>" + h(e, t)
             }
             ,
             l.paragraph_open = function(e, t) {
                 return e[t].tight ? "" : "<p>"
             }
             ,
             l.paragraph_close = function(e, t) {
                 var i = !(e[t].tight && t && "inline" === e[t - 1].type && !e[t - 1].content);
                 return (e[t].tight ? "" : "</p>") + (i ? h(e, t) : "")
             }
             ,
             l.link_open = function(e, t, i) {
                 var s = e[t].title ? ' title="' + r(o(e[t].title)) + '"' : ""
                   , n = i.linkTarget ? ' target="' + i.linkTarget + '"' : "";
                 return '<a href="' + r(e[t].href) + '"' + s + n + ">"
             }
             ,
             l.link_close = function() {
                 return "</a>"
             }
             ,
             l.image = function(e, t, i) {
                 var s = ' src="' + r(e[t].src) + '"'
                   , n = e[t].title ? ' title="' + r(o(e[t].title)) + '"' : ""
                   , l = ' alt="' + (e[t].alt ? r(o(a(e[t].alt))) : "") + '"'
                   , h = i.xhtmlOut ? " /" : "";
                 return "<img" + s + l + n + h + ">"
             }
             ,
             l.table_open = function() {
                 return "<table>\n"
             }
             ,
             l.table_close = function() {
                 return "</table>\n"
             }
             ,
             l.thead_open = function() {
                 return "<thead>\n"
             }
             ,
             l.thead_close = function() {
                 return "</thead>\n"
             }
             ,
             l.tbody_open = function() {
                 return "<tbody>\n"
             }
             ,
             l.tbody_close = function() {
                 return "</tbody>\n"
             }
             ,
             l.tr_open = function() {
                 return "<tr>"
             }
             ,
             l.tr_close = function() {
                 return "</tr>\n"
             }
             ,
             l.th_open = function(e, t) {
                 var i = e[t];
                 return "<th" + (i.align ? ' style="text-align:' + i.align + '"' : "") + ">"
             }
             ,
             l.th_close = function() {
                 return "</th>"
             }
             ,
             l.td_open = function(e, t) {
                 var i = e[t];
                 return "<td" + (i.align ? ' style="text-align:' + i.align + '"' : "") + ">"
             }
             ,
             l.td_close = function() {
                 return "</td>"
             }
             ,
             l.strong_open = function() {
                 return "<strong>"
             }
             ,
             l.strong_close = function() {
                 return "</strong>"
             }
             ,
             l.em_open = function() {
                 return "<em>"
             }
             ,
             l.em_close = function() {
                 return "</em>"
             }
             ,
             l.del_open = function() {
                 return "<del>"
             }
             ,
             l.del_close = function() {
                 return "</del>"
             }
             ,
             l.ins_open = function() {
                 return "<ins>"
             }
             ,
             l.ins_close = function() {
                 return "</ins>"
             }
             ,
             l.mark_open = function() {
                 return "<mark>"
             }
             ,
             l.mark_close = function() {
                 return "</mark>"
             }
             ,
             l.sub = function(e, t) {
                 return "<sub>" + r(e[t].content) + "</sub>"
             }
             ,
             l.sup = function(e, t) {
                 return "<sup>" + r(e[t].content) + "</sup>"
             }
             ,
             l.hardbreak = function(e, t, i) {
                 return i.xhtmlOut ? "<br />\n" : "<br>\n"
             }
             ,
             l.softbreak = function(e, t, i) {
                 return i.breaks ? i.xhtmlOut ? "<br />\n" : "<br>\n" : "\n"
             }
             ,
             l.text = function(e, t) {
                 return r(e[t].content)
             }
             ,
             l.htmlblock = function(e, t) {
                 return e[t].content
             }
             ,
             l.htmltag = function(e, t) {
                 return e[t].content
             }
             ,
             l.abbr_open = function(e, t) {
                 return '<abbr title="' + r(o(e[t].title)) + '">'
             }
             ,
             l.abbr_close = function() {
                 return "</abbr>"
             }
             ,
             l.footnote_ref = function(e, t) {
                 var i = Number(e[t].id + 1).toString()
                   , s = "fnref" + i;
                 return e[t].subId > 0 && (s += ":" + e[t].subId),
                 '<sup class="footnote-ref"><a href="#fn' + i + '" id="' + s + '">[' + i + "]</a></sup>"
             }
             ,
             l.footnote_block_open = function(e, t, i) {
                 var s = i.xhtmlOut ? '<hr class="footnotes-sep" />\n' : '<hr class="footnotes-sep">\n';
                 return s + '<section class="footnotes">\n<ol class="footnotes-list">\n'
             }
             ,
             l.footnote_block_close = function() {
                 return "</ol>\n</section>\n"
             }
             ,
             l.footnote_open = function(e, t) {
                 var i = Number(e[t].id + 1).toString();
                 return '<li id="fn' + i + '"  class="footnote-item">'
             }
             ,
             l.footnote_close = function() {
                 return "</li>\n"
             }
             ,
             l.footnote_anchor = function(e, t) {
                 var i = Number(e[t].id + 1).toString()
                   , s = "fnref" + i;
                 return e[t].subId > 0 && (s += ":" + e[t].subId),
                 ' <a href="#' + s + '" class="footnote-backref">â†©</a>'
             }
             ,
             l.dl_open = function() {
                 return "<dl>\n"
             }
             ,
             l.dt_open = function() {
                 return "<dt>"
             }
             ,
             l.dd_open = function() {
                 return "<dd>"
             }
             ,
             l.dl_close = function() {
                 return "</dl>\n"
             }
             ,
             l.dt_close = function() {
                 return "</dt>\n"
             }
             ,
             l.dd_close = function() {
                 return "</dd>\n"
             }
             ;
             var h = l.getBreak = function(e, t) {
                 return t = s(e, t),
                 t < e.length && "list_item_close" === e[t].type ? "" : "\n"
             }
             ;
             t.exports = l
         }
         , {
             "./common/utils": 5
         }],
         21: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t, i, s) {
                 var n, a, o, r, l, h, c, p, d, u, f, m = e.bMarks[t] + e.tShift[t], g = e.eMarks[t];
                 if (m > g)
                     return !1;
                 if (62 !== e.src.charCodeAt(m++))
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 if (s)
                     return !0;
                 for (32 === e.src.charCodeAt(m) && m++,
                 l = e.blkIndent,
                 e.blkIndent = 0,
                 r = [e.bMarks[t]],
                 e.bMarks[t] = m,
                 m = m < g ? e.skipSpaces(m) : m,
                 a = m >= g,
                 o = [e.tShift[t]],
                 e.tShift[t] = m - e.bMarks[t],
                 p = e.parser.ruler.getRules("blockquote"),
                 n = t + 1; n < i && (m = e.bMarks[n] + e.tShift[n],
                 g = e.eMarks[n],
                 !(m >= g)); n++)
                     if (62 !== e.src.charCodeAt(m++)) {
                         if (a)
                             break;
                         for (f = !1,
                         d = 0,
                         u = p.length; d < u; d++)
                             if (p[d](e, n, i, !0)) {
                                 f = !0;
                                 break
                             }
                         if (f)
                             break;
                         r.push(e.bMarks[n]),
                         o.push(e.tShift[n]),
                         e.tShift[n] = -1337
                     } else
                         32 === e.src.charCodeAt(m) && m++,
                         r.push(e.bMarks[n]),
                         e.bMarks[n] = m,
                         m = m < g ? e.skipSpaces(m) : m,
                         a = m >= g,
                         o.push(e.tShift[n]),
                         e.tShift[n] = m - e.bMarks[n];
                 for (h = e.parentType,
                 e.parentType = "blockquote",
                 e.tokens.push({
                     type: "blockquote_open",
                     lines: c = [t, 0],
                     level: e.level++
                 }),
                 e.parser.tokenize(e, t, n),
                 e.tokens.push({
                     type: "blockquote_close",
                     level: --e.level
                 }),
                 e.parentType = h,
                 c[1] = e.line,
                 d = 0; d < o.length; d++)
                     e.bMarks[d + t] = r[d],
                     e.tShift[d + t] = o[d];
                 return e.blkIndent = l,
                 !0
             }
         }
         , {}],
         22: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t, i) {
                 var s, n;
                 if (e.tShift[t] - e.blkIndent < 4)
                     return !1;
                 for (n = s = t + 1; s < i; )
                     if (e.isEmpty(s))
                         s++;
                     else {
                         if (!(e.tShift[s] - e.blkIndent >= 4))
                             break;
                         s++,
                         n = s
                     }
                 return e.line = s,
                 e.tokens.push({
                     type: "code",
                     content: e.getLines(t, n, 4 + e.blkIndent, !0),
                     block: !0,
                     lines: [t, e.line],
                     level: e.level
                 }),
                 !0
             }
         }
         , {}],
         23: [function(e, t, i) {
             "use strict";
             function s(e, t) {
                 var i, s, n = e.bMarks[t] + e.tShift[t], a = e.eMarks[t];
                 return n >= a ? -1 : (s = e.src.charCodeAt(n++),
                 126 !== s && 58 !== s ? -1 : (i = e.skipSpaces(n),
                 n === i ? -1 : i >= a ? -1 : i))
             }
             function n(e, t) {
                 var i, s, n = e.level + 2;
                 for (i = t + 2,
                 s = e.tokens.length - 2; i < s; i++)
                     e.tokens[i].level === n && "paragraph_open" === e.tokens[i].type && (e.tokens[i + 2].tight = !0,
                     e.tokens[i].tight = !0,
                     i += 2)
             }
             t.exports = function(e, t, i, a) {
                 var o, r, l, h, c, p, d, u, f, m, g, v, b, w;
                 if (a)
                     return !(e.ddIndent < 0) && s(e, t) >= 0;
                 if (d = t + 1,
                 e.isEmpty(d) && ++d > i)
                     return !1;
                 if (e.tShift[d] < e.blkIndent)
                     return !1;
                 if (o = s(e, d),
                 o < 0)
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 p = e.tokens.length,
                 e.tokens.push({
                     type: "dl_open",
                     lines: c = [t, 0],
                     level: e.level++
                 }),
                 l = t,
                 r = d;
                 e: for (; ; ) {
                     for (w = !0,
                     b = !1,
                     e.tokens.push({
                         type: "dt_open",
                         lines: [l, l],
                         level: e.level++
                     }),
                     e.tokens.push({
                         type: "inline",
                         content: e.getLines(l, l + 1, e.blkIndent, !1).trim(),
                         level: e.level + 1,
                         lines: [l, l],
                         children: []
                     }),
                     e.tokens.push({
                         type: "dt_close",
                         level: --e.level
                     }); ; ) {
                         if (e.tokens.push({
                             type: "dd_open",
                             lines: h = [d, 0],
                             level: e.level++
                         }),
                         v = e.tight,
                         f = e.ddIndent,
                         u = e.blkIndent,
                         g = e.tShift[r],
                         m = e.parentType,
                         e.blkIndent = e.ddIndent = e.tShift[r] + 2,
                         e.tShift[r] = o - e.bMarks[r],
                         e.tight = !0,
                         e.parentType = "deflist",
                         e.parser.tokenize(e, r, i, !0),
                         e.tight && !b || (w = !1),
                         b = e.line - r > 1 && e.isEmpty(e.line - 1),
                         e.tShift[r] = g,
                         e.tight = v,
                         e.parentType = m,
                         e.blkIndent = u,
                         e.ddIndent = f,
                         e.tokens.push({
                             type: "dd_close",
                             level: --e.level
                         }),
                         h[1] = d = e.line,
                         d >= i)
                             break e;
                         if (e.tShift[d] < e.blkIndent)
                             break e;
                         if (o = s(e, d),
                         o < 0)
                             break;
                         r = d
                     }
                     if (d >= i)
                         break;
                     if (l = d,
                     e.isEmpty(l))
                         break;
                     if (e.tShift[l] < e.blkIndent)
                         break;
                     if (r = l + 1,
                     r >= i)
                         break;
                     if (e.isEmpty(r) && r++,
                     r >= i)
                         break;
                     if (e.tShift[r] < e.blkIndent)
                         break;
                     if (o = s(e, r),
                     o < 0)
                         break
                 }
                 return e.tokens.push({
                     type: "dl_close",
                     level: --e.level
                 }),
                 c[1] = d,
                 e.line = d,
                 w && n(e, p),
                 !0
             }
         }
         , {}],
         24: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t, i, s) {
                 var n, a, o, r, l, h = !1, c = e.bMarks[t] + e.tShift[t], p = e.eMarks[t];
                 if (c + 3 > p)
                     return !1;
                 if (n = e.src.charCodeAt(c),
                 126 !== n && 96 !== n)
                     return !1;
                 if (l = c,
                 c = e.skipChars(c, n),
                 a = c - l,
                 a < 3)
                     return !1;
                 if (o = e.src.slice(c, p).trim(),
                 o.indexOf("`") >= 0)
                     return !1;
                 if (s)
                     return !0;
                 for (r = t; (r++,
                 !(r >= i)) && (c = l = e.bMarks[r] + e.tShift[r],
                 p = e.eMarks[r],
                 !(c < p && e.tShift[r] < e.blkIndent)); )
                     if (e.src.charCodeAt(c) === n && !(e.tShift[r] - e.blkIndent >= 4 || (c = e.skipChars(c, n),
                     c - l < a || (c = e.skipSpaces(c),
                     c < p)))) {
                         h = !0;
                         break
                     }
                 return a = e.tShift[t],
                 e.line = r + (h ? 1 : 0),
                 e.tokens.push({
                     type: "fence",
                     params: o,
                     content: e.getLines(t + 1, r, a, !0),
                     lines: [t, e.line],
                     level: e.level
                 }),
                 !0
             }
         }
         , {}],
         25: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t, i, s) {
                 var n, a, o, r, l, h = e.bMarks[t] + e.tShift[t], c = e.eMarks[t];
                 if (h + 4 > c)
                     return !1;
                 if (91 !== e.src.charCodeAt(h))
                     return !1;
                 if (94 !== e.src.charCodeAt(h + 1))
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 for (r = h + 2; r < c; r++) {
                     if (32 === e.src.charCodeAt(r))
                         return !1;
                     if (93 === e.src.charCodeAt(r))
                         break
                 }
                 return r !== h + 2 && (!(r + 1 >= c || 58 !== e.src.charCodeAt(++r)) && (!!s || (r++,
                 e.env.footnotes || (e.env.footnotes = {}),
                 e.env.footnotes.refs || (e.env.footnotes.refs = {}),
                 l = e.src.slice(h + 2, r - 2),
                 e.env.footnotes.refs[":" + l] = -1,
                 e.tokens.push({
                     type: "footnote_reference_open",
                     label: l,
                     level: e.level++
                 }),
                 n = e.bMarks[t],
                 a = e.tShift[t],
                 o = e.parentType,
                 e.tShift[t] = e.skipSpaces(r) - r,
                 e.bMarks[t] = r,
                 e.blkIndent += 4,
                 e.parentType = "footnote",
                 e.tShift[t] < e.blkIndent && (e.tShift[t] += e.blkIndent,
                 e.bMarks[t] -= e.blkIndent),
                 e.parser.tokenize(e, t, i, !0),
                 e.parentType = o,
                 e.blkIndent -= 4,
                 e.tShift[t] = a,
                 e.bMarks[t] = n,
                 e.tokens.push({
                     type: "footnote_reference_close",
                     level: --e.level
                 }),
                 !0)))
             }
         }
         , {}],
         26: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t, i, s) {
                 var n, a, o, r = e.bMarks[t] + e.tShift[t], l = e.eMarks[t];
                 if (r >= l)
                     return !1;
                 if (n = e.src.charCodeAt(r),
                 35 !== n || r >= l)
                     return !1;
                 for (a = 1,
                 n = e.src.charCodeAt(++r); 35 === n && r < l && a <= 6; )
                     a++,
                     n = e.src.charCodeAt(++r);
                 return !(a > 6 || r < l && 32 !== n) && (!!s || (l = e.skipCharsBack(l, 32, r),
                 o = e.skipCharsBack(l, 35, r),
                 o > r && 32 === e.src.charCodeAt(o - 1) && (l = o),
                 e.line = t + 1,
                 e.tokens.push({
                     type: "heading_open",
                     hLevel: a,
                     lines: [t, e.line],
                     level: e.level
                 }),
                 r < l && e.tokens.push({
                     type: "inline",
                     content: e.src.slice(r, l).trim(),
                     level: e.level + 1,
                     lines: [t, e.line],
                     children: []
                 }),
                 e.tokens.push({
                     type: "heading_close",
                     hLevel: a,
                     level: e.level
                 }),
                 !0))
             }
         }
         , {}],
         27: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t, i, s) {
                 var n, a, o, r = e.bMarks[t], l = e.eMarks[t];
                 if (r += e.tShift[t],
                 r > l)
                     return !1;
                 if (n = e.src.charCodeAt(r++),
                 42 !== n && 45 !== n && 95 !== n)
                     return !1;
                 for (a = 1; r < l; ) {
                     if (o = e.src.charCodeAt(r++),
                     o !== n && 32 !== o)
                         return !1;
                     o === n && a++
                 }
                 return !(a < 3) && (!!s || (e.line = t + 1,
                 e.tokens.push({
                     type: "hr",
                     lines: [t, e.line],
                     level: e.level
                 }),
                 !0))
             }
         }
         , {}],
         28: [function(e, t, i) {
             "use strict";
             function s(e) {
                 var t = 32 | e;
                 return t >= 97 && t <= 122
             }
             var n = e("../common/html_blocks")
               , a = /^<([a-zA-Z]{1,15})[\s\/>]/
               , o = /^<\/([a-zA-Z]{1,15})[\s>]/;
             t.exports = function(e, t, i, r) {
                 var l, h, c, p = e.bMarks[t], d = e.eMarks[t], u = e.tShift[t];
                 if (p += u,
                 !e.options.html)
                     return !1;
                 if (u > 3 || p + 2 >= d)
                     return !1;
                 if (60 !== e.src.charCodeAt(p))
                     return !1;
                 if (l = e.src.charCodeAt(p + 1),
                 33 === l || 63 === l) {
                     if (r)
                         return !0
                 } else {
                     if (47 !== l && !s(l))
                         return !1;
                     if (47 === l) {
                         if (h = e.src.slice(p, d).match(o),
                         !h)
                             return !1
                     } else if (h = e.src.slice(p, d).match(a),
                     !h)
                         return !1;
                     if (n[h[1].toLowerCase()] !== !0)
                         return !1;
                     if (r)
                         return !0
                 }
                 for (c = t + 1; c < e.lineMax && !e.isEmpty(c); )
                     c++;
                 return e.line = c,
                 e.tokens.push({
                     type: "htmlblock",
                     level: e.level,
                     lines: [t, e.line],
                     content: e.getLines(t, c, 0, !0)
                 }),
                 !0
             }
         }
         , {
             "../common/html_blocks": 2
         }],
         29: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t, i) {
                 var s, n, a, o = t + 1;
                 return !(o >= i) && (!(e.tShift[o] < e.blkIndent) && (!(e.tShift[o] - e.blkIndent > 3) && (n = e.bMarks[o] + e.tShift[o],
                 a = e.eMarks[o],
                 !(n >= a) && (s = e.src.charCodeAt(n),
                 (45 === s || 61 === s) && (n = e.skipChars(n, s),
                 n = e.skipSpaces(n),
                 !(n < a) && (n = e.bMarks[t] + e.tShift[t],
                 e.line = o + 1,
                 e.tokens.push({
                     type: "heading_open",
                     hLevel: 61 === s ? 1 : 2,
                     lines: [t, e.line],
                     level: e.level
                 }),
                 e.tokens.push({
                     type: "inline",
                     content: e.src.slice(n, e.eMarks[t]).trim(),
                     level: e.level + 1,
                     lines: [t, e.line - 1],
                     children: []
                 }),
                 e.tokens.push({
                     type: "heading_close",
                     hLevel: 61 === s ? 1 : 2,
                     level: e.level
                 }),
                 !0))))))
             }
         }
         , {}],
         30: [function(e, t, i) {
             "use strict";
             function s(e, t) {
                 var i, s, n;
                 return s = e.bMarks[t] + e.tShift[t],
                 n = e.eMarks[t],
                 s >= n ? -1 : (i = e.src.charCodeAt(s++),
                 42 !== i && 45 !== i && 43 !== i ? -1 : s < n && 32 !== e.src.charCodeAt(s) ? -1 : s)
             }
             function n(e, t) {
                 var i, s = e.bMarks[t] + e.tShift[t], n = e.eMarks[t];
                 if (s + 1 >= n)
                     return -1;
                 if (i = e.src.charCodeAt(s++),
                 i < 48 || i > 57)
                     return -1;
                 for (; ; ) {
                     if (s >= n)
                         return -1;
                     if (i = e.src.charCodeAt(s++),
                     !(i >= 48 && i <= 57)) {
                         if (41 === i || 46 === i)
                             break;
                         return -1
                     }
                 }
                 return s < n && 32 !== e.src.charCodeAt(s) ? -1 : s
             }
             function a(e, t) {
                 var i, s, n = e.level + 2;
                 for (i = t + 2,
                 s = e.tokens.length - 2; i < s; i++)
                     e.tokens[i].level === n && "paragraph_open" === e.tokens[i].type && (e.tokens[i + 2].tight = !0,
                     e.tokens[i].tight = !0,
                     i += 2)
             }
             t.exports = function(e, t, i, o) {
                 var r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $, E, M, T = !0;
                 if ((f = n(e, t)) >= 0)
                     w = !0;
                 else {
                     if (!((f = s(e, t)) >= 0))
                         return !1;
                     w = !1
                 }
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 if (b = e.src.charCodeAt(f - 1),
                 o)
                     return !0;
                 for (C = e.tokens.length,
                 w ? (u = e.bMarks[t] + e.tShift[t],
                 v = Number(e.src.substr(u, f - u - 1)),
                 e.tokens.push({
                     type: "ordered_list_open",
                     order: v,
                     lines: _ = [t, 0],
                     level: e.level++
                 })) : e.tokens.push({
                     type: "bullet_list_open",
                     lines: _ = [t, 0],
                     level: e.level++
                 }),
                 r = t,
                 k = !1,
                 x = e.parser.ruler.getRules("list"); !(!(r < i) || (y = e.skipSpaces(f),
                 m = e.eMarks[r],
                 g = y >= m ? 1 : y - f,
                 g > 4 && (g = 1),
                 g < 1 && (g = 1),
                 l = f - e.bMarks[r] + g,
                 e.tokens.push({
                     type: "list_item_open",
                     lines: S = [t, 0],
                     level: e.level++
                 }),
                 c = e.blkIndent,
                 p = e.tight,
                 h = e.tShift[t],
                 d = e.parentType,
                 e.tShift[t] = y - e.bMarks[t],
                 e.blkIndent = l,
                 e.tight = !0,
                 e.parentType = "list",
                 e.parser.tokenize(e, t, i, !0),
                 e.tight && !k || (T = !1),
                 k = e.line - t > 1 && e.isEmpty(e.line - 1),
                 e.blkIndent = c,
                 e.tShift[t] = h,
                 e.tight = p,
                 e.parentType = d,
                 e.tokens.push({
                     type: "list_item_close",
                     level: --e.level
                 }),
                 r = t = e.line,
                 S[1] = r,
                 y = e.bMarks[t],
                 r >= i) || e.isEmpty(r) || e.tShift[r] < e.blkIndent); ) {
                     for (M = !1,
                     $ = 0,
                     E = x.length; $ < E; $++)
                         if (x[$](e, r, i, !0)) {
                             M = !0;
                             break
                         }
                     if (M)
                         break;
                     if (w) {
                         if (f = n(e, r),
                         f < 0)
                             break
                     } else if (f = s(e, r),
                     f < 0)
                         break;
                     if (b !== e.src.charCodeAt(f - 1))
                         break
                 }
                 return e.tokens.push({
                     type: w ? "ordered_list_close" : "bullet_list_close",
                     level: --e.level
                 }),
                 _[1] = r,
                 e.line = r,
                 T && a(e, C),
                 !0
             }
         }
         , {}],
         31: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t) {
                 var i, s, n, a, o, r, l = t + 1;
                 if (i = e.lineMax,
                 l < i && !e.isEmpty(l))
                     for (r = e.parser.ruler.getRules("paragraph"); l < i && !e.isEmpty(l); l++)
                         if (!(e.tShift[l] - e.blkIndent > 3)) {
                             for (n = !1,
                             a = 0,
                             o = r.length; a < o; a++)
                                 if (r[a](e, l, i, !0)) {
                                     n = !0;
                                     break
                                 }
                             if (n)
                                 break
                         }
                 return s = e.getLines(t, l, e.blkIndent, !1).trim(),
                 e.line = l,
                 s.length && (e.tokens.push({
                     type: "paragraph_open",
                     tight: !1,
                     lines: [t, e.line],
                     level: e.level
                 }),
                 e.tokens.push({
                     type: "inline",
                     content: s,
                     level: e.level + 1,
                     lines: [t, e.line],
                     children: []
                 }),
                 e.tokens.push({
                     type: "paragraph_close",
                     tight: !1,
                     level: e.level
                 })),
                 !0
             }
         }
         , {}],
         32: [function(e, t, i) {
             "use strict";
             function s(e, t, i, s, n) {
                 var a, o, r, l, h, c, p;
                 for (this.src = e,
                 this.parser = t,
                 this.options = i,
                 this.env = s,
                 this.tokens = n,
                 this.bMarks = [],
                 this.eMarks = [],
                 this.tShift = [],
                 this.blkIndent = 0,
                 this.line = 0,
                 this.lineMax = 0,
                 this.tight = !1,
                 this.parentType = "root",
                 this.ddIndent = -1,
                 this.level = 0,
                 this.result = "",
                 o = this.src,
                 c = 0,
                 p = !1,
                 r = l = c = 0,
                 h = o.length; l < h; l++) {
                     if (a = o.charCodeAt(l),
                     !p) {
                         if (32 === a) {
                             c++;
                             continue
                         }
                         p = !0
                     }
                     10 !== a && l !== h - 1 || (10 !== a && l++,
                     this.bMarks.push(r),
                     this.eMarks.push(l),
                     this.tShift.push(c),
                     p = !1,
                     c = 0,
                     r = l + 1)
                 }
                 this.bMarks.push(o.length),
                 this.eMarks.push(o.length),
                 this.tShift.push(0),
                 this.lineMax = this.bMarks.length - 1
             }
             s.prototype.isEmpty = function(e) {
                 return this.bMarks[e] + this.tShift[e] >= this.eMarks[e]
             }
             ,
             s.prototype.skipEmptyLines = function(e) {
                 for (var t = this.lineMax; e < t && !(this.bMarks[e] + this.tShift[e] < this.eMarks[e]); e++)
                     ;
                 return e
             }
             ,
             s.prototype.skipSpaces = function(e) {
                 for (var t = this.src.length; e < t && 32 === this.src.charCodeAt(e); e++)
                     ;
                 return e
             }
             ,
             s.prototype.skipChars = function(e, t) {
                 for (var i = this.src.length; e < i && this.src.charCodeAt(e) === t; e++)
                     ;
                 return e
             }
             ,
             s.prototype.skipCharsBack = function(e, t, i) {
                 if (e <= i)
                     return e;
                 for (; e > i; )
                     if (t !== this.src.charCodeAt(--e))
                         return e + 1;
                 return e
             }
             ,
             s.prototype.getLines = function(e, t, i, s) {
                 var n, a, o, r, l, h = e;
                 if (e >= t)
                     return "";
                 if (h + 1 === t)
                     return a = this.bMarks[h] + Math.min(this.tShift[h], i),
                     o = s ? this.eMarks[h] + 1 : this.eMarks[h],
                     this.src.slice(a, o);
                 for (r = new Array(t - e),
                 n = 0; h < t; h++,
                 n++)
                     l = this.tShift[h],
                     l > i && (l = i),
                     l < 0 && (l = 0),
                     a = this.bMarks[h] + l,
                     o = h + 1 < t || s ? this.eMarks[h] + 1 : this.eMarks[h],
                     r[n] = this.src.slice(a, o);
                 return r.join("")
             }
             ,
             t.exports = s
         }
         , {}],
         33: [function(e, t, i) {
             "use strict";
             function s(e, t) {
                 var i = e.bMarks[t] + e.blkIndent
                   , s = e.eMarks[t];
                 return e.src.substr(i, s - i)
             }
             t.exports = function(e, t, i, n) {
                 var a, o, r, l, h, c, p, d, u, f, m;
                 if (t + 2 > i)
                     return !1;
                 if (h = t + 1,
                 e.tShift[h] < e.blkIndent)
                     return !1;
                 if (r = e.bMarks[h] + e.tShift[h],
                 r >= e.eMarks[h])
                     return !1;
                 if (a = e.src.charCodeAt(r),
                 124 !== a && 45 !== a && 58 !== a)
                     return !1;
                 if (o = s(e, t + 1),
                 !/^[-:| ]+$/.test(o))
                     return !1;
                 if (c = o.split("|"),
                 c <= 2)
                     return !1;
                 for (d = [],
                 l = 0; l < c.length; l++) {
                     if (u = c[l].trim(),
                     !u) {
                         if (0 === l || l === c.length - 1)
                             continue;
                         return !1
                     }
                     if (!/^:?-+:?$/.test(u))
                         return !1;
                     58 === u.charCodeAt(u.length - 1) ? d.push(58 === u.charCodeAt(0) ? "center" : "right") : 58 === u.charCodeAt(0) ? d.push("left") : d.push("")
                 }
                 if (o = s(e, t).trim(),
                 o.indexOf("|") === -1)
                     return !1;
                 if (c = o.replace(/^\||\|$/g, "").split("|"),
                 d.length !== c.length)
                     return !1;
                 if (n)
                     return !0;
                 for (e.tokens.push({
                     type: "table_open",
                     lines: f = [t, 0],
                     level: e.level++
                 }),
                 e.tokens.push({
                     type: "thead_open",
                     lines: [t, t + 1],
                     level: e.level++
                 }),
                 e.tokens.push({
                     type: "tr_open",
                     lines: [t, t + 1],
                     level: e.level++
                 }),
                 l = 0; l < c.length; l++)
                     e.tokens.push({
                         type: "th_open",
                         align: d[l],
                         lines: [t, t + 1],
                         level: e.level++
                     }),
                     e.tokens.push({
                         type: "inline",
                         content: c[l].trim(),
                         lines: [t, t + 1],
                         level: e.level,
                         children: []
                     }),
                     e.tokens.push({
                         type: "th_close",
                         level: --e.level
                     });
                 for (e.tokens.push({
                     type: "tr_close",
                     level: --e.level
                 }),
                 e.tokens.push({
                     type: "thead_close",
                     level: --e.level
                 }),
                 e.tokens.push({
                     type: "tbody_open",
                     lines: m = [t + 2, 0],
                     level: e.level++
                 }),
                 h = t + 2; h < i && !(e.tShift[h] < e.blkIndent) && (o = s(e, h).trim(),
                 o.indexOf("|") !== -1); h++) {
                     for (c = o.replace(/^\||\|$/g, "").split("|"),
                     e.tokens.push({
                         type: "tr_open",
                         level: e.level++
                     }),
                     l = 0; l < c.length; l++)
                         e.tokens.push({
                             type: "td_open",
                             align: d[l],
                             level: e.level++
                         }),
                         p = c[l].substring(124 === c[l].charCodeAt(0) ? 1 : 0, 124 === c[l].charCodeAt(c[l].length - 1) ? c[l].length - 1 : c[l].length).trim(),
                         e.tokens.push({
                             type: "inline",
                             content: p,
                             level: e.level,
                             children: []
                         }),
                         e.tokens.push({
                             type: "td_close",
                             level: --e.level
                         });
                     e.tokens.push({
                         type: "tr_close",
                         level: --e.level
                     })
                 }
                 return e.tokens.push({
                     type: "tbody_close",
                     level: --e.level
                 }),
                 e.tokens.push({
                     type: "table_close",
                     level: --e.level
                 }),
                 f[1] = m[1] = h,
                 e.line = h,
                 !0
             }
         }
         , {}],
         34: [function(e, t, i) {
             "use strict";
             function s(e, t, i, s) {
                 var o, r, l, h, c, p;
                 if (42 !== e.charCodeAt(0))
                     return -1;
                 if (91 !== e.charCodeAt(1))
                     return -1;
                 if (e.indexOf("]:") === -1)
                     return -1;
                 if (o = new n(e,t,i,s,[]),
                 r = a(o, 1),
                 r < 0 || 58 !== e.charCodeAt(r + 1))
                     return -1;
                 for (h = o.posMax,
                 l = r + 2; l < h && 10 !== o.src.charCodeAt(l); l++)
                     ;
                 return c = e.slice(2, r),
                 p = e.slice(r + 2, l).trim(),
                 0 === p.length ? -1 : (s.abbreviations || (s.abbreviations = {}),
                 "undefined" == typeof s.abbreviations[":" + c] && (s.abbreviations[":" + c] = p),
                 l)
             }
             var n = e("../rules_inline/state_inline")
               , a = e("../helpers/parse_link_label");
             t.exports = function(e) {
                 var t, i, n, a, o = e.tokens;
                 if (!e.inlineMode)
                     for (t = 1,
                     i = o.length - 1; t < i; t++)
                         if ("paragraph_open" === o[t - 1].type && "inline" === o[t].type && "paragraph_close" === o[t + 1].type) {
                             for (n = o[t].content; n.length && (a = s(n, e.inline, e.options, e.env),
                             !(a < 0)); )
                                 n = n.slice(a).trim();
                             o[t].content = n,
                             n.length || (o[t - 1].tight = !0,
                             o[t + 1].tight = !0)
                         }
             }
         }
         , {
             "../helpers/parse_link_label": 12,
             "../rules_inline/state_inline": 56
         }],
         35: [function(e, t, i) {
             "use strict";
             function s(e) {
                 return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1")
             }
             var n = " \n()[]'\".,!?-";
             t.exports = function(e) {
                 var t, i, a, o, r, l, h, c, p, d, u, f, m = e.tokens;
                 if (e.env.abbreviations)
                     for (e.env.abbrRegExp || (f = "(^|[" + n.split("").map(s).join("") + "])(" + Object.keys(e.env.abbreviations).map(function(e) {
                         return e.substr(1)
                     }).sort(function(e, t) {
                         return t.length - e.length
                     }).map(s).join("|") + ")($|[" + n.split("").map(s).join("") + "])",
                     e.env.abbrRegExp = new RegExp(f,"g")),
                     d = e.env.abbrRegExp,
                     i = 0,
                     a = m.length; i < a; i++)
                         if ("inline" === m[i].type)
                             for (o = m[i].children,
                             t = o.length - 1; t >= 0; t--)
                                 if (r = o[t],
                                 "text" === r.type) {
                                     for (c = 0,
                                     l = r.content,
                                     d.lastIndex = 0,
                                     p = r.level,
                                     h = []; u = d.exec(l); )
                                         d.lastIndex > c && h.push({
                                             type: "text",
                                             content: l.slice(c, u.index + u[1].length),
                                             level: p
                                         }),
                                         h.push({
                                             type: "abbr_open",
                                             title: e.env.abbreviations[":" + u[2]],
                                             level: p++
                                         }),
                                         h.push({
                                             type: "text",
                                             content: u[2],
                                             level: p
                                         }),
                                         h.push({
                                             type: "abbr_close",
                                             level: --p
                                         }),
                                         c = d.lastIndex - u[3].length;
                                     h.length && (c < l.length && h.push({
                                         type: "text",
                                         content: l.slice(c),
                                         level: p
                                     }),
                                     m[i].children = o = [].concat(o.slice(0, t), h, o.slice(t + 1)))
                                 }
             }
         }
         , {}],
         36: [function(e, t, i) {
             "use strict";
             t.exports = function(e) {
                 e.inlineMode ? e.tokens.push({
                     type: "inline",
                     content: e.src.replace(/\n/g, " ").trim(),
                     level: 0,
                     lines: [0, 1],
                     children: []
                 }) : e.block.parse(e.src, e.options, e.env, e.tokens)
             }
         }
         , {}],
         37: [function(e, t, i) {
             "use strict";
             t.exports = function(e) {
                 var t, i, s, n, a, o, r, l, h, c = 0, p = !1, d = {};
                 if (e.env.footnotes && (e.tokens = e.tokens.filter(function(e) {
                     return "footnote_reference_open" === e.type ? (p = !0,
                     l = [],
                     h = e.label,
                     !1) : "footnote_reference_close" === e.type ? (p = !1,
                     d[":" + h] = l,
                     !1) : (p && l.push(e),
                     !p)
                 }),
                 e.env.footnotes.list)) {
                     for (o = e.env.footnotes.list,
                     e.tokens.push({
                         type: "footnote_block_open",
                         level: c++
                     }),
                     t = 0,
                     i = o.length; t < i; t++) {
                         for (e.tokens.push({
                             type: "footnote_open",
                             id: t,
                             level: c++
                         }),
                         o[t].tokens ? (r = [],
                         r.push({
                             type: "paragraph_open",
                             tight: !1,
                             level: c++
                         }),
                         r.push({
                             type: "inline",
                             content: "",
                             level: c,
                             children: o[t].tokens
                         }),
                         r.push({
                             type: "paragraph_close",
                             tight: !1,
                             level: --c
                         })) : o[t].label && (r = d[":" + o[t].label]),
                         e.tokens = e.tokens.concat(r),
                         a = "paragraph_close" === e.tokens[e.tokens.length - 1].type ? e.tokens.pop() : null,
                         n = o[t].count > 0 ? o[t].count : 1,
                         s = 0; s < n; s++)
                             e.tokens.push({
                                 type: "footnote_anchor",
                                 id: t,
                                 subId: s,
                                 level: c
                             });
                         a && e.tokens.push(a),
                         e.tokens.push({
                             type: "footnote_close",
                             level: --c
                         })
                     }
                     e.tokens.push({
                         type: "footnote_block_close",
                         level: --c
                     })
                 }
             }
         }
         , {}],
         38: [function(e, t, i) {
             "use strict";
             t.exports = function(e) {
                 var t, i, s, n = e.tokens;
                 for (i = 0,
                 s = n.length; i < s; i++)
                     t = n[i],
                     "inline" === t.type && e.inline.parse(t.content, e.options, e.env, t.children)
             }
         }
         , {}],
         39: [function(e, t, i) {
             "use strict";
             function s(e) {
                 return /^<a[>\s]/i.test(e)
             }
             function n(e) {
                 return /^<\/a\s*>/i.test(e)
             }
             function a() {
                 var e = []
                   , t = new o({
                     stripPrefix: !1,
                     url: !0,
                     email: !0,
                     twitter: !1,
                     replaceFn: function(t, i) {
                         switch (i.getType()) {
                         case "url":
                             e.push({
                                 text: i.matchedText,
                                 url: i.getUrl()
                             });
                             break;
                         case "email":
                             e.push({
                                 text: i.matchedText,
                                 url: "mailto:" + i.getEmail().replace(/^mailto:/i, "")
                             })
                         }
                         return !1
                     }
                 });
                 return {
                     links: e,
                     autolinker: t
                 }
             }
             var o = e("autolinker")
               , r = /www|@|\:\/\//;
             t.exports = function(e) {
                 var t, i, o, l, h, c, p, d, u, f, m, g, v, b = e.tokens, w = null;
                 if (e.options.linkify)
                     for (i = 0,
                     o = b.length; i < o; i++)
                         if ("inline" === b[i].type)
                             for (l = b[i].children,
                             m = 0,
                             t = l.length - 1; t >= 0; t--)
                                 if (h = l[t],
                                 "link_close" !== h.type) {
                                     if ("htmltag" === h.type && (s(h.content) && m > 0 && m--,
                                     n(h.content) && m++),
                                     !(m > 0) && "text" === h.type && r.test(h.content)) {
                                         if (w || (w = a(),
                                         g = w.links,
                                         v = w.autolinker),
                                         c = h.content,
                                         g.length = 0,
                                         v.link(c),
                                         !g.length)
                                             continue;
                                         for (p = [],
                                         f = h.level,
                                         d = 0; d < g.length; d++)
                                             e.inline.validateLink(g[d].url) && (u = c.indexOf(g[d].text),
                                             u && (f = f,
                                             p.push({
                                                 type: "text",
                                                 content: c.slice(0, u),
                                                 level: f
                                             })),
                                             p.push({
                                                 type: "link_open",
                                                 href: g[d].url,
                                                 title: "",
                                                 level: f++
                                             }),
                                             p.push({
                                                 type: "text",
                                                 content: g[d].text,
                                                 level: f
                                             }),
                                             p.push({
                                                 type: "link_close",
                                                 level: --f
                                             }),
                                             c = c.slice(u + g[d].text.length));
                                         c.length && p.push({
                                             type: "text",
                                             content: c,
                                             level: f
                                         }),
                                         b[i].children = l = [].concat(l.slice(0, t), p, l.slice(t + 1))
                                     }
                                 } else
                                     for (t--; l[t].level !== h.level && "link_open" !== l[t].type; )
                                         t--
             }
         }
         , {
             autolinker: 60
         }],
         40: [function(e, t, i) {
             "use strict";
             function s(e, t, i, s) {
                 var h, c, p, d, u, f, m, g, v;
                 if (91 !== e.charCodeAt(0))
                     return -1;
                 if (e.indexOf("]:") === -1)
                     return -1;
                 if (h = new n(e,t,i,s,[]),
                 c = a(h, 0),
                 c < 0 || 58 !== e.charCodeAt(c + 1))
                     return -1;
                 for (d = h.posMax,
                 p = c + 2; p < d && (u = h.src.charCodeAt(p),
                 32 === u || 10 === u); p++)
                     ;
                 if (!o(h, p))
                     return -1;
                 for (m = h.linkContent,
                 p = h.pos,
                 f = p,
                 p += 1; p < d && (u = h.src.charCodeAt(p),
                 32 === u || 10 === u); p++)
                     ;
                 for (p < d && f !== p && r(h, p) ? (g = h.linkContent,
                 p = h.pos) : (g = "",
                 p = f); p < d && 32 === h.src.charCodeAt(p); )
                     p++;
                 return p < d && 10 !== h.src.charCodeAt(p) ? -1 : (v = l(e.slice(1, c)),
                 "undefined" == typeof s.references[v] && (s.references[v] = {
                     title: g,
                     href: m
                 }),
                 p)
             }
             var n = e("../rules_inline/state_inline")
               , a = e("../helpers/parse_link_label")
               , o = e("../helpers/parse_link_destination")
               , r = e("../helpers/parse_link_title")
               , l = e("../helpers/normalize_reference");
             t.exports = function(e) {
                 var t, i, n, a, o = e.tokens;
                 if (e.env.references = e.env.references || {},
                 !e.inlineMode)
                     for (t = 1,
                     i = o.length - 1; t < i; t++)
                         if ("inline" === o[t].type && "paragraph_open" === o[t - 1].type && "paragraph_close" === o[t + 1].type) {
                             for (n = o[t].content; n.length && (a = s(n, e.inline, e.options, e.env),
                             !(a < 0)); )
                                 n = n.slice(a).trim();
                             o[t].content = n,
                             n.length || (o[t - 1].tight = !0,
                             o[t + 1].tight = !0)
                         }
             }
         }
         , {
             "../helpers/normalize_reference": 10,
             "../helpers/parse_link_destination": 11,
             "../helpers/parse_link_label": 12,
             "../helpers/parse_link_title": 13,
             "../rules_inline/state_inline": 56
         }],
         41: [function(e, t, i) {
             "use strict";
             function s(e) {
                 return e.indexOf("(") < 0 ? e : e.replace(a, function(e, t) {
                     return o[t.toLowerCase()]
                 })
             }
             var n = /\+-|\.\.|\?\?\?\?|!!!!|,,|--/
               , a = /\((c|tm|r|p)\)/gi
               , o = {
                 c: "Â©",
                 r: "Â®",
                 p: "Â§",
                 tm: "â„¢"
             };
             t.exports = function(e) {
                 var t, i, a, o, r;
                 if (e.options.typographer)
                     for (r = e.tokens.length - 1; r >= 0; r--)
                         if ("inline" === e.tokens[r].type)
                             for (o = e.tokens[r].children,
                             t = o.length - 1; t >= 0; t--)
                                 i = o[t],
                                 "text" === i.type && (a = i.content,
                                 a = s(a),
                                 n.test(a) && (a = a.replace(/\+-/g, "Â±").replace(/\.{2,}/g, "â€¦").replace(/([?!])â€¦/g, "$1..").replace(/([?!]){4,}/g, "$1$1$1").replace(/,{2,}/g, ",").replace(/(^|[^-])---([^-]|$)/gm, "$1—$2").replace(/(^|\s)--(\s|$)/gm, "$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm, "$1–$2")),
                                 i.content = a)
             }
         }
         , {}],
         42: [function(e, t, i) {
             "use strict";
             function s(e, t) {
                 return !(t < 0 || t >= e.length) && !r.test(e[t])
             }
             function n(e, t, i) {
                 return e.substr(0, t) + i + e.substr(t + 1)
             }
             var a = /['"]/
               , o = /['"]/g
               , r = /[-\s()\[\]]/
               , l = "â€™";
             t.exports = function(e) {
                 var t, i, r, h, c, p, d, u, f, m, g, v, b, w, y, C, k;
                 if (e.options.typographer)
                     for (k = [],
                     y = e.tokens.length - 1; y >= 0; y--)
                         if ("inline" === e.tokens[y].type)
                             for (C = e.tokens[y].children,
                             k.length = 0,
                             t = 0; t < C.length; t++)
                                 if (i = C[t],
                                 "text" === i.type && !a.test(i.text)) {
                                     for (d = C[t].level,
                                     b = k.length - 1; b >= 0 && !(k[b].level <= d); b--)
                                         ;
                                     k.length = b + 1,
                                     r = i.content,
                                     c = 0,
                                     p = r.length;
                                     e: for (; c < p && (o.lastIndex = c,
                                     h = o.exec(r)); )
                                         if (u = !s(r, h.index - 1),
                                         c = h.index + 1,
                                         w = "'" === h[0],
                                         f = !s(r, c),
                                         f || u) {
                                             if (g = !f,
                                             v = !u)
                                                 for (b = k.length - 1; b >= 0 && (m = k[b],
                                                 !(k[b].level < d)); b--)
                                                     if (m.single === w && k[b].level === d) {
                                                         m = k[b],
                                                         w ? (C[m.token].content = n(C[m.token].content, m.pos, e.options.quotes[2]),
                                                         i.content = n(i.content, h.index, e.options.quotes[3])) : (C[m.token].content = n(C[m.token].content, m.pos, e.options.quotes[0]),
                                                         i.content = n(i.content, h.index, e.options.quotes[1])),
                                                         k.length = b;
                                                         continue e
                                                     }
                                             g ? k.push({
                                                 token: t,
                                                 pos: h.index,
                                                 single: w,
                                                 level: d
                                             }) : v && w && (i.content = n(i.content, h.index, l))
                                         } else
                                             w && (i.content = n(i.content, h.index, l))
                                 }
             }
         }
         , {}],
         43: [function(e, t, i) {
             "use strict";
             var s = e("../common/url_schemas")
               , n = e("../helpers/normalize_link")
               , a = /^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/
               , o = /^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;
             t.exports = function(e, t) {
                 var i, r, l, h, c, p = e.pos;
                 return 60 === e.src.charCodeAt(p) && (i = e.src.slice(p),
                 !(i.indexOf(">") < 0) && ((r = i.match(o)) ? !(s.indexOf(r[1].toLowerCase()) < 0) && (h = r[0].slice(1, -1),
                 c = n(h),
                 !!e.parser.validateLink(h) && (t || (e.push({
                     type: "link_open",
                     href: c,
                     level: e.level
                 }),
                 e.push({
                     type: "text",
                     content: h,
                     level: e.level + 1
                 }),
                 e.push({
                     type: "link_close",
                     level: e.level
                 })),
                 e.pos += r[0].length,
                 !0)) : (l = i.match(a),
                 !!l && (h = l[0].slice(1, -1),
                 c = n("mailto:" + h),
                 !!e.parser.validateLink(c) && (t || (e.push({
                     type: "link_open",
                     href: c,
                     level: e.level
                 }),
                 e.push({
                     type: "text",
                     content: h,
                     level: e.level + 1
                 }),
                 e.push({
                     type: "link_close",
                     level: e.level
                 })),
                 e.pos += l[0].length,
                 !0)))))
             }
         }
         , {
             "../common/url_schemas": 4,
             "../helpers/normalize_link": 9
         }],
         44: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t) {
                 var i, s, n, a, o, r = e.pos, l = e.src.charCodeAt(r);
                 if (96 !== l)
                     return !1;
                 for (i = r,
                 r++,
                 s = e.posMax; r < s && 96 === e.src.charCodeAt(r); )
                     r++;
                 for (n = e.src.slice(i, r),
                 a = o = r; (a = e.src.indexOf("`", o)) !== -1; ) {
                     for (o = a + 1; o < s && 96 === e.src.charCodeAt(o); )
                         o++;
                     if (o - a === n.length)
                         return t || e.push({
                             type: "code",
                             content: e.src.slice(r, a).replace(/[ \n]+/g, " ").trim(),
                             block: !1,
                             level: e.level
                         }),
                         e.pos = o,
                         !0
                 }
                 return t || (e.pending += n),
                 e.pos += n.length,
                 !0
             }
         }
         , {}],
         45: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t) {
                 var i, s, n, a, o, r = e.posMax, l = e.pos;
                 if (126 !== e.src.charCodeAt(l))
                     return !1;
                 if (t)
                     return !1;
                 if (l + 4 >= r)
                     return !1;
                 if (126 !== e.src.charCodeAt(l + 1))
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 if (a = l > 0 ? e.src.charCodeAt(l - 1) : -1,
                 o = e.src.charCodeAt(l + 2),
                 126 === a)
                     return !1;
                 if (126 === o)
                     return !1;
                 if (32 === o || 10 === o)
                     return !1;
                 for (s = l + 2; s < r && 126 === e.src.charCodeAt(s); )
                     s++;
                 if (s > l + 3)
                     return e.pos += s - l,
                     t || (e.pending += e.src.slice(l, s)),
                     !0;
                 for (e.pos = l + 2,
                 n = 1; e.pos + 1 < r; ) {
                     if (126 === e.src.charCodeAt(e.pos) && 126 === e.src.charCodeAt(e.pos + 1) && (a = e.src.charCodeAt(e.pos - 1),
                     o = e.pos + 2 < r ? e.src.charCodeAt(e.pos + 2) : -1,
                     126 !== o && 126 !== a && (32 !== a && 10 !== a ? n-- : 32 !== o && 10 !== o && n++,
                     n <= 0))) {
                         i = !0;
                         break
                     }
                     e.parser.skipToken(e)
                 }
                 return i ? (e.posMax = e.pos,
                 e.pos = l + 2,
                 t || (e.push({
                     type: "del_open",
                     level: e.level++
                 }),
                 e.parser.tokenize(e),
                 e.push({
                     type: "del_close",
                     level: --e.level
                 })),
                 e.pos = e.posMax + 2,
                 e.posMax = r,
                 !0) : (e.pos = l,
                 !1)
             }
         }
         , {}],
         46: [function(e, t, i) {
             "use strict";
             function s(e) {
                 return e >= 48 && e <= 57 || e >= 65 && e <= 90 || e >= 97 && e <= 122
             }
             function n(e, t) {
                 var i, n, a, o = t, r = !0, l = !0, h = e.posMax, c = e.src.charCodeAt(t);
                 for (i = t > 0 ? e.src.charCodeAt(t - 1) : -1; o < h && e.src.charCodeAt(o) === c; )
                     o++;
                 return o >= h && (r = !1),
                 a = o - t,
                 a >= 4 ? r = l = !1 : (n = o < h ? e.src.charCodeAt(o) : -1,
                 32 !== n && 10 !== n || (r = !1),
                 32 !== i && 10 !== i || (l = !1),
                 95 === c && (s(i) && (r = !1),
                 s(n) && (l = !1))),
                 {
                     can_open: r,
                     can_close: l,
                     delims: a
                 }
             }
             t.exports = function(e, t) {
                 var i, s, a, o, r, l, h, c = e.posMax, p = e.pos, d = e.src.charCodeAt(p);
                 if (95 !== d && 42 !== d)
                     return !1;
                 if (t)
                     return !1;
                 if (h = n(e, p),
                 i = h.delims,
                 !h.can_open)
                     return e.pos += i,
                     t || (e.pending += e.src.slice(p, e.pos)),
                     !0;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 for (e.pos = p + i,
                 l = [i]; e.pos < c; )
                     if (e.src.charCodeAt(e.pos) !== d)
                         e.parser.skipToken(e);
                     else {
                         if (h = n(e, e.pos),
                         s = h.delims,
                         h.can_close) {
                             for (o = l.pop(),
                             r = s; o !== r; ) {
                                 if (r < o) {
                                     l.push(o - r);
                                     break
                                 }
                                 if (r -= o,
                                 0 === l.length)
                                     break;
                                 e.pos += o,
                                 o = l.pop()
                             }
                             if (0 === l.length) {
                                 i = o,
                                 a = !0;
                                 break
                             }
                             e.pos += s;
                             continue
                         }
                         h.can_open && l.push(s),
                         e.pos += s
                     }
                 return a ? (e.posMax = e.pos,
                 e.pos = p + i,
                 t || (2 !== i && 3 !== i || e.push({
                     type: "strong_open",
                     level: e.level++
                 }),
                 1 !== i && 3 !== i || e.push({
                     type: "em_open",
                     level: e.level++
                 }),
                 e.parser.tokenize(e),
                 1 !== i && 3 !== i || e.push({
                     type: "em_close",
                     level: --e.level
                 }),
                 2 !== i && 3 !== i || e.push({
                     type: "strong_close",
                     level: --e.level
                 })),
                 e.pos = e.posMax + i,
                 e.posMax = c,
                 !0) : (e.pos = p,
                 !1)
             }
         }
         , {}],
         47: [function(e, t, i) {
             "use strict";
             var s = e("../common/entities")
               , n = e("../common/utils").has
               , a = e("../common/utils").isValidEntityCode
               , o = e("../common/utils").fromCodePoint
               , r = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i
               , l = /^&([a-z][a-z0-9]{1,31});/i;
             t.exports = function(e, t) {
                 var i, h, c, p = e.pos, d = e.posMax;
                 if (38 !== e.src.charCodeAt(p))
                     return !1;
                 if (p + 1 < d)
                     if (i = e.src.charCodeAt(p + 1),
                     35 === i) {
                         if (c = e.src.slice(p).match(r))
                             return t || (h = "x" === c[1][0].toLowerCase() ? parseInt(c[1].slice(1), 16) : parseInt(c[1], 10),
                             e.pending += o(a(h) ? h : 65533)),
                             e.pos += c[0].length,
                             !0
                     } else if (c = e.src.slice(p).match(l),
                     c && n(s, c[1]))
                         return t || (e.pending += s[c[1]]),
                         e.pos += c[0].length,
                         !0;
                 return t || (e.pending += "&"),
                 e.pos++,
                 !0
             }
         }
         , {
             "../common/entities": 1,
             "../common/utils": 5
         }],
         48: [function(e, t, i) {
             "use strict";
             for (var s = [], n = 0; n < 256; n++)
                 s.push(0);
             "\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e) {
                 s[e.charCodeAt(0)] = 1
             }),
             t.exports = function(e, t) {
                 var i, n = e.pos, a = e.posMax;
                 if (92 !== e.src.charCodeAt(n))
                     return !1;
                 if (n++,
                 n < a) {
                     if (i = e.src.charCodeAt(n),
                     i < 256 && 0 !== s[i])
                         return t || (e.pending += e.src[n]),
                         e.pos += 2,
                         !0;
                     if (10 === i) {
                         for (t || e.push({
                             type: "hardbreak",
                             level: e.level
                         }),
                         n++; n < a && 32 === e.src.charCodeAt(n); )
                             n++;
                         return e.pos = n,
                         !0
                     }
                 }
                 return t || (e.pending += "\\"),
                 e.pos++,
                 !0
             }
         }
         , {}],
         49: [function(e, t, i) {
             "use strict";
             var s = e("../helpers/parse_link_label");
             t.exports = function(e, t) {
                 var i, n, a, o, r = e.posMax, l = e.pos;
                 return !(l + 2 >= r) && (94 === e.src.charCodeAt(l) && (91 === e.src.charCodeAt(l + 1) && (!(e.level >= e.options.maxNesting) && (i = l + 2,
                 n = s(e, l + 1),
                 !(n < 0) && (t || (e.env.footnotes || (e.env.footnotes = {}),
                 e.env.footnotes.list || (e.env.footnotes.list = []),
                 a = e.env.footnotes.list.length,
                 e.pos = i,
                 e.posMax = n,
                 e.push({
                     type: "footnote_ref",
                     id: a,
                     level: e.level
                 }),
                 e.linkLevel++,
                 o = e.tokens.length,
                 e.parser.tokenize(e),
                 e.env.footnotes.list[a] = {
                     tokens: e.tokens.splice(o)
                 },
                 e.linkLevel--),
                 e.pos = n + 1,
                 e.posMax = r,
                 !0)))))
             }
         }
         , {
             "../helpers/parse_link_label": 12
         }],
         50: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t) {
                 var i, s, n, a, o = e.posMax, r = e.pos;
                 if (r + 3 > o)
                     return !1;
                 if (!e.env.footnotes || !e.env.footnotes.refs)
                     return !1;
                 if (91 !== e.src.charCodeAt(r))
                     return !1;
                 if (94 !== e.src.charCodeAt(r + 1))
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 for (s = r + 2; s < o; s++) {
                     if (32 === e.src.charCodeAt(s))
                         return !1;
                     if (10 === e.src.charCodeAt(s))
                         return !1;
                     if (93 === e.src.charCodeAt(s))
                         break
                 }
                 return s !== r + 2 && (!(s >= o) && (s++,
                 i = e.src.slice(r + 2, s - 1),
                 "undefined" != typeof e.env.footnotes.refs[":" + i] && (t || (e.env.footnotes.list || (e.env.footnotes.list = []),
                 e.env.footnotes.refs[":" + i] < 0 ? (n = e.env.footnotes.list.length,
                 e.env.footnotes.list[n] = {
                     label: i,
                     count: 0
                 },
                 e.env.footnotes.refs[":" + i] = n) : n = e.env.footnotes.refs[":" + i],
                 a = e.env.footnotes.list[n].count,
                 e.env.footnotes.list[n].count++,
                 e.push({
                     type: "footnote_ref",
                     id: n,
                     subId: a,
                     level: e.level
                 })),
                 e.pos = s,
                 e.posMax = o,
                 !0)))
             }
         }
         , {}],
         51: [function(e, t, i) {
             "use strict";
             function s(e) {
                 var t = 32 | e;
                 return t >= 97 && t <= 122
             }
             var n = e("../common/html_re").HTML_TAG_RE;
             t.exports = function(e, t) {
                 var i, a, o, r = e.pos;
                 return !!e.options.html && (o = e.posMax,
                 !(60 !== e.src.charCodeAt(r) || r + 2 >= o) && (i = e.src.charCodeAt(r + 1),
                 !(33 !== i && 63 !== i && 47 !== i && !s(i)) && (!!(a = e.src.slice(r).match(n)) && (t || e.push({
                     type: "htmltag",
                     content: e.src.slice(r, r + a[0].length),
                     level: e.level
                 }),
                 e.pos += a[0].length,
                 !0))))
             }
         }
         , {
             "../common/html_re": 3
         }],
         52: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t) {
                 var i, s, n, a, o, r = e.posMax, l = e.pos;
                 if (43 !== e.src.charCodeAt(l))
                     return !1;
                 if (t)
                     return !1;
                 if (l + 4 >= r)
                     return !1;
                 if (43 !== e.src.charCodeAt(l + 1))
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 if (a = l > 0 ? e.src.charCodeAt(l - 1) : -1,
                 o = e.src.charCodeAt(l + 2),
                 43 === a)
                     return !1;
                 if (43 === o)
                     return !1;
                 if (32 === o || 10 === o)
                     return !1;
                 for (s = l + 2; s < r && 43 === e.src.charCodeAt(s); )
                     s++;
                 if (s !== l + 2)
                     return e.pos += s - l,
                     t || (e.pending += e.src.slice(l, s)),
                     !0;
                 for (e.pos = l + 2,
                 n = 1; e.pos + 1 < r; ) {
                     if (43 === e.src.charCodeAt(e.pos) && 43 === e.src.charCodeAt(e.pos + 1) && (a = e.src.charCodeAt(e.pos - 1),
                     o = e.pos + 2 < r ? e.src.charCodeAt(e.pos + 2) : -1,
                     43 !== o && 43 !== a && (32 !== a && 10 !== a ? n-- : 32 !== o && 10 !== o && n++,
                     n <= 0))) {
                         i = !0;
                         break
                     }
                     e.parser.skipToken(e)
                 }
                 return i ? (e.posMax = e.pos,
                 e.pos = l + 2,
                 t || (e.push({
                     type: "ins_open",
                     level: e.level++
                 }),
                 e.parser.tokenize(e),
                 e.push({
                     type: "ins_close",
                     level: --e.level
                 })),
                 e.pos = e.posMax + 2,
                 e.posMax = r,
                 !0) : (e.pos = l,
                 !1)
             }
         }
         , {}],
         53: [function(e, t, i) {
             "use strict";
             var s = e("../helpers/parse_link_label")
               , n = e("../helpers/parse_link_destination")
               , a = e("../helpers/parse_link_title")
               , o = e("../helpers/normalize_reference");
             t.exports = function(e, t) {
                 var i, r, l, h, c, p, d, u, f = !1, m = e.pos, g = e.posMax, v = e.pos, b = e.src.charCodeAt(v);
                 if (33 === b && (f = !0,
                 b = e.src.charCodeAt(++v)),
                 91 !== b)
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 if (i = v + 1,
                 r = s(e, v),
                 r < 0)
                     return !1;
                 if (p = r + 1,
                 p < g && 40 === e.src.charCodeAt(p)) {
                     for (p++; p < g && (u = e.src.charCodeAt(p),
                     32 === u || 10 === u); p++)
                         ;
                     if (p >= g)
                         return !1;
                     for (v = p,
                     n(e, p) ? (h = e.linkContent,
                     p = e.pos) : h = "",
                     v = p; p < g && (u = e.src.charCodeAt(p),
                     32 === u || 10 === u); p++)
                         ;
                     if (p < g && v !== p && a(e, p))
                         for (c = e.linkContent,
                         p = e.pos; p < g && (u = e.src.charCodeAt(p),
                         32 === u || 10 === u); p++)
                             ;
                     else
                         c = "";
                     if (p >= g || 41 !== e.src.charCodeAt(p))
                         return e.pos = m,
                         !1;
                     p++
                 } else {
                     if (e.linkLevel > 0)
                         return !1;
                     for (; p < g && (u = e.src.charCodeAt(p),
                     32 === u || 10 === u); p++)
                         ;
                     if (p < g && 91 === e.src.charCodeAt(p) && (v = p + 1,
                     p = s(e, p),
                     p >= 0 ? l = e.src.slice(v, p++) : p = v - 1),
                     l || ("undefined" == typeof l && (p = r + 1),
                     l = e.src.slice(i, r)),
                     d = e.env.references[o(l)],
                     !d)
                         return e.pos = m,
                         !1;
                     h = d.href,
                     c = d.title
                 }
                 return t || (e.pos = i,
                 e.posMax = r,
                 f ? e.push({
                     type: "image",
                     src: h,
                     title: c,
                     alt: e.src.substr(i, r - i),
                     level: e.level
                 }) : (e.push({
                     type: "link_open",
                     href: h,
                     title: c,
                     level: e.level++
                 }),
                 e.linkLevel++,
                 e.parser.tokenize(e),
                 e.linkLevel--,
                 e.push({
                     type: "link_close",
                     level: --e.level
                 }))),
                 e.pos = p,
                 e.posMax = g,
                 !0
             }
         }
         , {
             "../helpers/normalize_reference": 10,
             "../helpers/parse_link_destination": 11,
             "../helpers/parse_link_label": 12,
             "../helpers/parse_link_title": 13
         }],
         54: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t) {
                 var i, s, n, a, o, r = e.posMax, l = e.pos;
                 if (61 !== e.src.charCodeAt(l))
                     return !1;
                 if (t)
                     return !1;
                 if (l + 4 >= r)
                     return !1;
                 if (61 !== e.src.charCodeAt(l + 1))
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 if (a = l > 0 ? e.src.charCodeAt(l - 1) : -1,
                 o = e.src.charCodeAt(l + 2),
                 61 === a)
                     return !1;
                 if (61 === o)
                     return !1;
                 if (32 === o || 10 === o)
                     return !1;
                 for (s = l + 2; s < r && 61 === e.src.charCodeAt(s); )
                     s++;
                 if (s !== l + 2)
                     return e.pos += s - l,
                     t || (e.pending += e.src.slice(l, s)),
                     !0;
                 for (e.pos = l + 2,
                 n = 1; e.pos + 1 < r; ) {
                     if (61 === e.src.charCodeAt(e.pos) && 61 === e.src.charCodeAt(e.pos + 1) && (a = e.src.charCodeAt(e.pos - 1),
                     o = e.pos + 2 < r ? e.src.charCodeAt(e.pos + 2) : -1,
                     61 !== o && 61 !== a && (32 !== a && 10 !== a ? n-- : 32 !== o && 10 !== o && n++,
                     n <= 0))) {
                         i = !0;
                         break
                     }
                     e.parser.skipToken(e)
                 }
                 return i ? (e.posMax = e.pos,
                 e.pos = l + 2,
                 t || (e.push({
                     type: "mark_open",
                     level: e.level++
                 }),
                 e.parser.tokenize(e),
                 e.push({
                     type: "mark_close",
                     level: --e.level
                 })),
                 e.pos = e.posMax + 2,
                 e.posMax = r,
                 !0) : (e.pos = l,
                 !1)
             }
         }
         , {}],
         55: [function(e, t, i) {
             "use strict";
             t.exports = function(e, t) {
                 var i, s, n = e.pos;
                 if (10 !== e.src.charCodeAt(n))
                     return !1;
                 if (i = e.pending.length - 1,
                 s = e.posMax,
                 !t)
                     if (i >= 0 && 32 === e.pending.charCodeAt(i))
                         if (i >= 1 && 32 === e.pending.charCodeAt(i - 1)) {
                             for (var a = i - 2; a >= 0; a--)
                                 if (32 !== e.pending.charCodeAt(a)) {
                                     e.pending = e.pending.substring(0, a + 1);
                                     break
                                 }
                             e.push({
                                 type: "hardbreak",
                                 level: e.level
                             })
                         } else
                             e.pending = e.pending.slice(0, -1),
                             e.push({
                                 type: "softbreak",
                                 level: e.level
                             });
                     else
                         e.push({
                             type: "softbreak",
                             level: e.level
                         });
                 for (n++; n < s && 32 === e.src.charCodeAt(n); )
                     n++;
                 return e.pos = n,
                 !0
             }
         }
         , {}],
         56: [function(e, t, i) {
             "use strict";
             function s(e, t, i, s, n) {
                 this.src = e,
                 this.env = s,
                 this.options = i,
                 this.parser = t,
                 this.tokens = n,
                 this.pos = 0,
                 this.posMax = this.src.length,
                 this.level = 0,
                 this.pending = "",
                 this.pendingLevel = 0,
                 this.cache = [],
                 this.isInLabel = !1,
                 this.linkLevel = 0,
                 this.linkContent = "",
                 this.labelUnmatchedScopes = 0
             }
             s.prototype.pushPending = function() {
                 this.tokens.push({
                     type: "text",
                     content: this.pending,
                     level: this.pendingLevel
                 }),
                 this.pending = ""
             }
             ,
             s.prototype.push = function(e) {
                 this.pending && this.pushPending(),
                 this.tokens.push(e),
                 this.pendingLevel = this.level
             }
             ,
             s.prototype.cacheSet = function(e, t) {
                 for (var i = this.cache.length; i <= e; i++)
                     this.cache.push(0);
                 this.cache[e] = t
             }
             ,
             s.prototype.cacheGet = function(e) {
                 return e < this.cache.length ? this.cache[e] : 0
             }
             ,
             t.exports = s
         }
         , {}],
         57: [function(e, t, i) {
             "use strict";
             var s = /\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;
             t.exports = function(e, t) {
                 var i, n, a = e.posMax, o = e.pos;
                 if (126 !== e.src.charCodeAt(o))
                     return !1;
                 if (t)
                     return !1;
                 if (o + 2 >= a)
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 for (e.pos = o + 1; e.pos < a; ) {
                     if (126 === e.src.charCodeAt(e.pos)) {
                         i = !0;
                         break
                     }
                     e.parser.skipToken(e)
                 }
                 return i && o + 1 !== e.pos ? (n = e.src.slice(o + 1, e.pos),
                 n.match(/(^|[^\\])(\\\\)*\s/) ? (e.pos = o,
                 !1) : (e.posMax = e.pos,
                 e.pos = o + 1,
                 t || e.push({
                     type: "sub",
                     level: e.level,
                     content: n.replace(s, "$1")
                 }),
                 e.pos = e.posMax + 1,
                 e.posMax = a,
                 !0)) : (e.pos = o,
                 !1)
             }
         }
         , {}],
         58: [function(e, t, i) {
             "use strict";
             var s = /\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;
             t.exports = function(e, t) {
                 var i, n, a = e.posMax, o = e.pos;
                 if (94 !== e.src.charCodeAt(o))
                     return !1;
                 if (t)
                     return !1;
                 if (o + 2 >= a)
                     return !1;
                 if (e.level >= e.options.maxNesting)
                     return !1;
                 for (e.pos = o + 1; e.pos < a; ) {
                     if (94 === e.src.charCodeAt(e.pos)) {
                         i = !0;
                         break
                     }
                     e.parser.skipToken(e)
                 }
                 return i && o + 1 !== e.pos ? (n = e.src.slice(o + 1, e.pos),
                 n.match(/(^|[^\\])(\\\\)*\s/) ? (e.pos = o,
                 !1) : (e.posMax = e.pos,
                 e.pos = o + 1,
                 t || e.push({
                     type: "sup",
                     level: e.level,
                     content: n.replace(s, "$1")
                 }),
                 e.pos = e.posMax + 1,
                 e.posMax = a,
                 !0)) : (e.pos = o,
                 !1)
             }
         }
         , {}],
         59: [function(e, t, i) {
             "use strict";
             function s(e) {
                 switch (e) {
                 case 10:
                 case 92:
                 case 96:
                 case 42:
                 case 95:
                 case 94:
                 case 91:
                 case 93:
                 case 33:
                 case 38:
                 case 60:
                 case 62:
                 case 123:
                 case 125:
                 case 36:
                 case 37:
                 case 64:
                 case 126:
                 case 43:
                 case 61:
                 case 58:
                     return !0;
                 default:
                     return !1
                 }
             }
             t.exports = function(e, t) {
                 for (var i = e.pos; i < e.posMax && !s(e.src.charCodeAt(i)); )
                     i++;
                 return i !== e.pos && (t || (e.pending += e.src.slice(e.pos, i)),
                 e.pos = i,
                 !0)
             }
         }
         , {}],
         60: [function(t, i, s) {
             !function(t, n) {
                 "function" == typeof e && e.amd ? e("remarkable", [], function() {
                     return t.Autolinker = n()
                 }) : "object" == typeof s ? i.exports = n() : t.Autolinker = n()
             }(this, function() {
                 var e = function(t) {
                     e.Util.assign(this, t)
                 };
                 return e.prototype = {
                     constructor: e,
                     urls: !0,
                     email: !0,
                     twitter: !0,
                     newWindow: !0,
                     stripPrefix: !0,
                     truncate: void 0,
                     className: "",
                     htmlParser: void 0,
                     matchParser: void 0,
                     tagBuilder: void 0,
                     link: function(e) {
                         for (var t = this.getHtmlParser(), i = t.parse(e), s = 0, n = [], a = 0, o = i.length; a < o; a++) {
                             var r = i[a]
                               , l = r.getType()
                               , h = r.getText();
                             if ("element" === l)
                                 "a" === r.getTagName() && (r.isClosing() ? s = Math.max(s - 1, 0) : s++),
                                 n.push(h);
                             else if ("entity" === l)
                                 n.push(h);
                             else if (0 === s) {
                                 var c = this.linkifyStr(h);
                                 n.push(c)
                             } else
                                 n.push(h)
                         }
                         return n.join("")
                     },
                     linkifyStr: function(e) {
                         return this.getMatchParser().replace(e, this.createMatchReturnVal, this)
                     },
                     createMatchReturnVal: function(t) {
                         var i;
                         if (this.replaceFn && (i = this.replaceFn.call(this, this, t)),
                         "string" == typeof i)
                             return i;
                         if (i === !1)
                             return t.getMatchedText();
                         if (i instanceof e.HtmlTag)
                             return i.toString();
                         var s = this.getTagBuilder()
                           , n = s.build(t);
                         return n.toString()
                     },
                     getHtmlParser: function() {
                         var t = this.htmlParser;
                         return t || (t = this.htmlParser = new e.htmlParser.HtmlParser),
                         t
                     },
                     getMatchParser: function() {
                         var t = this.matchParser;
                         return t || (t = this.matchParser = new e.matchParser.MatchParser({
                             urls: this.urls,
                             email: this.email,
                             twitter: this.twitter,
                             stripPrefix: this.stripPrefix
                         })),
                         t
                     },
                     getTagBuilder: function() {
                         var t = this.tagBuilder;
                         return t || (t = this.tagBuilder = new e.AnchorTagBuilder({
                             newWindow: this.newWindow,
                             truncate: this.truncate,
                             className: this.className
                         })),
                         t
                     }
                 },
                 e.link = function(t, i) {
                     var s = new e(i);
                     return s.link(t)
                 }
                 ,
                 e.match = {},
                 e.htmlParser = {},
                 e.matchParser = {},
                 e.Util = {
                     abstractMethod: function() {
                         throw "abstract"
                     },
                     assign: function(e, t) {
                         for (var i in t)
                             t.hasOwnProperty(i) && (e[i] = t[i]);
                         return e
                     },
                     extend: function(t, i) {
                         var s = t.prototype
                           , n = function() {};
                         n.prototype = s;
                         var a;
                         a = i.hasOwnProperty("constructor") ? i.constructor : function() {
                             s.constructor.apply(this, arguments)
                         }
                         ;
                         var o = a.prototype = new n;
                         return o.constructor = a,
                         o.superclass = s,
                         delete i.constructor,
                         e.Util.assign(o, i),
                         a
                     },
                     ellipsis: function(e, t, i) {
                         return e.length > t && (i = null == i ? ".." : i,
                         e = e.substring(0, t - i.length) + i),
                         e
                     },
                     indexOf: function(e, t) {
                         if (Array.prototype.indexOf)
                             return e.indexOf(t);
                         for (var i = 0, s = e.length; i < s; i++)
                             if (e[i] === t)
                                 return i;
                         return -1
                     },
                     splitAndCapture: function(e, t) {
                         if (!t.global)
                             throw new Error("`splitRegex` must have the 'g' flag set");
                         for (var i, s = [], n = 0; i = t.exec(e); )
                             s.push(e.substring(n, i.index)),
                             s.push(i[0]),
                             n = i.index + i[0].length;
                         return s.push(e.substring(n)),
                         s
                     }
                 },
                 e.HtmlTag = e.Util.extend(Object, {
                     whitespaceRegex: /\s+/,
                     constructor: function(t) {
                         e.Util.assign(this, t),
                         this.innerHtml = this.innerHtml || this.innerHTML;
                     },
                     setTagName: function(e) {
                         return this.tagName = e,
                         this
                     },
                     getTagName: function() {
                         return this.tagName || ""
                     },
                     setAttr: function(e, t) {
                         var i = this.getAttrs();
                         return i[e] = t,
                         this
                     },
                     getAttr: function(e) {
                         return this.getAttrs()[e]
                     },
                     setAttrs: function(t) {
                         var i = this.getAttrs();
                         return e.Util.assign(i, t),
                         this
                     },
                     getAttrs: function() {
                         return this.attrs || (this.attrs = {})
                     },
                     setClass: function(e) {
                         return this.setAttr("class", e)
                     },
                     addClass: function(t) {
                         for (var i, s = this.getClass(), n = this.whitespaceRegex, a = e.Util.indexOf, o = s ? s.split(n) : [], r = t.split(n); i = r.shift(); )
                             a(o, i) === -1 && o.push(i);
                         return this.getAttrs().class = o.join(" "),
                         this
                     },
                     removeClass: function(t) {
                         for (var i, s = this.getClass(), n = this.whitespaceRegex, a = e.Util.indexOf, o = s ? s.split(n) : [], r = t.split(n); o.length && (i = r.shift()); ) {
                             var l = a(o, i);
                             l !== -1 && o.splice(l, 1)
                         }
                         return this.getAttrs().class = o.join(" "),
                         this
                     },
                     getClass: function() {
                         return this.getAttrs().class || ""
                     },
                     hasClass: function(e) {
                         return (" " + this.getClass() + " ").indexOf(" " + e + " ") !== -1
                     },
                     setInnerHtml: function(e) {
                         return this.innerHtml = e,
                         this
                     },
                     getInnerHtml: function() {
                         return this.innerHtml || ""
                     },
                     toString: function() {
                         var e = this.getTagName()
                           , t = this.buildAttrsStr();
                         return t = t ? " " + t : "",
                         ["<", e, t, ">", this.getInnerHtml(), "</", e, ">"].join("")
                     },
                     buildAttrsStr: function() {
                         if (!this.attrs)
                             return "";
                         var e = this.getAttrs()
                           , t = [];
                         for (var i in e)
                             e.hasOwnProperty(i) && t.push(i + '="' + e[i] + '"');
                         return t.join(" ")
                     }
                 }),
                 e.AnchorTagBuilder = e.Util.extend(Object, {
                     constructor: function(t) {
                         e.Util.assign(this, t)
                     },
                     build: function(t) {
                         var i = new e.HtmlTag({
                             tagName: "a",
                             attrs: this.createAttrs(t.getType(), t.getAnchorHref()),
                             innerHtml: this.processAnchorText(t.getAnchorText())
                         });
                         return i
                     },
                     createAttrs: function(e, t) {
                         var i = {
                             href: t
                         }
                           , s = this.createCssClass(e);
                         return s && (i.class = s),
                         this.newWindow && (i.target = "_blank"),
                         i
                     },
                     createCssClass: function(e) {
                         var t = this.className;
                         return t ? t + " " + t + "-" + e : ""
                     },
                     processAnchorText: function(e) {
                         return e = this.doTruncate(e)
                     },
                     doTruncate: function(t) {
                         return e.Util.ellipsis(t, this.truncate || Number.POSITIVE_INFINITY)
                     }
                 }),
                 e.htmlParser.HtmlParser = e.Util.extend(Object, {
                     htmlRegex: function() {
                         var e = /[0-9a-zA-Z][0-9a-zA-Z:]*/
                           , t = /[^\s\0"'>\/=\x01-\x1F\x7F]+/
                           , i = /(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/
                           , s = t.source + "(?:\\s*=\\s*" + i.source + ")?";
                         return new RegExp(["(?:", "<(!DOCTYPE)", "(?:", "\\s+", "(?:", s, "|", i.source + ")", ")*", ">", ")", "|", "(?:", "<(/)?", "(" + e.source + ")", "(?:", "\\s+", s, ")*", "\\s*/?", ">", ")"].join(""),"gi")
                     }(),
                     htmlCharacterEntitiesRegex: /(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,
                     parse: function(e) {
                         for (var t, i, s = this.htmlRegex, n = 0, a = []; null !== (t = s.exec(e)); ) {
                             var o = t[0]
                               , r = t[1] || t[3]
                               , l = !!t[2]
                               , h = e.substring(n, t.index);
                             h && (i = this.parseTextAndEntityNodes(h),
                             a.push.apply(a, i)),
                             a.push(this.createElementNode(o, r, l)),
                             n = t.index + o.length
                         }
                         if (n < e.length) {
                             var c = e.substring(n);
                             c && (i = this.parseTextAndEntityNodes(c),
                             a.push.apply(a, i))
                         }
                         return a
                     },
                     parseTextAndEntityNodes: function(t) {
                         for (var i = [], s = e.Util.splitAndCapture(t, this.htmlCharacterEntitiesRegex), n = 0, a = s.length; n < a; n += 2) {
                             var o = s[n]
                               , r = s[n + 1];
                             o && i.push(this.createTextNode(o)),
                             r && i.push(this.createEntityNode(r))
                         }
                         return i
                     },
                     createElementNode: function(t, i, s) {
                         return new e.htmlParser.ElementNode({
                             text: t,
                             tagName: i.toLowerCase(),
                             closing: s
                         })
                     },
                     createEntityNode: function(t) {
                         return new e.htmlParser.EntityNode({
                             text: t
                         })
                     },
                     createTextNode: function(t) {
                         return new e.htmlParser.TextNode({
                             text: t
                         })
                     }
                 }),
                 e.htmlParser.HtmlNode = e.Util.extend(Object, {
                     text: "",
                     constructor: function(t) {
                         e.Util.assign(this, t)
                     },
                     getType: e.Util.abstractMethod,
                     getText: function() {
                         return this.text
                     }
                 }),
                 e.htmlParser.ElementNode = e.Util.extend(e.htmlParser.HtmlNode, {
                     tagName: "",
                     closing: !1,
                     getType: function() {
                         return "element"
                     },
                     getTagName: function() {
                         return this.tagName
                     },
                     isClosing: function() {
                         return this.closing
                     }
                 }),
                 e.htmlParser.EntityNode = e.Util.extend(e.htmlParser.HtmlNode, {
                     getType: function() {
                         return "entity"
                     }
                 }),
                 e.htmlParser.TextNode = e.Util.extend(e.htmlParser.HtmlNode, {
                     getType: function() {
                         return "text"
                     }
                 }),
                 e.matchParser.MatchParser = e.Util.extend(Object, {
                     urls: !0,
                     email: !0,
                     twitter: !0,
                     stripPrefix: !0,
                     matcherRegex: function() {
                         var e = /(^|[^\w])@(\w{1,15})/
                           , t = /(?:[\-;:&=\+\$,\w\.]+@)/
                           , i = /(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/
                           , s = /(?:www\.)/
                           , n = /[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/
                           , a = /\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/
                           , o = /[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/;
                         return new RegExp(["(", e.source, ")", "|", "(", t.source, n.source, a.source, ")", "|", "(", "(?:", "(", i.source, n.source, ")", "|", "(?:", "(.?//)?", s.source, n.source, ")", "|", "(?:", "(.?//)?", n.source, a.source, ")", ")", "(?:" + o.source + ")?", ")"].join(""),"gi")
                     }(),
                     charBeforeProtocolRelMatchRegex: /^(.)?\/\//,
                     constructor: function(t) {
                         e.Util.assign(this, t),
                         this.matchValidator = new e.MatchValidator
                     },
                     replace: function(e, t, i) {
                         var s = this;
                         return e.replace(this.matcherRegex, function(e, n, a, o, r, l, h, c, p) {
                             var d = s.processCandidateMatch(e, n, a, o, r, l, h, c, p);
                             if (d) {
                                 var u = t.call(i, d.match);
                                 return d.prefixStr + u + d.suffixStr
                             }
                             return e
                         })
                     },
                     processCandidateMatch: function(t, i, s, n, a, o, r, l, h) {
                         var c, p = l || h, d = "", u = "";
                         if (i && !this.twitter || a && !this.email || o && !this.urls || !this.matchValidator.isValidMatch(o, r, p))
                             return null;
                         if (this.matchHasUnbalancedClosingParen(t) && (t = t.substr(0, t.length - 1),
                         u = ")"),
                         a)
                             c = new e.match.Email({
                                 matchedText: t,
                                 email: a
                             });
                         else if (i)
                             s && (d = s,
                             t = t.slice(1)),
                             c = new e.match.Twitter({
                                 matchedText: t,
                                 twitterHandle: n
                             });
                         else {
                             if (p) {
                                 var f = p.match(this.charBeforeProtocolRelMatchRegex)[1] || "";
                                 f && (d = f,
                                 t = t.slice(1))
                             }
                             c = new e.match.Url({
                                 matchedText: t,
                                 url: t,
                                 protocolUrlMatch: !!r,
                                 protocolRelativeMatch: !!p,
                                 stripPrefix: this.stripPrefix
                             })
                         }
                         return {
                             prefixStr: d,
                             suffixStr: u,
                             match: c
                         }
                     },
                     matchHasUnbalancedClosingParen: function(e) {
                         var t = e.charAt(e.length - 1);
                         if (")" === t) {
                             var i = e.match(/\(/g)
                               , s = e.match(/\)/g)
                               , n = i && i.length || 0
                               , a = s && s.length || 0;
                             if (n < a)
                                 return !0
                         }
                         return !1
                     }
                 }),
                 e.MatchValidator = e.Util.extend(Object, {
                     invalidProtocolRelMatchRegex: /^[\w]\/\//,
                     hasFullProtocolRegex: /^[A-Za-z][-.+A-Za-z0-9]+:\/\//,
                     uriSchemeRegex: /^[A-Za-z][-.+A-Za-z0-9]+:/,
                     hasWordCharAfterProtocolRegex: /:[^\s]*?[A-Za-z]/,
                     isValidMatch: function(e, t, i) {
                         return !(t && !this.isValidUriScheme(t) || this.urlMatchDoesNotHaveProtocolOrDot(e, t) || this.urlMatchDoesNotHaveAtLeastOneWordChar(e, t) || this.isInvalidProtocolRelativeMatch(i))
                     },
                     isValidUriScheme: function(e) {
                         var t = e.match(this.uriSchemeRegex)[0].toLowerCase();
                         return "javascript:" !== t && "vbscript:" !== t
                     },
                     urlMatchDoesNotHaveProtocolOrDot: function(e, t) {
                         return !(!e || t && this.hasFullProtocolRegex.test(t) || e.indexOf(".") !== -1)
                     },
                     urlMatchDoesNotHaveAtLeastOneWordChar: function(e, t) {
                         return !(!e || !t) && !this.hasWordCharAfterProtocolRegex.test(e)
                     },
                     isInvalidProtocolRelativeMatch: function(e) {
                         return !!e && this.invalidProtocolRelMatchRegex.test(e)
                     }
                 }),
                 e.match.Match = e.Util.extend(Object, {
                     constructor: function(t) {
                         e.Util.assign(this, t)
                     },
                     getType: e.Util.abstractMethod,
                     getMatchedText: function() {
                         return this.matchedText
                     },
                     getAnchorHref: e.Util.abstractMethod,
                     getAnchorText: e.Util.abstractMethod
                 }),
                 e.match.Email = e.Util.extend(e.match.Match, {
                     getType: function() {
                         return "email"
                     },
                     getEmail: function() {
                         return this.email
                     },
                     getAnchorHref: function() {
                         return "mailto:" + this.email
                     },
                     getAnchorText: function() {
                         return this.email
                     }
                 }),
                 e.match.Twitter = e.Util.extend(e.match.Match, {
                     getType: function() {
                         return "twitter"
                     },
                     getTwitterHandle: function() {
                         return this.twitterHandle
                     },
                     getAnchorHref: function() {
                         return "https://twitter.com/" + this.twitterHandle
                     },
                     getAnchorText: function() {
                         return "@" + this.twitterHandle
                     }
                 }),
                 e.match.Url = e.Util.extend(e.match.Match, {
                     urlPrefixRegex: /^(https?:\/\/)?(www\.)?/i,
                     protocolRelativeRegex: /^\/\//,
                     protocolPrepended: !1,
                     getType: function() {
                         return "url"
                     },
                     getUrl: function() {
                         var e = this.url;
                         return this.protocolRelativeMatch || this.protocolUrlMatch || this.protocolPrepended || (e = this.url = "http://" + e,
                         this.protocolPrepended = !0),
                         e
                     },
                     getAnchorHref: function() {
                         var e = this.getUrl();
                         return e.replace(/&amp;/g, "&")
                     },
                     getAnchorText: function() {
                         var e = this.getUrl();
                         return this.protocolRelativeMatch && (e = this.stripProtocolRelativePrefix(e)),
                         this.stripPrefix && (e = this.stripUrlPrefix(e)),
                         e = this.removeTrailingSlash(e)
                     },
                     stripUrlPrefix: function(e) {
                         return e.replace(this.urlPrefixRegex, "")
                     },
                     stripProtocolRelativePrefix: function(e) {
                         return e.replace(this.protocolRelativeRegex, "")
                     },
                     removeTrailingSlash: function(e) {
                         return "/" === e.charAt(e.length - 1) && (e = e.slice(0, -1)),
                         e
                     }
                 }),
                 e
             })
         }
         , {}],
         "/": [function(e, t, i) {
             "use strict";
             t.exports = e("./lib/")
         }
         , {
             "./lib/": 14
         }]
     }, {}, [])("/")
 }),
 define("f1e1d/e0a52/ad7eb/efe26", ["underscore", "f1e1d/e718c/b5ee0", "Remarkable"], function(e, t, i) {
     return t.extend({
         init: function(t) {
             this.parser = new i(t),
             void 0 !== t.blacklist && e.each(t.blacklist, function(e, t) {
                 this.parser.renderer.rules[t] = e
             }, this)
         },
         parse: function(e) {
             return this.parser.render(e)
         }
     })
 }),
 define("f1e1d/e0a52/ad7eb/e14ef", ["f1e1d/e718c/b7acd", "f1e1d/e0a52/eaf38/e14ef", "f1e1d/e0a52/eaf38/ffb50", "f1e1d/e0a52/ad7eb/efe26"], function(e, t, i, s) {
     var n = t.extend({
         identifier: "markdown",
         className: "markdown-widget textarea-widget",
         defaults: {
             markdown: {}
         },
         initialize: function(e) {
             this._super(e),
             this.markdownParser = new s(this.options.markdown)
         },
         formatText: function(e) {
             return this.markdownParser.parse(e)
         },
         setMode: function(e, t) {
             if (this.mode !== e) {
                 if (e === i.mode.EDIT) {
                     var s = this.model.get("value");
                     s !== this.model.get("placeholder") ? this.$input.val(s) : this.$input.val(null),
                     this.updateCounter(),
                     setTimeout(function() {
                         this.$input.focus()
                     }
                     .bind(this), 0)
                 } else if (e === i.mode.READ) {
                     var s = this.$input.val();
                     this.model.get("value") !== s && (this.change(s),
                     this.model.set("value", s)),
                     s.length <= 0 && (s = this.model.get("placeholder")),
                     this.$readOnlyText.html(this.formatText(s))
                 }
                 this.setData("mode", e.toLowerCase()),
                 this.mode = e
             }
         }
     });
     return n
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/aafb7", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d8478/e70c0", "f1e1d/d8478/caf8b", "f1e1d/d8478/fa54b", "f1e1d/e74c9/b08b1/c7336", "hbs!templates/room/settings/About", "f1e1d/e74c9/b49ed/ff2dd/f17ea", "f1e1d/e74c9/b49ed/ff2dd/b1053", "f1e1d/e74c9/b49ed/ff2dd/bb1de", "f1e1d/be642/e32cc/f6d97", "f1e1d/be642/e32cc/d8cb4", "f1e1d/be642/e32cc/f81aa", "f1e1d/e0a52/fa359/e14ef", "f1e1d/e0a52/fa359/ffb50", "f1e1d/e0a52/eaf38/e14ef", "f1e1d/e0a52/ad7eb/e14ef", "f1e1d/be642/e32cc/c2a56", "f1e1d/e74c9/b49ed/ff2dd/ec4b4", "lang/Lang", "f1e1d/af752/e7b9f", "f1e1d/af752/bacfb", "f1e1d/ffb50/d975a"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $) {
     var E = i.View.extend({
         className: "about-settings",
         initialize: function() {},
         render: function() {
             this.$el.html(c({
                 trans: _
             })),
             this.mapDOM();
             var e = n.hasPermission(a.COHOST)
               , t = n.hasPermission(a.AMBASSADOR, !0)
               , i = e || t;
             return this.profileToggle = new v({
                 el: this.$(".about-settings__profile-search-toggle"),
                 selected: o.get("profile_picture_in_search") === !0 ? b.ON : b.OFF,
                 on: _.roomSettings.yes.toUpperCase(),
                 off: _.roomSettings.no.toUpperCase(),
                 size: "small",
                 readonly: !(e || t)
             }).render(),
             this.profileWidget = new h({
                 el: this.$(".about-settings__profile"),
                 readonly: !i,
                 model: new l({
                     image: o.getProfileUrl(),
                     placeholder: o.getEmptyProfileUrl(),
                     sizeLimit: $.megabyte,
                     allowedTypes: ["image/jpeg", "image/png"],
                     canvasOptions: {
                         width: 250,
                         height: 250
                     },
                     pluginOptions: {
                         aspectRatio: 1,
                         viewMode: 1
                     },
                     role: {
                         level: a.COHOST,
                         onlyGlobal: !1
                     }
                 })
             }).render(),
             this.backgroundWidget = new h({
                 el: this.$(".about-settings__background"),
                 readonly: !i,
                 model: new l({
                     image: o.getBackgroundUrl(),
                     placeholder: o.getEmptyBackgroundUrl(),
                     sizeLimit: 2 * $.megabyte,
                     allowedTypes: ["image/jpeg", "image/png"],
                     canvasOptions: {
                         integer: !0,
                         ratio: "16:9"
                     },
                     pluginOptions: {
                         aspectRatio: 16 / 9,
                         viewMode: 1
                     },
                     role: {
                         level: a.COHOST,
                         onlyGlobal: !1
                     }
                 })
             }).render(),
             this.languageDropDown = new k({
                 el: this.$(".about-settings__language"),
                 readonly: !e,
                 groups: [{
                     name: "languages",
                     list: r.get("languages"),
                     selector: "code",
                     converter: function(e) {
                         return _.languages[e.toLowerCase()]
                     }
                 }],
                 maxHeight: 120,
                 hide: !0,
                 defaultValue: "defaultValue3",
                 selected: {
                     group: "languages",
                     value: o.get("language")
                 }
             }).render(),
             this.genreSettingsView = new d({
                 el: this.$(".about-settings__genre-container")[0],
                 readonly: !e
             }).render(),
             this.subgenreSettingsView = new p({
                 el: this.$(".about-settings__subgenre-container")[0],
                 readonly: !e
             }).render(),
             this.linksSettingsView = new u({
                 el: this.$(".about-settings__links-container")[0],
                 permissions: {
                     add: e,
                     delete: e || t
                 }
             }).render(),
             this.shortDescriptionWidget = new y({
                 value: o.get("short_description"),
                 state: n.hasPermission(a.COHOST) ? "" : "readonly",
                 placeholder: _.roomSettings.shortDescriptionPlaceholder,
                 el: this.$(".about-settings__short-description")[0],
                 limit: 200,
                 markdown: {
                     html: !1,
                     xhtmlOut: !1,
                     breaks: !1,
                     linkify: !1,
                     blacklist: {
                         image: function() {
                             return ""
                         },
                         blockquote_open: function() {
                             return ""
                         },
                         blockquote_close: function() {
                             return ""
                         },
                         code: function() {
                             return ""
                         },
                         fence: function() {
                             return ""
                         },
                         heading_open: function() {
                             return ""
                         },
                         heading_close: function() {
                             return ""
                         },
                         hr: function() {
                             return ""
                         },
                         bullet_list_open: function() {
                             return ""
                         },
                         bullet_list_close: function() {
                             return ""
                         },
                         list_item_open: function() {
                             return ""
                         },
                         list_item_close: function() {
                             return ""
                         },
                         ordered_list_open: function() {
                             return ""
                         },
                         ordered_list_close: function() {
                             return ""
                         },
                         paragraph_open: function() {
                             return ""
                         },
                         paragraph_close: function() {
                             return ""
                         },
                         link_open: function() {
                             return ""
                         },
                         link_close: function() {
                             return ""
                         },
                         table_open: function() {
                             return ""
                         },
                         table_close: function() {
                             return ""
                         },
                         thead_open: function() {
                             return ""
                         },
                         thead_close: function() {
                             return ""
                         },
                         tbody_open: function() {
                             return ""
                         },
                         tbody_close: function() {
                             return ""
                         },
                         tr_open: function() {
                             return ""
                         },
                         tr_close: function() {
                             return ""
                         },
                         th_open: function() {
                             return ""
                         },
                         th_close: function() {
                             return ""
                         },
                         td_open: function() {
                             return ""
                         },
                         td_close: function() {
                             return ""
                         },
                         hardbreak: function() {
                             return ""
                         },
                         softbreak: function() {
                             return ""
                         },
                         abbr_open: function() {
                             return ""
                         },
                         abbr_close: function() {
                             return ""
                         },
                         footnote_ref: function() {
                             return ""
                         },
                         footnote_block_open: function() {
                             return ""
                         },
                         footnote_block_close: function() {
                             return ""
                         },
                         footnote_open: function() {
                             return ""
                         },
                         footnote_close: function() {
                             return ""
                         },
                         footnote_anchor: function() {
                             return ""
                         },
                         dl_open: function() {
                             return ""
                         },
                         dt_open: function() {
                             return ""
                         },
                         dd_open: function() {
                             return ""
                         },
                         dl_close: function() {
                             return ""
                         },
                         dt_close: function() {
                             return ""
                         },
                         dd_close: function() {
                             return ""
                         }
                     }
                 }
             }).render(),
             this.$("help-icon"),
             this.detailedDescriptionWidget = new y({
                 value: o.get("long_description"),
                 state: n.hasPermission(a.COHOST) ? "" : "readonly",
                 placeholder: _.roomSettings.shortDescriptionPlaceholder,
                 el: this.$(".about-settings__detailed-description")[0],
                 limit: 1e3,
                 markdown: {
                     html: !1,
                     xhtmlOut: !1,
                     breaks: !0,
                     linkify: !1,
                     blacklist: {
                         image: function(e, t, i) {
                             return _.roomSettings.descriptionImageNotAllowed + "\n"
                         },
                         link_open: function(e, t, i) {
                             return ""
                         },
                         link_close: function() {
                             return ""
                         }
                     }
                 }
             }).render(),
             this.bindEvents(),
             e || t ? !e && t && this.linksSettingsView.addClass("widget--BAreadonly") : this.linksSettingsView.addClass("widget--readonly"),
             this
         },
         bindEvents: function() {
             this.listenTo(this.languageDropDown, "rowClick", function(e) {
                 new g({
                     language: e.code
                 })
             }),
             this.listenTo(this.profileWidget, "change", function(e) {
                 var t = "%room%-profile-thumbnail.%extension%".replace(/\%room\%/, o.get("slug")).replace(/\%extension\%/, e.extension);
                 new f(t,e.blob),
                 S.actual("Settings", "change", "Thumbnail"),
                 x.track(x.type.action, x.event.setThumbnail)
             }),
             this.listenTo(this.profileWidget, "remove", function() {
                 new g({
                     thumbnail: "default"
                 })
             }),
             this.listenTo(s, "roomProfile:success", function(e) {
                 this.profileToggle.selectBoolean(!0, {
                     silent: !1
                 })
             }),
             this.listenTo(s, "roomProfile:error", function(e) {
                 this.profileWidget.showErrorMessage(e.concat("<br>"))
             }),
             this.listenTo(this.backgroundWidget, "change", function(e) {
                 var t = "%room%-background-image.%extension%".replace(/\%room\%/, o.get("slug")).replace(/\%extension\%/, e.extension);
                 new m(t,e.blob),
                 S.actual("Settings", "change", "Banner"),
                 x.track(x.type.action, x.event.setBanner)
             }),
             this.listenTo(s, "roomBackground:error", function(e) {
                 this.backgroundWidget.showErrorMessage(e.concat("<br>"))
             }),
             this.listenTo(this.profileToggle, "change", function(e) {
                 e = e === b.ON,
                 new g({
                     profile_picture_in_search: e
                 }),
                 o.set("profile_picture_in_search", e, {
                     silent: !0
                 })
             }),
             this.listenTo(o, "change:profile_picture_in_search", function(e, t) {
                 this.profileToggle.selectBoolean(t, {
                     silent: !1
                 })
             }),
             this.listenTo(this.shortDescriptionWidget, "change", function(e) {
                 new g({
                     short_description: e
                 })
             }),
             this.listenTo(this.detailedDescriptionWidget, "change", function(e) {
                 new g({
                     long_description: e
                 })
             })
         },
         mapDOM: function() {},
         remove: function() {
             this.linksSettingsView.remove(),
             this.genreSettingsView.remove(),
             this.subgenreSettingsView.remove(),
             this._super()
         }
     });
     return E
 }),
 function(e, t) {
     "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define("perfectScroll", t) : e.PerfectScrollbar = t()
 }(this, function() {
     "use strict";
     function e(e) {
         return getComputedStyle(e)
     }
     function t(e, t) {
         for (var i in t) {
             var s = t[i];
             "number" == typeof s && (s += "px"),
             e.style[i] = s
         }
         return e
     }
     function i(e) {
         var t = document.createElement("div");
         return t.className = e,
         t
     }
     function s(e, t) {
         if (!v)
             throw new Error("No element matching method supported");
         return v.call(e, t)
     }
     function n(e) {
         e.remove ? e.remove() : e.parentNode && e.parentNode.removeChild(e)
     }
     function a(e, t) {
         return Array.prototype.filter.call(e.children, function(e) {
             return s(e, t)
         })
     }
     function o(e, t) {
         var i = e.element.classList
           , s = b.state.scrolling(t);
         i.contains(s) ? clearTimeout(w[t]) : i.add(s)
     }
     function r(e, t) {
         w[t] = setTimeout(function() {
             return e.isAlive && e.element.classList.remove(b.state.scrolling(t))
         }, e.settings.scrollingThreshold)
     }
     function l(e, t) {
         o(e, t),
         r(e, t)
     }
     function h(e) {
         if ("function" == typeof window.CustomEvent)
             return new CustomEvent(e);
         var t = document.createEvent("CustomEvent");
         return t.initCustomEvent(e, !1, !1, void 0),
         t
     }
     function c(e, t, i, s, n) {
         var a = i[0]
           , o = i[1]
           , r = i[2]
           , c = i[3]
           , p = i[4]
           , d = i[5];
         void 0 === s && (s = !0),
         void 0 === n && (n = !1);
         var u = e.element;
         e.reach[c] = null,
         u[r] < 1 && (e.reach[c] = "start"),
         u[r] > e[a] - e[o] - 1 && (e.reach[c] = "end"),
         t && (u.dispatchEvent(h("ps-scroll-" + c)),
         t < 0 ? u.dispatchEvent(h("ps-scroll-" + p)) : t > 0 && u.dispatchEvent(h("ps-scroll-" + d)),
         s && l(e, c)),
         e.reach[c] && (t || n) && u.dispatchEvent(h("ps-" + c + "-reach-" + e.reach[c]))
     }
     function p(e) {
         return parseInt(e, 10) || 0
     }
     function d(e) {
         return s(e, "input,[contenteditable]") || s(e, "select,[contenteditable]") || s(e, "textarea,[contenteditable]") || s(e, "button,[contenteditable]")
     }
     function u(t) {
         var i = e(t);
         return p(i.width) + p(i.paddingLeft) + p(i.paddingRight) + p(i.borderLeftWidth) + p(i.borderRightWidth)
     }
     function f(e, t) {
         return e.settings.minScrollbarLength && (t = Math.max(t, e.settings.minScrollbarLength)),
         e.settings.maxScrollbarLength && (t = Math.min(t, e.settings.maxScrollbarLength)),
         t
     }
     function m(e, i) {
         var s = {
             width: i.railXWidth
         }
           , n = Math.floor(e.scrollTop);
         i.isRtl ? s.left = i.negativeScrollAdjustment + e.scrollLeft + i.containerWidth - i.contentWidth : s.left = e.scrollLeft,
         i.isScrollbarXUsingBottom ? s.bottom = i.scrollbarXBottom - n : s.top = i.scrollbarXTop + n,
         t(i.scrollbarXRail, s);
         var a = {
             top: n,
             height: i.railYHeight
         };
         i.isScrollbarYUsingRight ? i.isRtl ? a.right = i.contentWidth - (i.negativeScrollAdjustment + e.scrollLeft) - i.scrollbarYRight - i.scrollbarYOuterWidth : a.right = i.scrollbarYRight - e.scrollLeft : i.isRtl ? a.left = i.negativeScrollAdjustment + e.scrollLeft + 2 * i.containerWidth - i.contentWidth - i.scrollbarYLeft - i.scrollbarYOuterWidth : a.left = i.scrollbarYLeft + e.scrollLeft,
         t(i.scrollbarYRail, a),
         t(i.scrollbarX, {
             left: i.scrollbarXLeft,
             width: i.scrollbarXWidth - i.railBorderXWidth
         }),
         t(i.scrollbarY, {
             top: i.scrollbarYTop,
             height: i.scrollbarYHeight - i.railBorderYWidth
         })
     }
     function g(e, t) {
         function i(t) {
             m[d] = g + w * (t[l] - v),
             o(e, u),
             x(e),
             t.stopPropagation(),
             t.preventDefault()
         }
         function s() {
             r(e, u),
             e[f].classList.remove(b.state.clicking),
             e.event.unbind(e.ownerDocument, "mousemove", i)
         }
         var n = t[0]
           , a = t[1]
           , l = t[2]
           , h = t[3]
           , c = t[4]
           , p = t[5]
           , d = t[6]
           , u = t[7]
           , f = t[8]
           , m = e.element
           , g = null
           , v = null
           , w = null;
         e.event.bind(e[c], "mousedown", function(t) {
             g = m[d],
             v = t[l],
             w = (e[a] - e[n]) / (e[h] - e[p]),
             e.event.bind(e.ownerDocument, "mousemove", i),
             e.event.once(e.ownerDocument, "mouseup", s),
             e[f].classList.add(b.state.clicking),
             t.stopPropagation(),
             t.preventDefault()
         })
     }
     var v = "undefined" != typeof Element && (Element.prototype.matches || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector)
       , b = {
         main: "ps",
         element: {
             thumb: function(e) {
                 return "ps__thumb-" + e
             },
             rail: function(e) {
                 return "ps__rail-" + e
             },
             consuming: "ps__child--consume"
         },
         state: {
             focus: "ps--focus",
             clicking: "ps--clicking",
             active: function(e) {
                 return "ps--active-" + e
             },
             scrolling: function(e) {
                 return "ps--scrolling-" + e
             }
         }
     }
       , w = {
         x: null,
         y: null
     }
       , y = function(e) {
         this.element = e,
         this.handlers = {}
     }
       , C = {
         isEmpty: {
             configurable: !0
         }
     };
     y.prototype.bind = function(e, t) {
         "undefined" == typeof this.handlers[e] && (this.handlers[e] = []),
         this.handlers[e].push(t),
         this.element.addEventListener(e, t, !1)
     }
     ,
     y.prototype.unbind = function(e, t) {
         var i = this;
         this.handlers[e] = this.handlers[e].filter(function(s) {
             return !(!t || s === t) || (i.element.removeEventListener(e, s, !1),
             !1)
         })
     }
     ,
     y.prototype.unbindAll = function() {
         var e = this;
         for (var t in e.handlers)
             e.unbind(t)
     }
     ,
     C.isEmpty.get = function() {
         var e = this;
         return Object.keys(this.handlers).every(function(t) {
             return 0 === e.handlers[t].length
         })
     }
     ,
     Object.defineProperties(y.prototype, C);
     var k = function() {
         this.eventElements = []
     };
     k.prototype.eventElement = function(e) {
         var t = this.eventElements.filter(function(t) {
             return t.element === e
         })[0];
         return t || (t = new y(e),
         this.eventElements.push(t)),
         t
     }
     ,
     k.prototype.bind = function(e, t, i) {
         this.eventElement(e).bind(t, i)
     }
     ,
     k.prototype.unbind = function(e, t, i) {
         var s = this.eventElement(e);
         s.unbind(t, i),
         s.isEmpty && this.eventElements.splice(this.eventElements.indexOf(s), 1)
     }
     ,
     k.prototype.unbindAll = function() {
         this.eventElements.forEach(function(e) {
             return e.unbindAll()
         }),
         this.eventElements = []
     }
     ,
     k.prototype.once = function(e, t, i) {
         var s = this.eventElement(e)
           , n = function(e) {
             s.unbind(t, n),
             i(e)
         };
         s.bind(t, n)
     }
     ;
     var _ = function(e, t, i, s, n) {
         void 0 === s && (s = !0),
         void 0 === n && (n = !1);
         var a;
         if ("top" === t)
             a = ["contentHeight", "containerHeight", "scrollTop", "y", "up", "down"];
         else {
             if ("left" !== t)
                 throw new Error("A proper axis should be provided");
             a = ["contentWidth", "containerWidth", "scrollLeft", "x", "left", "right"]
         }
         c(e, i, a, s, n)
     }
       , S = {
         isWebKit: "undefined" != typeof document && "WebkitAppearance"in document.documentElement.style,
         supportsTouch: "undefined" != typeof window && ("ontouchstart"in window || window.DocumentTouch && document instanceof window.DocumentTouch),
         supportsIePointer: "undefined" != typeof navigator && navigator.msMaxTouchPoints,
         isChrome: "undefined" != typeof navigator && /Chrome/i.test(navigator && navigator.userAgent)
     }
       , x = function(e) {
         var t = e.element
           , i = Math.floor(t.scrollTop);
         e.containerWidth = t.clientWidth,
         e.containerHeight = t.clientHeight,
         e.contentWidth = t.scrollWidth,
         e.contentHeight = t.scrollHeight,
         t.contains(e.scrollbarXRail) || (a(t, b.element.rail("x")).forEach(function(e) {
             return n(e)
         }),
         t.appendChild(e.scrollbarXRail)),
         t.contains(e.scrollbarYRail) || (a(t, b.element.rail("y")).forEach(function(e) {
             return n(e)
         }),
         t.appendChild(e.scrollbarYRail)),
         !e.settings.suppressScrollX && e.containerWidth + e.settings.scrollXMarginOffset < e.contentWidth ? (e.scrollbarXActive = !0,
         e.railXWidth = e.containerWidth - e.railXMarginWidth,
         e.railXRatio = e.containerWidth / e.railXWidth,
         e.scrollbarXWidth = f(e, p(e.railXWidth * e.containerWidth / e.contentWidth)),
         e.scrollbarXLeft = p((e.negativeScrollAdjustment + t.scrollLeft) * (e.railXWidth - e.scrollbarXWidth) / (e.contentWidth - e.containerWidth))) : e.scrollbarXActive = !1,
         !e.settings.suppressScrollY && e.containerHeight + e.settings.scrollYMarginOffset < e.contentHeight ? (e.scrollbarYActive = !0,
         e.railYHeight = e.containerHeight - e.railYMarginHeight,
         e.railYRatio = e.containerHeight / e.railYHeight,
         e.scrollbarYHeight = f(e, p(e.railYHeight * e.containerHeight / e.contentHeight)),
         e.scrollbarYTop = p(i * (e.railYHeight - e.scrollbarYHeight) / (e.contentHeight - e.containerHeight))) : e.scrollbarYActive = !1,
         e.scrollbarXLeft >= e.railXWidth - e.scrollbarXWidth && (e.scrollbarXLeft = e.railXWidth - e.scrollbarXWidth),
         e.scrollbarYTop >= e.railYHeight - e.scrollbarYHeight && (e.scrollbarYTop = e.railYHeight - e.scrollbarYHeight),
         m(t, e),
         e.scrollbarXActive ? t.classList.add(b.state.active("x")) : (t.classList.remove(b.state.active("x")),
         e.scrollbarXWidth = 0,
         e.scrollbarXLeft = 0,
         t.scrollLeft = 0),
         e.scrollbarYActive ? t.classList.add(b.state.active("y")) : (t.classList.remove(b.state.active("y")),
         e.scrollbarYHeight = 0,
         e.scrollbarYTop = 0,
         t.scrollTop = 0)
     }
       , $ = function(e) {
         e.event.bind(e.scrollbarY, "mousedown", function(e) {
             return e.stopPropagation()
         }),
         e.event.bind(e.scrollbarYRail, "mousedown", function(t) {
             var i = t.pageY - window.pageYOffset - e.scrollbarYRail.getBoundingClientRect().top
               , s = i > e.scrollbarYTop ? 1 : -1;
             e.element.scrollTop += s * e.containerHeight,
             x(e),
             t.stopPropagation()
         }),
         e.event.bind(e.scrollbarX, "mousedown", function(e) {
             return e.stopPropagation()
         }),
         e.event.bind(e.scrollbarXRail, "mousedown", function(t) {
             var i = t.pageX - window.pageXOffset - e.scrollbarXRail.getBoundingClientRect().left
               , s = i > e.scrollbarXLeft ? 1 : -1;
             e.element.scrollLeft += s * e.containerWidth,
             x(e),
             t.stopPropagation()
         })
     }
       , E = function(e) {
         g(e, ["containerWidth", "contentWidth", "pageX", "railXWidth", "scrollbarX", "scrollbarXWidth", "scrollLeft", "x", "scrollbarXRail"]),
         g(e, ["containerHeight", "contentHeight", "pageY", "railYHeight", "scrollbarY", "scrollbarYHeight", "scrollTop", "y", "scrollbarYRail"])
     }
       , M = function(e) {
         function t(t, s) {
             var n = Math.floor(i.scrollTop);
             if (0 === t) {
                 if (!e.scrollbarYActive)
                     return !1;
                 if (0 === n && s > 0 || n >= e.contentHeight - e.containerHeight && s < 0)
                     return !e.settings.wheelPropagation
             }
             var a = i.scrollLeft;
             if (0 === s) {
                 if (!e.scrollbarXActive)
                     return !1;
                 if (0 === a && t < 0 || a >= e.contentWidth - e.containerWidth && t > 0)
                     return !e.settings.wheelPropagation
             }
             return !0
         }
         var i = e.element
           , n = function() {
             return s(i, ":hover")
         }
           , a = function() {
             return s(e.scrollbarX, ":focus") || s(e.scrollbarY, ":focus")
         };
         e.event.bind(e.ownerDocument, "keydown", function(s) {
             if (!(s.isDefaultPrevented && s.isDefaultPrevented() || s.defaultPrevented) && (n() || a())) {
                 var o = document.activeElement ? document.activeElement : e.ownerDocument.activeElement;
                 if (o) {
                     if ("IFRAME" === o.tagName)
                         o = o.contentDocument.activeElement;
                     else
                         for (; o.shadowRoot; )
                             o = o.shadowRoot.activeElement;
                     if (d(o))
                         return
                 }
                 var r = 0
                   , l = 0;
                 switch (s.which) {
                 case 37:
                     r = s.metaKey ? -e.contentWidth : s.altKey ? -e.containerWidth : -30;
                     break;
                 case 38:
                     l = s.metaKey ? e.contentHeight : s.altKey ? e.containerHeight : 30;
                     break;
                 case 39:
                     r = s.metaKey ? e.contentWidth : s.altKey ? e.containerWidth : 30;
                     break;
                 case 40:
                     l = s.metaKey ? -e.contentHeight : s.altKey ? -e.containerHeight : -30;
                     break;
                 case 32:
                     l = s.shiftKey ? e.containerHeight : -e.containerHeight;
                     break;
                 case 33:
                     l = e.containerHeight;
                     break;
                 case 34:
                     l = -e.containerHeight;
                     break;
                 case 36:
                     l = e.contentHeight;
                     break;
                 case 35:
                     l = -e.contentHeight;
                     break;
                 default:
                     return
                 }
                 e.settings.suppressScrollX && 0 !== r || e.settings.suppressScrollY && 0 !== l || (i.scrollTop -= l,
                 i.scrollLeft += r,
                 x(e),
                 t(r, l) && s.preventDefault())
             }
         })
     }
       , T = function(t) {
         function i(e, i) {
             var s, n = Math.floor(o.scrollTop), a = 0 === o.scrollTop, r = n + o.offsetHeight === o.scrollHeight, l = 0 === o.scrollLeft, h = o.scrollLeft + o.offsetWidth === o.scrollWidth;
             return s = Math.abs(i) > Math.abs(e) ? a || r : l || h,
             !s || !t.settings.wheelPropagation
         }
         function s(e) {
             var t = e.deltaX
               , i = -1 * e.deltaY;
             return "undefined" != typeof t && "undefined" != typeof i || (t = -1 * e.wheelDeltaX / 6,
             i = e.wheelDeltaY / 6),
             e.deltaMode && 1 === e.deltaMode && (t *= 10,
             i *= 10),
             t !== t && i !== i && (t = 0,
             i = e.wheelDelta),
             e.shiftKey ? [-i, -t] : [t, i]
         }
         function n(t, i, s) {
             if (!S.isWebKit && o.querySelector("select:focus"))
                 return !0;
             if (!o.contains(t))
                 return !1;
             for (var n = t; n && n !== o; ) {
                 if (n.classList.contains(b.element.consuming))
                     return !0;
                 var a = e(n)
                   , r = [a.overflow, a.overflowX, a.overflowY].join("");
                 if (r.match(/(scroll|auto)/)) {
                     var l = n.scrollHeight - n.clientHeight;
                     if (l > 0 && !(0 === n.scrollTop && s > 0 || n.scrollTop === l && s < 0))
                         return !0;
                     var h = n.scrollWidth - n.clientWidth;
                     if (h > 0 && !(0 === n.scrollLeft && i < 0 || n.scrollLeft === h && i > 0))
                         return !0
                 }
                 n = n.parentNode
             }
             return !1
         }
         function a(e) {
             var a = s(e)
               , r = a[0]
               , l = a[1];
             if (!n(e.target, r, l)) {
                 var h = !1;
                 t.settings.useBothWheelAxes ? t.scrollbarYActive && !t.scrollbarXActive ? (l ? o.scrollTop -= l * t.settings.wheelSpeed : o.scrollTop += r * t.settings.wheelSpeed,
                 h = !0) : t.scrollbarXActive && !t.scrollbarYActive && (r ? o.scrollLeft += r * t.settings.wheelSpeed : o.scrollLeft -= l * t.settings.wheelSpeed,
                 h = !0) : (o.scrollTop -= l * t.settings.wheelSpeed,
                 o.scrollLeft += r * t.settings.wheelSpeed),
                 x(t),
                 h = h || i(r, l),
                 h && !e.ctrlKey && (e.stopPropagation(),
                 e.preventDefault())
             }
         }
         var o = t.element;
         "undefined" != typeof window.onwheel ? t.event.bind(o, "wheel", a) : "undefined" != typeof window.onmousewheel && t.event.bind(o, "mousewheel", a)
     }
       , I = function(t) {
         function i(e, i) {
             var s = Math.floor(c.scrollTop)
               , n = c.scrollLeft
               , a = Math.abs(e)
               , o = Math.abs(i);
             if (o > a) {
                 if (i < 0 && s === t.contentHeight - t.containerHeight || i > 0 && 0 === s)
                     return 0 === window.scrollY && i > 0 && S.isChrome
             } else if (a > o && (e < 0 && n === t.contentWidth - t.containerWidth || e > 0 && 0 === n))
                 return !0;
             return !0
         }
         function s(e, i) {
             c.scrollTop -= i,
             c.scrollLeft -= e,
             x(t)
         }
         function n(e) {
             return e.targetTouches ? e.targetTouches[0] : e
         }
         function a(e) {
             return (!e.pointerType || "pen" !== e.pointerType || 0 !== e.buttons) && (!(!e.targetTouches || 1 !== e.targetTouches.length) || !(!e.pointerType || "mouse" === e.pointerType || e.pointerType === e.MSPOINTER_TYPE_MOUSE))
         }
         function o(e) {
             if (a(e)) {
                 var t = n(e);
                 p.pageX = t.pageX,
                 p.pageY = t.pageY,
                 d = (new Date).getTime(),
                 null !== f && clearInterval(f)
             }
         }
         function r(t, i, s) {
             if (!c.contains(t))
                 return !1;
             for (var n = t; n && n !== c; ) {
                 if (n.classList.contains(b.element.consuming))
                     return !0;
                 var a = e(n)
                   , o = [a.overflow, a.overflowX, a.overflowY].join("");
                 if (o.match(/(scroll|auto)/)) {
                     var r = n.scrollHeight - n.clientHeight;
                     if (r > 0 && !(0 === n.scrollTop && s > 0 || n.scrollTop === r && s < 0))
                         return !0;
                     var l = n.scrollLeft - n.clientWidth;
                     if (l > 0 && !(0 === n.scrollLeft && i < 0 || n.scrollLeft === l && i > 0))
                         return !0
                 }
                 n = n.parentNode
             }
             return !1
         }
         function l(e) {
             if (a(e)) {
                 var t = n(e)
                   , o = {
                     pageX: t.pageX,
                     pageY: t.pageY
                 }
                   , l = o.pageX - p.pageX
                   , h = o.pageY - p.pageY;
                 if (r(e.target, l, h))
                     return;
                 s(l, h),
                 p = o;
                 var c = (new Date).getTime()
                   , f = c - d;
                 f > 0 && (u.x = l / f,
                 u.y = h / f,
                 d = c),
                 i(l, h) && e.preventDefault()
             }
         }
         function h() {
             t.settings.swipeEasing && (clearInterval(f),
             f = setInterval(function() {
                 return t.isInitialized ? void clearInterval(f) : u.x || u.y ? Math.abs(u.x) < .01 && Math.abs(u.y) < .01 ? void clearInterval(f) : (s(30 * u.x, 30 * u.y),
                 u.x *= .8,
                 void (u.y *= .8)) : void clearInterval(f)
             }, 10))
         }
         if (S.supportsTouch || S.supportsIePointer) {
             var c = t.element
               , p = {}
               , d = 0
               , u = {}
               , f = null;
             S.supportsTouch ? (t.event.bind(c, "touchstart", o),
             t.event.bind(c, "touchmove", l),
             t.event.bind(c, "touchend", h)) : S.supportsIePointer && (window.PointerEvent ? (t.event.bind(c, "pointerdown", o),
             t.event.bind(c, "pointermove", l),
             t.event.bind(c, "pointerup", h)) : window.MSPointerEvent && (t.event.bind(c, "MSPointerDown", o),
             t.event.bind(c, "MSPointerMove", l),
             t.event.bind(c, "MSPointerUp", h)))
         }
     }
       , D = function() {
         return {
             handlers: ["click-rail", "drag-thumb", "keyboard", "wheel", "touch"],
             maxScrollbarLength: null,
             minScrollbarLength: null,
             scrollingThreshold: 1e3,
             scrollXMarginOffset: 0,
             scrollYMarginOffset: 0,
             suppressScrollX: !1,
             suppressScrollY: !1,
             swipeEasing: !0,
             useBothWheelAxes: !1,
             wheelPropagation: !0,
             wheelSpeed: 1
         }
     }
       , P = {
         "click-rail": $,
         "drag-thumb": E,
         keyboard: M,
         wheel: T,
         touch: I
     }
       , R = function(s, n) {
         var a = this;
         if (void 0 === n && (n = {}),
         "string" == typeof s && (s = document.querySelector(s)),
         !s || !s.nodeName)
             throw new Error("no element is specified to initialize PerfectScrollbar");
         this.element = s,
         s.classList.add(b.main),
         this.settings = D();
         for (var o in n)
             a.settings[o] = n[o];
         this.containerWidth = null,
         this.containerHeight = null,
         this.contentWidth = null,
         this.contentHeight = null;
         var r = function() {
             return s.classList.add(b.state.focus)
         }
           , l = function() {
             return s.classList.remove(b.state.focus)
         };
         this.isRtl = "rtl" === e(s).direction,
         this.isNegativeScroll = function() {
             var e = s.scrollLeft
               , t = null;
             return s.scrollLeft = -1,
             t = s.scrollLeft < 0,
             s.scrollLeft = e,
             t
         }(),
         this.negativeScrollAdjustment = this.isNegativeScroll ? s.scrollWidth - s.clientWidth : 0,
         this.event = new k,
         this.ownerDocument = s.ownerDocument || document,
         this.scrollbarXRail = i(b.element.rail("x")),
         s.appendChild(this.scrollbarXRail),
         this.scrollbarX = i(b.element.thumb("x")),
         this.scrollbarXRail.appendChild(this.scrollbarX),
         this.scrollbarX.setAttribute("tabindex", 0),
         this.event.bind(this.scrollbarX, "focus", r),
         this.event.bind(this.scrollbarX, "blur", l),
         this.scrollbarXActive = null,
         this.scrollbarXWidth = null,
         this.scrollbarXLeft = null;
         var h = e(this.scrollbarXRail);
         this.scrollbarXBottom = parseInt(h.bottom, 10),
         isNaN(this.scrollbarXBottom) ? (this.isScrollbarXUsingBottom = !1,
         this.scrollbarXTop = p(h.top)) : this.isScrollbarXUsingBottom = !0,
         this.railBorderXWidth = p(h.borderLeftWidth) + p(h.borderRightWidth),
         t(this.scrollbarXRail, {
             display: "block"
         }),
         this.railXMarginWidth = p(h.marginLeft) + p(h.marginRight),
         t(this.scrollbarXRail, {
             display: ""
         }),
         this.railXWidth = null,
         this.railXRatio = null,
         this.scrollbarYRail = i(b.element.rail("y")),
         s.appendChild(this.scrollbarYRail),
         this.scrollbarY = i(b.element.thumb("y")),
         this.scrollbarYRail.appendChild(this.scrollbarY),
         this.scrollbarY.setAttribute("tabindex", 0),
         this.event.bind(this.scrollbarY, "focus", r),
         this.event.bind(this.scrollbarY, "blur", l),
         this.scrollbarYActive = null,
         this.scrollbarYHeight = null,
         this.scrollbarYTop = null;
         var c = e(this.scrollbarYRail);
         this.scrollbarYRight = parseInt(c.right, 10),
         isNaN(this.scrollbarYRight) ? (this.isScrollbarYUsingRight = !1,
         this.scrollbarYLeft = p(c.left)) : this.isScrollbarYUsingRight = !0,
         this.scrollbarYOuterWidth = this.isRtl ? u(this.scrollbarY) : null,
         this.railBorderYWidth = p(c.borderTopWidth) + p(c.borderBottomWidth),
         t(this.scrollbarYRail, {
             display: "block"
         }),
         this.railYMarginHeight = p(c.marginTop) + p(c.marginBottom),
         t(this.scrollbarYRail, {
             display: ""
         }),
         this.railYHeight = null,
         this.railYRatio = null,
         this.reach = {
             x: s.scrollLeft <= 0 ? "start" : s.scrollLeft >= this.contentWidth - this.containerWidth ? "end" : null,
             y: s.scrollTop <= 0 ? "start" : s.scrollTop >= this.contentHeight - this.containerHeight ? "end" : null
         },
         this.isAlive = !0,
         this.settings.handlers.forEach(function(e) {
             return P[e](a)
         }),
         this.lastScrollTop = Math.floor(s.scrollTop),
         this.lastScrollLeft = s.scrollLeft,
         this.event.bind(this.element, "scroll", function(e) {
             return a.onScroll(e)
         }),
         x(this)
     };
     return R.prototype.update = function() {
         this.isAlive && (this.negativeScrollAdjustment = this.isNegativeScroll ? this.element.scrollWidth - this.element.clientWidth : 0,
         t(this.scrollbarXRail, {
             display: "block"
         }),
         t(this.scrollbarYRail, {
             display: "block"
         }),
         this.railXMarginWidth = p(e(this.scrollbarXRail).marginLeft) + p(e(this.scrollbarXRail).marginRight),
         this.railYMarginHeight = p(e(this.scrollbarYRail).marginTop) + p(e(this.scrollbarYRail).marginBottom),
         t(this.scrollbarXRail, {
             display: "none"
         }),
         t(this.scrollbarYRail, {
             display: "none"
         }),
         x(this),
         _(this, "top", 0, !1, !0),
         _(this, "left", 0, !1, !0),
         t(this.scrollbarXRail, {
             display: ""
         }),
         t(this.scrollbarYRail, {
             display: ""
         }))
     }
     ,
     R.prototype.onScroll = function(e) {
         this.isAlive && (x(this),
         _(this, "top", this.element.scrollTop - this.lastScrollTop),
         _(this, "left", this.element.scrollLeft - this.lastScrollLeft),
         this.lastScrollTop = Math.floor(this.element.scrollTop),
         this.lastScrollLeft = this.element.scrollLeft)
     }
     ,
     R.prototype.destroy = function() {
         this.isAlive && (this.event.unbindAll(),
         n(this.scrollbarX),
         n(this.scrollbarY),
         n(this.scrollbarXRail),
         n(this.scrollbarYRail),
         this.removePsClasses(),
         this.element = null,
         this.scrollbarX = null,
         this.scrollbarY = null,
         this.scrollbarXRail = null,
         this.scrollbarYRail = null,
         this.isAlive = !1)
     }
     ,
     R.prototype.removePsClasses = function() {
         this.element.className = this.element.className.split(" ").filter(function(e) {
             return !e.match(/^ps([-_].+|)$/)
         }).join(" ")
     }
     ,
     R
 }),
 define("f1e1d/e74c9/dcfd9", ["jquery", "underscore", "f1e1d/e718c/b2952", "f1e1d/af752/bfef4", "f1e1d/e718c/b7acd", "lang/Lang", "perfectScroll"], function(e, t, i, s, n, a, o) {
     var r = i.extend({
         className: "collection-view",
         defaults: {},
         events: {},
         initialize: function() {
             this._super.apply(this, arguments)
         },
         render: function() {
             return this.items ? (this.items.length > 0 ? this.$el.html(t.map(this.items, function(e, t) {
                 return e.rank = t + 1,
                 new this.options.itemView(e).render().el
             }, this)) : this.renderEmpty(),
             this) : this
         },
         renderEmpty: function() {
             var e = null;
             return void 0 !== this.options.emptyMessage ? e = this.options.emptyMessage : void 0 !== this.options.emptyTemplate ? e = this.options.emptyTemplate({}) : void 0 !== this.options.emptyView && (e = new this.options.emptyView({}).render().el),
             this.$el.html(e),
             this
         },
         bindEvents: function() {
             this.delegateEvents()
         },
         unbindEvents: function() {
             this.undelegateEvents()
         },
         setItems: function(e) {
             this.items = e,
             this.unbindEvents(),
             this.render()
         },
         applyScroll: function() {
             this.scroll = void 0,
             void 0 === this.scroll ? this.scroll = new o(this.el,{
                 wheelSpeed: 2,
                 wheelPropagation: !0,
                 minScrollbarLength: 55
             }) : this.scroll.update()
         },
         onClick: function(e) {
             this.prevent(e)
         },
         remove: function() {
             this.unbindEvents(),
             this._super()
         }
     });
     return r
 }),
 define("f1e1d/d8478/adc72", ["backbone", "f1e1d/d8478/d23b4"], function(e, t) {
     var i = e.Model.extend({
         defaults: {
             id: null,
             rank: null,
             image: null,
             title: "",
             author: null,
             woots: 0,
             mehs: 0,
             grabs: 0,
             media_id: null
         },
         asMedia: function() {
             var e = this.attributes;
             return e.cid = e.id,
             new t(e)
         }
     });
     return i
 }),
 define("templates/helpers/replace", ["handlebars"], function(e) {
     var t = "%";
     return e.registerHelper("replace", function(e, i) {
         return Object.keys(i.hash).map(function(s) {
             e = e.split(t + s.toUpperCase() + t).join(i.hash[s])
         }),
         e
     }),
     e
 }),
 define("hbs!templates/community/SongItemView", ["hbs", "handlebars", "templates/helpers/replace"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n, a, o = "";
             return o += '<span class="info-bar__song-author">',
             a = {
                 hash: {
                     author: e.author
                 }
             },
             s = i.replace || e.replace,
             n = s ? s.call(e, (s = e.trans,
             s = null == s || s === !1 ? s : s.roomSettings,
             null == s || s === !1 ? s : s.byAuthor), a) : l.call(e, "replace", (s = e.trans,
             s = null == s || s === !1 ? s : s.roomSettings,
             null == s || s === !1 ? s : s.byAuthor), a),
             (n || 0 === n) && (o += n),
             o += "</span>"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = i.helperMissing, h = "function", c = this.escapeExpression, p = this;
         return r += '<div class="song-item__background">\n    <img src="',
         (o = i.image) ? o = o.call(t, {
             hash: {}
         }) : (o = t.image,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + '" alt="">\n</div>\n<div class="song-item__info-bar">\n    <span class="info-bar__song-title" title="',
         (o = i.title) ? o = o.call(t, {
             hash: {}
         }) : (o = t.title,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + '">',
         (o = i.title) ? o = o.call(t, {
             hash: {}
         }) : (o = t.title,
         o = typeof o === h ? o.apply(t) : o),
         (o || 0 === o) && (r += o),
         r += "</span>\n    ",
         o = i.if.call(t, t.author, {
             hash: {},
             inverse: p.noop,
             fn: p.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += '\n</div>\n<div class="song-item__bottom-bar">\n    <span class="bottom-bar__index">',
         (o = i.rank) ? o = o.call(t, {
             hash: {}
         }) : (o = t.rank,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + '</span>\n    <span class="bottom-bar__woot"><i class="fa fa-thumbs-up" aria-hidden="true"></i>',
         (o = i.woots) ? o = o.call(t, {
             hash: {}
         }) : (o = t.woots,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + '</span>\n    <span class="bottom-bar__meh"><i class="fa fa-thumbs-down" aria-hidden="true"></i>',
         (o = i.mehs) ? o = o.call(t, {
             hash: {}
         }) : (o = t.mehs,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + '</span>\n    <span class="bottom-bar__grab"><i class="plugdjfont icon-list" aria-hidden="true" data-grab=""></i>',
         (o = i.grabs) ? o = o.call(t, {
             hash: {}
         }) : (o = t.grabs,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + "</span>\n</div>"
     });
     return t.registerPartial("templates_community_SongItemView", i),
     i
 }),
 define("f1e1d/e74c9/dc178/b08a0", ["jquery", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "f1e1d/d8478/adc72", "f1e1d/e8300/d904e", "f1e1d/e74c9/ffbf9/da5bf", "hbs!templates/community/SongItemView", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = t.extend({
         identifier: "songItem",
         className: "song-item",
         model: n,
         events: {},
         initialize: function() {
             e.extend(!0, this.defaults, this.options),
             void 0 === this.options.model && (this.model = new this.model(this.options)),
             this.setupHoverActions({
                 preview: {
                     label: l.dialog.preview,
                     color: "blue"
                 },
                 grab: {
                     label: l.vote.grab,
                     color: "blue"
                 }
             }),
             this.executeOnlyIf(this.onClickGrab, function() {
                 return _.isEmpty(this.model.get("image")) === !1
             }
             .bind(this))
         },
         serialize: function() {
             return e.extend(!0, {
                 trans: l
             }, this.model.toJSON())
         },
         render: function() {
             return this.$el.html(r(this.serialize())),
             this
         },
         onClickPreview: function(e) {
             this.prevent(e),
             i.dispatch(new a(a.PREVIEW,this.model.asMedia()))
         },
         onClickGrab: function(t) {
             this.prevent(t),
             i.trigger("track", "BestOf", "Click", "Playlist"),
             o.show(e(t.currentTarget), [this.model.asMedia()], null, this.cid),
             this.listenToOnce(o, "success", function(e) {
                 e === this.cid && (i.trigger("track", "BestOf", "AddSong", this.model.get("media_id")),
                 this.stopListening(o))
             }
             .bind(this)),
             this.listenToOnce(o, "fail", function(e) {
                 e === this.cid && this.stopListening(o)
             }
             .bind(this)),
             this.listenToOnce(o, "close hide", function(e) {
                 e === !1 && this.stopListening(o)
             }
             .bind(this))
         },
         setupHoverActions: function(t) {
             var i = e('<div class="plug-hover-container"></div>');
             _.each(t, function(t, s) {
                 var n = s[0].toUpperCase() + s.slice(1);
                 this.events["click [data-action-" + s + "]"] = "onClick" + n;
                 var a = e("<div data-action-" + s + '="" class="plug-hover-container__action btn btn-' + t.color + '">' + t.label + "</div>");
                 this.model.get("image") || a.addClass("disabled"),
                 i.append(a)
             }, this);
             var s = this.render;
             this.render = function() {
                 var e = s.apply(this, arguments);
                 return this.$el.append(i),
                 e
             }
             .bind(this),
             this.setData("plug-hover", "actions")
         }
     });
     return h
 }),
 define("f1e1d/d8478/a763f", ["backbone", "f1e1d/fce39/cd5cd"], function(e, t) {
     var i = e.Model.extend({
         defaults: {
             avatar_id: null,
             friends: 0,
             is_sub: !1,
             level: 0,
             rank: 0,
             username: null,
             slug: null
         },
         serialize: function() {
             var e = this.toJSON();
             return _.extend({
                 profileUrl: "/@/" + e.slug,
                 isFriend: void 0 !== t.findWhere({
                     username: e.username
                 }),
                 status: ""
             }, e)
         }
     });
     return i
 }),
 define("hbs!templates/user/UserItemView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += '<i class="icon icon-chat-subscriber"></i>' + d((i = e.trans,
             i = null == i || i === !1 ? i : i.userStatus,
             i = null == i || i === !1 ? i : i.subscriber,
             typeof i === p ? i.apply(e) : i))
         }
         function o(e, t) {
             var i, s = "";
             return s += '\n                <div class="info-box-inner info-box__add-friend" data-action="unfriend" title="' + d((i = e.trans,
             i = null == i || i === !1 ? i : i.userFriends,
             i = null == i || i === !1 ? i : i.unfriend,
             typeof i === p ? i.apply(e) : i)) + '"><i\n                        class="plugdjfont icon-removefriend"></i></div>\n            '
         }
         function r(e, t) {
             var i, s = "";
             return s += '\n                <div class="info-box-inner info-box__add-friend highlight" data-action="add-friend" title="' + d((i = e.trans,
             i = null == i || i === !1 ? i : i.tooltips,
             i = null == i || i === !1 ? i : i.friend,
             typeof i === p ? i.apply(e) : i)) + '"><i\n                        class="plugdjfont icon-addfriend"></i></div>\n            '
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var l, h, c = "", p = "function", d = this.escapeExpression, u = this;
         return c += '<div class="user-item__index">',
         (l = i.rank) ? l = l.call(t, {
             hash: {}
         }) : (l = t.rank,
         l = typeof l === p ? l.apply(t) : l),
         c += d(l) + '</div>\n\n<div class="user-item__avatar">\n    <div class="thumb large">\n        <div class="background"></div>\n        <i class="avi avi-',
         (l = i.avatar_id) ? l = l.call(t, {
             hash: {}
         }) : (l = t.avatar_id,
         l = typeof l === p ? l.apply(t) : l),
         c += d(l) + '"></i>\n    </div>\n</div>\n\n<div class="user-item__info-box">\n    <div class="flex-container">\n        <div class="info-box__name"><span class="info-box__role"></span>',
         (l = i.username) ? l = l.call(t, {
             hash: {}
         }) : (l = t.username,
         l = typeof l === p ? l.apply(t) : l),
         c += d(l) + '</div>\n        <div class="info-box-flex">\n            <div class="info-box-inner info-box__level">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.userXP,
         l = null == l || l === !1 ? l : l.level,
         typeof l === p ? l.apply(t) : l)) + " ",
         (h = i.level) ? h = h.call(t, {
             hash: {}
         }) : (h = t.level,
         h = typeof h === p ? h.apply(t) : h),
         c += d(h) + '</div>\n            <div class="info-box-inner info-box__subscriber">\n                ',
         h = i.if.call(t, t.is_sub, {
             hash: {},
             inverse: u.noop,
             fn: u.program(1, a, n)
         }),
         (h || 0 === h) && (c += h),
         c += '\n            </div>\n        </div>\n            \n        <div class="info-box-flex">\n            <div class="info-box-inner info-box__likes" title="">\n                <i\n                    class="plugdjfont icon-friends"></i>\n                ',
         (h = i.friends) ? h = h.call(t, {
             hash: {}
         }) : (h = t.friends,
         h = typeof h === p ? h.apply(t) : h),
         c += d(h) + '\n            </div>\n            <a class="info-box-inner info-box__profile" href="',
         (h = i.profileUrl) ? h = h.call(t, {
             hash: {}
         }) : (h = t.profileUrl,
         h = typeof h === p ? h.apply(t) : h),
         c += d(h) + '" target="_blank" title="' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.userFriends,
         l = null == l || l === !1 ? l : l.profile,
         typeof l === p ? l.apply(t) : l)) + '"><i\n                    class="fa fa-user"></i>\n            </a>\n            ',
         h = i.if.call(t, t.isFriend, {
             hash: {},
             inverse: u.program(5, r, n),
             fn: u.program(3, o, n)
         }),
         (h || 0 === h) && (c += h),
         c += "\n        </div>\n    </div>\n</div>\n"
     });
     return t.registerPartial("templates_user_UserItemView", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/fe9ee", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "f1e1d/d8478/a763f", "f1e1d/be642/aa669/ad47a", "f1e1d/e8300/dc3a7", "hbs!templates/user/UserItemView", "lang/Lang"], function(e, t, i, s, n, a, o, r) {
     var l = e.extend({
         identifier: "userItem",
         className: "user-item",
         model: s,
         events: {
             'click [data-action="add-friend"]': "onClickAddFriend"
         },
         initialize: function() {
             $.extend(!0, this.defaults, this.options),
             void 0 === this.options.model && (this.model = new this.model(this.options))
         },
         serialize: function() {
             return $.extend(!0, {
                 trans: r
             }, this.model.serialize())
         },
         render: function() {
             return this.$el.html(o(this.serialize())),
             this
         },
         onClickAddFriend: function() {
             if (this.model.get("id")) {
                 t.trigger("track", "BestOf", "FriendRequest", this.model.get("username"));
                 var e = this.model.get("username");
                 new n(this.model.get("id")).on("success", function(i) {
                     t.trigger("notify", "icon-add-friend", r.messages.friendRequest.split("%NAME%").join(e)),
                     i && t.dispatch(new a(a.FRIENDS,!0))
                 }),
                 this.render()
             }
         }
     });
     return l
 }),
 define("hbs!templates/community/EmptySongListView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="empty-view">\n\t<p>This is too quiet, Start inviting your friends and let\'s party!</p>\n\t<button class="btn-blue" data-share-room="true"> <i class="fa fa-share"></i> Invite friends</button>\n</div>'
     });
     return t.registerPartial("templates_community_EmptySongListView", i),
     i
 }),
 define("f1e1d/e74c9/dc178/a2c44", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "hbs!templates/community/EmptySongListView", "lang/Lang"], function(e, t, i, s, n) {
     var a = e.extend({
         identifier: "emptySongList",
         className: "empty-song-list",
         events: {
             "click [data-share-room]": "onClickShareRoom"
         },
         initialize: function() {},
         serialize: function() {
             return $.extend(!0, {
                 trans: n
             }, this.options)
         },
         render: function() {
             return this.$el.html(s(this.serialize())),
             this
         },
         onClickShareRoom: function(e) {
             this.prevent(e),
             t.trigger("shareRoom:toggle", e.currentTarget)
         }
     });
     return a
 }),
 define("hbs!templates/user/EmptyUserListView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="empty-view">\n\t<p>No dj\'s over here?, Invite your friends and let\'s rock!</p>\n\t<button class="btn-blue" data-share-room="true"> <i class="fa fa-share"></i> Invite friends</button>\n</div>'
     });
     return t.registerPartial("templates_user_EmptyUserListView", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/cdb2f", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "hbs!templates/user/EmptyUserListView", "lang/Lang"], function(e, t, i, s, n) {
     var a = e.extend({
         identifier: "emptyUserList",
         className: "empty-user-list",
         events: {
             "click [data-share-room]": "onClickShareRoom"
         },
         initialize: function() {},
         serialize: function() {
             return $.extend(!0, {
                 trans: n
             }, this.options)
         },
         render: function() {
             return this.$el.html(s(this.serialize())),
             this
         },
         onClickShareRoom: function(e) {
             this.prevent(e),
             t.trigger("shareRoom:toggle", e.currentTarget)
         }
     });
     return a
 }),
 define("f1e1d/e0a52/ed6b7/ffb50", [], function() {
     "use strict";
     return {}
 }),
 define("f1e1d/e0a52/ed6b7/adb1c", ["backbone", "f1e1d/e0a52/ed6b7/ffb50"], function(e, t) {
     var i = e.Model.extend({
         defaults: {
             title: null,
             items: {}
         },
         getCurrentOption: function() {
             return _.findWhere(this.getMenu(), {
                 selected: !0
             })
         },
         getMenu: function() {
             return _.map(this.get("items"), function(e, t) {
                 return {
                     value: t,
                     label: e.label,
                     selected: e.selected || !1
                 }
             }, this)
         },
         selectMenuOption: function(e) {
             void 0 !== this.attributes.items[e] && (_.each(this.get("items"), function(e) {
                 e.selected = !1
             }),
             this.get("items")[e].selected = !0,
             this.trigger("change:items", this, this.attributes.items))
         }
     });
     return i
 }),
 define("hbs!app/components/tabPanel/templates/base", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<div class="tabPanel__title" data-target="title">',
             (s = i.title) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.title,
             s = typeof s === l ? s.apply(e) : s),
             n += h(s) + "</div>"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = "function", h = this.escapeExpression, c = this;
         return r += "<!--Title-->\n",
         o = i.if.call(t, t.title, {
             hash: {},
             inverse: c.noop,
             fn: c.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += '\n<!--Menu tabs-->\n<div data-target="menu"></div>\n<!--Content-->\n<div class="tabPanel__content" data-target="content"></div>'
     });
     return t.registerPartial("app_components_tabPanel_templates_base", i),
     i
 }),
 define("hbs!app/components/tabPanel/templates/menu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '\n    <div class="tabPanel__tab-menu plug-tab-menu" data-target="menu">\n        ',
             s = i.each.call(e, e.menu, {
                 hash: {},
                 inverse: h.noop,
                 fn: h.program(2, o, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n    </div>\n"
         }
         function o(e, t) {
             var s, n = "";
             return n += '\n            <div class="tab-menu__item item ',
             s = i.if.call(e, e.selected, {
                 hash: {},
                 inverse: h.noop,
                 fn: h.program(3, r, t)
             }),
             (s || 0 === s) && (n += s),
             n += '"\n                 data-value="' + p((s = e.value,
             typeof s === c ? s.apply(e) : s)) + '">' + p((s = e.label,
             typeof s === c ? s.apply(e) : s)) + "</div>\n        "
         }
         function r(e, t) {
             return "selected"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var l, h = this, c = "function", p = this.escapeExpression;
         return l = i.if.call(t, t.menu, {
             hash: {},
             inverse: h.noop,
             fn: h.program(1, a, n)
         }),
         l || 0 === l ? l : ""
     });
     return t.registerPartial("app_components_tabPanel_templates_menu", i),
     i
 }),
 define("f1e1d/e0a52/ed6b7/e14ef", ["f1e1d/e0a52/b0b2d/e14ef", "f1e1d/e718c/b7acd", "backbone", "lang/Lang", "f1e1d/e0a52/ed6b7/adb1c", "f1e1d/e0a52/ed6b7/ffb50", "hbs!app/components/tabPanel/templates/base", "hbs!app/components/tabPanel/templates/menu"], function(e, t, i, s, n, a, o, r) {
     var l = e.extend({
         identifier: "tabPanel",
         className: "tabPanel-widget",
         events: {
             'click [data-target="menu"] [data-value]': "onClickMenuOption"
         },
         defaults: {},
         model: n,
         initialize: function() {
             this._super(),
             this.model.on({
                 "change:title": this.updateNodeFromModel.bind(this, "title"),
                 "change:items": this.updateMenu.bind(this),
                 "change:view": this.renderView.bind(this)
             })
         },
         serialize: function() {
             return _.extend({
                 trans: s,
                 menu: this.model.getMenu()
             }, this.model.toJSON())
         },
         render: function() {
             return this.$el.html(o(this.serialize())),
             this.mapDOM(),
             this.updateMenu(),
             this.renderMenuOption(this.model.getCurrentOption().value),
             this
         },
         mapDOM: function() {
             this.$title = this.$('[data-target="title"]'),
             this.$menu = this.$('[data-target="menu"]'),
             this.$content = this.$('[data-target="content"]'),
             this._super()
         },
         updateNodeFromModel: function(e, t, i) {
             this.updateNode(e, i)
         },
         updateNode: function(e, t) {
             this.$('[data-target="' + e + '"]').html(t)
         },
         updateMenu: function() {
             this.$menu.replaceWith(r({
                 menu: this.model.getMenu()
             })),
             this.mapDOM()
         },
         renderView: function(e) {
             return null === e || void 0 === e ? void this.log("View not available for this option %s", this.currentOption) : (void 0 === e.el ? e = new e({
                 parent: this
             }) : e.render(),
             void this.updateNode("content", e.el))
         },
         renderMenuOption: function(e) {
             var t = this.model.get("items");
             void 0 !== t[e] && this.renderView(t[e].view)
         },
         onClickMenuOption: function(e) {
             this.prevent(e);
             var t = e.currentTarget.dataset.value;
             this.currentOption !== t && (this.currentOption = t,
             this.model.selectMenuOption(t),
             this.renderMenuOption(t),
             this.trigger("click:option", t))
         }
     });
     return l
 }),
 define("f1e1d/be642/e32cc/e1f29", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         init: function(e) {
             this.route = "rooms/bestof/" + encodeURIComponent(e),
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code && this.success ? e.data[0] && this.success(e.data[0]) : this.error && this.error(e.code)
         },
         onFault: function(e) {
             this.error && this.error(e)
         }
     });
     return i
 }),
 define("hbs!templates/room/settings/Preview", ["hbs", "handlebars", "templates/helpers/if_eq"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += '\n    <div class="edit-community small" data-action="edit">\n        <i class="fa fa-pencil"></i> ' + T((i = e.trans,
             i = null == i || i === !1 ? i : i.roomSettings,
             i = null == i || i === !1 ? i : i.editCommunityButton,
             typeof i === M ? i.apply(e) : i)) + "\n    </div>\n    "
         }
         function o(e, t) {
             return "ON"
         }
         function r(e, t) {
             return "OFF"
         }
         function l(e, t) {
             var i, s = "";
             return s += '\n                                    <div class="item waitlist"> <i class="fa fa-lock"></i>  ' + T((i = e.trans,
             i = null == i || i === !1 ? i : i.roomSettings,
             i = null == i || i === !1 ? i : i.waitlist,
             typeof i === M ? i.apply(e) : i)) + " <span>" + T((i = e.trans,
             i = null == i || i === !1 ? i : i.roomSettings,
             i = null == i || i === !1 ? i : i.waitlistLocked,
             typeof i === M ? i.apply(e) : i)) + "</span></div>\n                                "
         }
         function h(e, t) {
             var i, s = "";
             return s += '\n                                    <div class="item waitlist"> <i class="fa fa-unlock"></i>  ' + T((i = e.trans,
             i = null == i || i === !1 ? i : i.roomSettings,
             i = null == i || i === !1 ? i : i.waitlist,
             typeof i === M ? i.apply(e) : i)) + " <span>" + T((i = e.trans,
             i = null == i || i === !1 ? i : i.roomSettings,
             i = null == i || i === !1 ? i : i.waitlistUnlocked,
             typeof i === M ? i.apply(e) : i)) + "</span></div>\n                                "
         }
         function c(e, t) {
             var i = "";
             return i += '\n                                <a class="genre item-text" href="#" data-name="' + T(typeof e === M ? e.apply(e) : e) + '" data-type="genre">' + T(typeof e === M ? e.apply(e) : e) + "</a>,\n                            "
         }
         function p(e, t) {
             var i = "";
             return i += '\n                                <a class="genre item-text" href="#" data-name="' + T(typeof e === M ? e.apply(e) : e) + '" data-type="subgenre">' + T(typeof e === M ? e.apply(e) : e) + "</a>,\n                            "
         }
         function d(e, t) {
             var s, n, a, o = "";
             return o += '\n                                <div class="item-icon ">\n                                    <!--TODO remove trsting media plugbook plugram-->\n                                    ',
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(16, u, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "plugbook", a) : D.call(e, "if_eq", e.name, "plugbook", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(18, f, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "plugram", a) : D.call(e, "if_eq", e.name, "plugram", a),
             (n || 0 === n) && (o += n),
             o += "\n\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(20, m, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "twitter", a) : D.call(e, "if_eq", e.name, "twitter", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(22, g, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "facebook", a) : D.call(e, "if_eq", e.name, "facebook", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(24, v, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "google", a) : D.call(e, "if_eq", e.name, "google", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(26, b, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "youtube", a) : D.call(e, "if_eq", e.name, "youtube", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(28, w, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "github", a) : D.call(e, "if_eq", e.name, "github", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(30, y, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "vimeo", a) : D.call(e, "if_eq", e.name, "vimeo", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(32, C, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "instagram", a) : D.call(e, "if_eq", e.name, "instagram", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(34, k, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "soundcloud", a) : D.call(e, "if_eq", e.name, "soundcloud", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(36, _, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "discord", a) : D.call(e, "if_eq", e.name, "discord", a),
             (n || 0 === n) && (o += n),
             o += "\n                                    ",
             a = {
                 hash: {},
                 inverse: I.noop,
                 fn: I.program(38, S, t)
             },
             s = i.if_eq || e.if_eq,
             n = s ? s.call(e, e.name, "www", a) : D.call(e, "if_eq", e.name, "www", a),
             (n || 0 === n) && (o += n),
             o += '\n                                    <a href="' + T((s = e.url,
             typeof s === M ? s.apply(e) : s)) + '" target="_blank">' + T((s = e.url,
             typeof s === M ? s.apply(e) : s)) + "</a>\n                                </div>\n                            "
         }
         function u(e, t) {
             return '\n                                        <div class="plugbook icon-social"><i class="fa fa-facebook-square"></i> </div>\n                                    '
         }
         function f(e, t) {
             return '\n                                        <div class="plugram icon-social"><i class="fa fa-instagram"></i> </div>\n                                    '
         }
         function m(e, t) {
             return '\n                                        <div class="twitter icon-social"><i class="fa fa-twitter"></i> </div>\n                                    '
         }
         function g(e, t) {
             return '\n                                        <div class="facebook icon-social"><i class="fa fa-facebook"></i> </div>\n                                    '
         }
         function v(e, t) {
             return '\n                                        <div class="google icon-social"><i class="fa fa-google-plus"></i> </div>\n                                    '
         }
         function b(e, t) {
             return '\n                                        <div class="youtube icon-social"><i class="fa fa-youtube"></i> </div>\n                                    '
         }
         function w(e, t) {
             return '\n                                        <div class="github icon-social"><i class="fa fa-github-alt"></i> </div>\n                                    '
         }
         function y(e, t) {
             return '\n                                        <div class="vimeo icon-social"><i class="fa fa-vimeo"></i> </div>\n                                    '
         }
         function C(e, t) {
             return '\n                                        <div class="instagram icon-social"><i class="fa fa-instagram"></i> </div>\n                                    '
         }
         function k(e, t) {
             return '\n                                        <div class="soundcloud icon-social"><i class="fa fa-soundcloud"></i> </div>\n                                    '
         }
         function _(e, t) {
             return '\n                                        <div class="discord icon-social"><i class="plugdjfont icon-discord"></i> </div>\n                                    '
         }
         function S(e, t) {
             return '\n                                        <div class="www icon-social"><i class="plugdjfont icon-www"></i> </div>\n                                    '
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var x, $, E = "", M = "function", T = this.escapeExpression, I = this, D = i.helperMissing;
         return E += '<div class="community-settings__top">\n    About\n    ',
         x = i.if.call(t, t.canEdit, {
             hash: {},
             inverse: I.noop,
             fn: I.program(1, a, n)
         }),
         (x || 0 === x) && (E += x),
         E += '\n</div>\n<div id="preview-about" >\n    <div class="top-about">\n    \t<div class="top-background-black"></div>\n    </div>\n\n    <div class="preview-about__container">\n       \n        <div class="preview-content-left">\n                    <div class="top-profile">\n                        <div class="top-profile__image"></div>\n                        <div class="top-profile-text">\n                            <h1>' + T((x = t.room,
         x = null == x || x === !1 ? x : x.name,
         typeof x === M ? x.apply(t) : x)) + "</h1>\n                            <h2>" + T((x = t.trans,
         x = null == x || x === !1 ? x : x.welcome,
         x = null == x || x === !1 ? x : x.hostedBy,
         typeof x === M ? x.apply(t) : x)) + " <span>" + T((x = t.room,
         x = null == x || x === !1 ? x : x.host,
         typeof x === M ? x.apply(t) : x)) + '</span></h2>\n                            <div class="flex-component small-text">\n                                <div class="item dj-cicle"> <i class="fa fa-sync"></i> ' + T((x = t.trans,
         x = null == x || x === !1 ? x : x.roomSettings,
         x = null == x || x === !1 ? x : x.djCycle,
         typeof x === M ? x.apply(t) : x)) + " <span>",
         $ = i.if.call(t, (x = t.room,
         null == x || x === !1 ? x : x.djCycle), {
             hash: {},
             inverse: I.program(5, r, n),
             fn: I.program(3, o, n)
         }),
         ($ || 0 === $) && (E += $),
         E += "</span></div>\n                                ",
         $ = i.if.call(t, (x = t.room,
         null == x || x === !1 ? x : x.whiteListlocked), {
             hash: {},
             inverse: I.program(9, h, n),
             fn: I.program(7, l, n)
         }),
         ($ || 0 === $) && (E += $),
         E += '\n                                <div class="item level"><i class="fa fa-comments"></i>  ' + T((x = t.trans,
         x = null == x || x === !1 ? x : x.roomSettings,
         x = null == x || x === !1 ? x : x.levelToChat,
         typeof x === M ? x.apply(t) : x)) + " <span>" + T((x = t.room,
         x = null == x || x === !1 ? x : x.chatLevel,
         typeof x === M ? x.apply(t) : x)) + '</span></div>\n                            </div>\n                            <div class="flex-component buttons">\n                                <button class="follow small"><i class="fa fa-star-o"></i><i class="fa fa-star"></i> <p>' + T((x = t.trans,
         x = null == x || x === !1 ? x : x.roomSettings,
         x = null == x || x === !1 ? x : x.follow,
         typeof x === M ? x.apply(t) : x)) + '</p></button>\n                                <button class="share "><i class="fa fa-share-alt"></i> ' + T((x = t.trans,
         x = null == x || x === !1 ? x : x.roomSettings,
         x = null == x || x === !1 ? x : x.share,
         typeof x === M ? x.apply(t) : x)) + '</button>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="about-content">\n                        <div class="short-description">\n                            ',
         x = t.room,
         x = null == x || x === !1 ? x : x.short,
         $ = typeof x === M ? x.apply(t) : x,
         ($ || 0 === $) && (E += $),
         E += '\n                        </div>\n                        <div class="flex-component text genres">\n                            <h3>' + T((x = t.trans,
         x = null == x || x === !1 ? x : x.roomSettings,
         x = null == x || x === !1 ? x : x.genreLabel,
         typeof x === M ? x.apply(t) : x)) + "</h3>\n                            ",
         $ = i.each.call(t, (x = t.room,
         null == x || x === !1 ? x : x.genres), {
             hash: {},
             inverse: I.noop,
             fn: I.program(11, c, n)
         }),
         ($ || 0 === $) && (E += $),
         E += '\n                        </div>\n                        <div class="flex-component text sub-genres">\n                            <h3>' + T((x = t.trans,
         x = null == x || x === !1 ? x : x.roomSettings,
         x = null == x || x === !1 ? x : x.subgenreLabel,
         typeof x === M ? x.apply(t) : x)) + "</h3>\n                            ",
         $ = i.each.call(t, (x = t.room,
         null == x || x === !1 ? x : x.subgenres), {
             hash: {},
             inverse: I.noop,
             fn: I.program(13, p, n)
         }),
         ($ || 0 === $) && (E += $),
         E += '\n                        </div>\n                        <div class="flex-component text language">\n                            <h3>' + T((x = t.trans,
         x = null == x || x === !1 ? x : x.roomSettings,
         x = null == x || x === !1 ? x : x.languageLabel,
         typeof x === M ? x.apply(t) : x)) + '</h3>\n                            <a href="#" class="genre item-text" data-name="' + T((x = t.room,
         x = null == x || x === !1 ? x : x.languageCode,
         typeof x === M ? x.apply(t) : x)) + '" data-type="language">' + T((x = t.room,
         x = null == x || x === !1 ? x : x.language,
         typeof x === M ? x.apply(t) : x)) + '</a>\n                        </div>\n                        <h1>Join Us</h1>\n                        <div class="flex-component icons">\n\n                            ',
         $ = i.each.call(t, (x = t.room,
         null == x || x === !1 ? x : x.links), {
             hash: {},
             inverse: I.noop,
             fn: I.program(15, d, n)
         }),
         ($ || 0 === $) && (E += $),
         E += '\n\n                        </div>\n                        <div class="long-description">\n                            ',
         x = t.room,
         x = null == x || x === !1 ? x : x.long,
         $ = typeof x === M ? x.apply(t) : x,
         ($ || 0 === $) && (E += $),
         E += '\n                        </div>\n                    </div>\n                </div>\n        <div class="bestOfTheWeek-widget__container"></div>\n            \n    </div>\n</div>\n'
     });
     return t.registerPartial("templates_room_settings_Preview", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/f34c8", ["jquery", "underscore", "f1e1d/e718c/b2952", "f1e1d/af752/bfef4", "f1e1d/e718c/b7acd", "f1e1d/e74c9/dcfd9", "f1e1d/e74c9/dc178/b08a0", "f1e1d/e74c9/b14c6/fe9ee", "f1e1d/e74c9/dc178/a2c44", "f1e1d/e74c9/b14c6/cdb2f", "f1e1d/d8478/eeaaf", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/e0a52/ad7eb/efe26", "f1e1d/e0a52/ed6b7/e14ef", "f1e1d/be642/e32cc/e1f29", "hbs!templates/room/settings/Preview", "lang/Lang", "perfectScroll", "f1e1d/d8478/f54f2", "f1e1d/d8478/d7013"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C) {
     var k = i.extend({
         className: "preview-settings ",
         events: {
             'click [data-action="edit"]': "onClickEdit",
             "click button.follow": "onClickFollow",
             "click .item-text": "onFilterClick",
             "click button.share": "onClickShare"
         },
         initialize: function() {
             void 0 === this.options.model && (this.model = new Backbone.Model(this.options)),
             this.songListView = new a({
                 itemView: o,
                 emptyView: l
             }),
             this.djListView = new a({
                 itemView: r,
                 emptyView: h
             }),
             this.fetchBestOfTheWeek(),
             this.initializeParser()
         },
         render: function() {
             this.$el.html(v(t.extend({
                 trans: b,
                 canEdit: d.canEditRoom(),
                 room: {
                     name: p.get("name"),
                     host: p.get("hostName"),
                     chatLevel: p.get("minChatLevel"),
                     short: this.shortDescriptionParser.parse(p.get("short_description")),
                     long: this.longDescriptionParser.parse(p.get("long_description")),
                     genres: p.get("genres"),
                     subgenres: p.get("subgenres"),
                     languageCode: p.get("language"),
                     language: b.languages[p.get("language").toLowerCase()].split(" (")[0],
                     links: p.get("links"),
                     favorite: p.get("favorite"),
                     thumbnail: p.get("thumbnail"),
                     banner: p.get("banner"),
                     whiteListlocked: c.get("isLocked"),
                     djCycle: c.get("shouldCycle")
                 }
             }, this.model.toJSON()))),
             this.mapDOM(),
             this.tabPanel = new m({
                 el: this.$(".bestOfTheWeek-widget__container"),
                 title: b.roomSettings.bestOfTheWeek,
                 items: {
                     songs: {
                         label: b.roomSettings.songsLabel,
                         view: this.songListView,
                         selected: !0
                     },
                     djs: {
                         label: b.roomSettings.djsLabel,
                         view: this.djListView
                     }
                 }
             }),
             this.tabPanel.render();
             var e = p.get("banner")
               , i = p.get("thumbnail");
             return "default" !== i && this.$thumbnail.css("background-image", "url(" + i + ")"),
             "default" !== e && this.$banner.css("background-image", "url(" + e + ")"),
             this.bindEvents(),
             this.applyScroll(),
             this.applyTooltip(),
             this.updateFollowButton(),
             this
         },
         mapDOM: function() {
             this.$container = this.$("#preview-about"),
             this.$banner = this.$(".top-about"),
             this.$thumbnail = this.$(".top-profile__image"),
             this.$starOff = this.$(".follow .fa-star-o"),
             this.$starOn = this.$(".follow .fa-star"),
             this.$followBtn = this.$("button.follow"),
             this.$followBtnText = this.$("button.follow p")
         },
         bindEvents: function() {
             p.on("change:favorite", this.updateFollowButton, this),
             this.tabPanel.on("click:option", function(e) {
                 "songs" === e ? n.trigger("track", "BestOf", "Click", "Songs") : n.trigger("track", "BestOf", "Click", "DJ")
             }
             .bind(this))
         },
         unbindEvents: function() {
             p.off("change:favorite", this.updateFollowButton, this)
         },
         onClickFollow: function(e) {
             this.prevent(e),
             n.trigger("favorite:toggle")
         },
         onClickShare: function(e) {
             this.prevent(e),
             n.trigger("shareRoom:toggle", this.$("button.share").get(0))
         },
         updateFollowButton: function() {
             var e = p.get("favorite");
             e ? (this.$starOn.addClass("show"),
             this.$starOff.removeClass("show"),
             this.$followBtn.addClass("white"),
             this.$followBtnText.text(b.roomSettings.following)) : (this.$starOn.removeClass("show"),
             this.$starOff.addClass("show"),
             this.$followBtn.removeClass("white"),
             this.$followBtnText.text(b.roomSettings.follow))
         },
         initializeParser: function() {
             this.longDescriptionParser = new f({
                 html: !1,
                 xhtmlOut: !1,
                 breaks: !0,
                 linkify: !1,
                 blacklist: {
                     image: function(e, t, i) {
                         return "(images not allowed)\n"
                     },
                     link_open: function(e, t, i) {
                         return ""
                     },
                     link_close: function() {
                         return ""
                     }
                 }
             }),
             this.shortDescriptionParser = new f({
                 html: !1,
                 xhtmlOut: !1,
                 breaks: !1,
                 linkify: !1,
                 blacklist: {
                     image: function() {
                         return ""
                     },
                     blockquote_open: function() {
                         return ""
                     },
                     blockquote_close: function() {
                         return ""
                     },
                     code: function() {
                         return ""
                     },
                     fence: function() {
                         return ""
                     },
                     heading_open: function() {
                         return ""
                     },
                     heading_close: function() {
                         return ""
                     },
                     hr: function() {
                         return ""
                     },
                     bullet_list_open: function() {
                         return ""
                     },
                     bullet_list_close: function() {
                         return ""
                     },
                     list_item_open: function() {
                         return ""
                     },
                     list_item_close: function() {
                         return ""
                     },
                     ordered_list_open: function() {
                         return ""
                     },
                     ordered_list_close: function() {
                         return ""
                     },
                     paragraph_open: function() {
                         return ""
                     },
                     paragraph_close: function() {
                         return ""
                     },
                     link_open: function() {
                         return ""
                     },
                     link_close: function() {
                         return ""
                     },
                     table_open: function() {
                         return ""
                     },
                     table_close: function() {
                         return ""
                     },
                     thead_open: function() {
                         return ""
                     },
                     thead_close: function() {
                         return ""
                     },
                     tbody_open: function() {
                         return ""
                     },
                     tbody_close: function() {
                         return ""
                     },
                     tr_open: function() {
                         return ""
                     },
                     tr_close: function() {
                         return ""
                     },
                     th_open: function() {
                         return ""
                     },
                     th_close: function() {
                         return ""
                     },
                     td_open: function() {
                         return ""
                     },
                     td_close: function() {
                         return ""
                     },
                     hardbreak: function() {
                         return ""
                     },
                     softbreak: function() {
                         return ""
                     },
                     abbr_open: function() {
                         return ""
                     },
                     abbr_close: function() {
                         return ""
                     },
                     footnote_ref: function() {
                         return ""
                     },
                     footnote_block_open: function() {
                         return ""
                     },
                     footnote_block_close: function() {
                         return ""
                     },
                     footnote_open: function() {
                         return ""
                     },
                     footnote_close: function() {
                         return ""
                     },
                     footnote_anchor: function() {
                         return ""
                     },
                     dl_open: function() {
                         return ""
                     },
                     dt_open: function() {
                         return ""
                     },
                     dd_open: function() {
                         return ""
                     },
                     dl_close: function() {
                         return ""
                     },
                     dt_close: function() {
                         return ""
                     },
                     dd_close: function() {
                         return ""
                     }
                 }
             })
         },
         applyScroll: function() {
             this.scroll = void 0,
             void 0 === this.scroll ? this.scroll = new w(this.$container[0],{
                 wheelSpeed: 2,
                 wheelPropagation: !0,
                 minScrollbarLength: 55
             }) : this.scroll.update()
         },
         fetchBestOfTheWeek: function() {
             new g(p.get("slug")).on("success", function(e, i) {
                 this.songListView.setItems(t.sortBy(e.bos, "rank").reverse()),
                 this.djListView.setItems(t.sortBy(e.bod, "rank").reverse())
             }
             .bind(this))
         },
         onClickEdit: function(e) {
             this.prevent(e),
             n.trigger("settings:edit"),
             n.trigger("track:settings", {
                 type: "click",
                 value: "edit"
             })
         },
         remove: function() {
             this.unbindEvents(),
             this._super()
         },
         onFilterClick: function(t) {
             this.prevent(t);
             var i = e(t.currentTarget)
               , s = i.data("type")
               , a = i.data("name")
               , o = 0;
             switch (s) {
             case "genre":
                 o = y.getGenreByName(a).id;
                 break;
             case "subgenre":
                 o = y.getSubGenreByName(a).id;
                 break;
             case "language":
                 o = y.getLanguageByCode(a).id
             }
             switch (n.trigger("dashboard:show"),
             C.set({
                 query: ""
             }),
             C.get("filters").length = 0,
             n.trigger("search:deleteAllFilter"),
             s) {
             case "genre":
                 n.trigger("search:addGenreFilter", {
                     id: o,
                     name: a
                 });
                 break;
             case "language":
                 n.trigger("search:addFilter", {
                     type: "language",
                     data: {
                         id: o,
                         code: a,
                         name: b.languages[a.toLowerCase()].split(" ")[0]
                     }
                 });
                 break;
             case "subgenre":
                 n.trigger("search:addFilter", {
                     type: "subgenre",
                     data: {
                         id: o,
                         name: a
                     }
                 })
             }
             n.trigger("dashboard:search")
         }
     });
     return k
 }),
 define("hbs!templates/room/settings/Main", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += '\n    <div data-action="general" class="item selected">' + c((i = e.trans,
             i = null == i || i === !1 ? i : i.roomSettings,
             i = null == i || i === !1 ? i : i.general,
             typeof i === h ? i.apply(e) : i)) + '</div>\n    \n        <div data-action="about" class="item">' + c((i = e.trans,
             i = null == i || i === !1 ? i : i.roomSettings,
             i = null == i || i === !1 ? i : i.about,
             typeof i === h ? i.apply(e) : i)) + '</div>\n   \n    <div class="preview-settings-button small" data-action="preview"><i class="fa fa-eye"></i> ' + c((i = e.trans,
             i = null == i || i === !1 ? i : i.dialog,
             i = null == i || i === !1 ? i : i.preview,
             typeof i === h ? i.apply(e) : i)) + "</div>\n     "
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r, l = "", h = "function", c = this.escapeExpression, p = this;
         return l += '<div class="community-settings__top">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.roomSettings,
         o = null == o || o === !1 ? o : o.title,
         typeof o === h ? o.apply(t) : o)) + '</div>\n<div class="community-settings__menu plug-tab-menu">\n    ',
         r = i.if.call(t, t.isOwner, {
             hash: {},
             inverse: p.noop,
             fn: p.program(1, a, n)
         }),
         (r || 0 === r) && (l += r),
         l += '\n</div>\n<div class="community-settings__container">\n    <!--View content will come here-->\n</div>'
     });
     return t.registerPartial("templates_room_settings_Main", i),
     i
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/e32e1", ["f1e1d/e718c/b2952", "jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/c506b", "f1e1d/e74c9/b49ed/ff2dd/e6907", "f1e1d/e74c9/b49ed/ff2dd/aafb7", "lang/Lang", "hbs!templates/room/settings/Main", "perfectScroll"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     var f = {
         general: h,
         about: c
     }
       , m = e.extend({
         className: "edit-settings",
         events: {
             "click .community-settings__menu .item": "onClickMenu",
             'click [data-action="preview"]': "onClickPreview"
         },
         defaults: {
             defaultView: "general"
         },
         initialize: function(e) {
             this.options = i.extend(this.defaults, e || {}),
             this.currentOption = this.options.defaultView
         },
         render: function() {
             return this.$el.html(d({
                 trans: p,
                 isOwner: o.hasPermission(r.SITEMOD)
             })),
             this.mapDOM(),
             this.scroll = void 0,
             this.renderView(f[this.options.defaultView]),
             this
         },
         mapDOM: function() {
             this.$container = this.$(".community-settings__container")
         },
         onClickPreview: function(e) {
             this.prevent(e),
             n.trigger("settings:preview")
         },
         onClickMenu: function(e) {
             this.prevent(e);
             var t = e.currentTarget
               , i = t.dataset.action;
             this.currentOption !== i && (this.updateMenu(i),
             this.currentOption = i,
             this.renderView(f[this.currentOption]))
         },
         updateMenu: function(e) {
             var t = this.$('[data-action="' + e + '"]');
             t.siblings().removeClass("selected"),
             t.addClass("selected")
         },
         renderView: function(e) {
             var t = new e;
             void 0 !== this.view && (this.view.remove(),
             this.view = void 0),
             this.$container.html(t.$el),
             t.render(),
             void 0 === this.scroll ? this.scroll = new u(this.$container[0],{
                 wheelSpeed: 2,
                 wheelPropagation: !0,
                 minScrollbarLength: 55
             }) : this.scroll.update(),
             this.view = t,
             this.applyTooltip()
         },
         onResize: function(e) {
             e = e || l.getSize(),
             this.$el.height(e.height - e.barHeight),
             this.$el.css("left", -e.availWidth)
         },
         resizeView: function(e) {
             this.view && (this.view.$el.css("left", this.menu.$el.width()).width(e.availWidth - this.menu.$el.width()),
             this.view.onResize(e),
             this.view.scrollPane && this.view.scrollPane.reinitialise())
         },
         remove: function() {
             void 0 !== this.view && (this.view.remove(),
             this.view = void 0),
             this._super()
         }
     });
     return m
 }),
 define("f1e1d/e74c9/b49ed/ff2dd/e3da3", ["f1e1d/e718c/b2952", "jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/c506b", "f1e1d/e74c9/b49ed/ff2dd/e6907", "f1e1d/e74c9/b49ed/ff2dd/aafb7", "f1e1d/e74c9/b49ed/ff2dd/f34c8", "f1e1d/e74c9/b49ed/ff2dd/e32e1", "lang/Lang", "hbs!templates/room/settings/Main", "hbs!templates/room/settings/Preview", "perfectScroll"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g) {
     var v = e.extend({
         className: "app-left community-settings plugdj__panel plugdj__panel-left",
         initialize: function(e) {
             this.options = i.extend(this.defaults, e || {}),
             this.showing = !1,
             n.on("show:settings settings:show", this.show, this).on("hide:settings settings:hide", this.hide, this).on("settings:toggle", this.toggle, this).on("settings:edit", this.renderEdit, this).on("settings:preview", this.renderPreview, this)
         },
         render: function() {
             var e = o.getRoleClass()
               , t = o.getGlobalRoleClass();
             return "" !== e && this.addClass("is-" + e),
             "" !== t && this.addClass("is-" + t),
             this
         },
         renderEdit: function() {
             this.renderView(d)
         },
         renderPreview: function() {
             this.renderView(p)
         },
         renderView: function(e) {
             var t = new e;
             void 0 !== this.view && (this.view.remove(),
             this.view = void 0),
             this.$el.append(t.$el),
             t.render(),
             this.view = t
         },
         clear: function() {
             this.view && (this.view.destroy(),
             this.view = void 0,
             delete this.view)
         },
         toggle: function() {
             this.showing === !0 ? n.trigger("panel:back", !0) : this.show()
         },
         show: function(e) {
             void 0 === e && (e = this.currentOption),
             this.renderPreview(),
             n.trigger("panel:show", "settings:" + e),
             n.trigger("audience:pause", !0),
             this.setData("state", "open")
         },
         hide: function() {
             "open" === this.getData("state") && (this.showing = !1,
             this.setData("state", "closed"))
         }
     });
     return v
 }),
 define("hbs!templates/signup/RegisterView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="icon-container">\n    <i class="icon icon-site-logo"></i>\n</div>\n<button id="login-facebook"><i class="icon icon-facebook-f-white"></i>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signupFacebook,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<div class="or-divide">\n    <div class="line left"></div>\n    <span>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.or,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    <div class="line right"></div>\n</div>\n<div class="extra-text email">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signupEmail,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<fieldset>\n    <ul>\n        <li class="extra-text error"></li>\n\t<li>\n            <input id="username" type="username" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.username,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="128"/>\n        </li>\n\n        <li>\n            <input id="email" type="email" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.email,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="128"/>\n        </li>\n        <li>\n            <input id="password" type="password" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.password,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="128"/>\n        </li>\n        <li>\n            <input id="password-confirm" type="password" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.confirm,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="128"/>\n        </li>\n    </ul>\n</fieldset>\n<div id="recaptcha"></div>\n<button id="submit">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signup,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<div class="notice"></div>\n<div class="extra-text already-have">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.alreadyHave,
         typeof a === r ? a.apply(t) : a)) + ' <button id="login">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.login,
         typeof a === r ? a.apply(t) : a)) + "</button></div>"
     });
     return t.registerPartial("templates_signup_RegisterView", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/d9c2a", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/bc677", "f1e1d/be642/c76df/e197e", "f1e1d/af752/e504b", "hbs!templates/signup/RegisterView", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h, c, p, d, u = i.View.extend({
         tagName: "section",
         className: "register",
         render: function() {
             return p = void 0,
             this.$el.html(r(l)),
             this.$("#submit").on("click", t.bind(this.submit, this)),
             this.$("#login").on("click", t.bind(this.login, this)),
             this.$("#login-facebook").on("click", t.bind(this.facebook, this)),
             this.$(".notice").html(l.signup.notice.split("%TERMS%").join('<a href="/legal#terms" target="_blank">' + l.signup.terms + "</a>").split("%PRIVACY%").join('<a href="/legal#privacy" target="_blank">' + l.signup.privacy + "</a>").split("%ARBITRATION%").join('<a href="/legal#arbitration" target="_blank">' + l.signup.arbitration + "</a>")),
             this.$("#email").on("keydown", t.bind(this.onKeyDown, this)),
             this.$("#username").on("keydown", t.bind(this.onKeyDown, this)),
             this.$("#password").on("keydown", t.bind(this.onKeyDown, this)),
             this.$("#password-confirm").on("keydown", t.bind(this.onKeyDown, this)),
             this.recaptcha = !1,
             void 0 !== h && (this.$("#email").val(h),
             this.showRecaptcha()),
             void 0 !== c && (this.$("#password").val(c),
             this.$("#password-confirm").val(c)),
             void 0 !== d && this.$("#username").val(d),
             this
         },
         onUsername: function(e) {
             d = e
         },
         submit: function() {
             c = this.$("#password").val(),
             d = this.$("#username").val(),
             d.length < 3 ? this.showError(l.alerts.usernameShort) : c.length < 8 ? this.showError(l.alerts.passwordShort) : c.length > 128 ? this.showError(l.alerts.passwordLong) : c !== this.$("#password-confirm").val() ? this.showError(l.alerts.passwordMismatch) : p ? this.submitting || (this.submitting = !0,
             this.$(".error").text("").hide(),
             new a(d,this.$("#email").val(),this.$("#password").val(),p).on("success", t.bind(this.onSuccess, this)).on("error", t.bind(this.onError, this))) : this.showError(l.alerts.recaptcha)
         },
         onKeyDown: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             h = this.$("#email").val(),
             c = this.$("#password").val(),
             d = this.$("#username").val(),
             13 === t && ("email" === e.target.id ? this.$("#password").focus() : "password" === e.target.id ? this.$("#password-confirm").focus() : this.submit()),
             this.showRecaptcha(),
             !0)
         },
         showRecaptcha: function() {
             this.recaptcha || (e("#recaptcha").addClass("showing"),
             grecaptcha.render("recaptcha", {
                 sitekey: "6LeZP_kSAAAAAIYQ1GSVtaicSQcdo6ytKuGLvpZz",
                 callback: function(e) {
                     p = e
                 },
                 theme: "dark"
             }),
             this.recaptcha = !0)
         },
         onSuccess: function() {
             this.trigger("success"),
             window.location.reload()
         },
         onError: function(t) {
             this.submitting = !1,
             l.alerts[t] ? this.showError(l.alerts[t]) : this.showError(l.errors.error + ": " + t),
             this.recaptcha && (e(".pls-container").remove(),
             grecaptcha.reset())
         },
         showError: function(t) {
             this.recaptcha && (e(".pls-container").remove(),
             grecaptcha.reset()),
             this.$(".error").text(t).show()
         },
         login: function() {
             this.trigger("show", "login")
         },
         onSuccessFacebook: function() {
             this.trigger("success"),
             window.location.reload()
         },
         facebook: function() {
             if (d = this.$("#username").val(),
             d.length < 3) {
                 var e = l.alerts.usernameShort;
                 this.showError(e)
             } else
                 s.dispatch(new n(n.LOGIN,d,t.bind(this.onSuccessFacebook, this)))
         },
         remove: function() {
             p = void 0,
             this.recaptcha && (e(".pls-container").remove(),
             grecaptcha.reset()),
             this.$("#submit").off(),
             this.$("#login").off(),
             this.$("#login-facebook").off(),
             this.$("#email").off(),
             this.$("#password").off(),
             this.$("#password-confirm").off(),
             this.off(),
             this._super()
         }
     });
     return u
 }),
 define("hbs!templates/signup/LoginView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="icon-container">\n    <i class="icon icon-site-logo"></i>\n</div>\n<button id="login-facebook"><i class="icon icon-facebook-f-white"></i>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.loginFacebook,
         typeof a === r ? a.apply(t) : a)) + '</button>\n\n<div class="or-divide">\n    <div class="line left"></div>\n    <span>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.or,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    <div class="line right"></div>\n</div>\n<div class="extra-text email">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.loginEmail,
         typeof a === r ? a.apply(t) : a)) + '</div>\n<fieldset>\n    <ul>\n        <li class="extra-text error"></li>\n        <li>\n            <input id="email" type="email" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.email,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="128"/>\n        </li>\n        <li>\n            <input id="password" type="password" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.password,
         typeof a === r ? a.apply(t) : a)) + '" maxlength="128"/>\n        </li>\n    </ul>\n</fieldset>\n<button id="submit">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.login,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<div class="extra-text forgot-password"><a href="/forgot-password">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.forgot,
         typeof a === r ? a.apply(t) : a)) + '</a></div>\n<div class="extra-text no-account">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.noAccount,
         typeof a === r ? a.apply(t) : a)) + ' <button id="login">' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signup,
         typeof a === r ? a.apply(t) : a)) + "</button></div>"
     });
     return t.registerPartial("templates_signup_LoginView", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/face0", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/bc677", "f1e1d/be642/b546d/eab12", "f1e1d/af752/e504b", "f1e1d/af752/e7b9f", "hbs!templates/signup/LoginView", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p, d, u = i.View.extend({
         tagName: "section",
         className: "login-mode mode",
         render: function() {
             return this.$el.html(h(c)),
             this.$("#submit").on("click", t.bind(this.submit, this)),
             this.$("#login").on("click", t.bind(this.register, this)),
             this.$("#login-facebook").on("click", t.bind(this.facebook, this)),
             this.$("#twg").on("click", t.bind(this.twg, this)),
             this.$("#email").on("keydown", t.bind(this.onKeyDown, this)),
             this.$("#password").on("keydown", t.bind(this.onKeyDown, this)),
             void 0 !== p && this.$("#email").val(p),
             void 0 !== d && this.$("#password").val(d),
             this
         },
         submit: function() {
             d = this.$("#password").val(),
             d.length < 8 ? this.showError(c.alerts.passwordShort) : d.length > 128 ? this.showError(c.alerts.passwordLong) : this.submitting || (this.submitting = !0,
             this.$(".error").text("").hide(),
             new o(this.$("#email").val(),this.$("#password").val()).on("success", t.bind(this.onSuccess, this)).on("error", t.bind(this.onError, this)))
         },
         onKeyDown: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             p = this.$("#email").val(),
             d = this.$("#password").val(),
             13 === t && ("email" === e.target.id ? this.$("#password").focus() : this.submit()),
             !0)
         },
         onSuccess: function() {
             this.trigger("success"),
             window.location.href = "/"
         },
         onError: function() {
             this.submitting = !1,
             this.showError(c.alerts.loginError)
         },
         showError: function(e) {
             this.$(".error").text(e).show()
         },
         register: function() {
             this.trigger("show", "register")
         },
         facebook: function() {
             s.dispatch(new a(a.LOGIN)),
             this.trigger("success")
         },
         twg: function() {
             window.location.href = "/transfer"
         },
         remove: function() {
             this.$("#submit").off(),
             this.$("#login").off(),
             this.$("#login-facebook").off(),
             this.$("#email").off(),
             this.$("#password").off(),
             this.off(),
             this._super()
         }
     });
     return u
 }),
 define("f1e1d/e74c9/fe2bb/d16e2", ["jquery", "underscore", "backbone", "f1e1d/af752/e7b9f", "f1e1d/d8e24/d8bb8", "f1e1d/e74c9/fe2bb/d9c2a", "f1e1d/e74c9/fe2bb/face0"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         className: "sign-up-overlay",
         render: function() {
             return this.$box = e("<div/>").addClass("sign-up box"),
             this.$el.append(this.$box),
             e("body").append(this.$el),
             this.$el.hide(),
             this.$el.on("click", t.bind(this.onClick, this)),
             this
         },
         experiment: function(e, t) {
             s.actual("Sign Up", "Index Page", e)
         },
         show: function(e) {
             this.removeSections(),
             "register" === e ? (window.analytics && window.analytics.track("new user", {
                 category: "Sign Up"
             }),
             this.register || (this.register = new a),
             this.$box.append(this.register.$el),
             this.register.render(),
             this.register.on("show", t.bind(this.show, this)).on("success", t.bind(this.hide, this))) : "login" === e && (window.analytics && window.analytics.track("existing user", {
                 category: "Sign Up"
             }),
             this.login || (this.login = new o),
             this.$box.append(this.login.$el),
             this.login.render(),
             this.login.on("show", t.bind(this.show, this)).on("success", t.bind(this.hide, this))),
             this.$el.show()
         },
         hide: function() {
             this.removeSections(),
             this.$el.hide()
         },
         removeSections: function() {
             this.register && this.register.remove(),
             this.login && this.login.remove()
         },
         onClick: function(t) {
             e(t.target).hasClass("sign-up-overlay") && this.hide()
         }
     });
     return r
 }),
 define("hbs!templates/signup/new/ModalView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="modal-dialog" role="document">\n    <div class="modal-content">\n\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true#">&times;</span></button>\n\n            <div class="modal-title">\n                <h1 class="toggleShow loginSection" data-state="shown">\n                    ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.login,
         typeof a === r ? a.apply(t) : a)) + '\n                </h1>\n                <h1 class="toggleShow signupSection" data-state="shown">\n                    ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signUpNow,
         typeof a === r ? a.apply(t) : a)) + "\n                </h1>\n                <p >" + l((a = t.signup,
         a = null == a || a === !1 ? a : a.subHeader,
         typeof a === r ? a.apply(t) : a)) + '</p>\n            </div>\n\n\n\n        <div class="content-inside toggleSlide modalView"> </div>\n\n        <div class="modal-footer modal__green-bg">\n            <div class="toggleSlide modalView">\n                <div class="modal__green-container">\n                    <span>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.haventRegistered,
         typeof a === r ? a.apply(t) : a)) + '</span> <button type="button"  class="ml-3 btn-white small signup" > ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.signUpNow,
         typeof a === r ? a.apply(t) : a)) + '</button>\n                </div>\n                <div class="modal__green-container">\n                    <span>' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.alreadyHaveAccount,
         typeof a === r ? a.apply(t) : a)) + '</span> <button type="button"  class="ml-3 btn-white small login" > ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.login,
         typeof a === r ? a.apply(t) : a)) + "</button>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>"
     });
     return t.registerPartial("templates_signup_new_ModalView", i),
     i
 }),
 define("hbs!templates/signup/InsideContent", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '    <div class="content-inside">\n        <button type="button" class="btn-facebook "><i class="fa fa-facebook-f"></i> <span class="changing-text"></span> WITH FACEBOOK</button>\n        <button type="button" id="show-email" class="btn-blue mb-5"><i class="fa fa-envelope-o"></i> <span class="changing-text"></span> WITH MY EMAIL</button>\n        <p class="terms small mt-5 mb-3">By using this site you agree to Plug.dj’s <a href="legal#terms" target="_blank">Terms of Use</a> and <a href="legal#privacy" target="_blank">Privacy Policy</a> provided herein. You also agree to <a href="legal#arbitration" target="_blank">arbitration</a> per the <a href="legal#terms" target="_blank">Terms of Use</a>.</p>\n    </div>\n    <div class="content-inside">\n        <form action="post">\n            <input type="text" class="username checkInput" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.username,
         typeof a === r ? a.apply(t) : a)) + '">\n            <p class="username error specialCharacter">Special character on your username are not allowed.</p>\n            <p class="username error tooShort">Too short user</p>\n            <p class="username error inaccessible">This nick is already taken.</p>\n            <input type="text" class="email checkInput" maxlength="128" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.email,
         typeof a === r ? a.apply(t) : a)) + '">\n            <p class="email error">Wrong email!</p>\n            <input type="password" class="password checkInput" maxlength="128" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.password,
         typeof a === r ? a.apply(t) : a)) + '">\n            <p class="password error">Password too short!</p>\n            <p class="submit error">Password or email is incorrect!</p>\n            <div class="forgot"><a href="/forgot-password" target="_blank">forgot my password</a></div>\n            <a href="#" class="btn-blue mt-2 mb-5" id="submit-email" ><span class="changing-text"></span>  WITH MY EMAIL</a>\n            <div id="register-recaptcha"></div>\n        </form>\n          <!-- <p class="small mt-5 mb-3">By using this site you agree to Plug.dj’s <a href="#">Terms of Use</a> and <a href="#">Privacy Policy</a> provided herein. You also agree to arbitration per the <a href="#">Terms of Use</a>.</p>-->\n        <div class="modal__gray-bg">\n            ' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.or,
         typeof a === r ? a.apply(t) : a)) + ' <br>\n            <a href="#" class="btn-facebook small"><i class="fa fa-facebook-f"></i> <span class="changing-text"></span>  WITH FACEBOOK</a>\n        </div>\n    </div>\n'
     });
     return t.registerPartial("templates_signup_InsideContent", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/b6a15", ["jquery", "underscore", "backbone", "bootstrap", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/af752/b661e", "f1e1d/d9232/b42c1", "lang/Lang", "hbs!templates/signup/InsideContent", "f1e1d/af752/e7b9f", "f1e1d/be642/b546d/eab12", "f1e1d/be642/c76df/e197e", "f1e1d/be642/c76df/ca4ff"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f) {
     var m = i.View.extend({
         className: "modal-registration__content",
         events: {
             "keyup .checkInput.email": "emailAutoCheck",
             "keyup .checkInput.password": "passwordAutoCheck",
             "keyup .checkInput.username": "usernameAutoCheck"
         },
         initialize: function() {
             this.render(),
             this.passTest = 0,
             this.emailTest = 0,
             this.usernameTest = 0,
             this.lastUsername = null,
             this.submitting = !1
         },
         render: function() {
             return this.$el.html(c(h)),
             this.$emailInput = this.$el.find("input.email"),
             this.$passwordInput = this.$el.find("input.password"),
             this.$usernameInput = this.$el.find("input.username"),
             this.$emailError = this.$el.find(".error.email"),
             this.$passwordError = this.$el.find(".error.password"),
             this.$usernameErrorCharacter = this.$el.find(".error.username.specialCharacter"),
             this.$usernameErrorShort = this.$el.find(".error.username.tooShort"),
             this.$usernameErrorInaccessible = this.$el.find(".error.username.inaccessible"),
             this.$submitError = this.$el.find(".error.submit"),
             this
         },
         emailAutoCheck: function(t) {
             var i = e(t.target)
               , s = t.target.value
               , n = /\S+@\S+\.\S+/
               , a = n.test(s);
             0 === s.length ? (this.emailTest = 0,
             i.removeClass("success"),
             i.removeClass("error")) : a ? (this.emailTest = 1,
             i.addClass("success"),
             i.removeClass("error"),
             i.removeClass("errorImage"),
             this.$emailError.hide()) : (this.emailTest = -1,
             i.removeClass("success"),
             i.addClass("error"))
         },
         passwordAutoCheck: function(t) {
             var i = e(t.currentTarget)
               , s = t.currentTarget.value
               , n = /[a-zA-Z]+/
               , a = n.test(s) && s.length > 7 && s.length < 33;
             0 === s.length ? (this.passTest = 0,
             i.removeClass("success"),
             i.removeClass("error")) : a ? (this.passTest = 1,
             i.addClass("success"),
             i.removeClass("error"),
             i.removeClass("errorImage"),
             this.$passwordError.hide()) : (this.passTest = -1,
             i.removeClass("success"),
             i.addClass("error"))
         },
         usernameAutoCheck: function(e) {
             function t() {
                 var e = this.$usernameInput.val();
                 e.length > 1 && e.length < 25 && e.indexOf("/") === -1 ? this.lastUsername !== e && (this.usernameTest = 1,
                 this.$usernameErrorInaccessible.hide(),
                 this.$usernameErrorCharacter.hide(),
                 this.$usernameErrorShort.hide(),
                 this.$usernameInput.addClass("success"),
                 this.$usernameInput.removeClass("error"),
                 this.$usernameInput.removeClass("errorImage")) : 0 === e.length ? (this.usernameTest = 0,
                 this.$usernameErrorCharacter.hide(),
                 this.$usernameErrorShort.hide(),
                 this.$usernameErrorInaccessible.hide(),
                 this.$usernameInput.removeClass("success"),
                 this.$usernameInput.removeClass("error"),
                 this.$usernameInput.removeClass("errorImage")) : e.length < 2 ? (this.usernameTest = -1,
                 this.$usernameInput.removeClass("success"),
                 this.$usernameInput.addClass("error"),
                 this.$usernameInput.removeClass("errorImage")) : (this.usernameTest = -2,
                 this.$usernameInput.removeClass("success"),
                 this.$usernameInput.addClass("error"))
             }
             function i() {
                 var t = e.currentTarget.value;
                 1 === this.usernameTest && this.lastUsername !== t && (this.lastUsername = t,
                 new f(t).on("success", function() {
                     this.$usernameErrorInaccessible.hide(),
                     this.$usernameInput.removeClass("error"),
                     this.$usernameInput.removeClass("errorImage"),
                     this.$usernameInput.addClass("success")
                 }
                 .bind(this)).on("error", function() {
                     this.usernameTest = -3,
                     this.$usernameErrorInaccessible.show(),
                     this.$usernameInput.addClass("error"),
                     this.$usernameInput.addClass("errorImage")
                 }
                 .bind(this)))
             }
             t.bind(this)(),
             i.bind(this)()
         },
         warningUpdate: function() {
             this.$submitError.hide(),
             0 === this.passTest ? (this.$passwordInput.removeClass("errorImage"),
             this.$passwordError.hide()) : 1 === this.passTest ? (this.$passwordInput.removeClass("errorImage"),
             this.$passwordError.hide()) : (this.$passwordInput.addClass("errorImage"),
             this.$passwordError.show()),
             0 === this.emailTest ? (this.$emailInput.removeClass("errorImage"),
             this.$emailError.hide()) : 1 === this.emailTest ? (this.$emailInput.removeClass("errorImage"),
             this.$emailError.hide()) : (this.$emailInput.addClass("errorImage"),
             this.$emailError.show()),
             0 === this.usernameTest ? (this.$usernameInput.removeClass("errorImage"),
             this.$usernameErrorCharacter.hide(),
             this.$usernameErrorShort.hide(),
             this.$usernameErrorInaccessible.hide()) : 1 === this.usernameTest ? (this.$usernameInput.removeClass("errorImage"),
             this.$usernameErrorCharacter.hide(),
             this.$usernameErrorShort.hide(),
             this.$usernameErrorInaccessible.hide()) : this.usernameTest === -1 ? (this.$usernameInput.addClass("errorImage"),
             this.$usernameErrorCharacter.hide(),
             this.$usernameErrorShort.show(),
             this.$usernameErrorInaccessible.hide()) : this.usernameTest === -2 ? (this.$usernameInput.addClass("errorImage"),
             this.$usernameErrorCharacter.show(),
             this.$usernameErrorShort.hide(),
             this.$usernameErrorInaccessible.hide()) : this.usernameTest === -3 && (this.$usernameInput.addClass("errorImage"),
             this.$usernameErrorCharacter.hide(),
             this.$usernameErrorShort.hide(),
             this.$usernameErrorInaccessible.show())
         },
         reset: function() {
             this.$emailInput.removeClass("errorImage"),
             this.$emailInput.removeClass("success"),
             this.$emailInput.removeClass("error"),
             this.$emailInput.val(""),
             this.$passwordInput.removeClass("errorImage"),
             this.$passwordInput.removeClass("success"),
             this.$passwordInput.removeClass("error"),
             this.$passwordInput.val(""),
             this.$emailError.hide(),
             this.$passwordError.hide(),
             this.$submitError.hide()
         },
         onLoginEmail: function() {
             this.submitting || (this.submitting = !0,
             this.warningUpdate(),
             1 === this.passTest && 1 === this.emailTest ? new d(this.$emailInput.val(),this.$passwordInput.val()).on("success", t.bind(this.onSuccessLoginEmail, this)).on("error", t.bind(this.onErrorLoginEmail, this)) : this.submitting = !1)
         },
         onSuccessLoginEmail: function() {
             this.$submitError.hide(),
             p.actual("Login", "Logged In", this.referrer),
             p.actual("Login", "Logged In With Email", this.referrer),
             window.location.reload()
         },
         onErrorLoginEmail: function() {
             this.submitting = !1,
             this.warningUpdate(),
             this.$submitError.show(),
             p.actual("Login", "Error - Login", "Email: Wrong Username and Password Combination", this.referrer)
         },
         onSignUpEmail: function() {
             this.submitting || (this.submitting = !0,
             this.warningUpdate(),
             1 === this.passTest && 1 === this.emailTest ? new u(this.lastUsername,this.$emailInput.val(),this.$passwordInput.val(),rcap).on("success", t.bind(this.onSuccessSignUpEmail, this)).on("error", t.bind(this.onErrorSignUpEmail, this)) : this.submitting = !1)
         },
         onSuccessSignUpEmail: function(e) {
             p.actual("Sign Up", "Signed Up", this.referrer),
             p.actual("Sign Up", "Signed Up With Email", this.referrer),
             window.location.reload()
         },
         onErrorSignUpEmail: function(e) {
             this.submitting = !1,
             "emailTaken" === e ? p.actual("Sign Up", "Error - Sign Up", "Email: Email Taken", this.referrer) : "recaptchaError" === e && p.actual("Sign Up", "Error - Sign Up", "Email: ReCaptcha Error", this.referrer)
         }
     });
     return m
 }),
 define("hbs!templates/signup/new/ModalButtonsView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += "\n                " + f((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.loginFacebook,
             typeof i === u ? i.apply(e) : i)) + "\n            "
         }
         function o(e, t) {
             var i, s = "";
             return s += "\n                " + f((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.signupFacebook,
             typeof i === u ? i.apply(e) : i)) + "\n            "
         }
         function r(e, t) {
             var i, s = "";
             return s += "\n                " + f((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.loginEmail,
             typeof i === u ? i.apply(e) : i)) + "\n            "
         }
         function l(e, t) {
             var i, s = "";
             return s += "\n                " + f((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.signupEmail,
             typeof i === u ? i.apply(e) : i)) + "\n            "
         }
         function h(e, t) {
             var i = "";
             return i
         }
         function c(e, t) {
             return '\n            <p class="terms small mt-5 mb-3">By using this site you agree to Plug.dj’s <a href="legal#terms" target="_blank">Terms of Use</a> and <a href="legal#privacy" target="_blank">Privacy Policy</a> provided herein. You also agree to <a href="legal#arbitration" target="_blank">arbitration</a> per the <a href="legal#terms" target="_blank">Terms of Use</a>.</p>\n        '
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var p, d = "", u = "function", f = this.escapeExpression, m = this;
         return d += '<div class="toggleSlide buttonsView ">\n    <div class="appear">\n        <button type="button " class="btn-facebook "><i class="fa fa-facebook-f"></i>\n            ',
         p = i.if.call(t, t.loginSection, {
             hash: {},
             inverse: m.program(3, o, n),
             fn: m.program(1, a, n)
         }),
         (p || 0 === p) && (d += p),
         d += '\n        </button>\n        <button type="button" class="btn-email btn-blue mb-5"><i class="fa fa-envelope-o"></i>\n            ',
         p = i.if.call(t, t.loginSection, {
             hash: {},
             inverse: m.program(7, l, n),
             fn: m.program(5, r, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n        </button>\n        ",
         p = i.if.call(t, t.loginSection, {
             hash: {},
             inverse: m.program(11, c, n),
             fn: m.program(9, h, n)
         }),
         (p || 0 === p) && (d += p),
         d += '\n    </div>\n    <div class="inputsHere appear">\n    </div>\n</div>\n'
     });
     return t.registerPartial("templates_signup_new_ModalButtonsView", i),
     i
 }),
 define("hbs!templates/signup/new/ModalInputsView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += '\n                <div class="forgot"><a href="/forgot-password" target="_blank">' + v((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.forgot,
             typeof i === g ? i.apply(e) : i)) + "</a></div>\n            "
         }
         function o(e, t) {
             var i = "";
             return i
         }
         function r(e, t) {
             var i, s = "";
             return s += '\n                <div id="register-recaptcha" class="hide-facebook-signup"></div>\n                <p class="recaptcha error">' + v((i = e.lang,
             i = null == i || i === !1 ? i : i.alerts,
             i = null == i || i === !1 ? i : i.recaptcha,
             typeof i === g ? i.apply(e) : i)) + "</p>\n            "
         }
         function l(e, t) {
             var i, s = "";
             return s += "\n                    " + v((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.login,
             typeof i === g ? i.apply(e) : i)) + "\n                "
         }
         function h(e, t) {
             var i, s = "";
             return s += "\n                    " + v((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.signup,
             typeof i === g ? i.apply(e) : i)) + "\n                "
         }
         function c(e, t) {
             return '\n            <p class="terms small mt-5 mb-3">By using this site you agree to Plug.dj’s <a href="legal#terms" target="_blank">Terms of Use</a> and <a href="legal#privacy" target="_blank">Privacy Policy</a> provided herein. You also agree to <a href="legal#arbitration" target="_blank">arbitration</a> per the <a href="legal#terms" target="_blank">Terms of Use</a>.</p>\n        '
         }
         function p(e, t) {
             var i, s = "";
             return s += "\n                    " + v((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.loginFacebook,
             typeof i === g ? i.apply(e) : i)) + "\n                "
         }
         function d(e, t) {
             var i, s = "";
             return s += "\n                    " + v((i = e.lang,
             i = null == i || i === !1 ? i : i.signup,
             i = null == i || i === !1 ? i : i.signupFacebook,
             typeof i === g ? i.apply(e) : i)) + "\n                "
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var u, f, m = "", g = "function", v = this.escapeExpression, b = this;
         return m += '        <form action="post">\n\n            <input type="email" class="email checkInput hide-facebook-signup" maxlength="128" placeholder="' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.signup,
         u = null == u || u === !1 ? u : u.email,
         typeof u === g ? u.apply(t) : u)) + '">\n            <p class="email error taken">\n                ' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.alerts,
         u = null == u || u === !1 ? u : u.emailTaken,
         typeof u === g ? u.apply(t) : u)) + '\n                <a href="/forgot-password" target="_blank">' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.signup,
         u = null == u || u === !1 ? u : u.clickHere,
         typeof u === g ? u.apply(t) : u)) + "</a>\n                " + v((u = t.lang,
         u = null == u || u === !1 ? u : u.alerts,
         u = null == u || u === !1 ? u : u.emailTaken2,
         typeof u === g ? u.apply(t) : u)) + '\n                <a href="/forgot-password" target="_blank">' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.signup,
         u = null == u || u === !1 ? u : u.forgotPassword,
         typeof u === g ? u.apply(t) : u)) + "</a>\n                " + v((u = t.lang,
         u = null == u || u === !1 ? u : u.alerts,
         u = null == u || u === !1 ? u : u.emailTaken3,
         typeof u === g ? u.apply(t) : u)) + '\n            </p>\n\n            <p class="email error invalid">' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.alerts,
         u = null == u || u === !1 ? u : u.emailInvalid,
         typeof u === g ? u.apply(t) : u)) + '</p>\n            <p class="email error missing">' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.alerts,
         u = null == u || u === !1 ? u : u.emailMissing,
         typeof u === g ? u.apply(t) : u)) + '</p>\n\n            <input type="password" class="password checkInput hide-facebook-signup" maxlength="128" placeholder="' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.signup,
         u = null == u || u === !1 ? u : u.password,
         typeof u === g ? u.apply(t) : u)) + '">\n            <p class="password error requirements">' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.signup,
         u = null == u || u === !1 ? u : u.passwordRequirements,
         typeof u === g ? u.apply(t) : u)) + '</p>\n            <p class="password error short">' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.alerts,
         u = null == u || u === !1 ? u : u.passwordShort,
         typeof u === g ? u.apply(t) : u)) + '</p>\n            <p class="password error long">' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.alerts,
         u = null == u || u === !1 ? u : u.passwordLong,
         typeof u === g ? u.apply(t) : u)) + "</p>\n\n            ",
         f = i.if.call(t, t.loginSection, {
             hash: {},
             inverse: b.noop,
             fn: b.program(1, a, n)
         }),
         (f || 0 === f) && (m += f),
         m += "\n\n            ",
         f = i.if.call(t, t.loginSection, {
             hash: {},
             inverse: b.program(5, r, n),
             fn: b.program(3, o, n)
         }),
         (f || 0 === f) && (m += f),
         m += '\n            <p class="submit error">Password or email is incorrect!</p>\n\n            <a href="#" class="btn-blue mt-2 submit-email" >\n                ',
         f = i.if.call(t, t.loginSection, {
             hash: {},
             inverse: b.program(9, h, n),
             fn: b.program(7, l, n)
         }),
         (f || 0 === f) && (m += f),
         m += "\n            </a>\n\n        </form>\n        ",
         f = i.if.call(t, t.loginSection, {
             hash: {},
             inverse: b.program(11, c, n),
             fn: b.program(3, o, n)
         }),
         (f || 0 === f) && (m += f),
         m += '\n\n        <div class="modal__gray-bg hide-facebook-signup">\n            ' + v((u = t.lang,
         u = null == u || u === !1 ? u : u.signup,
         u = null == u || u === !1 ? u : u.or,
         typeof u === g ? u.apply(t) : u)) + ' <br>\n            <button href="#" class="btn-facebook small"><i class="fa fa-facebook-f"></i>\n            ',
         f = i.if.call(t, t.loginSection, {
             hash: {},
             inverse: b.program(15, d, n),
             fn: b.program(13, p, n)
         }),
         (f || 0 === f) && (m += f),
         m += "\n            </button>\n        </div>\n\n"
     });
     return t.registerPartial("templates_signup_new_ModalInputsView", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/d5a30/d88a4", ["jquery", "underscore", "backbone", "bootstrap", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/af752/b661e", "f1e1d/d9232/b42c1", "lang/Lang", "hbs!templates/signup/new/ModalInputsView", "f1e1d/e74c9/fe2bb/b6a15", "f1e1d/be642/b546d/eab12", "f1e1d/be642/c76df/e197e", "f1e1d/be642/c76df/ca4ff", "f1e1d/af752/e7b9f", "f1e1d/e8300/bc677"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g) {
     var v = n.extend({
         className: "test",
         identifier: "ModalInputsView",
         events: {
             "keyup .checkInput.email": "emailAutoCheck",
             "keyup .checkInput.password": "passwordAutoCheck",
             "click .submit-email": "onSubmit",
             "keyup form": "keyPressEventHandler"
         },
         initialize: function() {
             this.passTest = -1,
             this.emailTest = 0,
             this.submitting = !1
         },
         render: function(e) {
             return this.section = e,
             this.obj = {},
             this.obj.lang = h,
             this.obj.loginSection = "login" === this.section,
             this.$el.html(c(this.obj)),
             this.sectionGA = this.obj.loginSection ? "Login" : "Sign Up",
             this.$emailInput = this.$el.find("input.email"),
             this.$passwordInput = this.$el.find("input.password"),
             this.$submitBtn = this.$el.find(".submit-email"),
             this.allErrors = this.$el.find(".error"),
             this.$emailErrorInvalid = this.$el.find(".error.email.invalid"),
             this.$emailErrorMissing = this.$el.find(".error.email.missing"),
             this.$emailErrorTaken = this.$el.find(".error.email.taken"),
             this.$passwordErrorRequirements = this.$el.find(".error.password.requirements"),
             this.$passwordErrorShort = this.$el.find(".error.password.short"),
             this.$passwordErrorLong = this.$el.find(".error.password.long"),
             this.$submitError = this.$el.find(".error.submit"),
             this.$recaptchaError = this.$el.find(".error.recaptcha"),
             this
         },
         keyPressEventHandler: function(e) {
             13 === e.keyCode && (this.isFacebook ? this.$submitBtn.click() : 0 !== this.$emailInput.val().length && 0 !== this.$passwordInput.val().length && this.$submitBtn.click())
         },
         emailAutoCheck: function() {
             this.$emailErrorMissing.hide();
             var e = this.$emailInput
               , t = this.$emailInput.val()
               , i = /\S+@\S+\.\S+/
               , s = i.test(t);
             0 === t.length ? (this.emailTest = 0,
             e.addClass("error"),
             e.removeClass("success")) : s ? (this.emailTest = 1,
             e.addClass("success"),
             e.removeClass("error"),
             this.$emailErrorInvalid.hide(),
             this.$emailErrorTaken.hide()) : (this.emailTest = -1,
             e.removeClass("success"),
             e.addClass("error"))
         },
         passwordAutoCheck: function(e) {
             var t = this.$passwordInput
               , i = this.$passwordInput.val()
               , s = /[a-zA-Z]+/
               , n = s.test(i);
             i.length <= 7 ? (this.passTest = -1,
             t.removeClass("success"),
             t.addClass("error")) : i.length >= 33 ? (this.passTest = -2,
             t.removeClass("success"),
             t.addClass("error")) : n ? (this.passTest = 1,
             t.addClass("success"),
             t.removeClass("error"),
             this.$passwordErrorRequirements.hide(),
             this.$passwordErrorShort.hide(),
             this.$passwordErrorLong.hide()) : (this.passTest = -3,
             t.removeClass("success"),
             t.addClass("error"))
         },
         warningUpdate: function() {
             this.$submitError.hide(),
             this.isFacebook || (0 === grecaptcha.getResponse().length && this.$recaptchaError.show(),
             1 === this.passTest ? (this.$passwordErrorRequirements.hide(),
             this.$passwordErrorShort.hide(),
             this.$passwordErrorLong.hide()) : this.passTest === -1 ? (m.actual(this.sectionGA, "Error - " + this.sectionGA, "Email: Password Short", this.modalReferrer),
             this.$passwordErrorRequirements.hide(),
             this.$passwordErrorShort.show(),
             this.$passwordErrorLong.hide(),
             this.$passwordInput.removeClass("success"),
             this.$passwordInput.addClass("error")) : this.passTest === -2 ? (m.actual(this.sectionGA, "Error - " + this.sectionGA, "Email: Password Long", this.modalReferrer),
             this.$passwordErrorRequirements.hide(),
             this.$passwordErrorShort.hide(),
             this.$passwordErrorLong.show(),
             this.$passwordInput.removeClass("success"),
             this.$passwordInput.addClass("error")) : this.passTest === -3 && (m.actual(this.sectionGA, "Error - " + this.sectionGA, "Email: Password Invalid", this.modalReferrer),
             this.$passwordErrorRequirements.show(),
             this.$passwordErrorShort.hide(),
             this.$passwordErrorLong.hide(),
             this.$passwordInput.removeClass("success"),
             this.$passwordInput.addClass("error")),
             0 === this.emailTest ? (m.actual(this.sectionGA, "Error - " + this.sectionGA, "Email: Email Empty", this.modalReferrer),
             this.$emailErrorMissing.show(),
             this.$emailErrorInvalid.hide(),
             this.$emailErrorTaken.hide(),
             this.$emailInput.removeClass("success"),
             this.$emailInput.addClass("error")) : 1 === this.emailTest ? (this.$emailErrorMissing.hide(),
             this.$emailErrorInvalid.hide(),
             this.$emailErrorTaken.hide()) : (m.actual(this.sectionGA, "Error - " + this.sectionGA, "Email: Email Invalid", this.modalReferrer),
             this.$emailErrorMissing.hide(),
             this.$emailErrorInvalid.show(),
             this.$emailErrorTaken.hide(),
             this.$emailInput.removeClass("success"),
             this.$emailInput.addClass("error")))
         },
         reset: function() {
             this.$el.delay(520).queue(function(e) {
                 this.$el.find(".hide-facebook-signup").css("display", ""),
                 this.$emailInput.removeClass("success"),
                 this.$emailInput.removeClass("error"),
                 this.$emailInput.val(""),
                 this.$passwordInput.removeClass("success"),
                 this.$passwordInput.removeClass("error"),
                 this.$passwordInput.val(""),
                 this.hideErrors(),
                 this.resetTests(),
                 e()
             }
             .bind(this)),
             grecaptcha.reset()
         },
         hideErrors: function() {
             this.allErrors.hide()
         },
         resetTests: function() {
             this.passTest = -1,
             this.emailTest = 0
         },
         onSubmit: function() {
             this.emailAutoCheck(),
             this.passwordAutoCheck(),
             this.obj.loginSection ? this.onLoginEmail() : this.onSignUpEmail()
         },
         onLoginEmail: function() {
             this.submitting || (this.submitting = !0,
             this.warningUpdate(),
             1 === this.passTest && 1 === this.emailTest ? new d(this.$emailInput.val(),this.$passwordInput.val()).on("success", t.bind(this.onSuccessLoginEmail, this)).on("error", t.bind(this.onErrorLoginEmail, this)) : this.submitting = !1)
         },
         onSuccessLoginEmail: function() {
             this.$submitError.hide(),
             m.actual("Login", "Logged In", this.modalReferrer),
             m.actual("Login", "Logged In With Email", this.modalReferrer),
             window.location.reload()
         },
         onErrorLoginEmail: function() {
             this.submitting = !1,
             this.warningUpdate(),
             this.$submitError.show(),
             m.actual("Login", "Error - Login", "Email: Wrong Username and Password Combination", this.modalReferrer)
         },
         onSignUpEmail: function() {
             if (this.isFacebook)
                 ;
             else if (!this.submitting)
                 if (this.submitting = !0,
                 this.warningUpdate(),
                 1 === this.passTest && 1 === this.emailTest) {
                     if ("undefined" == typeof rcap)
                         return m.actual("Sign Up", "Error - Sign Up", "Email: ReCaptcha Error", this.modalReferrer),
                         this.submitting = !1,
                         void this.$recaptchaError.show();
                     new u(null,this.$emailInput.val(),this.$passwordInput.val(),rcap).on("success", t.bind(this.onSuccessSignUpEmail, this)).on("error", t.bind(this.onErrorSignUpEmail, this))
                 } else
                     this.submitting = !1,
                     grecaptcha.reset()
         },
         rcapset: function() {
             this.$recaptchaError.hide()
         },
         onSuccessSignUpEmail: function(e) {
             this.hideErrors(),
             m.actual("Sign Up", "Signed Up", this.modalReferrer),
             m.actual("Sign Up", "Signed Up With Email", this.modalReferrer),
             window.location.reload()
         },
         onErrorSignUpEmail: function(e) {
             grecaptcha.reset(),
             this.submitting = !1,
             "emailTaken" === e ? (this.$emailErrorTaken.show(),
             m.actual("Sign Up", "Error - Sign Up", "Email: Email Taken", this.modalReferrer)) : "recaptchaError" === e && (this.$recaptchaError.show(),
             m.actual("Sign Up", "Error - Sign Up", "Email: ReCaptcha Error", this.modalReferrer))
         },
         onSuccessSignUpFacebook: function() {
             m.actual("Sign Up", "Signed Up", this.modalReferrer),
             m.actual("Sign Up", "Signed Up With Facebook", this.modalReferrer),
             window.location.reload()
         },
         onSuccessLoginFacebook: function() {
             m.actual("Login", "Logged In", this.modalReferrer),
             m.actual("Login", "Logged In With Facebook", this.modalReferrer),
             window.location.reload()
         }
     });
     return v
 }),
 define("f1e1d/e74c9/fe2bb/d5a30/b686e", ["jquery", "underscore", "backbone", "bootstrap", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/af752/b661e", "f1e1d/d9232/b42c1", "lang/Lang", "hbs!templates/signup/new/ModalButtonsView", "f1e1d/e74c9/fe2bb/b6a15", "f1e1d/e74c9/fe2bb/d5a30/d88a4", "f1e1d/e8300/bc677", "f1e1d/af752/e7b9f"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f) {
     var m = n.extend({
         className: "modal-registration__content",
         identifier: "ModalButtonsView",
         events: {
             "click button.btn-facebook": "onFacebookBtn",
             "click button.btn-email": "onEmailBtn"
         },
         initialize: function() {
             this.modalInputsView = new d
         },
         render: function(e) {
             return this.section = e,
             this.obj = {},
             this.obj.lang = h,
             this.obj.loginSection = "login" === this.section,
             this.$el.html(c(this.obj)),
             this.modalInputsView.render(e),
             this.$el.find(".inputsHere").append(this.modalInputsView.el),
             this
         },
         onEmailBtn: function() {
             this.modalInputsView.isFacebook = !1,
             this.modalInputsView.hideErrors(),
             this.modalInputsView.resetTests(),
             this.$el.find(".toggleSlide.buttonsView").addClass("slideOn"),
             this.$el.removeClass("small"),
             this.$el.removeClass("smallest"),
             this.obj.loginSection ? f.actual("Login", "View Email Sign Up", this.modalReferrer) : f.actual("Sign Up", "View Email Sign Up", this.modalReferrer)
         },
         reset: function() {
             this.$el.find(".toggleSlide.buttonsView").removeClass("slideOn"),
             this.modalInputsView.reset()
         },
         onFacebookBtn: function() {
             this.obj.loginSection ? a.dispatch(new u(u.LOGIN,void 0,t.bind(this.modalInputsView.onSuccessLoginFacebook, this))) : a.dispatch(new u(u.LOGIN,this.lastUsername,t.bind(this.onSuccessSignUpFacebook, this)))
         },
         onSuccessSignUpFacebook: function() {
             f.actual("Sign Up", "Signed Up", this.modalReferrer),
             f.actual("Sign Up", "Signed Up With Facebook", this.modalReferrer),
             window.location.reload()
         }
     });
     return m
 }),
 define("f1e1d/e74c9/fe2bb/d5a30/f5e38", ["jquery", "underscore", "backbone", "bootstrap", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/af752/b661e", "f1e1d/d9232/b42c1", "lang/Lang", "hbs!templates/signup/new/ModalView", "f1e1d/e74c9/fe2bb/b6a15", "f1e1d/e74c9/fe2bb/d5a30/b686e", "f1e1d/af752/e7b9f"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     var f = n.extend({
         className: "modal fade modal-loginSignUp",
         attributes: {
             tabindex: "-1"
         },
         identifier: "LoginSignUpModalView",
         events: {
             "click button.signup": "onFooterSignupBtn",
             "click button.login": "onFooterLoginBtn"
         },
         initialize: function(e, t, i) {
             this.on("render", this.afterRender),
             this.referrer = "undefined" != typeof e && "undefined" != typeof e.referrer ? e.referrer : "None",
             this.showLoginOverlay = t,
             this.indexPage = i,
             this.type = t,
             this.modalButtonsViewLogin = new d,
             this.modalButtonsViewSignup = new d,
             this.render()
         },
         render: function() {
             return this.$el.html(c(h)),
             this.$el.modal({
                 show: !1,
                 focus: !0,
                 keyboard: !0,
                 backdrop: !0
             }),
             this.$el.on("hidden.bs.modal", this.onHidden.bind(this)),
             this.modalButtonsViewLogin.render("login"),
             this.modalButtonsViewSignup.render("signup"),
             this.$el.find(".content-inside").append(this.modalButtonsViewLogin.el),
             this.$el.find(".content-inside").append(this.modalButtonsViewSignup.el),
             this.trigger("render"),
             this
         },
         afterRender: function() {
             if (e("body").append(this.$el),
             recaptchaSet = !1,
             !recaptchaSet) {
                 var t = this;
                 recaptchaSet = !0,
                 grecaptcha.render("register-recaptcha", {
                     sitekey: "6LeZP_kSAAAAAIYQ1GSVtaicSQcdo6ytKuGLvpZz",
                     callback: function(e) {
                         rcap = e,
                         t.modalButtonsViewSignup.modalInputsView.rcapset()
                     },
                     theme: "light"
                 })
             }
         },
         onFooterSignupBtn: function() {
             this.changeView("signup"),
             u.actual("Login", "Sign Up Now Clicked", this.referrer),
             u.actual("Sign Up", "View", this.indexPage + ": Link - Sign Up Now! (Login form)")
         },
         onFooterLoginBtn: function() {
             this.changeView("login"),
             u.actual("Sign Up", "Log In Now Clicked", this.referrer),
             u.actual("Login", "View", this.indexPage + ": Link - Loign Now! (Signup form)")
         },
         changeView: function(e) {
             "login" === e ? (this.$el.find(".toggleSlide.modalView").removeClass("slideOn"),
             this.$el.find(".toggleShow.loginSection").attr("data-state", "shown"),
             this.$el.find(".toggleShow.signupSection").attr("data-state", "hidden"),
             this.modalButtonsViewLogin.$el.addClass("smallest"),
             this.modalButtonsViewSignup.$el.addClass("smallest"),
             this.modalButtonsViewLogin.$el.removeClass("small"),
             this.modalButtonsViewSignup.$el.removeClass("small"),
             this.modalButtonsViewSignup.reset()) : (this.$el.find(".toggleSlide.modalView").addClass("slideOn"),
             this.$el.find(".toggleShow.loginSection").attr("data-state", "hidden"),
             this.$el.find(".toggleShow.signupSection").attr("data-state", "shown"),
             this.modalButtonsViewLogin.$el.addClass("small"),
             this.modalButtonsViewSignup.$el.addClass("small"),
             this.modalButtonsViewLogin.$el.removeClass("smallest"),
             this.modalButtonsViewSignup.$el.removeClass("smallest"),
             this.modalButtonsViewLogin.reset())
         },
         show: function(e) {
             this.changeView(e),
             this.$el.modal("show")
         },
         onHidden: function() {
             this.modalButtonsViewLogin.reset(),
             this.modalButtonsViewSignup.reset()
         },
         setReferrer: function(e) {
             this.referrer = e
         }
     });
     return f
 }),
 define("f1e1d/fce39/bde4e", ["backbone", "f1e1d/d8478/c06b6"], function(e, t) {
     var i = e.Collection.extend({
         model: t
     });
     return new i
 }),
 define("f1e1d/be642/e32cc/e25ab", ["f1e1d/be642/b7b48", "f1e1d/af752/e504b"], function(e, t) {
     var i = e.extend({
         route: "rooms/me",
         init: function() {
             this._super(!0)
         },
         parse: function(e) {
             if (200 === e.code) {
                 if (this.success) {
                     for (var i = e.data.length; i--; )
                         t.deserializeDashboard(e.data[i]);
                     this.success(e.data)
                 }
             } else
                 this.error && this.error(e.code)
         },
         onFault: function() {
             this.error && this.error()
         }
     });
     return i
 }),
 define("f1e1d/be642/e32cc/b2ddc", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         init: function(e) {
             this.route = "rooms/validate/" + encodeURIComponent(e),
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data[0]) : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("hbs!templates/dialogs/DialogRoomCreate", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="status">\r\n    <span>' + l((a = t.welcome,
         a = null == a || a === !1 ? a : a.checking,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n</div>\r\n<ul>\r\n    <li class="type public">\r\n        <div class="radio">\r\n            <i class="icon icon-check-white"></i>\r\n        </div>\r\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.roomPublic,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n    </li>\r\n    <li class="type private">\r\n        <div class="radio">\r\n            <i class="icon icon-check-white"></i>\r\n        </div>\r\n        <span>' + l((a = t.dialog,
         a = null == a || a === !1 ? a : a.roomPrivate,
         typeof a === r ? a.apply(t) : a)) + '</span>\r\n    </li>\r\n</ul>\r\n<div class="url">\r\n    <span>URL</span><span class="value">https://plug.dj/</span>\r\n</div>'
     });
     return t.registerPartial("templates_dialogs_DialogRoomCreate", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/d5b2b", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/e8300/ce165", "f1e1d/be642/e32cc/b2ddc", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/b182f", "f1e1d/e74c9/a6e51/f2220", "hbs!templates/dialogs/DialogRoomCreate", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = o.extend({
         id: "dialog-room-create",
         className: "dialog choice no-submit empty",
         initialize: function() {
             this.checkBind = t.bind(this.checkAvailability, this),
             this.successBind = t.bind(this.onSuccess, this),
             this.errorBind = t.bind(this.onError, this),
             this.lastClasses = "empty",
             this.lastStatus = "",
             this._super()
         },
         render: function() {
             return this.$el.append(this.getHeader(h.dialog.createRoom)).append(this.getBody().append(this.getInputField("name", h.dialog.name, h.dialog.roomName, "", 32)).append(l(h)).append(this.getMessage(h.dialog.roomMessage))).append(this.getButtons(h.dialog.createRoom, !0)),
             this.$(".type").on("click", t.bind(this.onClick, this)),
             this.$(".public").click(),
             this.$status = this.$(".status span"),
             this.$url = this.$(".url .value"),
             t.defer(t.bind(this.deferFocus, this)),
             this._super()
         },
         deferFocus: function() {
             var e = this.$el.find("input");
             this.$field = e.on("keyup", t.bind(this.onKeyUp, this)).focus(),
             e[0].selectionStart = e[0].selectionEnd = e[0].value.length
         },
         onClick: function(t) {
             var i = e(t.target);
             (i.hasClass("radio") || i.hasClass("icon") || i.is("span")) && (i = i.parent()),
             i.hasClass("selected") || (this.$(".type").removeClass("selected"),
             i.addClass("selected"),
             this.$field && this.checkValidity() && !this.$("li.selected").hasClass("private") && this.checkAvailability(!0))
         },
         submit: function() {
             if (!this.$el.hasClass("no-submit")) {
                 var e = this.$("li.selected").hasClass("private");
                 this.dispatch(new s(s.CREATE,this.lastRoomName,e)),
                 this.close(),
                 i.trigger("click:createCommunity")
             }
         },
         onKeyUp: function(e) {
             return !e || (this.checkValidity() && (this.availableTimeoutID && clearTimeout(this.availableTimeoutID),
             this.availableTimeoutID = t.delay(this.checkBind, 750)),
             !0)
         },
         checkValidity: function() {
             var e = this.$field[0].value;
             if (e.length > 0 && e.length < 33 && e.indexOf("/") === -1) {
                 var t = this.$("li.selected").hasClass("private");
                 return t ? (this.hideSpinner(),
                 this.lastRoomName = e,
                 this.lastStatus = h.signup.available,
                 this.$status.text(this.lastStatus),
                 this.$el.removeClass("no-submit unavailable checking empty").addClass("available"),
                 this.$url.text("https://plug.dj/" + h.dialog.roomPrivateSlug),
                 this.lastClasses = "available") : (this.$status.text(h.signup.checking),
                 this.$el.removeClass("unavailable available empty").addClass("checking no-submit"),
                 this.spinner || this.showSpinner()),
                 !t
             }
             return this.$el.removeClass("checking available empty").addClass("unavailable no-submit"),
             this.lastClasses = "unavailable no-submit",
             0 === e.length ? (this.$el.removeClass("checking unavailable available").addClass("empty no-submit"),
             this.lastStatus = "",
             this.lastClasses = "empty no-submit",
             this.$url.text("https://plug.dj/")) : e.length > 32 ? this.lastStatus = h.signup.invalid : this.lastStatus = h.signup.invalid,
             this.$status.text(this.lastStatus),
             this.hideSpinner(),
             !1
         },
         checkAvailability: function(e) {
             clearTimeout(this.availableTimeoutID);
             var t = this.$field[0].value;
             t !== this.lastRoomName || e ? (this.lastRoomName = t,
             this.checkValidity() && new n(t).on("success", this.successBind).on("error", this.errorBind)) : (this.$el.removeClass("no-submit available unavailable checking empty").addClass(this.lastClasses),
             this.$status.text(this.lastStatus),
             this.hideSpinner())
         },
         onSuccess: function(e) {
             this.hideSpinner(),
             this.lastStatus = h.signup.available,
             this.$status.text(this.lastStatus),
             this.$el.removeClass("no-submit unavailable checking empty").addClass("available"),
             this.$url.text("https://plug.dj/" + e.slug),
             this.lastClasses = "available"
         },
         onError: function(e) {
             this.hideSpinner(),
             this.lastStatus = 403 === e ? h.signup.unavailable : h.signup.invalid,
             this.$status.text(this.lastStatus),
             this.$el.removeClass("available checking empty").addClass("unavailable no-submit"),
             this.$url.text("https://plug.dj/"),
             this.lastClasses = "unavailable no-submit"
         },
         showSpinner: function() {
             this.hideSpinner(),
             this.spinner = new r({
                 size: r.SMALL
             }),
             this.$(".status").append(this.spinner.$el),
             this.spinner.render().$el.css("left", 24).css("top", 24).css("z-index", 1)
         },
         hideSpinner: function() {
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner)
         },
         close: function() {
             this.hideSpinner(),
             this.$(".type").off("click"),
             this.lastClasses = void 0,
             this.lastRoomName = void 0,
             this.lastStatus = void 0,
             this.$status = void 0,
             delete this.$status,
             this.$field.off(),
             this.$field = void 0,
             delete this.$field,
             this.$url = void 0,
             delete this.$url,
             this.checkBind = void 0,
             this.successBind = void 0,
             this.errorBind = void 0,
             delete this.checkBind,
             delete this.successBind,
             delete this.errorBind,
             this._super()
         }
     });
     return c
 }),
 define("f1e1d/e74c9/c00f1/c5e32", ["jquery", "underscore", "f1e1d/af752/e7b9f", "f1e1d/e74c9/c00f1/b182f", "lang/Lang"], function(e, t, i, s, n) {
     var a = e('<a href="/subscribe" target="_blank"/>')
       , o = s.extend({
         id: "dialog-alert",
         className: "dialog",
         render: function() {
             return this.$el.append(this.getHeader("Please Subscribe")).append(this.getBody().append(this.getMessage(this.options.message))).append(this.getButtons(n.subscribe.submit)),
             this.$(".button.submit").addClass("subscribe").parent().append(a.append(this.$(".button.submit").off())),
             a.on("click", function() {
                 i.actual("Subscribe", "Dialog")
             }),
             t.defer(t.bind(this.adjustTop, this)),
             this._super()
         },
         adjustTop: function() {
             this.$(".dialog-body .message").css("top", (this.$(".dialog-body").height() - this.$(".dialog-body .message").height()) / 2)
         },
         close: function() {
             a.off().empty(),
             this._super()
         }
     });
     return o
 }),
 define("f1e1d/e74c9/b14c6/e5ed5/ac05d", ["jquery", "underscore", "f1e1d/fce39/bde4e", "f1e1d/e74c9/c5cd9/ec525/bdeea", "f1e1d/e74c9/c5cd9/ec525/dce23"], function(e, t, i, s, n) {
     var a = n.extend({
         initialize: function() {
             this.cells = [],
             this.$gutter = e("<div/>").addClass("bottom-gutter"),
             this.drawBind = t.bind(this.draw, this)
         },
         render: function() {
             return i.on("reset", this.onReset, this),
             this.onUpdate(),
             this
         },
         onReset: function() {
             this.hideSpinner(),
             this.clear(),
             i.each(this.drawBind),
             this.$el.append(this.$gutter),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         draw: function(e) {
             var t = new s({
                 model: e
             });
             this.$el.append(t.$el),
             this.cells.push(t),
             t.render()
         },
         clear: function() {
             for (var e = this.cells.length; e--; )
                 this.cells[e].destroy();
             this.cells.length = 0,
             this.scrollPane && this.scrollPane.reinitialise()
         },
         remove: function() {
             this.clear(),
             this.hideSpinner(),
             i.off("reset", this.onReset, this),
             this.cells = void 0,
             this.$gutter && this.$gutter.remove(),
             this.$gutter = void 0,
             delete this.cells,
             delete this.$gutter,
             this._super()
         }
     });
     return a
 }),
 define("hbs!templates/user/communities/CreateCommunity", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="cell cta">\n    <i class="image"></i>\n    <button class="create">' + l((a = t.userPanel,
         a = null == a || a === !1 ? a : a.createCommunity,
         typeof a === r ? a.apply(t) : a)) + "</button>\n</div>"
     });
     return t.registerPartial("templates_user_communities_CreateCommunity", i),
     i
 }),
 define("hbs!templates/user/communities/UserCommunities", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="top">\n    <button class="create">' + l((a = t.userPanel,
         a = null == a || a === !1 ? a : a.createCommunity,
         typeof a === r ? a.apply(t) : a)) + '</button>\n    <div class="message"></div>\n</div>\n\n<div class="user-communities__container"></div>'
     });
     return t.registerPartial("templates_user_communities_UserCommunities", i),
     i
 }),
 define("hbs!templates/user/communities/communitiesTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-top banner--desktop" id="plugdj_communities_top">\n    <div id="div-gpt-ad-1523297134334-9"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_communities_communitiesTopBanner", i),
     i
 }),
 define("hbs!templates/user/communities/communitiesBottomBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-bottom banner--desktop" id="plugdj_communities_bottom">\n    <div id="div-gpt-ad-1523297134334-8"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_communities_communitiesBottomBanner", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/e5ed5/febd2", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/bde4e", "f1e1d/e8300/be22c", "f1e1d/e8300/dcb95", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/e32cc/e25ab", "f1e1d/af752/c506b", "f1e1d/e74c9/c00f1/d5b2b", "f1e1d/e74c9/c00f1/c5e32", "f1e1d/e74c9/b14c6/e5ed5/ac05d", "hbs!templates/user/communities/CreateCommunity", "hbs!templates/user/communities/UserCommunities", "lang/Lang", "hbs!templates/user/communities/communitiesTopBanner", "hbs!templates/user/communities/communitiesBottomBanner"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b) {
     var w = i.View.extend({
         id: "user-communities",
         className: "user-content communities",
         render: function() {
             return this.$el.append(v()).append(m(g)).append(b()),
             this.$communitiesContainer = this.$(".user-communities__container"),
             r.get("level") < 3 ? (this.$el.addClass("no-create"),
             this.$(".message").html(g.userPanel.cannotCreate.split("%FAQ%").join('<a href="http://support.plug.dj/hc/en-us/sections/200553996-Creating-a-Community-" target="_blank">FAQ</a>')),
             this.allowResize = !0) : (this.allowResize = !1,
             (new h).on("success", t.bind(this.onSuccess, this))),
             s.trigger("user_content:select", {
                 master: this.id,
                 section: void 0
             }),
             this
         },
         onSuccess: function(i) {
             var a;
             0 === i.length ? (this.$el.addClass("none-created"),
             a = g.userPanel.noCommunity) : (this.grid = new u,
             this.$box = e("<div/>").addClass("box"),
             this.$communitiesContainer.append(this.$box.append(this.grid.$el)),
             this.grid.render(),
             this.$box.jScrollPane(),
             this.scrollPane = this.$box.data("jsp"),
             this.grid.scrollPane = this.scrollPane,
             a = 1 === i.length ? g.userPanel.oneCommunity : g.userPanel.manyCommunities,
             a += " " + g.userPanel.maxCommunities,
             n.reset(i),
             (i.length < 10 || r.get("gRole") >= l.MANAGER) && (this.grid.$el.append(f(g)),
             this.grid.$el.append(this.grid.$gutter),
             this.$(".cell.cta i").css("background-position", -(250 + 250 * ~~(6 * Math.random())) + "px 0")),
             a += " " + g.userPanel.tips),
             this.$(".create").on("click", function() {
                 s.dispatch(new o(o.SHOW,new p))
             }),
             this.$(".message").html(a.split("%FAQ%").join('<a href="http://support.plug.dj/hc/en-us/sections/200553996-Creating-a-Community-" target="_blank">FAQ</a>')),
             this.allowResize = !0,
             this.onResize(c.getSize()),
             this.scrollPane && this.scrollPane.reinitialise();
             var h = this;
             t.defer(function() {
                 h.deferResize()
             })
         },
         deferResize: function() {
             this.onResize(c.getSize()),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         onResize: function(e) {
             if (this.allowResize) {
                 var t;
                 this.grid ? (this.$el.height(e.height - e.barHeight),
                 this.$box.height(e.height - this.$box.offset().top),
                 t = 265 * ~~((this.$box.width() - 10) / 265),
                 this.$(".top").width(t - 15),
                 this.$(".top").css("left", (this.$box.width() - t) / 2),
                 this.grid.$el.width(t),
                 this.grid.$el.css("left", (this.$box.width() - t) / 2)) : (t = Math.min(this.$el.width() - 30, 1500),
                 this.$(".top").width(t),
                 this.$(".top").css("background-position", (t - 1600) / 2 + "px -200px"),
                 this.$(".top").height(Math.min(this.$el.height() - 24, 660)),
                 this.$(".top").css("left", (this.$el.width() - t) / 2))
             }
         },
         remove: function() {
             this.$(".cell").off(),
             this.$(".create").off(),
             this.$(".create").remove(),
             this.scrollPane && this.scrollPane.destroy(),
             this.grid && this.grid.destroy(),
             this.$box && this.$box.remove(),
             this.scrollPane = void 0,
             this.grid = void 0,
             this.$box = void 0,
             delete this.grid,
             delete this.$box,
             delete this.scrollPane,
             delete this.$container,
             this._super()
         }
     });
     return w
 }),
 define("hbs!templates/user/inventory/InventoryAvatarsDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="admin"><span>',
             (s = i.admin) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.admin,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function o(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="ba"><span>',
             (s = i.ba) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.ba,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function r(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="classic"><span>',
             (s = i.classic) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.classic,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function l(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="2014winter"><span>',
             (s = i["2014winter"]) ? s = s.call(e, {
                 hash: {}
             }) : (s = e["2014winter"],
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function h(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="2014hw"><span>',
             (s = i["2014hw"]) ? s = s.call(e, {
                 hash: {}
             }) : (s = e["2014hw"],
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function c(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="dragon"><span>',
             (s = i.dragon) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.dragon,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function p(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="special"><span>',
             (s = i.special) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.special,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function d(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="rave"><span>',
             (s = i.rave) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.rave,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function u(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="hiphop"><span>',
             (s = i.hiphop) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.hiphop,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function f(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="country"><span>',
             (s = i.country) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.country,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function m(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="rock"><span>',
             (s = i.rock) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.rock,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function g(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="island"><span>',
             (s = i.island) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.island,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function v(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="sea"><span>',
             (s = i.sea) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.sea,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function b(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="diner"><span>',
             (s = i.diner) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.diner,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function w(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="beach"><span>',
             (s = i.beach) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.beach,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function y(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="nyc"><span>',
             (s = i.nyc) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.nyc,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function C(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="pixel"><span>',
             (s = i.pixel) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.pixel,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function k(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="80s"><span>',
             (s = i["80s"]) ? s = s.call(e, {
                 hash: {}
             }) : (s = e["80s"],
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function _(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="robot"><span>',
             (s = i.robot) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.robot,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function S(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="vintage"><span>',
             (s = i.vintage) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.vintage,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function x(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="zoo"><span>',
             (s = i.zoo) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.zoo,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         function $(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="warrior"><span>',
             (s = i.warrior) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.warrior,
             s = typeof s === T ? s.apply(e) : s),
             n += I(s) + "</span></div>"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var E, M = "", T = "function", I = this.escapeExpression, D = this;
         return M += '<dt><span></span><i class="icon icon-arrow-down-grey"></i><i class="icon icon-arrow-up-grey"></i></dt>\n<dd>\n    <div class="row" data-value="base"><span>',
         (E = i.base) ? E = E.call(t, {
             hash: {}
         }) : (E = t.base,
         E = typeof E === T ? E.apply(t) : E),
         M += I(E) + "</span></div>\n    ",
         E = i.if.call(t, t.admin, {
             hash: {},
             inverse: D.noop,
             fn: D.program(1, a, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.ba, {
             hash: {},
             inverse: D.noop,
             fn: D.program(3, o, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.classic, {
             hash: {},
             inverse: D.noop,
             fn: D.program(5, r, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t["2014winter"], {
             hash: {},
             inverse: D.noop,
             fn: D.program(7, l, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t["2014hw"], {
             hash: {},
             inverse: D.noop,
             fn: D.program(9, h, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.dragon, {
             hash: {},
             inverse: D.noop,
             fn: D.program(11, c, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.special, {
             hash: {},
             inverse: D.noop,
             fn: D.program(13, p, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.rave, {
             hash: {},
             inverse: D.noop,
             fn: D.program(15, d, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.hiphop, {
             hash: {},
             inverse: D.noop,
             fn: D.program(17, u, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.country, {
             hash: {},
             inverse: D.noop,
             fn: D.program(19, f, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.rock, {
             hash: {},
             inverse: D.noop,
             fn: D.program(21, m, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.island, {
             hash: {},
             inverse: D.noop,
             fn: D.program(23, g, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.sea, {
             hash: {},
             inverse: D.noop,
             fn: D.program(25, v, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.diner, {
             hash: {},
             inverse: D.noop,
             fn: D.program(27, b, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.beach, {
             hash: {},
             inverse: D.noop,
             fn: D.program(29, w, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.nyc, {
             hash: {},
             inverse: D.noop,
             fn: D.program(31, y, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.pixel, {
             hash: {},
             inverse: D.noop,
             fn: D.program(33, C, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t["80s"], {
             hash: {},
             inverse: D.noop,
             fn: D.program(35, k, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.robot, {
             hash: {},
             inverse: D.noop,
             fn: D.program(37, _, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.vintage, {
             hash: {},
             inverse: D.noop,
             fn: D.program(39, S, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.zoo, {
             hash: {},
             inverse: D.noop,
             fn: D.program(41, x, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n    ",
         E = i.if.call(t, t.warrior, {
             hash: {},
             inverse: D.noop,
             fn: D.program(43, $, n)
         }),
         (E || 0 === E) && (M += E),
         M += "\n</dd>"
     });
     return t.registerPartial("templates_user_inventory_InventoryAvatarsDropDown", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/c73a6", ["jquery", "underscore", "backbone", "f1e1d/fce39/aa287", "hbs!templates/user/inventory/InventoryAvatarsDropDown", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = i.View.extend({
         className: "dropdown",
         tagName: "dl",
         initialize: function() {
             this.docBind = t.bind(this.onDocClick, this)
         },
         draw: function() {
             var e, i = {
                 base: a.userAvatars.base
             }, r = 0;
             s.each(function(t) {
                 e !== t.get("category") && (r++,
                 e = t.get("category"),
                 i[e] = a.userAvatars[e])
             }),
             this.$el.html(n(i)),
             this.$(".row").on("click", t.bind(this.onRowClick, this)),
             this.$("dt").on("click", t.bind(this.onBaseClick, this)),
             r < 2 ? this.$el.addClass("disabled") : this.$el.removeClass("disabled"),
             i[o.selected] || (o.selected = "base"),
             this.select(o.selected)
         },
         onBaseClick: function() {
             if (!this.$el.hasClass("disabled"))
                 if (this.$el.hasClass("open"))
                     this.$el.removeClass("open"),
                     e(document).off("click", this.docBind);
                 else {
                     this.$el.addClass("open");
                     var i = this;
                     t.defer(function() {
                         e(document).on("click", i.docBind)
                     })
                 }
         },
         onRowClick: function(t) {
             var i = e(t.target).closest(".row");
             this.$(".row").removeClass("selected"),
             i.addClass("selected"),
             this.$el.removeClass("open");
             var s = i.data("value");
             this.$("dt span").text(a.userAvatars[s]),
             this.trigger("select", s),
             o.selected = s
         },
         onDocClick: function() {
             var i = this;
             t.defer(function() {
                 i.$el.removeClass("open"),
                 e(document).off("click", i.docBind)
             })
         },
         select: function(t) {
             "rhc" === t ? e('.row[data-value="rave"]').click() : e('.row[data-value="' + t + '"]').click()
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", this.docBind),
             this.docBind = void 0,
             delete this.docBind,
             this._super()
         }
     });
     return o.selected = window._theme,
     o
 }),
 define("f1e1d/e74c9/b14c6/cf616/befb4", ["jquery", "underscore", "backbone", "f1e1d/af752/e7b9f", "lang/Lang"], function(e, t, i, s, n) {
     var a = i.View.extend({
         className: "tab-menu",
         template: void 0,
         render: function() {
             return this.$el.html(this.template(n)),
             this.$("button").on("click", t.bind(this.onClick, this)),
             this
         },
         onClick: function(t) {
             var i = e(t.target);
             i.hasClass("selected") || (this.$("button").removeClass("selected"),
             i.addClass("selected"),
             this.track(i),
             this.trigger("select", i.data("value")))
         },
         track: function(e) {
             var t = e.closest(".user-content").attr("class").split("user-content ").join("");
             "avatars" === e.data("value") ? s.pushState("View:" + t, "#" + t) : s.pushState("View:" + t + ":" + e.data("value"), "#" + t + "-" + e.data("value"))
         },
         select: function(e) {
             this.$("button").removeClass("selected"),
             this.$("button." + e).addClass("selected"),
             this.trigger("select", e)
         },
         remove: function() {
             this.template = void 0,
             delete this.template,
             this.$("button").off(),
             this._super()
         }
     });
     return a
 }),
 define("hbs!templates/user/inventory/TabMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<button class="avatars selected" data-value="avatars">' + l((a = t.userInventory,
         a = null == a || a === !1 ? a : a.avatars,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<button class="badges" data-value="badges">' + l((a = t.userInventory,
         a = null == a || a === !1 ? a : a.badges,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<button class="badges" data-value="backgrounds">Backgrounds</button>\n<button class="history" data-value="history">' + l((a = t.userInventory,
         a = null == a || a === !1 ? a : a.history,
         typeof a === r ? a.apply(t) : a)) + "</button>"
     });
     return t.registerPartial("templates_user_inventory_TabMenu", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/e4cf9", ["f1e1d/e74c9/b14c6/cf616/befb4", "hbs!templates/user/inventory/TabMenu"], function(e, t) {
     var i = e.extend({
         template: t
     });
     return i
 }),
 define("hbs!templates/user/inventory/AvatarCell", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="top">\n    <div class="avatar"></div>\n</div>'
     });
     return t.registerPartial("templates_user_inventory_AvatarCell", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/af3d0", ["jquery", "underscore", "backbone", "f1e1d/fce39/aa287", "f1e1d/d8478/b885e", "f1e1d/be642/c76df/ff641", "f1e1d/af752/b54a3", "hbs!templates/user/inventory/AvatarCell"], function(e, t, i, s, n, a, o, r) {
     var l = i.View.extend({
         className: "cell",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave",
             mousedown: "onPress"
         },
         render: function() {
             return this.$el.html(r()),
             this.$img = e("<img/>"),
             this.$img.attr("src", o.getAvatarUrl(this.model.get("id"), "")),
             this.$(".avatar").append(this.$img),
             this.model.get("id") === n.get("avatarID") && this.$el.addClass("selected"),
             n.on("change:avatarID", this.onSelected, this),
             this.aviW = 150,
             this.aviO = 0,
             this.model.get("id").indexOf("dragon") > -1 ? (this.aviW = 300,
             this.aviO = -75,
             this.$(".avatar").addClass("wide"),
             this.$img.css("left", -75)) : this.model.get("id").indexOf("-e01") > -1 && this.$img.addClass("epic"),
             this
         },
         animate: function(e) {
             var t = this.aviO + (this.over ? -(4 * this.aviW + this.aviW * e) : -this.aviW * this.getBlinkFrame(e));
             this.$img.css("left", t)
         },
         getBlinkFrame: function(e) {
             return this.options.blink < 18 ? e < this.options.blink || e > this.options.blink + 2 ? 0 : e - this.options.blink + 1 : 18 === this.options.blink ? e < this.options.blink && e > 0 ? 0 : 0 === e ? 3 : e - this.options.blink + 1 : e < this.options.blink && e > 1 ? 0 : 19 === e ? 1 : 0 === e ? 2 : 3
         },
         onClick: function() {
             this.$el.hasClass("selected") || new a(this.model.get("id"))
         },
         onEnter: function() {
             this.over = !0
         },
         onLeave: function() {
             this.over = !1
         },
         onPress: function(e) {
             return e.preventDefault(),
             e.stopImmediatePropagation(),
             !1
         },
         onSelected: function() {
             this.model.get("id") === n.get("avatarID") ? this.$el.addClass("selected") : this.$el.removeClass("selected")
         },
         remove: function() {
             n.off("change:avatarID", this.onSelected, this),
             this.aviW = void 0,
             delete this.aviW,
             this.aviO = void 0,
             delete this.aviO,
             this.model = void 0,
             delete this.model,
             this.over = void 0,
             delete this.over,
             this.$img.remove(),
             this.$img = void 0,
             delete this.$img,
             this._super()
         }
     });
     return l
 }),
 define("hbs!templates/user/inventory/Inventory", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="menu-points">\n    <div class="points pp">\n        <span class="value">0</span>\n        <i class="icon icon-pp-small"></i>\n    </div>\n    <span class="your-points">' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.yourPoints,
         typeof a === r ? a.apply(t) : a)) + '</span>\n</div>\n<div class="header">\n    <span class="status"></span>\n</div>\n<div class="box">\n    <div class="grid"></div>\n</div>'
     });
     return t.registerPartial("templates_user_inventory_Inventory", i),
     i
 }),
 define("hbs!templates/user/store/Banner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<a href="/subscribe" target="/blank"><div class="banner">\n    <i class="avatars"></i>\n    <div>\n        <span class="title">' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.subBannerTitle,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        <span class="cta">' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.subBannerCTA,
         typeof a === r ? a.apply(t) : a)) + "</span>\n    </div>\n</div></a>"
     });
     return t.registerPartial("templates_user_store_Banner", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/dd3af", ["jquery", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "hbs!templates/user/inventory/Inventory", "hbs!templates/user/store/Banner", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = e(l(h))
       , p = t.View.extend({
         collection: void 0,
         eventName: void 0,
         initialize: function() {
             this.cells = []
         },
         render: function() {
             return this.$el.append(r(h)),
             this.collection.on("reset", this.onUpdate, this),
             this.$(".box").jScrollPane(),
             this.scrollPane = this.$(".box").data("jsp"),
             i.dispatch(new s(this.eventName)),
             n.on("change:pp", this.onChange, this),
             this.onChange(),
             this.onUpdate(),
             this
         },
         onResize: function(e, t) {
             this.$(".menu-points").width(e),
             this.$(".header").width(e),
             this.$(".box").height(t - this.$(".box").offset().top),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         animate: function(e) {
             for (var t = this.cells.length; t--; )
                 this.cells[t].animate(e)
         },
         clear: function() {
             for (var e = this.cells.length; e--; )
                 this.cells[e].destroy();
             this.cells.length = 0,
             this.scrollPane && this.scrollPane.reinitialise()
         },
         onUpdate: function() {},
         onChange: function() {
             this.$(".pp .value").text(o.commafy(n.get("pp") || "0"))
         },
         showBanner: function() {
             c.off().remove(),
             n.get("sub") < 1 && c.on("click", function() {
                 a.actual("Subscribe", "Banner", "Inventory")
             })
         },
         remove: function() {
             c.off().remove(),
             n.off("change:pp", this.onChange, this),
             this.collection.off("reset", this.onUpdate, this),
             this.collection = void 0,
             delete this.collection,
             this.clear(),
             this.eventName = void 0,
             delete this.eventName,
             this.$(".grid .header").remove(),
             this.cells = void 0,
             delete this.cells,
             this.$gutter = void 0,
             delete this.$gutter,
             this.scrollPane && this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane,
             this._super()
         }
     });
     return p
 }),
 define("f1e1d/e74c9/b14c6/f91fe/ba2ee", ["jquery", "f1e1d/e718c/b7acd", "f1e1d/fce39/aa287", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/e74c9/b14c6/f91fe/af3d0", "f1e1d/e74c9/b14c6/f91fe/dd3af", "f1e1d/e74c9/b14c6/f91fe/c73a6", "f1e1d/af752/e6c91", "hbs!templates/user/inventory/Inventory", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = o.extend({
         className: "avatars",
         collection: i,
         eventName: s.GET_USER_AVATARS,
         initialize: function() {
             this.dropDown = new r,
             this._super()
         },
         render: function() {
             return this.$el.append(h(c)),
             this.collection.on("reset", this.onUpdate, this),
             this.$(".box").jScrollPane(),
             this.scrollPane = this.$(".box").data("jsp"),
             this.$(".menu-points").append(this.dropDown.$el),
             this.dropDown.on("select", this.onSelect, this).render(),
             t.dispatch(new s(this.eventName)),
             n.on("change:pp change:sub", this.onChange, this),
             this.onChange(),
             this.onUpdate(),
             this.showBanner(),
             this
         },
         onUpdate: function() {
             this.dropDown.draw(),
             this.$(".header .status").text(c.userInventory.avatars)
         },
         onSelect: function(e) {
             this.category = e,
             this.clear();
             var t = this;
             this.collection.each(function(i) {
                 if (i.get("category") === e && "2014winter-s00" !== i.get("id")) {
                     var s = new a({
                         model: i,
                         blink: l.MASTER.integer(0, 19)
                     });
                     t.$(".grid").append(s.$el),
                     t.cells.push(s),
                     s.render()
                 }
             }),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         remove: function() {
             n.off("change:pp change:sub", this.onChange, this),
             this.dropDown.destroy(),
             this.dropDown = void 0,
             delete this.dropDown,
             this.category = void 0,
             delete this.category,
             this._super()
         }
     });
     return p
 }),
 define("hbs!templates/dialogs/ImagePreview", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function";
         return o += '<div class="background-image"><img src="',
         (a = i.background) ? a = a.call(t, {
             hash: {}
         }) : (a = t.background,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += '"/></div>\n'
     });
     return t.registerPartial("templates_dialogs_ImagePreview", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/bdc05", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "hbs!templates/dialogs/ImagePreview", "lang/Lang", "f1e1d/e74c9/c00f1/b182f"], function(e, t, i, s, n, a, o) {
     var r = o.extend({
         id: "dialog-preview",
         className: "dialog",
         initialize: function(e) {
             this.options = e,
             this._super()
         },
         render: function() {
             e("#dialog-container").addClass("is-preview"),
             this.$el.append(this.getHeader(a.dialog.preview));
             var t = (this.getMessage("TEST"),
             this.model.getLink());
             return this.$el.append(this.getBody().append(n({
                 background: t
             }))),
             this.$el.append(this.getButtons(a.dialog.close)),
             this._super()
         },
         onKeyEnter: function() {
             return !0
         },
         submit: function() {
             this.trigger("buttonClose")
         },
         onSubmit: function() {},
         close: function() {
             this._super()
         }
     });
     return r
 }),
 define("hbs!templates/user/inventory/BackgroundCell", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="top">\n    <div class="background"></div>\n</div>'
     });
     return t.registerPartial("templates_user_inventory_BackgroundCell", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/e9c5b", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/e3678", "f1e1d/d8478/b885e", "f1e1d/be642/c76df/e719d", "f1e1d/e74c9/c00f1/bdc05", "f1e1d/af752/b54a3", "f1e1d/e8300/dcb95", "hbs!templates/user/inventory/BackgroundCell"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = i.View.extend({
         className: "cell",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave",
             mousedown: "onPress"
         },
         render: function() {
             return this.$el.html(c()),
             this.$img = e("<img/>"),
             this.$img.attr("src", "https://cdn-prod.plug.dj/_/static/images/sheets/backgrounds.c7f5d524b2612e4af1196649276d419ab7afb1ee.png"),
             this.$(".background").append(this.$img),
             this.$img.css("right", 200 * this.model.getColumn()),
             this.$img.css("bottom", 100 * this.model.getRow()),
             this
         },
         animate: function(e) {
             var t = this.aviO + (this.over ? -(4 * this.aviW + this.aviW * e) : -this.aviW * this.getBlinkFrame(e));
             this.$img.css("left", t)
         },
         onClick: function() {
             this.onPreview()
         },
         onPreview: function() {
             var e = new r({
                 model: this.model
             });
             this.listenTo(e, "buttonClose", function() {
                 e.close()
             }),
             s.dispatch(new h(h.SHOW,e))
         },
         onEnter: function() {
             this.over = !0
         },
         onLeave: function() {
             this.over = !1
         },
         onPress: function(e) {
             return e.preventDefault(),
             e.stopImmediatePropagation(),
             !1
         },
         onSelected: function() {
             this.model.get("id") === a.get("backgroundID") ? this.$el.addClass("selected") : this.$el.removeClass("selected")
         },
         remove: function() {
             a.off("change:backgroundID", this.onSelected, this),
             this.aviW = void 0,
             delete this.aviW,
             this.aviO = void 0,
             delete this.aviO,
             this.model = void 0,
             delete this.model,
             this.over = void 0,
             delete this.over,
             this.$img.remove(),
             this.$img = void 0,
             delete this.$img,
             this._super()
         }
     });
     return p
 }),
 define("hbs!templates/user/inventory/InventoryBackgroundsDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="admin"><span>',
             (s = i.admin) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.admin,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function o(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="ba"><span>',
             (s = i.ba) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.ba,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function r(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="classic"><span>',
             (s = i.classic) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.classic,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function l(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="2014winter"><span>',
             (s = i["2014winter"]) ? s = s.call(e, {
                 hash: {}
             }) : (s = e["2014winter"],
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function h(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="2014hw"><span>',
             (s = i["2014hw"]) ? s = s.call(e, {
                 hash: {}
             }) : (s = e["2014hw"],
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function c(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="dragon"><span>',
             (s = i.dragon) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.dragon,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function p(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="special"><span>',
             (s = i.special) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.special,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function d(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="rave"><span>',
             (s = i.rave) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.rave,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function u(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="hiphop"><span>',
             (s = i.hiphop) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.hiphop,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function f(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="country"><span>',
             (s = i.country) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.country,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function m(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="rock"><span>',
             (s = i.rock) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.rock,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function g(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="island"><span>',
             (s = i.island) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.island,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function v(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="sea"><span>',
             (s = i.sea) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.sea,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function b(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="diner"><span>',
             (s = i.diner) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.diner,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function w(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="beach"><span>',
             (s = i.beach) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.beach,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function y(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="nyc"><span>',
             (s = i.nyc) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.nyc,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function C(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="80s"><span>',
             (s = i["80s"]) ? s = s.call(e, {
                 hash: {}
             }) : (s = e["80s"],
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function k(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="robot"><span>',
             (s = i.robot) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.robot,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function _(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="zoo"><span>',
             (s = i.zoo) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.zoo,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         function S(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="warrior"><span>',
             (s = i.warrior) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.warrior,
             s = typeof s === E ? s.apply(e) : s),
             n += M(s) + "</span></div>"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var x, $ = "", E = "function", M = this.escapeExpression, T = this;
         return $ += '<dt><span></span><i class="icon icon-arrow-down-grey"></i><i class="icon icon-arrow-up-grey"></i></dt>\n<dd>\n    <div class="row" data-value="base"><span>',
         (x = i.base) ? x = x.call(t, {
             hash: {}
         }) : (x = t.base,
         x = typeof x === E ? x.apply(t) : x),
         $ += M(x) + "</span></div>\n    ",
         x = i.if.call(t, t.admin, {
             hash: {},
             inverse: T.noop,
             fn: T.program(1, a, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.ba, {
             hash: {},
             inverse: T.noop,
             fn: T.program(3, o, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.classic, {
             hash: {},
             inverse: T.noop,
             fn: T.program(5, r, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t["2014winter"], {
             hash: {},
             inverse: T.noop,
             fn: T.program(7, l, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t["2014hw"], {
             hash: {},
             inverse: T.noop,
             fn: T.program(9, h, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.dragon, {
             hash: {},
             inverse: T.noop,
             fn: T.program(11, c, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.special, {
             hash: {},
             inverse: T.noop,
             fn: T.program(13, p, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.rave, {
             hash: {},
             inverse: T.noop,
             fn: T.program(15, d, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.hiphop, {
             hash: {},
             inverse: T.noop,
             fn: T.program(17, u, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.country, {
             hash: {},
             inverse: T.noop,
             fn: T.program(19, f, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.rock, {
             hash: {},
             inverse: T.noop,
             fn: T.program(21, m, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.island, {
             hash: {},
             inverse: T.noop,
             fn: T.program(23, g, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.sea, {
             hash: {},
             inverse: T.noop,
             fn: T.program(25, v, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.diner, {
             hash: {},
             inverse: T.noop,
             fn: T.program(27, b, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.beach, {
             hash: {},
             inverse: T.noop,
             fn: T.program(29, w, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.nyc, {
             hash: {},
             inverse: T.noop,
             fn: T.program(31, y, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t["80s"], {
             hash: {},
             inverse: T.noop,
             fn: T.program(33, C, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.robot, {
             hash: {},
             inverse: T.noop,
             fn: T.program(35, k, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.zoo, {
             hash: {},
             inverse: T.noop,
             fn: T.program(37, _, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n    ",
         x = i.if.call(t, t.warrior, {
             hash: {},
             inverse: T.noop,
             fn: T.program(39, S, n)
         }),
         (x || 0 === x) && ($ += x),
         $ += "\n</dd>"
     });
     return t.registerPartial("templates_user_inventory_InventoryBackgroundsDropDown", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/cd133", ["jquery", "underscore", "backbone", "f1e1d/fce39/e3678", "hbs!templates/user/inventory/InventoryBackgroundsDropDown", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = i.View.extend({
         className: "dropdown",
         tagName: "dl",
         initialize: function() {
             this.docBind = t.bind(this.onDocClick, this)
         },
         draw: function() {
             var e, i = {
                 base: a.userAvatars.base
             }, r = 0;
             s.each(function(t) {
                 e !== t.get("category") && (r++,
                 e = t.get("category"),
                 i[e] = a.userAvatars[e])
             }),
             this.$el.html(n(i)),
             this.$(".row").on("click", t.bind(this.onRowClick, this)),
             this.$("dt").on("click", t.bind(this.onBaseClick, this)),
             r < 2 ? this.$el.addClass("disabled") : this.$el.removeClass("disabled"),
             i[o.selected] || (o.selected = "base"),
             this.select(o.selected)
         },
         onBaseClick: function() {
             if (!this.$el.hasClass("disabled"))
                 if (this.$el.hasClass("open"))
                     this.$el.removeClass("open"),
                     e(document).off("click", this.docBind);
                 else {
                     this.$el.addClass("open");
                     var i = this;
                     t.defer(function() {
                         e(document).on("click", i.docBind)
                     })
                 }
         },
         onRowClick: function(t) {
             var i = e(t.target).closest(".row");
             this.$(".row").removeClass("selected"),
             i.addClass("selected"),
             this.$el.removeClass("open");
             var s = i.data("value");
             this.$("dt span").text(a.userAvatars[s]),
             this.trigger("select", s),
             o.selected = s
         },
         onDocClick: function() {
             var i = this;
             t.defer(function() {
                 i.$el.removeClass("open"),
                 e(document).off("click", i.docBind)
             })
         },
         select: function(t) {
             "rhc" === t ? e('.row[data-value="rave"]').click() : e('.row[data-value="' + t + '"]').click()
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", this.docBind),
             this.docBind = void 0,
             delete this.docBind,
             this._super()
         }
     });
     return o.selected = window._theme,
     o
 }),
 define("f1e1d/e74c9/b14c6/f91fe/f1af5", ["jquery", "f1e1d/e718c/b7acd", "f1e1d/fce39/e3678", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/e74c9/b14c6/f91fe/e9c5b", "f1e1d/e74c9/b14c6/f91fe/dd3af", "f1e1d/e74c9/b14c6/f91fe/cd133", "f1e1d/af752/e6c91", "hbs!templates/user/inventory/Inventory", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = o.extend({
         className: "backgrounds backgrounds-tab",
         collection: i,
         eventName: s.GET_USER_BACKGROUNDS,
         initialize: function() {
             this.dropDown = new r,
             this._super()
         },
         render: function() {
             return this.$el.append(h(c)),
             this.collection.on("reset", this.onUpdate, this),
             this.$(".box").jScrollPane(),
             this.scrollPane = this.$(".box").data("jsp"),
             this.$(".menu-points").append(this.dropDown.$el),
             this.dropDown.on("select", this.onSelect, this).render(),
             t.dispatch(new s(this.eventName)),
             n.on("change:pp change:sub", this.onChange, this),
             this.onChange(),
             this.onUpdate(),
             this.showBanner(),
             this
         },
         onUpdate: function() {
             this.dropDown.draw(),
             this.$(".header .status").text("BACKGROUNDS")
         },
         onSelect: function(e) {
             this.category = e,
             this.category = "free",
             e = "free",
             this.clear();
             var t = this;
             this.collection.each(function(i) {
                 if (i.get("category") === e && "2014winter-s00" !== i.get("id")) {
                     var s = new a({
                         model: i
                     });
                     t.$(".grid").append(s.$el),
                     t.cells.push(s),
                     s.render()
                 }
             }),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         remove: function() {
             n.off("change:pp change:sub", this.onChange, this),
             this.dropDown.destroy(),
             this.dropDown = void 0,
             delete this.dropDown,
             this.category = void 0,
             delete this.category,
             this._super()
         }
     });
     return p
 }),
 define("f1e1d/e74c9/b14c6/f91fe/e0c79", ["jquery", "underscore", "backbone", "f1e1d/fce39/d4611", "f1e1d/d8478/b885e", "f1e1d/be642/c76df/a047b", "f1e1d/af752/e504b"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         className: "cell",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave",
             mousedown: "onPress"
         },
         render: function() {
             return "blankb" !== this.model.get("id") ? this.$el.append(e("<i/>").addClass("bdg large bdg-" + o.badgeClass(this.model.get("id")))) : this.$el.append(e("<i/>").addClass("no-badge")),
             this.model.get("id") === n.get("badge") && this.$el.addClass("selected"),
             n.on("change:badge", this.onSelected, this),
             this
         },
         animate: function(e) {},
         onClick: function() {
             this.$el.hasClass("selected") || (n.set("badge", this.model.get("id")),
             new a(this.model.get("id")))
         },
         onEnter: function() {
             this.over = !0
         },
         onLeave: function() {
             this.over = !1
         },
         onPress: function(e) {
             return e.preventDefault(),
             e.stopImmediatePropagation(),
             !1
         },
         onSelected: function() {
             this.model.get("id") === n.get("badge") ? this.$el.addClass("selected") : this.$el.removeClass("selected")
         },
         remove: function() {
             n.off("change:badge", this.onSelected, this),
             this.model = void 0,
             delete this.model,
             this.over = void 0,
             delete this.over,
             this._super()
         }
     });
     return r
 }),
 define("hbs!templates/user/inventory/InventoryBadgesDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="base"><span>',
             (s = i.base) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.base,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function o(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="special"><span>',
             (s = i.special) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.special,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function r(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="nyc"><span>',
             (s = i.nyc) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.nyc,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function l(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="beach"><span>',
             (s = i.beach) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.beach,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function h(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="diner"><span>',
             (s = i.diner) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.diner,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function c(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="sea"><span>',
             (s = i.sea) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.sea,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function p(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="island"><span>',
             (s = i.island) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.island,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function d(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="food"><span>',
             (s = i.food) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.food,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function u(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="rave"><span>',
             (s = i.rave) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.rave,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function f(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="hiphop"><span>',
             (s = i.hiphop) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.hiphop,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function m(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="country"><span>',
             (s = i.country) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.country,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function g(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="rock"><span>',
             (s = i.rock) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.rock,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function v(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="80s"><span>',
             (s = i["80s"]) ? s = s.call(e, {
                 hash: {}
             }) : (s = e["80s"],
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function b(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="robot"><span>',
             (s = i.robot) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.robot,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function w(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="zoo"><span>',
             (s = i.zoo) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.zoo,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function y(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="warrior"><span>',
             (s = i.warrior) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.warrior,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         function C(e, t) {
             var s, n = "";
             return n += '<div class="row" data-value="original"><span>',
             (s = i.original) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.original,
             s = typeof s === S ? s.apply(e) : s),
             n += x(s) + "</span></div>"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var k, _ = "", S = "function", x = this.escapeExpression, $ = this;
         return _ += '<dt><span></span><i class="icon icon-arrow-down-grey"></i><i class="icon icon-arrow-up-grey"></i></dt>\n<dd>\n    ',
         k = i.if.call(t, t.base, {
             hash: {},
             inverse: $.noop,
             fn: $.program(1, a, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.special, {
             hash: {},
             inverse: $.noop,
             fn: $.program(3, o, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.nyc, {
             hash: {},
             inverse: $.noop,
             fn: $.program(5, r, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.beach, {
             hash: {},
             inverse: $.noop,
             fn: $.program(7, l, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.diner, {
             hash: {},
             inverse: $.noop,
             fn: $.program(9, h, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.sea, {
             hash: {},
             inverse: $.noop,
             fn: $.program(11, c, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.island, {
             hash: {},
             inverse: $.noop,
             fn: $.program(13, p, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.food, {
             hash: {},
             inverse: $.noop,
             fn: $.program(15, d, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.rave, {
             hash: {},
             inverse: $.noop,
             fn: $.program(17, u, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.hiphop, {
             hash: {},
             inverse: $.noop,
             fn: $.program(19, f, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.country, {
             hash: {},
             inverse: $.noop,
             fn: $.program(21, m, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.rock, {
             hash: {},
             inverse: $.noop,
             fn: $.program(23, g, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t["80s"], {
             hash: {},
             inverse: $.noop,
             fn: $.program(25, v, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.robot, {
             hash: {},
             inverse: $.noop,
             fn: $.program(27, b, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.zoo, {
             hash: {},
             inverse: $.noop,
             fn: $.program(29, w, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.warrior, {
             hash: {},
             inverse: $.noop,
             fn: $.program(31, y, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n    ",
         k = i.if.call(t, t.original, {
             hash: {},
             inverse: $.noop,
             fn: $.program(33, C, n)
         }),
         (k || 0 === k) && (_ += k),
         _ += "\n</dd>"
     });
     return t.registerPartial("templates_user_inventory_InventoryBadgesDropDown", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/b5c31", ["jquery", "underscore", "backbone", "f1e1d/fce39/d4611", "hbs!templates/user/inventory/InventoryBadgesDropDown", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = i.View.extend({
         className: "dropdown",
         tagName: "dl",
         initialize: function() {
             this.docBind = t.bind(this.onDocClick, this)
         },
         draw: function() {
             var e, i = {}, r = "", l = 0;
             s.each(function(t) {
                 e !== t.get("category") && (l++,
                 e = t.get("category"),
                 i[e] = a.userAvatars[e],
                 r || (r = e))
             }),
             l > 0 ? (this.$el.html(n(i)),
             this.$(".row").on("click", t.bind(this.onRowClick, this)),
             this.$("dt").on("click", t.bind(this.onBaseClick, this)),
             l < 2 ? this.$el.addClass("disabled") : this.$el.removeClass("disabled"),
             i[o.selected] || (o.selected = r || "base"),
             this.select(o.selected)) : this.$el.empty()
         },
         onBaseClick: function() {
             if (!this.$el.hasClass("disabled"))
                 if (this.$el.hasClass("open"))
                     this.$el.removeClass("open"),
                     e(document).off("click", this.docBind);
                 else {
                     this.$el.addClass("open");
                     var i = this;
                     t.defer(function() {
                         e(document).on("click", i.docBind)
                     })
                 }
         },
         onRowClick: function(t) {
             var i = e(t.target).closest(".row");
             this.$(".row").removeClass("selected"),
             i.addClass("selected"),
             this.$el.removeClass("open");
             var s = i.data("value");
             this.$("dt span").text(a.userAvatars[s]),
             this.trigger("select", s),
             o.selected = s
         },
         onDocClick: function() {
             var i = this;
             t.defer(function() {
                 i.$el.removeClass("open"),
                 e(document).off("click", i.docBind)
             })
         },
         select: function(t) {
             e('.row[data-value="' + t + '"]').click()
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", this.docBind),
             this.docBind = void 0,
             delete this.docBind,
             this._super()
         }
     });
     return o.selected = window._theme,
     o
 }),
 define("f1e1d/e74c9/b14c6/f91fe/d2bb2", ["jquery", "f1e1d/e718c/b7acd", "f1e1d/fce39/d4611", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/e74c9/b14c6/f91fe/e0c79", "f1e1d/e74c9/b14c6/f91fe/dd3af", "f1e1d/e74c9/b14c6/f91fe/b5c31", "hbs!templates/user/inventory/Inventory", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = o.extend({
         className: "badges",
         collection: i,
         eventName: s.GET_USER_BADGES,
         initialize: function() {
             this.dropDown = new r,
             this._super()
         },
         render: function() {
             return this.$el.append(l(h)),
             this.collection.on("reset", this.onUpdate, this),
             this.$(".box").jScrollPane(),
             this.scrollPane = this.$(".box").data("jsp"),
             this.$(".menu-points").append(this.dropDown.$el),
             this.dropDown.on("select", this.onSelect, this).render(),
             t.dispatch(new s(this.eventName)),
             n.on("change:pp", this.onChange, this),
             this.onChange(),
             this.onUpdate(),
             this.showBanner(),
             this
         },
         onUpdate: function() {
             this.dropDown.draw(),
             this.$(".header .status").text(h.userInventory.badges)
         },
         onSelect: function(e) {
             this.category = e,
             this.clear();
             var t = this;
             this.collection.each(function(i) {
                 if (i.get("category") === e) {
                     var s = new a({
                         model: i
                     });
                     t.$(".grid").append(s.$el),
                     t.cells.push(s),
                     s.render()
                 }
             }),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         remove: function() {
             n.off("change:pp", this.onChange, this),
             this.dropDown.destroy(),
             this.dropDown = void 0,
             delete this.dropDown,
             this.category = void 0,
             delete this.category,
             this._super()
         }
     });
     return c
 }),
 define("hbs!templates/user/inventory/TransactionRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<i class="avi avi-',
             (s = i.avatar) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.avatar,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + '"></i>'
         }
         function o(e, t) {
             var s, n = "";
             return n += '<i class="large bdg bdg-',
             (s = i.badge) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.badge,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + '"></i>'
         }
         function r(e, t) {
             var s, n = "";
             return n += '<i class="misc-',
             (s = i.misc) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.misc,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + '"></i>'
         }
         function l(e, t) {
             return '<i class="icon icon-pp-small"></i>'
         }
         function h(e, t) {
             return ' class="cash-span">USD $'
         }
         function c(e, t) {
             return ">"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var p, d = "", u = "function", f = this.escapeExpression, m = this;
         return d += '<div class="item">\n    ',
         p = i.if.call(t, t.avatar, {
             hash: {},
             inverse: m.noop,
             fn: m.program(1, a, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n    ",
         p = i.if.call(t, t.badge, {
             hash: {},
             inverse: m.noop,
             fn: m.program(3, o, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n    ",
         p = i.if.call(t, t.misc, {
             hash: {},
             inverse: m.noop,
             fn: m.program(5, r, n)
         }),
         (p || 0 === p) && (d += p),
         d += '\n</div>\n<div class="meta">\n    <div class="col price">\n        ',
         p = i.if.call(t, t.pp, {
             hash: {},
             inverse: m.noop,
             fn: m.program(7, l, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n        <span",
         p = i.if.call(t, t.cash, {
             hash: {},
             inverse: m.program(11, c, n),
             fn: m.program(9, h, n)
         }),
         (p || 0 === p) && (d += p),
         (p = i.price) ? p = p.call(t, {
             hash: {}
         }) : (p = t.price,
         p = typeof p === u ? p.apply(t) : p),
         d += f(p) + '</span>\n    </div>\n    <div class="col date"><span>',
         (p = i.date) ? p = p.call(t, {
             hash: {}
         }) : (p = t.date,
         p = typeof p === u ? p.apply(t) : p),
         d += f(p) + '</span></div>\n    <div class="col id"><span>#',
         (p = i.id) ? p = p.call(t, {
             hash: {}
         }) : (p = t.id,
         p = typeof p === u ? p.apply(t) : p),
         d += f(p) + "</span></div>\n</div>"
     });
     return t.registerPartial("templates_user_inventory_TransactionRow", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/aaad5", ["backbone", "f1e1d/af752/e504b", "hbs!templates/user/inventory/TransactionRow", "lang/Lang"], function(e, t, i, s) {
     var n = e.View.extend({
         className: "row",
         render: function() {
             var e = this.model.get("type");
             this.$el.addClass(e);
             var n = {
                 price: t.commafy(this.model.get("pp") || this.model.get("cash") || 0),
                 pp: this.model.get("pp") > 0 ? "pp" : void 0,
                 cash: this.model.get("cash") > 0 ? "$" : void 0,
                 date: t.convertUnixDateStringToMDY(this.model.get("timestamp"), s.userStore.timestamp),
                 id: this.model.get("id")
             };
             return "avatar" === e ? n[e] = t.aviClass(this.model.get("item")) : "badge" === e ? n[e] = t.badgeClass(this.model.get("item")) : n[e] = this.model.get("item"),
             this.$el.append(i(n)),
             this
         }
     });
     return n
 }),
 define("hbs!templates/user/inventory/TransactionHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="legend">\n    <div class="item"><span>' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.item,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="meta">\n        <div class="col price"><span>' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.price,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n        <div class="col date"><span>' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.date,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n        <div class="col id"><span>' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.transID,
         typeof a === r ? a.apply(t) : a)) + "</span></div>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_user_inventory_TransactionHeader", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/fd274", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/cae98", "f1e1d/e8300/bb9e2", "f1e1d/e74c9/b14c6/f91fe/aaad5", "hbs!templates/user/inventory/TransactionHeader", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = i.View.extend({
         className: "history",
         initialize: function() {
             this.rows = [],
             this.$list = e("<div/>").addClass("list"),
             this.drawBind = t.bind(this.drawRow, this)
         },
         render: function() {
             return this.$el.append(r(l)).append(e("<div/>").addClass("box").append(this.$list)),
             this.$(".box").jScrollPane(),
             this.scrollPane = this.$(".box").data("jsp"),
             n.on("reset", this.draw, this),
             s.dispatch(new a(a.GET_USER_TRANSACTIONS)),
             this.draw(),
             this
         },
         draw: function() {
             this.clear(),
             n.each(this.drawBind),
             this.trigger("redraw")
         },
         drawRow: function(e) {
             if ("subscription" !== e.get("type")) {
                 var t = new o({
                     model: e
                 });
                 this.$list.append(t.$el),
                 this.rows.push(t),
                 t.render()
             }
         },
         onResize: function(e, t) {
             this.$(".box").height(t - this.$(".box").offset().top),
             this.$(".legend").width(e),
             this.$(".row").width(e),
             this.$(".meta").width(e - 150),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             return this.rows.length = 0,
             this.$list.empty(),
             this.scrollPane && this.scrollPane.reinitialise(),
             this
         },
         remove: function() {
             n.off("reset", this.draw, this),
             this.clear(),
             this.rows = void 0,
             delete this.rows,
             this.$list && this.$list.remove(),
             this.$list = void 0,
             delete this.$list,
             this.scrollPane && this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane,
             this._super()
         }
     });
     return h
 }),
 define("hbs!templates/user/inventory/inventoryTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-top banner--desktop" id="plugdj_inventory_top">\r\n    <div id="div-gpt-ad-1523297134334-13"></div>\r\n</div>\r\n'
     });
     return t.registerPartial("templates_user_inventory_inventoryTopBanner", i),
     i
 }),
 define("hbs!templates/user/inventory/inventoryTopPixel", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="pixel__container">\r\n    <div id="plugdj_pixel_inventory"></div>\r\n</div>\r\n'
     });
     return t.registerPartial("templates_user_inventory_inventoryTopPixel", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f91fe/c9675", ["backbone", "f1e1d/e718c/b7acd", "f1e1d/af752/c506b", "f1e1d/e74c9/b14c6/f91fe/e4cf9", "f1e1d/e74c9/b14c6/f91fe/ba2ee", "f1e1d/e74c9/b14c6/f91fe/f1af5", "f1e1d/e74c9/b14c6/f91fe/d2bb2", "f1e1d/e74c9/b14c6/f91fe/fd274", "hbs!templates/user/inventory/inventoryTopBanner", "hbs!templates/user/inventory/inventoryTopPixel"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = e.View.extend({
         id: "user-inventory",
         className: "user-content inventory",
         initialize: function() {
             this.menu = new s
         },
         render: function() {
             this.$el.append(h()).append(l()).append(this.menu.$el),
             this.menu.render().on("select", this.onMenuSelect, this),
             this.onMenuSelect("avatars");
             var e = this;
             return _.delay(function() {
                 e.onResize(i.getSize())
             }, 40),
             t.trigger("user_content:select", {
                 master: this.id,
                 section: void 0
             }),
             this
         },
         onMenuSelect: function(e) {
             this.clear(),
             this.section = e,
             "avatars" === e && (this.view = new n),
             "backgrounds" === e ? this.view = new a : "badges" === e ? this.view = new o : "history" === e && (this.view = new r,
             this.view.on("redraw", this.onResize, this)),
             this.$el.append(this.view.$el),
             this.view.render(),
             this.onResize(i.getSize())
         },
         clear: function() {
             this.view && (this.view.off(),
             this.view.destroy(),
             this.view = void 0,
             delete this.view)
         },
         animate: function(e) {
             "avatars" === this.section && this.view.animate(e)
         },
         onResize: function(e) {
             e = e || i.getSize();
             var t = 200 * ~~((this.$el.width() - 20) / 200)
               , s = ~~((this.$el.width() - t) / 2);
             this.menu.$el.css("left", s),
             this.menu.$el.width(t - 15),
             this.view && (this.view.$el.css("left", s),
             this.view.$el.width(t + 14 + Math.max(0, s - 15)),
             this.view.onResize(t - 15, e.height))
         },
         remove: function() {
             this.clear(),
             this.menu.destroy(),
             this.menu = void 0,
             delete this.menu,
             this._super()
         }
     });
     return c
 }),
 define("f1e1d/be642/cc52f/d5671", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         route: "profile/blurb",
         init: function(e) {
             this.data = {
                 blurb: e
             },
             this._super(!0)
         }
     });
     return t
 }),
 define("hbs!templates/user/profile/UserProfilePoints", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="boost">\n    <i></i>\n    <span class="value"></span>\n    <span class="label"></span>\n</div>\n<div class="pp">\n    <div class="pp-points">\n    \t<i class="icon icon-badge-pp"></i>\n    \t<span class="value">0</span>\n    \t<span class="label">' + l((a = t.userMeta,
         a = null == a || a === !1 ? a : a.plugPoints,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    </div>\n    <a href="/subscribe" target="/blank"><div class="subscribe-button"><i class="plugdjfont icon-user-crown" aria-hidden="true"></i><span>' + l((a = t.subscribe,
         a = null == a || a === !1 ? a : a.submit,
         typeof a === r ? a.apply(t) : a)) + "</span></div></a>\n</div>\n"
     });
     return t.registerPartial("templates_user_profile_UserProfilePoints", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/cc52f/b8025", ["underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/af752/abc02", "f1e1d/af752/e504b", "hbs!templates/user/profile/UserProfilePoints", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r, l, h, c = t.View.extend({
         className: "points",
         render: function() {
             return this.$el.html(a(o)),
             i.on("change:pp change:sub change:silver", this.onChange, this).on("change:boost", this.onBoost, this),
             this.onChange(),
             this.onBoost(),
             this
         },
         onChange: function() {
             this.$(".pp .value").text(n.commafy(i.get("pp"))),
             i.get("sub") > 0 || i.get("silver") ? this.$el.addClass("subscribed") : this.$el.removeClass("subscribed")
         },
         onBoost: function() {
             clearInterval(r);
             var t = i.get("boost");
             !l && t && (r = setInterval(e.bind(this.update, this), 1e3)),
             l = t,
             l ? (this.$el.addClass("boosted"),
             this.$(".boost i").removeClass().addClass("icon icon-boost-" + l.x + "x"),
             this.$(".boost .label").text(o.userStore["boost" + l.x + "x"]),
             this.update()) : (this.$el.removeClass("boosted"),
             r = void 0)
         },
         update: function() {
             h = s.secondsUntil(l.r),
             h > 0 ? this.$(".boost .value").text(n.countdown(h)) : i.unset("boost")
         },
         remove: function() {
             clearInterval(r),
             r = void 0,
             l = void 0,
             h = void 0,
             i.off("change:pp change:sub change:silver", this.onChange, this).off("change:boost", this.onBoost, this),
             this._super()
         }
     });
     return c
 }),
 define("hbs!templates/user/profile/UserProfileMeta", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="left">\n    <div class="badge-box">\n        <i></i>\n    </div>\n    <div class="username"></div>\n    <div class="info">\n        <div class="role">\n            <i></i>\n            <span></span>\n        </div>\n        <div class="sub">\n            <i class="icon icon-chat-subscriber"></i>\n            <span>' + l((a = t.userStatus,
         a = null == a || a === !1 ? a : a.subscriber,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </div>\n    <div class="blurb">\n        <div class="arrow-up"></div>\n        <div class="box"></div>\n        <input insp-form-input-id="profile-blurb" type="text" maxlength="80"/>\n    </div>\n    <div class="joined"></div>\n    <div class="link">\n    <span class="label">' + l((a = t.userMeta,
         a = null == a || a === !1 ? a : a.profileURL,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="url"></span>\n</div>\n</div>\n'
     });
     return t.registerPartial("templates_user_profile_UserProfileMeta", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/cc52f/c0910", ["jquery", "underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/be642/cc52f/d5671", "f1e1d/e74c9/b14c6/cc52f/b8025", "f1e1d/af752/e504b", "hbs!templates/user/profile/UserProfileMeta", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = i.View.extend({
         className: "meta section",
         initialize: function() {
             this.model || (this.model = s),
             this.points = new o
         },
         render: function() {
             return this.$el.html(l(h)).append(this.points.$el),
             this.points.render(),
             this.model.on("change:username change:bio change:role change:blurb change:level change:badge change:sub change:silver", this.onChange, this),
             this.model.get("id") === s.get("id") ? this.$el.addClass("you") : this.$el.removeClass("you"),
             this.$(".blurb .box").on("click", t.bind(this.onBlurbClick, this)),
             this.$(".blurb input").on("blur", t.bind(this.onBlurbBlur, this)).on("keyup", t.bind(this.onKeyUp, this)).on("keydown", t.bind(this.onKeyDown, this)),
             this.onChange(),
             this
         },
         onChange: function() {
             this.clearClass();
             var e = "";
             if (this.model.hasPermission(n.ADMIN, !0))
                 e += " is-admin",
                 this.$(".role span").text(h.roles.admin),
                 this.$(".role i").removeClass().addClass("icon icon-chat-admin");
             else if (this.model.hasPermission(n.AMBASSADOR, !0))
                 e += " is-ambassador",
                 this.$(".role span").text(h.roles.ambassador),
                 this.$(".role i").removeClass().addClass("icon icon-chat-ambassador");
             else if (this.model.hasPermission(n.SITEMOD, !0))
                 e += " is-sitemod",
                 this.$(".role span").text(h.roles.sitemod),
                 this.$(".role i").removeClass().addClass("icon icon-chat-sitemod");
             else if (this.model.hasPermission(n.PLOT, !0))
                 e += " is-plot",
                 this.$(".role span").text(h.roles.plot),
                 this.$(".role i").removeClass().addClass("icon icon-chat-plot");
             else if (this.model.hasPermission(n.PROMOTER, !0))
                 e += " is-promoter",
                 this.$(".role span").text(h.roles.promoter),
                 this.$(".role i").removeClass().addClass("icon icon-chat-promoter");
             else if (this.model.hasPermission(n.DJ)) {
                 e += " is-staff";
                 var t = this.model.get("role");
                 t === n.HOST ? (this.$(".role span").text(h.roles.host),
                 this.$(".role i").removeClass().addClass("icon icon-chat-host")) : t === n.COHOST ? (this.$(".role span").text(h.roles.cohost),
                 this.$(".role i").removeClass().addClass("icon icon-chat-cohost")) : t === n.MANAGER ? (this.$(".role span").text(h.roles.manager),
                 this.$(".role i").removeClass().addClass("icon icon-chat-manager")) : t === n.BOUNCER ? (this.$(".role span").text(h.roles.bouncer),
                 this.$(".role i").removeClass().addClass("icon icon-chat-bouncer")) : t === n.DJ && (this.$(".role span").text(h.roles.dj),
                 this.$(".role i").removeClass().addClass("icon icon-chat-dj"))
             } else
                 e += " is-none",
                 this.$(".role span").text(""),
                 this.$(".role i").removeClass();
             if (this.model.get("sub") > 0 ? e += " is-subscriber" : this.model.get("silver") && (e += " is-subscriber silver",
             this.$(".sub i").removeClass().addClass("icon icon-chat-silver-subscriber")),
             this.model.get("badge") ? this.$(".badge-box i").removeClass().addClass("bdg bdg-" + r.badgeClass(this.model.get("badge"))) : this.$(".badge-box").addClass("no-badge"),
             this.model.get("level") > 4) {
                 e += " unlocked";
                 var i = "/@/" + this.model.get("slug");
                 this.$(".link .url").html('<a href="' + i + '" target="_blank">https://plug.dj' + i + "</a>")
             }
             this.$el.addClass(e),
             this.$(".username").text(this.model.get("username")),
             this.$(".blurb .box").html(this.model.get("blurb") || h.userPanel.blurb),
             this.$(".blurb input")[0].value = r.h2t(this.model.get("blurb")) || "",
             this.$(".joined").text(r.convertUnixDateStringToMDY(this.model.get("joined"), h.userPanel.joined))
         },
         clearClass: function() {
             this.$el && (this.$el.removeClass().addClass("meta section"),
             this.$(".badge-box").removeClass("no-badge"),
             this.$el.addClass("you"))
         },
         onBlurbClick: function() {
             this.$(".blurb .box").hide(),
             this.$(".blurb input").show().focus()
         },
         onBlurbBlur: function() {
             this.$(".blurb input")[0].value !== s.get("blurb") && (new a(this.$(".blurb input")[0].value),
             s.set("blurb", e("<span/>").text(this.$(".blurb input")[0].value).html())),
             this.$(".blurb .box").show(),
             this.$(".blurb input").hide()
         },
         onKeyDown: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             13 === t || 9 === t ? (e.preventDefault(),
             e.stopImmediatePropagation(),
             e.target.blur(),
             !1) : 27 !== t || (e.preventDefault(),
             e.stopImmediatePropagation(),
             this.$(".blurb input")[0].value = r.h2t(s.get("blurb")) || "",
             e.target.blur(),
             !1))
         },
         onKeyUp: function(e) {
             var t;
             return !e || (t = e.which || e.keyCode,
             13 === t || 9 === t ? (e.preventDefault(),
             e.stopImmediatePropagation(),
             !1) : 27 !== t || (e.preventDefault(),
             e.stopImmediatePropagation(),
             !1))
         },
         remove: function() {
             this.$(".blurb .box").off(),
             this.$(".blurb input").off(),
             this.$(".blurb input").remove(),
             this.model.off("change:username change:bio change:role change:blurb change:level change:badge change:sub change:silver", this.onChange, this),
             this.points.destroy(),
             this.model = void 0,
             this.points = void 0,
             delete this.model,
             delete this.points,
             this._super()
         }
     });
     return c
 }),
 define("hbs!templates/user/profile/UserExperience", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="xp">\n    <span class="current-level"></span>\n    <span class="next-level"></span>\n    <div class="bar">\n        <div class="progress"></div>\n        <span class="value"></span>\n    </div>\n</div>\n<div class="levels"></div>\n<div class="description">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.levelPlaceholder,
         typeof a === r ? a.apply(t) : a)) + "</div>"
     });
     return t.registerPartial("templates_user_profile_UserExperience", i),
     i
 }),
 define("hbs!templates/user/profile/UserExperienceLevel", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             return " earned"
         }
         function o(e, t) {
             return " mystery"
         }
         function r(e, t) {
             return "<span>?</span>"
         }
         function l(e, t) {
             var s, n = "";
             return n += '<i class="icon icon-level-',
             (s = i.type) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.type,
             s = typeof s === p ? s.apply(e) : s),
             n += d(s) + '"></i>'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var h, c = "", p = "function", d = this.escapeExpression, u = this;
         return c += '<div class="level',
         h = i.if.call(t, t.earned, {
             hash: {},
             inverse: u.noop,
             fn: u.program(1, a, n)
         }),
         (h || 0 === h) && (c += h),
         c += " ",
         (h = i.type) ? h = h.call(t, {
             hash: {}
         }) : (h = t.type,
         h = typeof h === p ? h.apply(t) : h),
         c += d(h),
         h = i.if.call(t, t.mystery, {
             hash: {},
             inverse: u.noop,
             fn: u.program(3, o, n)
         }),
         (h || 0 === h) && (c += h),
         c += '" data-level="',
         (h = i.level) ? h = h.call(t, {
             hash: {}
         }) : (h = t.level,
         h = typeof h === p ? h.apply(t) : h),
         c += d(h) + '">\n    <div class="level-box">\n    \t<div class="label">\n    \t    <i class="icon icon-sunburst"></i>\n    \t    ',
         h = i.if.call(t, t.mystery, {
             hash: {},
             inverse: u.program(7, l, n),
             fn: u.program(5, r, n)
         }),
         (h || 0 === h) && (c += h),
         c += '\n    \t</div>\n    \t<div class="value">\n    \t    <i class="icon icon-locked"></i>\n    \t    <span>',
         (h = i.level) ? h = h.call(t, {
             hash: {}
         }) : (h = t.level,
         h = typeof h === p ? h.apply(t) : h),
         c += d(h) + "</span>\n    \t</div>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_user_profile_UserExperienceLevel", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/cc52f/fbfbe", ["jquery", "underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/e504b", "hbs!templates/user/profile/UserExperience", "hbs!templates/user/profile/UserExperienceLevel", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = i.View.extend({
         className: "experience section",
         initialize: function() {},
         render: function() {
             return this.$el.append(e("<div/>").addClass("header").append(e("<span/>").text(l.userXP.levels))),
             this.$el.append(o(l)),
             s.on("change:xp", this.onXP, this).on("change:level", this.onLevel, this).on("change:boost", this.onBoost, this),
             this.onXP(),
             this.onLevel(),
             this.onBoost(),
             this
         },
         onXP: function() {
             var e, t;
             s.get("gRole") !== n.HOST ? (e = s.get("xp") - s._x[s.get("level") - 1],
             t = s._x[s.get("level")] - (s.get("level") > 1 ? s._x[s.get("level") - 1] : 0),
             this.$(".current-level").html((l.userXP.lv || l.userXP.level) + " <strong>" + s.get("level") + "</strong>"),
             this.$(".next-level").html((l.userXP.lv || l.userXP.level) + " <strong>" + (s.get("level") + 1) + "</strong>"),
             this.$(".progress").css("width", (e > 0 ? ~~(100 * Math.max(.01, e / t)) : 0) + "%")) : (e = "∞",
             t = "∞",
             this.$(".current-level").html((l.userXP.lv || l.userXP.level) + " <strong>∞</strong>"),
             this.$(".next-level").html((l.userXP.lv || l.userXP.level) + " <strong>∞</strong>"),
             this.$(".progress").css("width", "100%")),
             this.$(".bar .value").text(a.commafy(e) + " / " + a.commafy(t))
         },
         onLevel: function() {
             this.$(".levels").empty();
             var i, n, a, o = e("<div/>").addClass("boxes"), l = 6;
             for (n = s.get("level") < 6 ? 1 : s.get("level") < 11 ? 6 : s.get("level") < 16 ? 11 : 16,
             a = 0; a < l; ++a)
                 i = {
                     level: a + n,
                     earned: a + n <= s.get("level"),
                     mystery: 5 === a,
                     type: s._l[a + n - 1]
                 },
                 0 === a ? this.$(".levels").append(r(i)) : o.append(e("<div/>").addClass("box").append(r(i)));
             this.$(".levels").append(o),
             this.$(".level").on("mouseenter", t.bind(this.onEnter, this)).on("mouseleave", t.bind(this.onLeave, this))
         },
         onBoost: function() {
             s.get("boost") ? this.$el.addClass("boosted") : this.$el.removeClass("boosted");
         },
         onEnter: function(t) {
             var i = e(t.target).closest(".level");
             this.$(".description").text(i.hasClass("mystery") ? l.userXP.mystery : (i.hasClass("earned") ? l.userXP.earned : "") + l.userXP["l" + i[0].dataset.level])
         },
         onLeave: function() {
             this.$(".description").text(l.userXP.levelPlaceholder)
         },
         remove: function() {
             this.$(".level").off(),
             this.$(".levels").empty(),
             s.off("change:xp", this.onXP, this).off("change:level", this.onLevel, this).off("change:boost", this.onBoost, this),
             this._super()
         }
     });
     return h
 }),
 define("hbs!templates/dialogs/DialogBadgeUnlocked", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="sunburst"></i>\n<i class="bdg bdg-',
         (a = i.badge) ? a = a.call(t, {
             hash: {}
         }) : (a = t.badge,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + 'set-g g large"></i>\n<div class="message">',
         (a = i.message) ? a = a.call(t, {
             hash: {}
         }) : (a = t.message,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</div>"
     });
     return t.registerPartial("templates_dialogs_DialogBadgeUnlocked", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/b59a5", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/e8300/bef7f", "f1e1d/e74c9/c00f1/b182f", "hbs!templates/dialogs/DialogBadgeUnlocked", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = n.extend({
         id: "dialog-badge-unlocked",
         className: "dialog",
         render: function() {
             return this.$el.append(this.getHeader(o.dialog.badgeUnlocked)).append(this.getBody().append(a({
                 badge: this.options.badge,
                 message: o.userNotifications.avibadge.split("%CATEGORY%").join(o.userAvatars[this.options.badge])
             }))).append(this.getButtons(o.userLevelUp.profileSubmit, o.userLevelUp.communityCancel)),
             this.action = function() {
                 i.trigger("show:user", "inventory", "badges")
             }
             ,
             this._super()
         },
         submit: function() {
             this.doAction(),
             this.close()
         },
         doAction: function() {
             this.action && this.action()
         },
         close: function() {
             this.action = void 0,
             delete this.action,
             this._super()
         },
         onKeyEnter: function(e) {
             return e.preventDefault(),
             this.submit(),
             !1
         },
         onContainerClick: function(e) {}
     });
     return r
 }),
 define("hbs!templates/user/profile/UserNotification", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<span class="label">',
         (a = i.label) ? a = a.call(t, {
             hash: {}
         }) : (a = t.label,
         a = typeof a === r ? a.apply(t) : a),
         (a || 0 === a) && (o += a),
         o += '</span>\n<span class="timestamp">',
         (a = i.timestamp) ? a = a.call(t, {
             hash: {}
         }) : (a = t.timestamp,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</span>\n<i class="icon icon-clear-input"></i>'
     });
     return t.registerPartial("templates_user_profile_UserNotification", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/cc52f/af65c", ["backbone", "f1e1d/e718c/b7acd", "f1e1d/ee86e/d3ef5", "f1e1d/e8300/dcb95", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/b59a5", "f1e1d/e74c9/c00f1/ae7be", "hbs!templates/user/profile/UserNotification", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.View.extend({
         events: {
             click: "onClick"
         },
         className: "row",
         render: function() {
             var e, t, s = this.model.get("action");
             return "winter" !== s ? "boostExpired" === s ? (t = this.model.get("value").split(","),
             this.$el.html(r({
                 label: l.userNotifications[this.model.get("action")].split("%X%").join(t[0]).split("%XP%").join(t[1]).split("%PP%").join(t[2]),
                 timestamp: n.convertTimestampToReadableDate(this.model.get("timestamp"), !0)
             }))) : "avibadge" === s ? (i.synced = !1,
             this.$el.html(r({
                 label: l.userNotifications[this.model.get("action")].split("%CATEGORY%").join(l.userAvatars[this.model.get("value")]),
                 timestamp: n.convertTimestampToReadableDate(this.model.get("timestamp"), !0)
             }))) : "gift" === s ? (t = this.model.get("value").split(unescape("%u2800")),
             this.$el.html(r({
                 label: l.userNotifications.gift.split("%NAME%").join(t[0]).split("%VALUE%").join(t[1]),
                 timestamp: n.convertTimestampToReadableDate(this.model.get("timestamp"), !0)
             }))) : "custom" === s ? this.$el.html(r({
                 label: this.model.get("value"),
                 timestamp: n.convertTimestampToReadableDate(this.model.get("timestamp"), !0)
             })) : this.$el.html(r({
                 label: l.userNotifications[this.model.get("action")].split("%VALUE%").join(this.model.get("value")),
                 timestamp: n.convertTimestampToReadableDate(this.model.get("timestamp"), !0)
             })) : (e = l.userNotifications[s],
             this.$el.html(r({
                 label: e.split("%VALUE%").join(this.model.get("value")),
                 timestamp: n.convertTimestampToReadableDate(this.model.get("timestamp"), !0)
             }))),
             this
         },
         update: function() {
             this.$(".timestamp").text(n.convertTimestampToReadableDate(this.model.get("timestamp"), !0))
         },
         onClick: function() {
             0 === this.model.get("action").indexOf("gift") && t.dispatch(new s(s.SHOW,new o({
                 model: this.model
             }))),
             "avibadge" === this.model.get("action") && t.dispatch(new s(s.SHOW,new a({
                 badge: this.model.get("value")
             }))),
             this.trigger("close", this)
         }
     });
     return h
 }),
 define("f1e1d/e74c9/b14c6/cc52f/ba23c", ["jquery", "underscore", "backbone", "f1e1d/fce39/ec5ba", "f1e1d/be642/a245a/d19c4", "f1e1d/e74c9/b14c6/cc52f/af65c", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         className: "notifications section",
         initialize: function() {
             this.rows = [],
             this.drawBind = t.bind(this.drawRow, this),
             this.closeBind = t.bind(this.onClose, this),
             s.on("reset", this.onReset, this)
         },
         render: function() {
             return this.$el.append(e("<div/>").addClass("header").append(e("<span/>").text(o.userNotifications.notifications))),
             this.onReset(),
             this
         },
         onReset: function() {
             this.clear(),
             s.each(this.drawBind),
             s.length > 0 ? (this.$el.show(),
             this.intervalID = setInterval(t.bind(this.update, this), 1e3)) : this.$el.hide()
         },
         drawRow: function(e, t) {
             if (o.userNotifications[e.get("action")] || "custom" === e.get("action")) {
                 var i = new a({
                     model: e,
                     index: t
                 });
                 this.$el.append(i.$el),
                 i.render().on("close", this.closeBind),
                 this.rows.push(i)
             }
         },
         onClose: function(e) {
             var t = e.model.get("id");
             new n(t),
             s.remove(t),
             e.destroy(),
             this.rows.splice(this.rows.indexOf(e), 1)
         },
         clear: function() {
             clearInterval(this.intervalID);
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             this.rows.length = 0
         },
         update: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].update()
         },
         remove: function() {
             s.off("reset", this.onReset, this),
             this.clear(),
             this.intervalID = void 0,
             delete this.intervalID,
             this.drawBind = void 0,
             delete this.drawBind,
             this.rows = void 0,
             delete this.rows,
             this._super()
         }
     });
     return r
 }),
 define("hbs!templates/user/profile/UserProfileTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-top banner--desktop" id="plugdj_profile_top">\n\t<div id="div-gpt-ad-1523297134334-11"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_profile_UserProfileTopBanner", i),
     i
 }),
 define("hbs!templates/user/profile/UserProfileBottomBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-bottom banner--desktop" id="plugdj_profile_bottom">\n\t<div id="div-gpt-ad-1523297134334-10"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_profile_UserProfileBottomBanner", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/cc52f/a1fc9", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e74c9/b14c6/cc52f/c0910", "f1e1d/e74c9/b14c6/cc52f/fbfbe", "f1e1d/e74c9/b14c6/cc52f/ba23c", "hbs!templates/user/profile/UserProfileTopBanner", "hbs!templates/user/profile/UserProfileBottomBanner"], function(e, t, i, s, n, a, o, r, l) {
     var h = i.View.extend({
         id: "the-user-profile",
         className: "user-content profile",
         render: function() {
             return this.meta = new n,
             this.experience = new a,
             this.notifications = new o,
             this.$container = e("<div/>").addClass("container"),
             this.$container.append(r()).append(this.meta.$el).append(this.experience.$el).append(this.notifications.$el).append(l()),
             this.$el.append(this.$container),
             this.meta.render(),
             this.experience.render(),
             this.notifications.render(),
             this.$container.jScrollPane(),
             this.scrollPane = this.$container.data("jsp"),
             s.trigger("user_content:select", {
                 master: this.id,
                 section: void 0
             }),
             this
         },
         onResize: function(e) {
             this.scrollPane.reinitialise()
         },
         remove: function() {
             this.scrollPane && this.scrollPane.destroy(),
             this.meta.destroy(),
             this.experience.destroy(),
             this.notifications.destroy(),
             this.$container.remove(),
             this.scrollPane = void 0,
             this.meta = void 0,
             this.experience = void 0,
             this.notifications = void 0,
             this.$container = void 0,
             delete this.scrollPane,
             delete this.meta,
             delete this.experience,
             delete this.notifications,
             delete this.$container,
             this._super()
         }
     });
     return h
 }),
 define("f1e1d/e74c9/b14c6/b762a", ["backbone", "f1e1d/e718c/b7acd", "f1e1d/af752/c506b"], function(e, t, i) {
     var s = e.View.extend({
         defaultTab: void 0,
         initialize: function() {
             this.topBanner = void 0,
             this.bottomBanner = void 0
         },
         render: function() {
             return this.menu = this.getMenu(),
             this.content = $('<div class="user-content-view"></div>'),
             void 0 !== this.topBanner && this.$el.append(this.getTopBanner()),
             this.$el.append(this.menu.$el),
             this.$el.append(this.content),
             void 0 !== this.bottomBanner && this.$el.append(this.getBottomBanner()),
             this.menu.render().on("select", this.onMenuSelect, this),
             this.onMenuSelect(this.defaultTab),
             this
         },
         onMenuSelect: function(e) {
             this.clear(),
             this.section = e,
             this.view = this.getView(e),
             this.view.on("redraw", this.onResize, this),
             this.content.html(this.view.$el),
             this.view.render(),
             this.onResize(),
             t.trigger("user_content:select", {
                 master: this.id,
                 section: e
             }),
             t.trigger(this.id + ":select", e)
         },
         getTopBanner: function() {
             return this.topBanner()
         },
         getBottomBanner: function() {
             return this.bottomBanner()
         },
         getMenu: function() {},
         getView: function(e) {},
         clear: function() {
             this.view && (this.view.destroy(),
             this.view = void 0,
             delete this.view)
         },
         onResize: function(e) {
             this.view && (e = e || i.getSize(),
             this.view.onResize(this.$el.width(), e.height))
         },
         remove: function() {
             this.clear(),
             this.menu.destroy(),
             this.menu = void 0,
             delete this.menu,
             this.view && (this.view.off(),
             this.view.destroy(),
             this.view = void 0,
             delete this.view),
             this._super()
         }
     });
     return s
 }),
 define("f1e1d/fce39/d7d58", ["underscore", "backbone", "f1e1d/fce39/cd5cd", "f1e1d/d8478/edecb", "f1e1d/af752/c96dd"], function(e, t, i, s, n) {
     var a = t.Collection.extend({
         model: s,
         lastFilter: void 0,
         comparator: "uIndex",
         initialize: function() {
             return i.on("reset", this.onReset, this).on("add remove change:role change:gRole", this.onChange, this),
             this
         },
         onChange: function() {
             this.setFilter(this.lastFilter)
         },
         onReset: function() {
             this.setFilter()
         },
         setFilter: function(e) {
             if (this.lastFilter = e,
             i.length > 0) {
                 var t;
                 t = e ? i.filter(function(t) {
                     return t.get("username").toLowerCase().indexOf(e) > -1
                 }) : i.toArray();
                 for (var s = t.length, a = 0; a < s; ++a)
                     t[a].set("uIndex", a, {
                         silent: !0
                     });
                 t.sort(n.uIndex),
                 this.reset(t)
             } else
                 this.reset()
         }
     });
     return new a
 }),
 define("hbs!templates/user/friends/UserFriendRow", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<i class="icon icon-chat-',
             (s = i.role) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.role,
             s = typeof s === l ? s.apply(e) : s),
             n += h(s) + '"></i>'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = "function", h = this.escapeExpression, c = this;
         return r += '<div class="image"><div class="thumb large"><i class="avi avi-',
         (o = i.avatarID) ? o = o.call(t, {
             hash: {}
         }) : (o = t.avatarID,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '"></i></div></div>\n<div class="meta">\n    <div class="name">',
         o = i.if.call(t, t.role, {
             hash: {},
             inverse: c.noop,
             fn: c.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += "<span>",
         (o = i.username) ? o = o.call(t, {
             hash: {}
         }) : (o = t.username,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '</span></div>\n    <div class="level"><span class="label">',
         (o = i.levelLabel) ? o = o.call(t, {
             hash: {}
         }) : (o = t.levelLabel,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '</span><span class="value">',
         (o = i.level) ? o = o.call(t, {
             hash: {}
         }) : (o = t.level,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '</span></div>\n    <div class="joined">',
         (o = i.joined) ? o = o.call(t, {
             hash: {}
         }) : (o = t.joined,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + "</div>\n</div>"
     });
     return t.registerPartial("templates_user_friends_UserFriendRow", i),
     i
 }),
 define("hbs!templates/user/friends/UserFriendButtons", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             return " no-profile"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = this, h = "function", c = this.escapeExpression;
         return r += '<div class="buttons',
         o = i.if.call(t, t.noProfile, {
             hash: {},
             inverse: l.noop,
             fn: l.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += '">\n    <button class="positive"><i class="icon icon-user-white"></i>',
         (o = i.positive) ? o = o.call(t, {
             hash: {}
         }) : (o = t.positive,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + '</button>\n    <button class="negative"><i class="icon icon-x-white"></i>',
         (o = i.negative) ? o = o.call(t, {
             hash: {}
         }) : (o = t.negative,
         o = typeof o === h ? o.apply(t) : o),
         r += c(o) + "</button>\n</div>"
     });
     return t.registerPartial("templates_user_friends_UserFriendButtons", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/aa669/d6175", ["underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/ca0ca", "f1e1d/d8478/edecb", "f1e1d/af752/e504b", "hbs!templates/user/friends/UserFriendRow", "hbs!templates/user/friends/UserFriendButtons", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = t.View.extend({
         className: "row",
         buttonTemplate: l,
         render: function() {
             var t = this.getObj();
             return this.model.get("gRole") === a.HOST ? (this.$el.addClass("is-admin"),
             t.role = "admin") : this.model.get("gRole") >= a.MANAGER && this.model.get("gRole") < a.HOST ? (this.$el.addClass("is-ambassador"),
             t.role = "ambassador") : this.model.get("gRole") === a.SITEMOD ? (this.$el.addClass("is-sitemod"),
             t.role = "sitemod") : this.model.get("gRole") === a.PLOT ? (this.$el.addClass("is-plot"),
             t.role = "plot") : this.model.get("gRole") === a.PROMOTER && (this.$el.addClass("is-promoter"),
             t.role = "promoter"),
             this.$el.append(r(t)).append(this.buttonTemplate(t)),
             this.onStatusChange(),
             this.model.on("change:level", this.onLevelChange, this).on("change:avatarID", this.onAvatarChange, this).on("change:status", this.onStatusChange, this),
             this.$(".positive").on("click", e.bind(this.onPositive, this)),
             this.$(".negative").on("click", e.bind(this.onNegative, this)),
             this
         },
         getObj: function() {
             return {
                 username: this.model.get("username"),
                 avatarID: o.aviClass(this.model.get("avatarID")),
                 negative: h.userFriends.unfriend,
                 positive: h.userFriends.profile,
                 level: this.model.get("gRole") !== a.HOST ? this.model.get("level") : "∞",
                 levelLabel: h.userXP.level,
                 joined: o.convertUnixDateStringToMDY(this.model.get("joined"), h.userPanel.joined),
                 noProfile: this.model.get("level") < 5
             }
         },
         onPositive: function() {
             window.open("https://plug.dj/@/" + this.model.get("slug"), "_blank"),
             i.trigger("click:userProfile")
         },
         onNegative: function() {
             i.dispatch(new s(s.CONFIRM,h.alerts.unfriend,h.alerts.unfriendMessage.split("%NAME%").join(e.escape(this.model.get("username"))),e.bind(this.onConfirm, this))),
             i.trigger("click:removeFriend")
         },
         onConfirm: function() {
             i.dispatch(new n(n.UNFRIEND,this.model.get("id")))
         },
         onLevelChange: function() {
             this.$(".level .value").text(this.model.get("level"))
         },
         onAvatarChange: function() {
             this.$(".avi").removeClass().addClass("avi avi-" + o.aviClass(this.model.get("avatarID")))
         },
         onStatusChange: function() {
             var e = this.model.get("status");
             1 === e ? (e = "online",
             this.$el.removeClass("is-offline")) : (e = "offline",
             this.$el.addClass("is-offline")),
             this.$(".image").removeClass().addClass("image " + e)
         },
         remove: function() {
             this.model.off("change:level", this.onLevelChange, this).off("change:avatarID", this.onAvatarChange, this).off("change:status", this.onStatusChange, this),
             this.$(".positive").off(),
             this.$(".negative").off(),
             this._super()
         }
     });
     return c
 }),
 define("hbs!templates/user/friends/Search", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<i class="icon icon-search"></i>\n<input id="friends-search" type="text" maxlength="64" placeholder="' + l((a = t.userFriends,
         a = null == a || a === !1 ? a : a.search,
         typeof a === r ? a.apply(t) : a)) + '"/>\n'
     });
     return t.registerPartial("templates_user_friends_Search", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/aa669/e9647", ["f1e1d/fce39/d7d58", "f1e1d/e74c9/c572a/c4444", "hbs!templates/user/friends/Search"], function(e, t, i) {
     var s = t.extend({
         template: i,
         onKeyUp: function(t) {
             var i;
             if (!t)
                 return !0;
             if (i = t.which || t.keyCode,
             27 === i)
                 this.searchInput.value = "";
             else if (13 === i)
                 return t.preventDefault(),
                 !1;
             return e.setFilter(this.searchInput.value.toLowerCase()),
             !0
         }
     });
     return s
 }),
 define("f1e1d/e74c9/b14c6/aa669/ceb85", ["underscore", "backbone"], function(e, t) {
     var i = t.View.extend({
         collection: void 0,
         RowClass: void 0,
         initialize: function() {
             this.rows = [],
             this.$list = $("<div/>").addClass("list"),
             this.drawBind = e.bind(this.drawRow, this)
         },
         render: function() {
             return this.$el.append($("<div/>").addClass("box").append(this.$list)),
             this.$(".box").jScrollPane(),
             this.scrollPane = this.$(".box").data("jsp"),
             this.collection.on("reset remove", this.draw, this),
             this
         },
         clear: function() {
             for (var e = this.rows.length; e--; )
                 this.rows[e].destroy();
             return this.rows.length = 0,
             this.$list.empty(),
             this.scrollPane && this.scrollPane.reinitialise(),
             this
         },
         draw: function() {
             this.clear(),
             this.collection.each(this.drawBind),
             this.trigger("redraw")
         },
         drawRow: function(e) {
             var t = new this.RowClass({
                 model: e
             });
             this.$list.append(t.$el),
             this.rows.push(t),
             t.render()
         },
         onResize: function(e, t) {
             this.$(".box").height(t - this.$(".box").offset().top),
             e < 935 ? (this.$(".row .meta").width(this.$el.width() - 245),
             this.$list.height(124 * this.collection.length)) : (this.$(".row .meta").width(this.$el.width() / 2 - 245),
             this.$list.height(124 * Math.ceil(this.collection.length / 2))),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         remove: function() {
             this.collection.off("reset remove", this.draw, this),
             this.clear(),
             this.collection = void 0,
             delete this.collection,
             this.rows = void 0,
             delete this.rows,
             this.$list = void 0,
             delete this.$list,
             this.scrollPane && (this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane),
             this._super()
         }
     });
     return i
 }),
 define("hbs!templates/user/friends/Count", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="count-box">\n    <i class="icon icon-users-white"></i>\n    <span class="count"></span>\n    <span class="total">/',
         (a = i.limit) ? a = a.call(t, {
             hash: {}
         }) : (a = t.limit,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>\n</div>"
     });
     return t.registerPartial("templates_user_friends_Count", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/aa669/f45b7", ["f1e1d/fce39/d7d58", "f1e1d/fce39/cd5cd", "f1e1d/e74c9/b14c6/aa669/d6175", "f1e1d/e74c9/b14c6/aa669/e9647", "f1e1d/e74c9/b14c6/aa669/ceb85", "hbs!templates/user/friends/Count"], function(e, t, i, s, n, a) {
     var o = n.extend({
         className: "all section",
         collection: e,
         RowClass: i,
         initialize: function() {
             this.countBind = _.bind(this.onCountChange, this),
             this.search = new s,
             this._super()
         },
         render: function() {
             return this.$container = $("<div/>").addClass("search-box"),
             this.$el.append(a({
                 limit: t.MAX
             })).append(this.$container.append(this.search.$el)),
             this._super(),
             this.search.render(),
             e.setFilter(""),
             t.on("reset add remove", this.countBind),
             this.onCountChange(),
             this
         },
         onCountChange: function() {
             this.$(".count-box .count").text(t.length),
             this.$(".count-box .total").text("/" + t.MAX),
             this.$container.width(this.$el.width() - this.$(".count-box").width() - 13)
         },
         onResize: function(e, t) {
             this._super(e, t),
             this.$container.width(this.$el.width() - this.$(".count-box").width() - 13)
         },
         remove: function() {
             this.collection.off("reset", this.draw, this),
             t.off("reset add remove", this.countBind),
             this.countBind = void 0,
             delete this.countBind,
             e.setFilter(""),
             this.search && (this.search.destroy(),
             this.search = void 0,
             delete this.search),
             this.$container && (this.$container.remove(),
             this.$container = void 0,
             delete this.$container),
             this._super()
         }
     });
     return o
 }),
 define("hbs!templates/user/friends/UserRequestButtons", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="buttons">\n    <button class="positive"><i class="icon icon-check-white"></i>',
         (a = i.positive) ? a = a.call(t, {
             hash: {}
         }) : (a = t.positive,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</button>\n    <button class="negative"><i class="icon icon-x-white"></i>',
         (a = i.negative) ? a = a.call(t, {
             hash: {}
         }) : (a = t.negative,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</button>\n</div>"
     });
     return t.registerPartial("templates_user_friends_UserRequestButtons", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/aa669/ef3ef", ["f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/e8300/ca0ca", "f1e1d/e74c9/b14c6/aa669/d6175", "hbs!templates/user/friends/UserRequestButtons", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = s.extend({
         buttonTemplate: n,
         getObj: function() {
             var e = this._super();
             return e.positive = a.userFriends.accept,
             e.negative = a.userFriends.ignore,
             e.noProfile = !1,
             e
         },
         onPositive: function() {
             e.dispatch(new i(i.ACCEPT,this.model.get("id")))
         },
         onNegative: function() {
             e.dispatch(new t(t.CONFIRM,a.alerts.ignoreRequestConfirm,a.alerts.ignoreRequestMessage.split("%NAME%").join(_.escape(this.model.get("username"))),_.bind(this.onConfirm, this)))
         },
         onConfirm: function() {
             e.dispatch(new i(i.IGNORE,this.model.get("id")))
         }
     });
     return o
 }),
 define("f1e1d/e74c9/b14c6/aa669/a9c67", ["f1e1d/fce39/ac151", "f1e1d/e74c9/b14c6/aa669/ef3ef", "f1e1d/e74c9/b14c6/aa669/ceb85"], function(e, t, i) {
     var s = i.extend({
         className: "requests section",
         collection: e,
         RowClass: t,
         render: function() {
             this._super(),
             this.draw()
         }
     });
     return s
 }),
 define("hbs!templates/user/friends/TabMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<button class="all selected">' + l((a = t.userFriends,
         a = null == a || a === !1 ? a : a.all,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<button class="requests">' + l((a = t.userFriends,
         a = null == a || a === !1 ? a : a.requests,
         typeof a === r ? a.apply(t) : a)) + '<span class="count"></span></button>'
     });
     return t.registerPartial("templates_user_friends_TabMenu", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/aa669/f611f", ["underscore", "backbone", "f1e1d/fce39/ac151", "f1e1d/af752/e7b9f", "hbs!templates/user/friends/TabMenu", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = t.View.extend({
         className: "tab-menu",
         render: function() {
             return this.$el.html(n(a)),
             this.$("button").on("click", e.bind(this.onClick, this)),
             i.on("reset remove", this.onUpdate, this),
             this.onUpdate(),
             this
         },
         onClick: function(e) {
             var t = $(e.target);
             t.hasClass("selected") || (this.$("button").removeClass("selected"),
             t.addClass("selected"),
             t.hasClass("all") ? (this.trigger("select", "all"),
             s.pushState("View:friends", "#friends")) : t.hasClass("requests") && (this.trigger("select", "requests"),
             s.pushState("View:friends", "#friends-requests")))
         },
         onUpdate: function() {
             i.length > 0 ? this.$el.addClass("has-requests") : this.$el.removeClass("has-requests"),
             this.$("button.requests .count").text(i.length)
         },
         select: function(e) {
             this.$("button").removeClass("selected"),
             this.$("button." + e).addClass("selected"),
             this.trigger("select", e)
         },
         remove: function() {
             i.off("reset remove", this.onUpdate, this),
             this.$("button").off(),
             this._super()
         }
     });
     return o
 }),
 define("hbs!templates/user/friends/friendsTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-top banner--desktop" id="plugdj_friends_top">\n    <div id="div-gpt-ad-1523297134334-7"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_friends_friendsTopBanner", i),
     i
 });
 define("hbs!templates/user/friends/friendsBottomBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-bottom banner--desktop" id="plugdj_friends_bottom">\n    <div id="div-gpt-ad-1523297134334-6"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_friends_friendsBottomBanner", i),
     i
 });
 define("f1e1d/e74c9/b14c6/aa669/c2787", ["f1e1d/e74c9/b14c6/b762a", "f1e1d/e74c9/b14c6/aa669/f45b7", "f1e1d/e74c9/b14c6/aa669/a9c67", "f1e1d/e74c9/b14c6/aa669/f611f", "hbs!templates/user/friends/friendsTopBanner", "hbs!templates/user/friends/friendsBottomBanner"], function(e, t, i, s, n, a) {
     var o = e.extend({
         id: "user-friends",
         className: "user-content friends",
         defaultTab: "all",
         initialize: function() {
             this.topBanner = n,
             this.bottomBanner = a
         },
         getMenu: function() {
             return new s
         },
         getView: function(e) {
             return "requests" === e ? new i : new t
         }
     });
     return o
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/bda78", ["f1e1d/d8478/e70c0", "f1e1d/e74c9/d9fb2/ead2a/e9def/f5e8a"], function(e, t) {
     var i = t.extend({
         getName: function() {
             return e.get("slug") !== this.model.get("room").slug ? this.model.get("room").name : e.get("name")
         },
         onRowEnter: function(e) {},
         onRowLeave: function(e) {},
         onRowPress: function(e) {
             e.preventDefault(),
             e.stopImmediatePropagation(),
             2 !== e.which && this.trigger("press", {
                 event: e,
                 row: this
             })
         },
         onRowRelease: function(e) {
             return 2 === e.which ? (e.preventDefault(),
             void e.stopImmediatePropagation()) : void this.trigger("release", {
                 event: e,
                 row: this
             })
         }
     });
     return i
 }),
 define("f1e1d/e74c9/d9fb2/ead2a/e9def/bc0b8", ["f1e1d/fce39/a3eb6", "f1e1d/e74c9/d9fb2/ead2a/e9def/aec63", "f1e1d/e74c9/d9fb2/ead2a/e9def/da623", "f1e1d/e74c9/d9fb2/ead2a/e9def/bda78"], function(e, t, i, s) {
     var n = i.extend({
         collection: e,
         RowClass: s,
         getSelectedRows: function() {},
         selectMultipleRows: function(e, t) {},
         updateSelectedRows: function() {},
         toggleRow: function(e) {}
     });
     return n
 }),
 define("hbs!templates/user/history/historyTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-top banner--desktop" id="plugdj_history_top">\n    <div id="div-gpt-ad-1523297134334-17"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_history_historyTopBanner", i),
     i
 }),
 define("hbs!templates/user/history/historyBottomBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-bottom banner--desktop" id="plugdj_history_bottom">\n    <div id="div-gpt-ad-1523297134334-16"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_history_historyBottomBanner", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/f1756/d4c2c", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/a3eb6", "f1e1d/e8300/da675", "f1e1d/d8478/b5029", "f1e1d/e74c9/d9fb2/ead2a/e9def/bc0b8", "hbs!templates/user/history/historyTopBanner", "hbs!templates/user/history/historyBottomBanner"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = i.View.extend({
         id: "user-history",
         className: "user-content",
         initialize: function() {
             this.elapsedBind = t.bind(this.onElapsed, this),
             s.dispatch(new a(a.USER))
         },
         render: function() {
             return this.list = new r,
             this.$el.append(l()).append(this.list.$el),
             this.list.render(),
             o.on("change:elapsed", this.elapsedBind),
             s.trigger("user_content:select", {
                 master: this.id,
                 section: void 0
             }),
             this
         },
         onResize: function(e) {},
         onElapsed: function() {
             if (n.length > 0 && o.get("historyID") === n.at(0).get("id") && this.list && this.list.rows.length)
                 for (var e = this.list.rows.length; e--; )
                     this.list.rows[e].updateTime()
         },
         remove: function() {
             o.off("change:elapsed", this.elapsedBind),
             this.elapsedBind = void 0,
             delete this.elapsedBind,
             this.list.destroy(),
             this.list = void 0,
             delete this.list,
             this._super()
         }
     });
     return c
 }),
 define("f1e1d/e74c9/b14c6/cc52f/e1e2b", ["jquery", "underscore", "backbone"], function(e, t, i) {
     var s = i.View.extend({
         id: "user-profile",
         className: "user-content profile",
         initialize: function() {},
         render: function() {
             return this
         },
         remove: function() {
             this._super()
         }
     });
     return s
 }),
 define("f1e1d/be642/b546d/b5b28", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "auth/reset/me"
     });
     return t
 }),
 define("hbs!templates/user/settings/LanguageDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<dt><span></span><i id="down" class="fa fa-angle-down"></i><i class="fa fa-angle-up" id="up"></i></dt>\n<dd>\n    <div class="row" data-value="bg"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.bg,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="bs"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.bs,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="cs"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.cs,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="da"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.da,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="de"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.de,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="en"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.en,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="pi"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.pi,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="es"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.es,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="fi"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.fi,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="fr"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.fr,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="hr"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.hr,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="hu"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.hu,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="it"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.it,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="ja"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.ja,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="ko"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.ko,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="lt"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.lt,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="lv"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="ms"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.ms,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="nl"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.nl,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="no"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.no,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="pl"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.pl,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="pt"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.pt,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="ru"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.ru,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="sk"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.sk,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="sl"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.sl,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="sr"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.sr,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="sv"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.sv,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="th"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.th,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="tr"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.tr,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="zh"><span>' + l((a = t.languages,
         a = null == a || a === !1 ? a : a.zh,
         typeof a === r ? a.apply(t) : a)) + "</span></div>\n</dd>"
     });
     return t.registerPartial("templates_user_settings_LanguageDropDown", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/ff2dd/a67d4", ["jquery", "underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "hbs!templates/user/settings/LanguageDropDown", "lang/Lang"], function(e, t, i, s, n, a, o) {
     function r() {
         if ("en" === s.get("language") && !l) {
             for (var e in o.languages)
                 2 === e.length && (o.languages[e] = o.languages[e].split(" (").shift());
             l = !0
         }
     }
     var l, h = i.View.extend({
         className: "dropdown",
         id: "dropdownLanguages",
         tagName: "dl",
         initialize: function() {
             this.docBind = t.bind(this.onDocClick, this)
         },
         render: function() {
             return r(),
             this.$el.html(a(o)),
             this.$("dt").on("click", t.bind(this.onBaseClick, this)),
             this.$(".row").on("click", t.bind(this.onRowClick, this)),
             this.$("dt span").text(o.languages[s.get("language")]),
             this.$('[data-value="' + s.get("language") + '"]').addClass("selected"),
             this
         },
         onBaseClick: function() {
             if (this.$el.hasClass("open"))
                 this.$el.removeClass("open"),
                 e(document).off("click", this.docBind);
             else {
                 this.$el.addClass("open");
                 var i = this;
                 t.defer(function() {
                     e(document).on("click", i.docBind)
                 })
             }
         },
         onRowClick: function(t) {
             var i = e(t.target).closest(".row");
             this.$(".row").removeClass("selected"),
             i.addClass("selected"),
             this.$el.removeClass("open"),
             this.$("dt span").text(o.languages[i.data("value")]),
             this.trigger("select", i.data("value"))
         },
         onDocClick: function() {
             var i = this;
             t.defer(function() {
                 i.$el.removeClass("open"),
                 e(document).off("click", i.docBind)
             })
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", this.docBind),
             this.docBind = void 0,
             delete this.docBind,
             this._super()
         }
     });
     return h
 }),
 define("hbs!templates/user/settings/SettingsAccount", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="container">\n    <div class="left"></div>\n    <div class="right"></div>\n</div>'
     });
     return t.registerPartial("templates_user_settings_SettingsAccount", i),
     i
 }),
 define("hbs!templates/user/settings/ManageSubscription", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<label class="subscribe-label">' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.subscription,
         typeof a === r ? a.apply(t) : a)) + '</label>\n<a href="/subscribe" target="/blank"><div class="subscribe-button"><i class="plugdjfont icon-user-crown" aria-hidden="true"></i><span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.manageSubscription,
         typeof a === r ? a.apply(t) : a)) + "</span></div></a>"
     });
     return t.registerPartial("templates_user_settings_ManageSubscription", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/ff2dd/b4654", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/d8478/b885e", "f1e1d/be642/b546d/a3157", "f1e1d/be642/b546d/b5b28", "f1e1d/be642/c76df/c5348", "f1e1d/e74c9/b14c6/ff2dd/a67d4", "hbs!templates/user/settings/SettingsAccount", "hbs!templates/user/settings/ManageSubscription", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = i.View.extend({
         className: "account section",
         initialize: function() {
             this.dropDown = new h
         },
         render: function() {
             this.$el.empty(),
             this.$el.append(c(d)),
             this.$(".left").append(e("<label/>").text(d.languages.label)).append(this.dropDown.$el).append(e("<span/>").addClass("refresh").text(d.languages.refresh)),
             this.dropDown.render().on("select", this.onSelect, this);
             var i = this.$(".right");
             return a.get("pw") === !0 && (i = this.$(".left"),
             this.$(".right").append(e("<label/>").text(d.userSettings.password)).append(e("<button/>").text(d.userSettings.resetPassword)),
             this.$("button").on("click", t.bind(this.onClick, this))),
             a.get("sub") > 0 && i.append(p(d)),
             this
         },
         onSelect: function(e) {
             new l(e)
         },
         onClick: function() {
             s.dispatch(new n(n.CONFIRM,d.userSettings.resetPassword,d.userSettings.resetPasswordMessage,t.bind(this.onReset, this)))
         },
         onReset: function() {
             (new r).on("success", function() {
                 (new o).on("success", function() {
                     window.location.href = "/password-reset-sent"
                 })
             })
         },
         onResize: function() {},
         remove: function() {
             this.dropDown.destroy(),
             this.dropDown = void 0,
             delete this.dropDown,
             this.$("button").off(),
             this._super()
         }
     });
     return u
 }),
 define("hbs!templates/user/settings/SettingsApplication", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="container">\n    <div class="header"><span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.performance,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="left">\n        <div class="item s-dancing">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.dancing,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n        <div class="item s-fao">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.friendAvatarsOnly,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </div>\n    <div class="right">\n        <div class="cap">\n            <span class="title">' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.avatarCap,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="value"></span>\n            <div class="counts">\n                <span class="count">1</span>\n                <span class="count">100</span>\n                <span class="count">200</span>\n                <span class="stretch"></span>\n            </div>\n            <div class="slider">\n                <div class="bar"></div>\n                <div class="circle"></div>\n                <div class="hit"></div>\n            </div>\n        </div>\n    </div>\n    <div class="header"><span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.behavior,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="left">\n        <div class="item s-vo">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.videoOnly,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n        <div class="item s-av">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.audioVideo,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n       \n    </div>\n    <div class="right">\n        <!--<div class="item s-tt">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.tooltips,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>-->\n         <div class="item s-nsfw">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.nsfw,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n        <div class="item s-ci">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.chatImages,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </div>\n    <div class="header"><span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.notifications,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="left">\n        <div class="item s-dj">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.djAnnouncements,
         typeof a === r ? a.apply(t) : a)) + '</span>\n        </div>\n    </div>\n    <div class="right">\n        <div class="item s-score">\n            <i class="icon icon-check-blue"></i>\n            <span>' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.score,
         typeof a === r ? a.apply(t) : a)) + "</span>\n        </div>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_user_settings_SettingsApplication", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/ff2dd/f9d51", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/e8300/a815f", "f1e1d/d8478/b5029", "f1e1d/be642/c76df/f0991", "f1e1d/d9232/b42c1", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "hbs!templates/user/settings/SettingsApplication", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = i.View.extend({
         className: "application section",
         initialize: function() {
             this.itemBind = t.bind(this.onItemClick, this),
             this.startBind = t.bind(this.onStart, this),
             this.moveBind = t.bind(this.onUpdate, this),
             this.stopBind = t.bind(this.onStop, this)
         },
         render: function() {
             return this.$el.html(c(p)),
             this.$(".item").on("click", this.itemBind),
             this.$hit = this.$(".hit").on("mousedown", this.startBind),
             this.$circle = this.$(".circle"),
             this.$(".cap .value").text(r.settings.avatarcap),
             t.defer(t.bind(this.draw, this)),
             this
         },
         draw: function() {
             this.max = this.$hit.width() - this.$circle.width(),
             this.$circle.css("left", parseInt(this.$hit.css("left")) + this.max * (r.settings.avatarcap / 200) - this.$circle.width() / 2),
             this.update()
         },
         onStart: function(t) {
             return this.currentCap = r.settings.avatarcap,
             this.min = this.$hit.offset().left,
             e(document).on("mouseup", this.stopBind).on("mousemove", this.moveBind),
             this.onUpdate(t)
         },
         onUpdate: function(e) {
             var t = Math.max(0, Math.min(1, (e.pageX - this.min) / this.max));
             this.$circle.css("left", parseInt(this.$hit.css("left")) + this.max * t - this.$circle.width() / 2);
             var i = Math.max(1, ~~(200 * t));
             return i !== this.currentCap && this.$(".cap .value").text(i),
             this.currentCap = i,
             e.preventDefault(),
             e.stopPropagation(),
             !1
         },
         onStop: function(t) {
             return e(document).off("mouseup", this.stopBind).off("mousemove", this.moveBind),
             r.settings.avatarcap = this.currentCap,
             r.save(),
             s.trigger("audience:draw"),
             t.preventDefault(),
             t.stopPropagation(),
             this.currentCap = void 0,
             !1
         },
         onItemClick: function(i) {
             var a = e(i.target);
             (a.is("i") || a.is("span")) && (a = a.parent()),
             a.hasClass("s-dancing") ? (r.settings.dancing = !r.settings.dancing,
             s.trigger("audience:stop")) : a.hasClass("s-fao") ? (r.settings.friendAvatarsOnly = !r.settings.friendAvatarsOnly,
             new o({
                 friendAvatarsOnly: r.settings.friendAvatarsOnly
             }),
             s.trigger("audience:draw")) : a.hasClass("s-bg") ? (r.settings.bgAnim = !r.settings.bgAnim,
             s.dispatch(new n(n.ALERT,p.alerts.settingsRefreshTitle,p.alerts.settingsRefreshMessage,t.bind(h.forceRefresh, h),!0))) : a.hasClass("s-vo") ? (r.settings.videoOnly = !r.settings.videoOnly,
             new o({
                 videoOnly: r.settings.videoOnly
             }),
             s.trigger("change:videoOnly")) : a.hasClass("s-av") ? (r.settings.streamDisabled = !r.settings.streamDisabled,
             s.trigger("change:streamDisabled")) : a.hasClass("s-dj") ? (r.settings.notifyDJ = !r.settings.notifyDJ,
             new o({
                 notifyDJ: r.settings.notifyDJ
             })) : a.hasClass("s-score") ? (r.settings.notifyScore = !r.settings.notifyScore,
             new o({
                 notifyScore: r.settings.notifyScore
             })) : a.hasClass("s-tt") ? (r.settings.tooltips = !r.settings.tooltips,
             new o({
                 tooltips: r.settings.tooltips
             }),
             s.trigger("settings:tooltip", r.settings.tooltips)) : a.hasClass("s-ci") ? (r.settings.chatImages = !r.settings.chatImages,
             new o({
                 chatImages: r.settings.chatImages
             })) : a.hasClass("s-nsfw") && (r.settings.nsfw = !r.settings.nsfw,
             new o({
                 nsfw: r.settings.nsfw
             })),
             r.save(),
             this.update()
         },
         update: function() {
             this.$(".item").removeClass("selected"),
             r.settings.dancing && this.$(".s-dancing").addClass("selected"),
             r.settings.bgAnim && this.$(".s-bg").addClass("selected"),
             r.settings.streamDisabled || this.$(".s-av").addClass("selected"),
             r.settings.notifyDJ && this.$(".s-dj").addClass("selected"),
             r.settings.notifyScore && this.$(".s-score").addClass("selected"),
             r.settings.tooltips && this.$(".s-tt").addClass("selected"),
             r.settings.videoOnly && this.$(".s-vo").addClass("selected"),
             r.settings.chatImages && this.$(".s-ci").addClass("selected"),
             r.settings.nsfw && this.$(".s-nsfw").addClass("selected"),
             r.settings.friendAvatarsOnly && this.$(".s-fao").addClass("selected")
         },
         onResize: function(e, t) {},
         remove: function() {
             e(document).off("mouseup", this.stopBind).off("mousemove", this.moveBind),
             this.$(".item").off(),
             this.$(".hit").off(),
             this.$circle = void 0,
             delete this.$circle,
             this.$hit = void 0,
             delete this.$hit,
             delete this.max,
             this.$circle = void 0,
             delete this.$circle,
             this.itemBind = void 0,
             this.startBind = void 0,
             this.moveBind = void 0,
             this.stopBind = void 0,
             delete this.itemBind,
             delete this.startBind,
             delete this.moveBind,
             delete this.stopBind,
             this.currentCap = void 0,
             this.min = void 0,
             delete this.currentCap,
             delete this.min,
             this._super()
         }
     });
     return d
 }),
 define("hbs!templates/user/settings/SettingsMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<button class="application selected">' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.application,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<button class="account">' + l((a = t.userSettings,
         a = null == a || a === !1 ? a : a.account,
         typeof a === r ? a.apply(t) : a)) + "</button>"
     });
     return t.registerPartial("templates_user_settings_SettingsMenu", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/ff2dd/eb097", ["jquery", "underscore", "backbone", "f1e1d/af752/e7b9f", "hbs!templates/user/settings/SettingsMenu", "lang/Lang"], function(e, t, i, s, n, a) {
     var o = i.View.extend({
         className: "tab-menu",
         render: function() {
             return this.$el.html(n(a)),
             this.$("button").on("click", t.bind(this.onClick, this)),
             this
         },
         onClick: function(t) {
             var i = e(t.target);
             i.hasClass("selected") || (this.$("button").removeClass("selected"),
             i.addClass("selected"),
             i.hasClass("application") ? (this.trigger("select", "application"),
             s.pushState("View:settings", "#settings")) : i.hasClass("account") && (this.trigger("select", "account"),
             s.pushState("View:settings-account", "#settings-account")))
         },
         select: function(e) {
             this.$("button").removeClass("selected"),
             this.$("button." + e).addClass("selected"),
             this.trigger("select", e)
         },
         remove: function() {
             this.$("button").off(),
             this._super()
         }
     });
     return o
 }),
 define("hbs!templates/user/settings/SettingsTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-top banner--desktop" id="plugdj_settings_top">\n\t<div id="div-gpt-ad-1523297134334-19"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_settings_SettingsTopBanner", i),
     i
 }),
 define("hbs!templates/user/settings/SettingsBottomBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-bottom banner--desktop" id="plugdj_settings_bottom">\n\t<div id="div-gpt-ad-1523297134334-18"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_settings_SettingsBottomBanner", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/ff2dd/ee6cb", ["f1e1d/e74c9/b14c6/b762a", "f1e1d/e74c9/b14c6/ff2dd/b4654", "f1e1d/e74c9/b14c6/ff2dd/f9d51", "f1e1d/e74c9/b14c6/ff2dd/eb097", "hbs!templates/user/settings/SettingsTopBanner", "hbs!templates/user/settings/SettingsBottomBanner"], function(e, t, i, s, n, a) {
     var o = e.extend({
         id: "user-settings",
         className: "user-content settings",
         defaultTab: "application",
         initialize: function() {
             this.topBanner = n,
             this.bottomBanner = a
         },
         getMenu: function() {
             return new s
         },
         getView: function(e) {
             return "account" === e ? new t : new i
         }
     });
     return o
 }),
 define("hbs!templates/signup/Username", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="container empty">\n    <input insp-form-input-id="signup-username" type="text" maxlength="24" placeholder="' + l((a = t.signup,
         a = null == a || a === !1 ? a : a.username,
         typeof a === r ? a.apply(t) : a)) + '"/>\n    <div class="url">https://plug.dj/@/</div>\n</div>'
     });
     return t.registerPartial("templates_signup_Username", i),
     i
 }),
 define("f1e1d/e74c9/fe2bb/c44ed", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/be642/c76df/ca4ff", "f1e1d/af752/e504b", "f1e1d/e74c9/a6e51/f2220", "hbs!templates/signup/Username", "lang/Lang"], function(e, t, i, s, n, a, o, r, l) {
     var h, c, p = i.View.extend({
         className: "username",
         initialize: function() {
             this.checkBind = t.bind(this.checkAvailability, this),
             this.successBind = t.bind(this.onSuccess, this),
             this.errorBind = t.bind(this.onError, this),
             this.onInputBind = t.bind(this.onChange, this),
             this.onKeyDownBind = t.bind(this.onKeyDown, this)
         },
         render: function() {
             return this.$el.append(r(l)),
             this.$input = this.$("input").on("keydown", this.onKeyDownBind).on("input", this.onInputBind),
             this.tooltip = "",
             this.$url = this.$(".url"),
             this.$container = this.$(".container").on("mouseenter", t.bind(this.onEnter, this)).on("mouseleave", t.bind(this.onLeave, this)),
             window._un && (this.$input[0].value = window._un,
             t.delay(this.checkBind, 100)),
             this
         },
         onKeyDown: function(e) {
             var t;
             return e && (t = e.which || e.keyCode),
             13 !== t && 27 !== t || (27 === t && (this.$input[0].value = ""),
             e.preventDefault(),
             e.stopImmediatePropagation(),
             !1)
         },
         onChange: function(e) {
             return !e || (this.checkValidity() && (this.trigger("username", void 0),
             h && clearTimeout(h),
             h = t.delay(this.checkBind, 500)),
             !0)
         },
         checkValidity: function() {
             var e = this.$input[0].value;
             return e.length > 1 && e.length < 25 && e.indexOf("/") === -1 ? (this.setTooltip(l.signup.checking),
             this.$container.removeClass().addClass("container checking"),
             this.updateURL("https://plug.dj/@/"),
             this.spinner || this.showSpinner(),
             !0) : (this.$container.removeClass().addClass("container unavailable"),
             0 === e.length ? (this.$container.removeClass().addClass("container empty"),
             this.setTooltip(""),
             this.onLeave()) : e.length < 2 ? this.setTooltip(l.signup.tooShort) : this.setTooltip(l.signup.invalid),
             this.updateURL("https://plug.dj/@/"),
             this.trigger("username", void 0),
             this.hideSpinner(),
             !1)
         },
         checkAvailability: function() {
             clearTimeout(h);
             var e = this.$input[0].value;
             e !== this.lastUsername ? (this.lastUsername = e,
             this.checkValidity() && new n(e).on("success", this.successBind).on("error", this.errorBind)) : c && (this.hideSpinner(),
             this.setTooltip(c.status),
             this.updateURL("https://plug.dj/@/" + c.slug),
             c.available ? this.$container.removeClass().addClass("container available") : this.$container.removeClass().addClass("container unavailable"))
         },
         onSuccess: function(e) {
             c = {
                 status: l.signup.available,
                 slug: e.slug,
                 available: !0
             },
             this.hideSpinner(),
             this.setTooltip(c.status),
             this.updateURL("https://plug.dj/@/" + e.slug),
             this.$container.removeClass().addClass("container available"),
             this.trigger("username", this.lastUsername)
         },
         onError: function(e) {
             c = {
                 status: 403 === e ? l.signup.unavailable : l.signup.invalid,
                 slug: "",
                 available: !1
             },
             this.hideSpinner(),
             this.setTooltip(c.status),
             this.$container.removeClass().addClass("container unavailable"),
             this.updateURL("https://plug.dj/@/"),
             this.trigger("username", void 0)
         },
         showSpinner: function() {
             this.hideSpinner(),
             this.checking = !0,
             this.spinner = new o({
                 size: o.SMALL
             }),
             this.$(".container").append(this.spinner.$el),
             this.spinner.render()
         },
         hideSpinner: function() {
             this.checking = !1,
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner)
         },
         setTooltip: function(e) {
             this.tooltip = e,
             this.onEnter()
         },
         updateURL: function(e) {
             this.$url.text(e)
         },
         onEnter: function() {
             if (this.tooltip && 0 !== this.$input[0].value.length) {
                 var e;
                 e = this.tooltip === l.signup.available ? "green" : this.tooltip === l.signup.checking ? void 0 : "orange",
                 s.trigger("tooltip:show", this.tooltip, this.$input, !1, !0, e)
             }
         },
         onLeave: function() {
             s.trigger("tooltip:hide")
         },
         remove: function() {
             this.onLeave(),
             c = void 0,
             this.$container.off(),
             this.$container = void 0,
             delete this.$container,
             this.$input.off(),
             this.$input = void 0,
             delete this.$input,
             this.$status = void 0,
             delete this.$status,
             this.$url = void 0,
             delete this.$url,
             this.$container = void 0,
             delete this.$container,
             this.lastUsername = void 0,
             delete this.lastUsername,
             this.checkBind = void 0,
             this.successBind = void 0,
             this.errorBind = void 0,
             this.onInputBind = void 0,
             this.onKeyDownBind = void 0,
             delete this.checkBind,
             delete this.successBind,
             delete this.errorBind,
             delete this.onInputBind,
             delete this.onKeyDownBind,
             this.checking = void 0,
             delete this.checking,
             this.hideSpinner(),
             this._super()
         }
     });
     return p
 }),
 define("f1e1d/e74c9/c00f1/f8124", ["underscore", "f1e1d/e74c9/fe2bb/c44ed", "hbs!templates/signup/Username", "lang/Lang"], function(e, t, i, s) {
     var n = t.extend({
         className: "username-box",
         render: function() {
             return this.$el.html(i(s)),
             this.$input = this.$("input").on("keydown", this.onKeyDownBind).on("input", this.onInputBind).on("focus", e.bind(this.onFocus, this)).on("blur", e.bind(this.onBlur, this)),
             this.tooltip = "",
             this.$url = this.$(".url"),
             this.$container = this.$(".container").on("mouseenter", e.bind(this.onEnter, this)).on("mouseleave", e.bind(this.onLeave, this)),
             this
         },
         onFocus: function() {
             this.$input.addClass("focused")
         },
         onBlur: function() {
             this.$input.removeClass("focused")
         }
     });
     return n
 }),
 define("hbs!templates/dialogs/DialogPurchase", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '\n    <div class="avatar-box"><img src="',
             (s = i.avatar) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.avatar,
             s = typeof s === f ? s.apply(e) : s),
             (s || 0 === s) && (n += s),
             n += '"/></div>\n    '
         }
         function o(e, t) {
             var s, n = "";
             return n += '\n        <div class="background-box"><img src="',
             (s = i.background) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.background,
             s = typeof s === f ? s.apply(e) : s),
             (s || 0 === s) && (n += s),
             n += '"/></div>\n    '
         }
         function r(e, t) {
             var s, n = "";
             return n += '\n    <i class="large bdg bdg-',
             (s = i.badge) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.badge,
             s = typeof s === f ? s.apply(e) : s),
             (s || 0 === s) && (n += s),
             n += '"></i>\n    '
         }
         function l(e, t) {
             var s, n = "";
             return n += '\n<div class="right">\n    <div class="unlock-type">\n        <i class="icon icon-pp-small"></i>\n        <span>',
             (s = i.pp) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.pp,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</span>\n    </div>\n    <div class="cur">\n        <span class="label">',
             (s = i.curLabel) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.curLabel,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</span>\n        <span class="value">',
             (s = i.cur) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.cur,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</span>\n    </div>\n    <div class="price">\n        <span class="label">',
             (s = i.priceLabel) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.priceLabel,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</span>\n        <span class="value">- ',
             (s = i.price) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.price,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</span>\n    </div>\n    <div class="divider"></div>\n    <div class="balance">\n        <span class="label">',
             (s = i.balanceLabel) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.balanceLabel,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</span>\n        <span class="value">',
             (s = i.balance) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.balance,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + "</span>\n    </div>\n</div>\n"
         }
         function h(e, t) {
             var s, n = "";
             return n += '\n<div class="right cash">\n    <div class="name">',
             (s = i.name) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.name,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</div>\n    <div class="description">',
             (s = i.description) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.description,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</div>\n    <div class="info">\n        <span class="currency">',
             (s = i.currency) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.currency,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</span>\n        <span class="amount">',
             (s = i.cash) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.cash,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + "</span>\n    </div>\n</div>\n"
         }
         function c(e, t) {
             var s, n = "";
             return n += '\n    <div class="right cash">\n        <div class="name">',
             (s = i.name) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.name,
             s = typeof s === f ? s.apply(e) : s),
             n += m(s) + '</div>\n        <div class="description">Get this background! for free</div>\n    </div>\n'
         }
         function p(e, t) {
             return '\n<div class="right sub"></div>\n'
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var d, u = "", f = "function", m = this.escapeExpression, g = this;
         return u += '<div class="left">\n    ',
         d = i.if.call(t, t.avatar, {
             hash: {},
             inverse: g.noop,
             fn: g.program(1, a, n)
         }),
         (d || 0 === d) && (u += d),
         u += "\n    ",
         d = i.if.call(t, t.background, {
             hash: {},
             inverse: g.noop,
             fn: g.program(3, o, n)
         }),
         (d || 0 === d) && (u += d),
         u += "\n    ",
         d = i.if.call(t, t.badge, {
             hash: {},
             inverse: g.noop,
             fn: g.program(5, r, n)
         }),
         (d || 0 === d) && (u += d),
         u += "\n</div>\n",
         d = i.if.call(t, t.pp, {
             hash: {},
             inverse: g.noop,
             fn: g.program(7, l, n)
         }),
         (d || 0 === d) && (u += d),
         u += "\n",
         d = i.if.call(t, t.cash, {
             hash: {},
             inverse: g.noop,
             fn: g.program(9, h, n)
         }),
         (d || 0 === d) && (u += d),
         u += "\n",
         d = i.if.call(t, t.free, {
             hash: {},
             inverse: g.noop,
             fn: g.program(11, c, n)
         }),
         (d || 0 === d) && (u += d),
         u += "\n",
         d = i.if.call(t, t.sub, {
             hash: {},
             inverse: g.noop,
             fn: g.program(13, p, n)
         }),
         (d || 0 === d) && (u += d),
         u
     });
     return t.registerPartial("templates_dialogs_DialogPurchase", i),
     i
 }),
 define("hbs!templates/dialogs/DialogPreview", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="button preview">\n    <span>',
         (a = i.label) ? a = a.call(t, {
             hash: {}
         }) : (a = t.label,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</span>\n</div>"
     });
     return t.registerPartial("templates_dialogs_DialogPreview", i),
     i
 }),
 define("f1e1d/e74c9/c00f1/f3d1f", ["jquery", "underscore", "f1e1d/e718c/b7acd", "f1e1d/fce39/aa287", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/be642/c76df/ca4ff", "f1e1d/d9232/b42c1", "f1e1d/af752/b54a3", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/b182f", "f1e1d/e74c9/c00f1/f8124", "hbs!templates/dialogs/DialogPurchase", "hbs!templates/dialogs/DialogPreview", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g) {
     var v = e('<a href="/subscribe" target="_blank"/>')
       , b = e('<a href="/purchase" target="_blank"/>')
       , w = d.extend({
         id: "dialog-purchase",
         className: "dialog",
         events: {
             "click div.button.preview": "onPreview"
         },
         render: function() {
             this.$el.addClass(this.options.type);
             var e, i, n, o, r = this.model.get("pp"), h = this.model.get("sub"), d = this.model.get("cash");
             r > 0 && this.model.get("base") && !s.get("base" + this.model.get("name").match(/(\d[\d\.]*)/g).pop()) && (r += 870),
             h ? (n = !0,
             0 === r || r > a.get("pp") ? this.$el.addClass("sub-only") : (i = g.dialog.unlockWithPP,
             this.$el.addClass("pp-and-sub"))) : r > 0 && a.get("pp") - r > 0 && (i = g.dialog.unlockWithPP);
             var w = {
                 sub: n,
                 curLabel: g.dialog.yourPP,
                 cur: p.commafy(a.get("pp")),
                 priceLabel: g.dialog.price,
                 price: p.commafy(r),
                 balanceLabel: g.dialog.balance,
                 balance: p.commafy(a.get("pp") - r)
             };
             if ("backgrounds" === this.model.get("type") && (h || 0 !== r || 0 !== d || (w.free = 1),
             w.name = this.model.get("name"),
             w.background = 1),
             i && (w.pp = i),
             d > 0 && (this.model.get("name").indexOf("dragon") > -1 ? (w.name = g.userAvatars.dragon,
             w.description = "") : (w.name = g.purchase[this.model.get("name")],
             w.description = g.purchase[this.model.get("name") + "message"]),
             w.currency = "USD $",
             w.cash = d,
             i && this.$el.addClass("pp-and-sub"),
             this.$el.addClass("sub-only")),
             "avatar" === this.options.type ? (e = d > 0 ? g.dialog.unlockEpicAvatar : g.dialog.unlockAvatar,
             w.avatar = l.getAvatarUrl(this.model.get("name"), "b"),
             this.aviO = 0,
             this.aviW = 220,
             this.model.get("name").indexOf("dragon") > -1 && (this.aviO = -90,
             this.aviW = 440)) : "background" === this.options.type ? (e = "Unlock Background",
             w.background = this.model.getLink()) : "badge" === this.options.type ? (e = d > 0 ? g.dialog.unlockEpicBadge : g.dialog.unlockBadge,
             w.badge = p.badgeClass(this.model.get("name"))) : "username" === this.options.type && (e = g.dialog.usernameChange),
             o = i && !n ? this.getButtons(g.dialog.unlock, !0) : n && !i ? this.getButtons(g.subscribe.submit, !0) : d > 0 ? i ? this.getButtons(g.dialog.unlock, !0, g.subscribe.purchase) : this.getButtons(g.dialog.purchase, !0) : "backgrounds" === this.model.get("type") ? this.getButtons(g.dialog.unlock, !0) : this.getButtons(g.dialog.unlock, !0, g.subscribe.submit),
             this.$el.append(this.getHeader(e)).append(this.getBody().append(f(w))).append(o).addClass("no-submit"),
             "backgrounds" === this.model.get("type") && o.append(m({
                 label: "preview"
             })),
             "badge" === this.options.type && "blankb" === this.model.get("name") && this.$(".bdg").removeClass().addClass("no-badge"),
             n) {
                 i ? this.$(".button.submit.subscribe").parent().append(v.append(this.$(".button.submit.subscribe").off())) : this.$(".button.submit").addClass("subscribe").parent().append(v.append(this.$(".button.submit").off()));
                 var y = this.model.get("name");
                 v.on("click", function() {
                     c.actual("Subscribe", "Banner", y)
                 }),
                 a.on("change:sub", this.onChangeSub, this)
             } else if (d > 0) {
                 i ? this.$(".button.submit.subscribe").off().removeClass("subscribe").addClass("purchase").parent().append(b.append(this.$(".button.submit.purchase"))) : this.$(".button.submit").off().addClass("purchase").parent().append(b.append(this.$(".button.submit"))),
                 b.attr("href", "/purchase/" + this.model.get("id")),
                 ga("require", "ec");
                 var C = this;
                 ga("ec:addImpression", {
                     id: this.model.get("id"),
                     name: this.model.get("name"),
                     category: this.model.get("type"),
                     price: this.model.get("price")
                 }),
                 ga("ec:addProduct", {
                     id: this.model.get("id"),
                     name: this.model.get("name"),
                     category: this.model.get("type"),
                     price: this.model.get("price")
                 }),
                 ga("ec:setAction", "detail"),
                 c.actual("Purchase", "Detail", C.model.get("name")),
                 b.on("click", function() {
                     c.actual("Purchase", "Banner", C.model.get("name")),
                     C.close()
                 })
             }
             if (440 === this.aviW && this.$(".avatar-box").addClass("wide"),
             "username" !== this.options.type) {
                 if ("avatar" === this.options.type) {
                     var k = this.$img = this.$("img");
                     this.animate(0),
                     t.delay(t.bind(function() {
                         k.show()
                     }), 100)
                 }
                 t.delay(t.bind(this.allow, this), 1e3)
             } else
                 this.username = new u,
                 this.username.on("username", t.bind(this.onUsername, this)),
                 this.$(".left").append(this.username.$el),
                 this.username.render(),
                 t.defer(t.bind(this.deferFocus, this));
             return this._super()
         },
         onPreview: function() {
             this.trigger("PreviewOpen")
         },
         allow: function() {
             this.$el && this.$el.removeClass("no-submit")
         },
         animate: function(e) {
             this.options && "avatar" === this.options.type && (r.settings.dancing ? this.$img.css("left", this.aviO - (4 * this.aviW + this.aviW * e)) : this.$img.css("left", 0))
         },
         submit: function() {
             this.$el.hasClass("no-submit") || ("avatar" === this.options.type ? this.dispatch(new n(n.PURCHASE_AVATAR,this.model.get("category"),this.model.get("id"))) : "background" === this.options.type ? this.dispatch(new n(n.PURCHASE_BACKGROUND,this.model.get("category"),this.model.get("id"))) : "badge" === this.options.type ? this.dispatch(new n(n.PURCHASE_BADGE,this.model.get("category"),this.model.get("id"))) : "username" === this.options.type && this.dispatch(new n(n.PURCHASE_NAME,"misc",this.model.get("id"),this.un)),
             this.close())
         },
         deferFocus: function() {
             this.$el.find("input").focus()
         },
         onUsername: function(e) {
             this.un = e,
             e ? this.$el.removeClass("no-submit") : this.$el.addClass("no-submit")
         },
         cancel: function() {
             this.close()
         },
         onChangeSub: function() {
             this.close()
         },
         close: function() {
             a.off("change:sub", this.onChangeSub, this),
             v.off().empty(),
             b.off().empty(),
             this.aviW = void 0,
             delete this.aviW,
             this.aviO = void 0,
             delete this.aviO,
             this.model = void 0,
             delete this.model,
             this.username && (this.un = void 0,
             delete this.un,
             this.username.destroy(),
             this.username = void 0,
             delete this.username),
             this.$img && (this.$img.remove(),
             this.$img = void 0,
             delete this.$img),
             this._super()
         }
     });
     return w
 }),
 define("hbs!templates/user/store/Store", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="menu-points">\n    <div class="points pp">\n        <span class="value">0</span>\n        <i class="icon icon-pp-small"></i>\n    </div>\n    <span class="your-points">' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.yourPoints,
         typeof a === r ? a.apply(t) : a)) + '</span>\n</div>\n<div class="header">\n    <span class="status"></span>\n    <span class="notice"></span>\n</div>\n<div class="box">\n\t <div class="no-collections">\n        <h1>Congratulations!</h1>\n        <p></p>\n        <button class="cta small">CHECK THEM OUT!</button>\n    </div>\n    <div class="grid"></div>\n</div>'
     });
     return t.registerPartial("templates_user_store_Store", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/c4689", ["jquery", "underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "hbs!templates/user/store/Banner", "hbs!templates/user/store/Store", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = e(r(h))
       , p = i.View.extend({
         collection: void 0,
         initialize: function() {
             this.cells = []
         },
         render: function() {
             this.$el.append(l(h)),
             s.on("change:pp change:sub", this.onChange, this),
             this.onChange(),
             this.$(".box").jScrollPane(),
             this.scrollPane = this.$(".box").data("jsp"),
             this.collection.on("reset", this.onUpdate, this);
             var e = this;
             return t.delay(function() {
                 e.category || e.load()
             }, 50),
             this
         },
         load: function() {},
         showBanner: function() {
             c.off().remove(),
             s.get("sub") < 1 && c.on("click", function() {
                 a.actual("Subscribe", "Banner", "Shop")
             })
         },
         onResize: function(e, t) {
             this.$(".menu-points").width(e),
             this.$(".header").width(e),
             this.$(".box").height(t - this.$(".box").offset().top),
             this.scrollPane && this.scrollPane.reinitialise()
         },
         animate: function(e) {
             for (var t = this.cells.length; t--; )
                 this.cells[t].animate(e)
         },
         onUpdate: function() {
             this.clear();
             for (var e = this.collection.length, t = 0; t < e; ++t) {
                 var i = this.collection.at(t);
                 if (!(i.get("sub") > 0 && s.get("sub") > 0)) {
                     var a = this.getCell(i);
                     this.$(".grid").append(a.$el),
                     this.cells.push(a),
                     a.render()
                 }
             }
             n.onResize()
         },
         getCell: function(e) {},
         clear: function() {
             for (var e = this.cells.length; e--; )
                 this.cells[e].destroy();
             this.cells.length = 0,
             this.scrollPane && this.scrollPane.reinitialise()
         },
         onChange: function() {
             this.$(".pp .value").text(o.commafy(s.get("pp") || "0")),
             1 === s.get("sub") ? (this.$el.addClass("subscribed"),
             c.off().remove()) : this.$el.removeClass("subscribed")
         },
         remove: function() {
             c.off().remove(),
             this.collection.off("reset", this.onUpdate, this),
             this.collection = void 0,
             delete this.collection,
             s.off("change:pp change:sub", this.onChange, this),
             this.clear(),
             this.cells = void 0,
             delete this.cells,
             this.scrollPane && this.scrollPane.destroy(),
             this.scrollPane = void 0,
             delete this.scrollPane,
             this._super()
         }
     });
     return p
 }),
 define("hbs!templates/user/store/StoreAvatarsDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<dt><span class="label">' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.vintage,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 20</span><i class="icon icon-arrow-down-grey"></i><i class="icon icon-arrow-up-grey"></i></dt>\n<dd>\n    <div class="row selected" data-value="vintage"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.vintage,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 20</span></div>\n    <div class="row" data-value="pixel"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.pixel,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 6</span></div>\n    <div class="row" data-value="base"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.base,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 1</span></div>\n    <div class="row" data-value="classic"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.classic,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 4</span></div>\n    <div class="row" data-value="rave"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.rave,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 4</span></div>\n    <div class="row" data-value="hiphop"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.hiphop,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 4</span></div>\n    <div class="row" data-value="country"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.country,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 4</span></div>\n    <div class="row" data-value="dragon"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.dragon,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 4</span></div>\n    <div class="row" data-value="2014winter"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a["2014winter"],
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 4</span></div>\n    <div class="row" data-value="2014hw"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a["2014hw"],
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 4</span></div>\n    <div class="row" data-value="rock"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.rock,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 6</span></div>\n    <div class="row" data-value="island"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.island,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 6</span></div>\n    <div class="row" data-value="sea"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.sea,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 6</span></div>\n    <div class="row" data-value="diner"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.diner,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 6</span></div>\n    <div class="row" data-value="beach"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.beach,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 6</span></div>\n    <div class="row" data-value="nyc"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.nyc,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 6</span></div>\n    <div class="row" data-value="80s"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a["80s"],
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 8</span></div>\n    <div class="row" data-value="robot"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.robot,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 10</span></div>\n    <div class="row" data-value="zoo"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.zoo,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + ' 12</span></div>\n    <div class="row" data-value="warrior"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.warrior,
         typeof a === r ? a.apply(t) : a)) + '</span><span class="level">' + l((a = t.userXP,
         a = null == a || a === !1 ? a : a.lv,
         typeof a === r ? a.apply(t) : a)) + " 14</span></div>\n</dd>"
     });
     return t.registerPartial("templates_user_store_StoreAvatarsDropDown", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/f3690", ["jquery", "underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "hbs!templates/user/store/StoreAvatarsDropDown", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         className: "dropdown",
         tagName: "dl",
         initialize: function() {
             this.docBind = t.bind(this.onDocClick, this)
         },
         render: function() {
             return this.$el.html(a(o)),
             this.$("dt").on("click", t.bind(this.onBaseClick, this)),
             this.$(".row").on("click", t.bind(this.onRowClick, this)),
             this
         },
         onBaseClick: function() {
             if (this.$el.hasClass("open"))
                 this.$el.removeClass("open"),
                 e(document).off("click", this.docBind);
             else {
                 this.$el.addClass("open");
                 var i = this;
                 t.defer(function() {
                     e(document).on("click", i.docBind)
                 })
             }
         },
         onRowClick: function(t) {
             var i = e(t.target).closest(".row");
             this.$(".row").removeClass("selected"),
             i.addClass("selected"),
             this.$el.removeClass("open"),
             this.$("dt span.label").text(o.userAvatars[i.data("value")]),
             this.$("dt span.level").text(i.find(".level").text()),
             this.trigger("select", i.data("value"))
         },
         onDocClick: function() {
             var i = this;
             t.defer(function() {
                 i.$el.removeClass("open"),
                 e(document).off("click", i.docBind)
             })
         },
         select: function(t) {
             "rhc" === t ? e('.row[data-value="rave"]').click() : e('.row[data-value="' + t + '"]').click()
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", this.docBind),
             this.docBind = void 0,
             delete this.docBind,
             this._super()
         }
     });
     return r
 }),
 define("hbs!templates/user/store/StoreAvatarCell", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<div class="expires"><span>',
             (s = i.expires) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.expires,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span></div>"
         }
         function o(e, t) {
             var s, n = "";
             return n += '\n        <i class="icon icon-sub-small"></i>\n        ',
             s = i.if.call(e, e.or, {
                 hash: {},
                 inverse: m.noop,
                 fn: m.program(4, r, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n        ",
             s = i.if.call(e, e.only, {
                 hash: {},
                 inverse: m.noop,
                 fn: m.program(6, l, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n    "
         }
         function r(e, t) {
             var s, n = "";
             return n += '<span class="label or">',
             (s = i.or) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.or,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>"
         }
         function l(e, t) {
             var s, n = "";
             return n += '<span class="label only">',
             (s = i.only) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.only,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>"
         }
         function h(e, t) {
             var s, n = "";
             return n += '\n        <i class="icon icon-pp-small"></i>\n        <span class="label">',
             (s = i.pp) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.pp,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>\n    "
         }
         function c(e, t) {
             var s, n = "";
             return n += '\n        <span class="label cash">',
             (s = i.cash) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.cash,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>\n    "
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var p, d = "", u = "function", f = this.escapeExpression, m = this;
         return d += '<div class="top">\n    <div class="avatar"></div>\n    ',
         p = i.if.call(t, t.expires, {
             hash: {},
             inverse: m.noop,
             fn: m.program(1, a, n)
         }),
         (p || 0 === p) && (d += p),
         d += '\n</div>\n<div class="price">\n    ',
         p = i.if.call(t, t.sub, {
             hash: {},
             inverse: m.noop,
             fn: m.program(3, o, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n    ",
         p = i.if.call(t, t.pp, {
             hash: {},
             inverse: m.noop,
             fn: m.program(8, h, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n    ",
         p = i.if.call(t, t.cash, {
             hash: {},
             inverse: m.noop,
             fn: m.program(10, c, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n</div>"
     });
     return t.registerPartial("templates_user_store_StoreAvatarCell", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/f7f31", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/aa287", "f1e1d/e8300/a815f", "f1e1d/e8300/dcb95", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/af752/b54a3", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/f3d1f", "hbs!templates/user/store/StoreAvatarCell", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f) {
     var m = i.View.extend({
         className: "cell",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave",
             mousedown: "onPress"
         },
         render: function() {
             var t = this.model.get("sub")
               , i = this.model.get("pp")
               , s = this.model.get("cash");
             i > 0 && this.model.get("base") && !n.get("base" + this.model.get("name").match(/(\d[\d\.]*)/g).pop()) && (i += 870);
             var a = {};
             return t && (a.sub = t),
             i > 0 && (a.pp = p.commafy(i),
             t && (a.or = f.search.or)),
             s > 0 && (a.cash = "USD $" + s,
             t && (a.or = f.search.or)),
             t && 0 == i && 0 == s && (a.only = f.subscribe.submit),
             a.expires = this.model.get("expires"),
             this.$el.html(u(a)),
             this.$img = e("<img/>"),
             this.$img.attr("src", h.getAvatarUrl(this.model.get("name"), "")),
             this.$(".avatar").append(this.$img),
             this.aviW = 150,
             this.aviO = 0,
             this.model.get("name").indexOf("dragon") > -1 ? (this.aviW = 300,
             this.aviO = -75,
             this.$(".avatar").addClass("wide"),
             this.$img.css("left", -75)) : this.model.get("name").indexOf("-e01") > -1 && this.$img.addClass("epic"),
             this
         },
         animate: function(e) {
             var t = this.aviO + (this.over ? -(4 * this.aviW + this.aviW * e) : -this.aviW * this.getBlinkFrame(e));
             this.$img.css("left", t)
         },
         getBlinkFrame: function(e) {
             return this.options.blink < 18 ? e < this.options.blink || e > this.options.blink + 2 ? 0 : e - this.options.blink + 1 : 18 === this.options.blink ? e < this.options.blink && e > 0 ? 0 : 0 === e ? 3 : e - this.options.blink + 1 : e < this.options.blink && e > 1 ? 0 : 19 === e ? 1 : 0 === e ? 2 : 3
         },
         onClick: function() {
             this.over = !1,
             !this.model.get("sub") && this.model.get("pp") > l.get("pp") ? s.dispatch(new a(a.ALERT,f.errors.purchaseError,f.errors.fundsPP)) : s.dispatch(new o(o.SHOW,new d({
                 model: this.model,
                 type: "avatar"
             })))
         },
         onEnter: function() {
             this.over = !0
         },
         onLeave: function() {
             this.over = !1
         },
         onPress: function(e) {
             return e.preventDefault(),
             e.stopImmediatePropagation(),
             !1
         },
         remove: function() {
             this.aviW = void 0,
             delete this.aviW,
             this.over = void 0,
             delete this.over,
             this.$img && this.$img.remove(),
             this.$img = void 0,
             delete this.$img,
             this._super()
         }
     });
     return m
 }),
 define("f1e1d/e74c9/b14c6/d9232/e13bf", ["jquery", "f1e1d/e718c/b7acd", "f1e1d/fce39/e8377", "f1e1d/fce39/aa287", "f1e1d/e8300/bb9e2", "f1e1d/af752/c506b", "f1e1d/af752/e6c91", "f1e1d/e74c9/c00f1/f3d1f", "f1e1d/e74c9/b14c6/d9232/c4689", "f1e1d/e74c9/b14c6/d9232/f3690", "f1e1d/e74c9/b14c6/d9232/f7f31", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = l.extend({
         className: "avatars",
         collection: i,
         initialize: function() {
             this.cells = [],
             this.dropDown = new h
         },
         render: function() {
             return this._super(),
             this.$(".menu-points").append(this.dropDown.$el),
             this.dropDown.render().on("select", this.load, this),
             this
         },
         load: function(e) {
             this.category = e || window._theme,
             this.showBanner(),
             t.dispatch(new n(n.GET_STORE_AVATARS,this.category))
         },
         animate: function(e) {
             this._super(e),
             a.currentDialog && a.currentDialog instanceof r && a.currentDialog.animate(e)
         },
         onUpdate: function() {
             if (this._super(),
             this.$(".header .status").text(this.collection.length > 0 ? p.userAvatars.level.split("%LEVEL%").join(this.collection.max(function(e) {
                 return e.get("level")
             }).get("level")) : p.userAvatars.noAvatars.split("%CATEGORY%").join(p.userAvatars[this.category])),
             this.purchaseAfterLoad) {
                 var e = i.findWhere({
                     name: this.purchaseAfterLoad
                 });
                 if (e) {
                     var t = this.cells[i.indexOf(e)];
                     t && t.model.get("name") === this.purchaseAfterLoad && _.delay(function() {
                         t.onClick()
                     }, 400)
                 }
             }
         },
         getCell: function(e) {
             return new c({
                 model: e,
                 blink: o.MASTER.integer(0, 19)
             })
         },
         remove: function() {
             this.dropDown.destroy(),
             this.dropDown = void 0,
             delete this.dropDown,
             this.category = void 0,
             delete this.category,
             this._super()
         }
     });
     return d
 }),
 define("hbs!templates/user/store/StoreBadgesDropDown", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<dt><span class="label">' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.nyc,
         typeof a === r ? a.apply(t) : a)) + '</span><i class="icon icon-arrow-down-grey"></i><i class="icon icon-arrow-up-grey"></i></dt>\n<dd>\n    <div class="row selected" data-value="nyc"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.nyc,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="original"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.original,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="beach"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.beach,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="diner"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.diner,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="sea"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.sea,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="island"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.island,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="base"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.base,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="food"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.food,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="rave"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.rave,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="hiphop"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.hiphop,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="country"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.country,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="80s"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a["80s"],
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="robot"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.robot,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="zoo"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.zoo,
         typeof a === r ? a.apply(t) : a)) + '</span></div>\n    <div class="row" data-value="warrior"><span>' + l((a = t.userAvatars,
         a = null == a || a === !1 ? a : a.warrior,
         typeof a === r ? a.apply(t) : a)) + "</span></div>\n</dd>"
     });
     return t.registerPartial("templates_user_store_StoreBadgesDropDown", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/d23f9", ["jquery", "underscore", "backbone", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "hbs!templates/user/store/StoreBadgesDropDown", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = i.View.extend({
         className: "dropdown",
         tagName: "dl",
         initialize: function() {
             this.docBind = t.bind(this.onDocClick, this)
         },
         render: function() {
             return this.$el.html(a(o)),
             this.$("dt").on("click", t.bind(this.onBaseClick, this)),
             this.$(".row").on("click", t.bind(this.onRowClick, this)),
             this
         },
         onBaseClick: function() {
             if (this.$el.hasClass("open"))
                 this.$el.removeClass("open"),
                 e(document).off("click", this.docBind);
             else {
                 this.$el.addClass("open");
                 var i = this;
                 t.defer(function() {
                     e(document).on("click", i.docBind)
                 })
             }
         },
         onRowClick: function(t) {
             var i = e(t.target).closest(".row");
             this.$(".row").removeClass("selected"),
             i.addClass("selected"),
             this.$el.removeClass("open"),
             this.$("dt span.label").text(o.userAvatars[i.data("value")]),
             this.trigger("select", i.data("value"))
         },
         onDocClick: function() {
             var i = this;
             t.defer(function() {
                 i.$el.removeClass("open"),
                 e(document).off("click", i.docBind)
             })
         },
         select: function(t) {
             e('.row[data-value="' + t + '"]').click()
         },
         remove: function() {
             this.$("dt").off(),
             this.$(".row").off(),
             e(document).off("click", this.docBind),
             this.docBind = void 0,
             delete this.docBind,
             this._super()
         }
     });
     return r
 }),
 define("hbs!templates/user/store/StoreBadgeCell", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<div class="expires"><span>',
             (s = i.expires) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.expires,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span></div>"
         }
         function o(e, t) {
             var s, n = "";
             return n += '\n        <i class="icon icon-sub-small"></i>\n        ',
             s = i.if.call(e, e.or, {
                 hash: {},
                 inverse: m.noop,
                 fn: m.program(4, r, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n        ",
             s = i.if.call(e, e.only, {
                 hash: {},
                 inverse: m.noop,
                 fn: m.program(6, l, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n    "
         }
         function r(e, t) {
             var s, n = "";
             return n += '<span class="label or">',
             (s = i.or) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.or,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>"
         }
         function l(e, t) {
             var s, n = "";
             return n += '<span class="label only">',
             (s = i.only) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.only,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>"
         }
         function h(e, t) {
             var s, n = "";
             return n += '\n        <i class="icon icon-pp-small"></i>\n        <span class="label">',
             (s = i.pp) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.pp,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>\n    "
         }
         function c(e, t) {
             var s, n = "";
             return n += '\n        <span class="label cash">',
             (s = i.cash) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.cash,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>\n    "
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var p, d = "", u = "function", f = this.escapeExpression, m = this;
         return d += '<div class="top">\n    <i class="large bdg"></i>\n    ',
         p = i.if.call(t, t.expires, {
             hash: {},
             inverse: m.noop,
             fn: m.program(1, a, n)
         }),
         (p || 0 === p) && (d += p),
         d += '\n</div>\n<div class="price">\n    ',
         p = i.if.call(t, t.sub, {
             hash: {},
             inverse: m.noop,
             fn: m.program(3, o, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n    ",
         p = i.if.call(t, t.pp, {
             hash: {},
             inverse: m.noop,
             fn: m.program(8, h, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n    ",
         p = i.if.call(t, t.cash, {
             hash: {},
             inverse: m.noop,
             fn: m.program(10, c, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n</div>"
     });
     return t.registerPartial("templates_user_store_StoreBadgeCell", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/e696e", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/aa287", "f1e1d/e8300/a815f", "f1e1d/e8300/dcb95", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/af752/b54a3", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/f3d1f", "hbs!templates/user/store/StoreBadgeCell", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     var f = i.View.extend({
         className: "cell",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave",
             mousedown: "onPress"
         },
         render: function() {
             var e = this.model.get("sub")
               , t = this.model.get("pp")
               , i = this.model.get("cash")
               , s = {};
             return e && (s.sub = e),
             t > 0 && (s.pp = c.commafy(t),
             e && (s.or = u.search.or)),
             i > 0 && (s.cash = "USD $" + i,
             e && (s.or = u.search.or)),
             e && 0 == t && 0 == i && (s.only = u.subscribe.submit),
             s.expires = this.model.get("expires"),
             this.$el.html(d(s)),
             "blankb" !== this.model.get("name") ? this.$(".bdg").addClass("bdg-" + c.badgeClass(this.model.get("name"))) : this.$(".bdg").removeClass().addClass("no-badge"),
             this
         },
         animate: function(e) {},
         onClick: function() {
             this.over = !1,
             !this.model.get("sub") && this.model.get("pp") > l.get("pp") ? s.dispatch(new a(a.ALERT,u.errors.purchaseError,u.errors.fundsPP)) : s.dispatch(new o(o.SHOW,new p({
                 model: this.model,
                 type: "badge"
             })))
         },
         onEnter: function() {
             this.over = !0
         },
         onLeave: function() {
             this.over = !1
         },
         onPress: function(e) {
             return e.preventDefault(),
             e.stopImmediatePropagation(),
             !1
         },
         remove: function() {
             this.over = void 0,
             delete this.over,
             this._super()
         }
     });
     return f
 }),
 define("f1e1d/e74c9/b14c6/d9232/c1103", ["f1e1d/e718c/b7acd", "f1e1d/fce39/f7c81", "f1e1d/e8300/bb9e2", "f1e1d/e74c9/b14c6/d9232/c4689", "f1e1d/e74c9/b14c6/d9232/d23f9", "f1e1d/e74c9/b14c6/d9232/e696e", "lang/Lang"], function(e, t, i, s, n, a, o) {
     var r = s.extend({
         className: "badges",
         collection: t,
         initialize: function() {
             this.cells = [],
             this.dropDown = new n
         },
         render: function() {
             return this._super(),
             this.$(".menu-points").append(this.dropDown.$el),
             this.dropDown.render().on("select", this.load, this),
             this
         },
         load: function(t) {
             this.category = t || window._theme,
             this.showBanner(),
             e.dispatch(new i(i.GET_STORE_BADGES,this.category))
         },
         onUpdate: function() {
             this._super(),
             this.$(".header .status").text(this.collection.length > 0 ? o.userAvatars[this.category] : o.userAvatars.noBadges.split("%CATEGORY%").join(o.userAvatars[this.category]))
         },
         getCell: function(e) {
             return new a({
                 model: e
             })
         },
         remove: function() {
             this.dropDown.destroy(),
             this.dropDown = void 0,
             delete this.dropDown,
             this.category = void 0,
             delete this.category,
             this._super()
         }
     });
     return r
 }),
 define("hbs!templates/user/store/StoreBackgroundCell", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '<div class="expires"><span>',
             (s = i.expires) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.expires,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span></div>"
         }
         function o(e, t) {
             var s, n = "";
             return n += '\n        <i class="icon icon-sub-small"></i>\n        ',
             s = i.if.call(e, e.or, {
                 hash: {},
                 inverse: m.noop,
                 fn: m.program(4, r, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n        ",
             s = i.if.call(e, e.only, {
                 hash: {},
                 inverse: m.noop,
                 fn: m.program(6, l, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n    "
         }
         function r(e, t) {
             var s, n = "";
             return n += '<span class="label or">',
             (s = i.or) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.or,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>"
         }
         function l(e, t) {
             var s, n = "";
             return n += '<span class="label only">',
             (s = i.only) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.only,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>"
         }
         function h(e, t) {
             var s, n = "";
             return n += '\n        <i class="icon icon-pp-small"></i>\n        <span class="label">',
             (s = i.pp) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.pp,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>\n    "
         }
         function c(e, t) {
             var s, n = "";
             return n += '\n        <span class="label cash">',
             (s = i.cash) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.cash,
             s = typeof s === u ? s.apply(e) : s),
             n += f(s) + "</span>\n    "
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var p, d = "", u = "function", f = this.escapeExpression, m = this;
         return d += '<div class="top">\n    <div class="background"></div>\n    ',
         p = i.if.call(t, t.expires, {
             hash: {},
             inverse: m.noop,
             fn: m.program(1, a, n)
         }),
         (p || 0 === p) && (d += p),
         d += '\n</div>\n<div class="price">\n    ',
         p = i.if.call(t, t.sub, {
             hash: {},
             inverse: m.noop,
             fn: m.program(3, o, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n    ",
         p = i.if.call(t, t.pp, {
             hash: {},
             inverse: m.noop,
             fn: m.program(8, h, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n    ",
         p = i.if.call(t, t.cash, {
             hash: {},
             inverse: m.noop,
             fn: m.program(10, c, n)
         }),
         (p || 0 === p) && (d += p),
         d += "\n</div>"
     });
     return t.registerPartial("templates_user_store_StoreBackgroundCell", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/aecb0", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/e3678", "f1e1d/e8300/a815f", "f1e1d/e8300/dcb95", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/af752/b54a3", "f1e1d/af752/e7b9f", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/f3d1f", "hbs!templates/user/store/StoreBackgroundCell", "f1e1d/e74c9/c00f1/bdc05", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m) {
     var g = i.View.extend({
         className: "cell",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave",
             mousedown: "onPress"
         },
         render: function() {
             var t = this.model.get("sub")
               , i = this.model.get("pp")
               , s = this.model.get("cash");
             i > 0 && this.model.get("base") && !n.get("base" + this.model.get("name").match(/(\d[\d\.]*)/g).pop()) && (i += 870);
             var a = {};
             return t && (a.sub = t),
             i > 0 && (a.pp = p.commafy(i),
             t && (a.or = m.search.or)),
             s > 0 && (a.cash = "USD $" + s,
             t && (a.or = m.search.or)),
             t && 0 == i && 0 == s && (a.only = m.subscribe.submit),
             a.expires = this.model.get("expires"),
             this.$el.html(u(a)),
             this.$img = e("<img/>"),
             this.$img.attr("src", "https://cdn-prod.plug.dj/_/static/images/sheets/backgrounds.c7f5d524b2612e4af1196649276d419ab7afb1ee.png"),
             this.$img.css("right", 200 * this.model.getColumn()),
             this.$img.css("bottom", 100 * this.model.getRow()),
             this.$(".background").append(this.$img),
             this
         },
         animate: function(e) {},
         onClick: function() {
             if (this.over = !1,
             !this.model.get("sub") && this.model.get("pp") > l.get("pp"))
                 s.dispatch(new a(a.ALERT,m.errors.purchaseError,m.errors.fundsPP));
             else {
                 var e = new d({
                     model: this.model,
                     type: "background"
                 });
                 this.listenTo(e, "PreviewOpen", function() {
                     e.close(),
                     this.onPreview()
                 }),
                 s.dispatch(new o(o.SHOW,e))
             }
         },
         onPreview: function() {
             var e = new f({
                 model: this.model
             });
             this.listenTo(e, "buttonClose", function() {
                 e.close(),
                 this.onClick()
             }),
             s.dispatch(new o(o.SHOW,e))
         },
         onEnter: function() {
             this.over = !0
         },
         onLeave: function() {
             this.over = !1
         },
         onPress: function(e) {
             return e.preventDefault(),
             e.stopImmediatePropagation(),
             !1
         },
         remove: function() {
             this.aviW = void 0,
             delete this.aviW,
             this.over = void 0,
             delete this.over,
             this.$img && this.$img.remove(),
             this.$img = void 0,
             delete this.$img,
             this._super()
         }
     });
     return g
 }),
 define("f1e1d/e74c9/b14c6/d9232/e744a", ["jquery", "f1e1d/e718c/b7acd", "f1e1d/fce39/dc7a1", "f1e1d/fce39/e3678", "f1e1d/e8300/bb9e2", "f1e1d/af752/c506b", "f1e1d/af752/e6c91", "f1e1d/e74c9/c00f1/f3d1f", "f1e1d/e74c9/b14c6/d9232/c4689", "f1e1d/e74c9/b14c6/d9232/aecb0", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = l.extend({
         className: "backgrounds backgrounds-tab",
         collection: i,
         events: {
             "click .cta": "goToInventory"
         },
         initialize: function() {
             this.cells = []
         },
         render: function() {
             return this._super(),
             this.$(".menu-points"),
             console.log(this.collection.length),
             this
         },
         load: function(e) {
             this.showBanner(),
             t.dispatch(new n(n.GET_STORE_BACKGROUNDS,"free")),
             console.log(this.collection.length)
         },
         onUpdate: function() {
             if (this._super(),
             this.$(".header .status").text("BACKGROUNDS"),
             console.log(this.collection.length),
             this.purchaseAfterLoad) {
                 var e = i.findWhere({
                     name: this.purchaseAfterLoad
                 });
                 if (e) {
                     var t = this.cells[i.indexOf(e)];
                     t && t.model.get("name") === this.purchaseAfterLoad && _.delay(function() {
                         t.onClick()
                     }, 400)
                 }
             }
             this.collection.length <= 0 && (this.$(".no-collections").show(),
             this.$(".no-collections p").text("All our backgrounds are on  your inventory."))
         },
         goToInventory: function() {
             console.log(this.collection.length),
             t.trigger("show:user", "inventory", "backgrounds"),
             console.log(this.collection.length)
         },
         getCell: function(e) {
             return new h({
                 model: e
             })
         },
         remove: function() {
             this._super()
         }
     });
     return p
 }),
 define("hbs!templates/user/store/StoreMiscCell", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return n += '\n        <i class="icon icon-sub-small"></i>\n        ',
             s = i.if.call(e, e.or, {
                 hash: {},
                 inverse: f.noop,
                 fn: f.program(2, o, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n        ",
             s = i.if.call(e, e.only, {
                 hash: {},
                 inverse: f.noop,
                 fn: f.program(4, r, t)
             }),
             (s || 0 === s) && (n += s),
             n += "\n    "
         }
         function o(e, t) {
             var s, n = "";
             return n += '<span class="label or">',
             (s = i.or) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.or,
             s = typeof s === d ? s.apply(e) : s),
             n += u(s) + "</span>"
         }
         function r(e, t) {
             var s, n = "";
             return n += '<span class="label only">',
             (s = i.only) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.only,
             s = typeof s === d ? s.apply(e) : s),
             n += u(s) + "</span>"
         }
         function l(e, t) {
             var s, n = "";
             return n += '\n        <i class="icon icon-pp-small"></i>\n        <span class="label">',
             (s = i.pp) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.pp,
             s = typeof s === d ? s.apply(e) : s),
             n += u(s) + "</span>\n    "
         }
         function h(e, t) {
             var s, n = "";
             return n += '\n        <span class="label cash">',
             (s = i.cash) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.cash,
             s = typeof s === d ? s.apply(e) : s),
             n += u(s) + "</span>\n    "
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var c, p = "", d = "function", u = this.escapeExpression, f = this;
         return p += '<div class="title-bar">\n    <span>',
         (c = i.name) ? c = c.call(t, {
             hash: {}
         }) : (c = t.name,
         c = typeof c === d ? c.apply(t) : c),
         p += u(c) + '</span>\n</div>\n<div class="top">\n    <i class="misc-',
         (c = i.image) ? c = c.call(t, {
             hash: {}
         }) : (c = t.image,
         c = typeof c === d ? c.apply(t) : c),
         p += u(c) + '"></i>\n    <span class="level">',
         (c = i.level) ? c = c.call(t, {
             hash: {}
         }) : (c = t.level,
         c = typeof c === d ? c.apply(t) : c),
         p += u(c) + '</span>\n</div>\n<div class="price">\n    ',
         c = i.if.call(t, t.sub, {
             hash: {},
             inverse: f.noop,
             fn: f.program(1, a, n)
         }),
         (c || 0 === c) && (p += c),
         p += "\n    ",
         c = i.if.call(t, t.pp, {
             hash: {},
             inverse: f.noop,
             fn: f.program(6, l, n)
         }),
         (c || 0 === c) && (p += c),
         p += "\n    ",
         c = i.if.call(t, t.cash, {
             hash: {},
             inverse: f.noop,
             fn: f.program(8, h, n)
         }),
         (c || 0 === c) && (p += c),
         p += "\n</div>"
     });
     return t.registerPartial("templates_user_store_StoreMiscCell", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/b1a4a", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/aa287", "f1e1d/e8300/a815f", "f1e1d/e8300/dcb95", "f1e1d/e8300/bb9e2", "f1e1d/d8478/b885e", "f1e1d/af752/b54a3", "f1e1d/af752/e504b", "f1e1d/e74c9/c00f1/f3d1f", "hbs!templates/user/store/StoreMiscCell", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     var f = i.View.extend({
         className: "cell",
         events: {
             click: "onClick",
             mouseenter: "onEnter",
             mouseleave: "onLeave",
             mousedown: "onPress"
         },
         render: function() {
             var e = this.model.get("sub")
               , t = this.model.get("pp")
               , i = this.model.get("cash")
               , s = u.userStore[this.model.get("name")]
               , n = u.userXP.level + " " + this.model.get("level")
               , a = {
                 name: s,
                 level: n,
                 image: this.model.get("name")
             };
             return e && (a.sub = e),
             t > 0 ? (a.pp = c.commafy(t),
             e && (a.or = u.search.or)) : i > 0 ? (a.cash = "USD $" + i,
             e && (a.or = u.search.or)) : e && (a.only = u.subscribe.submit),
             this.$el.html(d(a)),
             this
         },
         animate: function(e) {},
         onClick: function() {
             this.over = !1,
             this.model.get("level") > l.get("level") ? s.dispatch(new a(a.ALERT,u.errors.purchaseError,u.errors.level)) : this.model.get("pp") > l.get("pp") ? s.dispatch(new a(a.ALERT,u.errors.purchaseError,u.errors.fundsPP)) : s.dispatch(new o(o.SHOW,new p({
                 model: this.model,
                 type: this.model.get("name")
             })))
         },
         onEnter: function() {
             this.over = !0
         },
         onLeave: function() {
             this.over = !1
         },
         onPress: function(e) {
             return e.preventDefault(),
             e.stopImmediatePropagation(),
             !1
         },
         remove: function() {
             this.over = void 0,
             delete this.over,
             this._super()
         }
     });
     return f
 }),
 define("f1e1d/e74c9/b14c6/d9232/a9469", ["f1e1d/e718c/b7acd", "f1e1d/fce39/f92ae", "f1e1d/e8300/bb9e2", "f1e1d/e74c9/b14c6/d9232/c4689", "f1e1d/e74c9/b14c6/d9232/b1a4a"], function(e, t, i, s, n) {
     var a = s.extend({
         className: "misc",
         collection: t,
         load: function() {
             e.dispatch(new i(i.GET_STORE_MISC))
         },
         getCell: function(e) {
             return new n({
                 model: e
             })
         }
     });
     return a
 }),
 define("hbs!templates/user/store/TabMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<button class="avatars selected" data-value="avatars">' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.avatars,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<button class="badges" data-value="badges">' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.badges,
         typeof a === r ? a.apply(t) : a)) + '</button>\n<button class="backgrounds" data-value="backgrounds">Backgrounds</button>\n<button class="misc" data-value="misc">' + l((a = t.userStore,
         a = null == a || a === !1 ? a : a.misc,
         typeof a === r ? a.apply(t) : a)) + "</button>"
     });
     return t.registerPartial("templates_user_store_TabMenu", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/dd3d5", ["f1e1d/e74c9/b14c6/cf616/befb4", "hbs!templates/user/store/TabMenu"], function(e, t) {
     var i = e.extend({
         template: t
     });
     return i
 }),
 define("hbs!templates/user/store/StoreTopBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="user-banner user-banner-top banner--desktop" id="plugdj_profile_top">\n\t<div id="div-gpt-ad-1523297134334-21"></div>\n</div>\n'
     });
     return t.registerPartial("templates_user_store_StoreTopBanner", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/d9232/ada48", ["backbone", "f1e1d/e718c/b7acd", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/e74c9/b14c6/d9232/e13bf", "f1e1d/e74c9/b14c6/d9232/c1103", "f1e1d/e74c9/b14c6/d9232/e744a", "f1e1d/e74c9/b14c6/d9232/a9469", "f1e1d/e74c9/b14c6/d9232/dd3d5", "hbs!templates/user/store/StoreTopBanner"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = e.View.extend({
         id: "user-store",
         className: "user-content store",
         initialize: function() {
             this.menu = new l
         },
         render: function() {
             this.$el.append(h()).append(this.menu.$el),
             this.menu.render().on("select", this.onMenuSelect, this),
             this.onMenuSelect("avatars");
             var e = this;
             return _.delay(function() {
                 e.onResize(i.getSize())
             }, 40),
             t.trigger("user_content:select", {
                 master: this.id,
                 section: void 0
             }),
             this
         },
         onMenuSelect: function(e) {
             this.clear(),
             this.section = e,
             "avatars" === e ? this.view = new n : "badges" === e ? this.view = new a : "backgrounds" === e ? this.view = new o : "misc" === e && (this.view = new r),
             this.$el.append(this.view.$el),
             this.view.render(),
             this.onResize(i.getSize())
         },
         clear: function() {
             this.view && (this.view.destroy(),
             this.view = void 0,
             delete this.view)
         },
         animate: function(e) {
             this.view.animate(e)
         },
         onResize: function(e) {
             var t = 200 * ~~((this.$el.width() - 20) / 200)
               , i = ~~((this.$el.width() - t) / 2);
             this.menu.$el.css("left", i),
             this.menu.$el.width(t - 15),
             this.view && (this.view.$el.css("left", i),
             this.view.$el.width(t + 14 + Math.max(0, i - 15)),
             this.view.onResize(t - 15, e.height))
         },
         remove: function() {
             this.clear(),
             this.menu.destroy(),
             this.menu = void 0,
             delete this.menu,
             this._super()
         }
     });
     return c
 }),
 define("hbs!templates/user/menu/UserMenu", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="avatar"></div>\n<div class="item profile" data-value="profile">\n    <i class="fa fa-user user-profile-dropdown__item-icon " aria-hidden="true"></i>\n    <span class="label">' + l((a = t.userMenu,
         a = null == a || a === !1 ? a : a.profile,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    <span class="count"></span>\n</div>\n<div class="item inventory" data-value="inventory">\n    <i class="fa fa-shopping-basket user-profile-dropdown__item-icon" aria-hidden="true"></i>\n    <span class="label">' + l((a = t.userMenu,
         a = null == a || a === !1 ? a : a.inventory,
         typeof a === r ? a.apply(t) : a)) + '</span>\n</div>\n<div class="item friends" data-value="friends">\n    <i class="fa fa-smile-o user-profile-dropdown__item-icon" aria-hidden="true"></i>\n    <span class="label">' + l((a = t.userMenu,
         a = null == a || a === !1 ? a : a.friends,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    <span class="count"></span>\n</div>\n<div class="item played" data-value="played">\n    <i class="fa fa-history user-profile-dropdown__item-icon" aria-hidden="true"></i>\n    <span class="label">' + l((a = t.userMenu,
         a = null == a || a === !1 ? a : a.played,
         typeof a === r ? a.apply(t) : a)) + '</span>\n</div>\n<div class="item community" data-value="community">\n    <i class="fa fa-users user-profile-dropdown__item-icon" aria-hidden="true"></i>\n    <span class="label">' + l((a = t.userMenu,
         a = null == a || a === !1 ? a : a.myCommunities,
         typeof a === r ? a.apply(t) : a)) + '</span>\n    <span class="count"></span>\n</div>\n<!--<div class="item playlist" data-value="playlist">\n    <i class="fa fa-list-ul user-profile-dropdown__item-icon" aria-hidden="true"></i>\n    <span class="label">' + l((a = t.playlist,
         a = null == a || a === !1 ? a : a.yourPlaylists,
         typeof a === r ? a.apply(t) : a)) + ' </span>\n</div>-->\n\n<div class="item settings" data-value="settings">\n    <i class="fa fa-cog user-profile-dropdown__item-icon" aria-hidden="true"></i>\n    <span class="label">' + l((a = t.userMenu,
         a = null == a || a === !1 ? a : a.settings,
         typeof a === r ? a.apply(t) : a)) + "</span>\n</div>"
     });
     return t.registerPartial("templates_user_menu_UserMenu", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/cf616/fde3f", ["jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/fce39/ac151", "f1e1d/fce39/ec5ba", "f1e1d/e8300/a815f", "f1e1d/d8478/b885e", "f1e1d/be642/aa669/ad47a", "f1e1d/be642/aa669/f2146", "f1e1d/af752/b54a3", "f1e1d/af752/e7b9f", "hbs!templates/user/menu/UserMenu", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u) {
     var f = i.View.extend({
         id: "user-menu",
         initialize: function() {
             this.$img = e("<img/>")
         },
         render: function() {
             return this.$el.html(d(u)),
             this.$avatar = this.$(".avatar").on("mousedown", t.bind(this.onPress, this)),
             this.$(".item").on("click", t.bind(this.onClick, this)),
             r.on("change:avatarID", this.onAvatarChange, this),
             a.on("reset remove", this.onNotifications, this),
             n.on("reset add remove", this.onRequests, this),
             this.onNotifications(),
             this.onRequests(),
             this.onAvatarChange(),
             this
         },
         onNotifications: function() {
             if (a.length > 0) {
                 this.$(".item.profile").addClass("notify"),
                 this.$(".item.profile .count").text(a.length),
                 a.findWhere({
                     action: "levelUp",
                     value: "3"
                 }) ? (this.$(".item.community").addClass("notify"),
                 this.$(".item.community .count").text("1")) : (this.$(".item.community").removeClass("notify"),
                 this.$(".item.community .count").empty());
                 var e = a.filter(function(e) {
                     return "levelUp" === e.get("action") && ["4", "6", "8", "10", "12"].indexOf(e.get("value")) > -1
                 }).length;
                 e > 0 ? (4 === r.get("level") && (e += 2),
                 this.$(".item.store").addClass("notify"),
                 this.$(".item.store .count").text(String(15 * e))) : (this.$(".item.store").removeClass("notify"),
                 this.$(".item.store .count").empty())
             } else
                 this.$(".item.profile").removeClass("notify"),
                 this.$(".item.community").removeClass("notify"),
                 this.$(".item.store").removeClass("notify"),
                 this.$(".item.profile .count").empty(),
                 this.$(".item.community .count").empty(),
                 this.$(".item.store .count").empty()
         },
         onRequests: function() {
             n.length > 0 ? (this.$(".item.friends").addClass("notify"),
             this.$(".item.friends .count").text(n.length)) : (this.$(".item.friends").removeClass("notify"),
             this.$(".item.friends .count").empty())
         },
         onAvatarChange: function() {
             this.$avatar.empty(),
             this.$img.attr("src", c.getAvatarUrl(r.get("avatarID"), "b")),
             this.$avatar.append(this.$img),
             this.aviW = 220,
             this.aviO = 0,
             r.get("avatarID").indexOf("dragon") > -1 && (this.aviO = -8,
             this.aviW = 440)
         },
         animate: function(e) {
             var t = (this.$el.width() - this.aviW) / 2 + this.aviO - this.aviW * (e < 5 || e > 7 ? 0 : e - 4);
             this.$img.css("left", t)
         },
         select: function(e) {
             this.$(".item").removeClass("selected"),
             this.$(".icon-user-white").removeClass().addClass("icon icon-user-grey"),
             this.$(".icon-inventory-white").removeClass().addClass("icon icon-inventory-grey"),
             this.$(".icon-store-white").removeClass().addClass("icon icon-store-grey"),
             this.$(".icon-history-white").removeClass().addClass("icon icon-history-grey"),
             this.$(".icon-settings-white").removeClass().addClass("icon icon-settings-grey"),
             this.$(".icon-users-white").removeClass().addClass("icon icon-users-grey"),
             this.$(".icon-community-white").removeClass().addClass("icon icon-community-grey"),
             "user" !== e && (this.$("." + e).addClass("selected"),
             "profile" === e ? this.$(".icon-user-grey").removeClass().addClass("icon icon-user-white") : "inventory" === e ? this.$(".icon-inventory-grey").removeClass().addClass("icon icon-inventory-white") : "store" === e ? (this.$(".icon-store-grey").removeClass().addClass("icon icon-store-white"),
             p.actual("Shop", "Panel Menu")) : "friends" === e ? this.$(".icon-users-grey").removeClass().addClass("icon icon-users-white") : "played" === e ? this.$(".icon-history-grey").removeClass().addClass("icon icon-history-white") : "settings" === e ? this.$(".icon-settings-grey").removeClass().addClass("icon icon-settings-white") : "community" === e && this.$(".icon-community-grey").removeClass().addClass("icon icon-community-white")),
             this.trigger("change:section", e)
         },
         onPress: function(e) {
             return e.preventDefault(),
             e.stopImmediatePropagation(),
             !1
         },
         onClick: function(t) {
             var i = e(t.target).closest(".item");
             i.hasClass("selected") || this.select(i.data("value"))
         }
     });
     return f
 }),
 define("f1e1d/e74c9/b14c6/c8537", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/af752/c506b", "f1e1d/af752/e7b9f", "f1e1d/e74c9/b14c6/e5ed5/febd2", "f1e1d/e74c9/b14c6/f91fe/c73a6", "f1e1d/e74c9/b14c6/f91fe/c9675", "f1e1d/e74c9/b14c6/cc52f/a1fc9", "f1e1d/e74c9/b14c6/aa669/c2787", "f1e1d/e74c9/b14c6/f1756/d4c2c", "f1e1d/e74c9/b14c6/cc52f/e1e2b", "f1e1d/e74c9/b14c6/ff2dd/ee6cb", "f1e1d/e74c9/b14c6/d9232/ada48", "f1e1d/e74c9/b14c6/cf616/fde3f"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b) {
     var w = s.extend({
         id: "user-view",
         className: "app-left plugdj__panel plugdj__panel-left",
         initialize: function() {
             this.menu = new b,
             this.resizeBind = t.bind(this.onResize, this),
             this.showBind = t.bind(this.onShow, this),
             this.hideBind = t.bind(this.onHide, this),
             this.showing = !1,
             this.setData("state", "closed")
         },
         render: function() {
             return n.on("show:user user:show", this.show, this).on("hide:user user:hide", this.hide, this).on("user:toggle", this.toggle, this).on("room:joining show:settings show:dashboard", this.quickHide, this),
             this.$el.append(this.menu.$el),
             this.menu.render(),
             this.menu.on("change:section", this.change, this),
             this
         },
         toggle: function() {
             this.showing === !0 ? this.hide() : this.show.apply(this, arguments)
         },
         show: function(e, i, s, a) {
             r.resize(this.resizeBind),
             "avatars" === i && "inventory" === e && (c.selected = s),
             this.menu.select(e),
             this.setData("state", "open"),
             this.showing = !0,
             n.trigger("audience:pause", !0);
             var o = this;
             t.defer(function() {
                 o.resizeView(r.getSize())
             }),
             i && ("store" === e ? (o.view.view.purchaseAfterLoad = a,
             ["badges", "misc", "backgrounds"].indexOf(i) !== -1 ? (t.delay(function() {
                 o.view.menu.select(i)
             }, 100),
             "badges" === i && s && t.delay(function() {
                 o.view.view.dropDown.select(s)
             }, 150)) : s && t.delay(function() {
                 o.view.view.dropDown.select(s)
             }, 10)) : "friends" === e ? "requests" === i && t.delay(function() {
                 o.view.menu.select(i)
             }, 100) : "inventory" === e ? ["badges", "history", "backgrounds"].indexOf(i) !== -1 && t.delay(function() {
                 o.view.menu.select(i)
             }, 100) : "settings" === e && "account" === i && t.delay(function() {
                 o.view.menu.select(i)
             }, 100));
             var l = "#" + e;
             i && (l = l + "-" + i),
             s && (l = l + "-" + s),
             t.delay(function() {
                 r.onResize()
             }, 350)
         },
         hide: function(e) {
             this.setData("state", "closed"),
             this.showing = !1
         },
         quickHide: function() {
             this.hide(!0)
         },
         change: function(e) {
             n.trigger("panel:show", "user:" + e),
             this.clear(),
             this.section = e,
             "profile" === e ? this.view = new d : "inventory" === e ? this.view = new p : "store" === e ? this.view = new v : "friends" === e ? this.view = new u : "played" === e ? this.view = new f : "settings" === e ? this.view = new g : "community" === e && (this.view = new h);
             var t = "#" + e;
             l.pushState(null, t),
             this.$el.append(this.view.$el),
             this.view.render()
         },
         clear: function() {
             this.view && (this.view.destroy(),
             this.view = void 0,
             delete this.view,
             t.defer(t.bind(this.onResize, this)))
         },
         onShow: function() {
             this.showing = !0,
             t.defer(t.bind(this.onResize, this))
         },
         onHide: function() {
             this.clear(),
             this.$el.hide(),
             n.trigger("audience:pause", !1),
             l.pushState(null, window.location.pathname.replace(/\//g, ""))
         },
         animate: function(e) {
             this.showing && (this.menu.animate(e),
             "inventory" !== this.section && "store" !== this.section || this.view.animate(e))
         },
         onResize: function(e) {
             e = e || r.getSize(),
             this.$el.height(e.height - e.barHeight),
             this.showing ? (this.$el.css("left", 0),
             this.resizeView(e)) : this.$el.css("left", -e.availWidth)
         },
         resizeView: function(e) {
             this.view && (this.view.$el.css("left", this.menu.$el.width()).width(e.availWidth - this.menu.$el.width()),
             this.view.onResize(e),
             this.view.scrollPane && this.view.scrollPane.reinitialise())
         }
     });
     return w
 }),
 define("f1e1d/af752/c687a", ["f1e1d/e718c/b5ee0", "f1e1d/af752/bfef4"], function(e, t) {
     var i = e.extend({
         options: {
             tippy: {
                 theme: "notify",
                 arrow: !0,
                 size: "large",
                 hideOnClick: !1,
                 interactive: !0,
                 performance: !0,
                 trigger: "manual"
             }
         },
         init: function(e, t, i) {
             return this.tippy = window.tippy,
             this.options = $.extend(!0, this.options, i),
             this.instance = null,
             this.target = e,
             this.message = t,
             this.attachTippy(),
             this
         },
         show: function() {
             try {
                 this.instance.show(),
                 void 0 !== this.options.duration && (this.timeout = setTimeout(function() {
                     this.hide()
                 }
                 .bind(this.instance), this.options.duration))
             } catch (e) {
                 t.log("[Notify]: Error on show: %o", e)
             }
         },
         hide: function(e) {
             try {
                 this.instance.hide(),
                 this.clearTimeout(this.timeout)
             } catch (e) {
                 t.log("[Notify]: Error on hide: %o", e)
             }
         },
         destroy: function() {
             this.instance.destroy(!1),
             clearTimeout(this.timeout)
         },
         attachTippy: function() {
             this.tippy(this.target, _.extend({
                 html: $('<div class="notify__message">' + this.message + "</div>")[0]
             }, this.options.tippy)),
             this.instance = $(this.target).get(0)._tippy
         }
     });
     return i
 }),
 define("hbs!templates/community/avatars/CommunityAvatars", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="community__audience"></div>\n<div class="community__booth"></div>'
     });
     return t.registerPartial("templates_community_avatars_CommunityAvatars", i),
     i
 }),
 define("f1e1d/e74c9/dc178/ecb8f/f539f", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "f1e1d/af752/bfef4", "lang/Lang", "f1e1d/fce39/d676d", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d3252", "f1e1d/d8478/eeaaf", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8478/edecb", "f1e1d/d9232/b42c1", "f1e1d/af752/c506b", "f1e1d/af752/e6c91", "f1e1d/e74c9/b49ed/a178a", "f1e1d/e74c9/b49ed/a6125", "f1e1d/e74c9/b49ed/adbd9/ff68a", "f1e1d/e74c9/b49ed/d5b88", "f1e1d/e74c9/b49ed/b3668/def02", "f1e1d/e74c9/b49ed/b3668/a20c1", "f1e1d/e74c9/b49ed/c0731/de88a", "f1e1d/e74c9/b49ed/fbb41", "f1e1d/e74c9/b49ed/b14c6/c7f51", "f1e1d/e74c9/b49ed/b14c6/a041b", "f1e1d/e74c9/b49ed/b14c6/bbebc", "f1e1d/e74c9/b14c6/c055e", "f1e1d/e74c9/b49ed/e23ea/ab5bd", "f1e1d/e74c9/b49ed/e23ea/c865c", "f1e1d/e74c9/b49ed/f4fba", "hbs!templates/room/DfpBanner", "hbs!templates/room/PlaybackBanner", "hbs!templates/room/OuterDockedBanner", "hbs!templates/community/avatars/CommunityAvatars"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, S, x, $, E, M, T, I, D, P, R, A) {
     var U = e.extend({
         identifier: "CommunityAvatars",
         className: "community__avatars",
         events: {},
         initialize: function() {
             this.enabled = !1,
             this.audienceArray = [],
             this.audienceIntervalID = 0,
             this.random = new f,
             this.testID = 99999,
             this.paused = !1,
             this.clickBind = _.bind(E.onAvatarClick, E)
         },
         render: function() {
             return this.$el.html(A({
                 lang: n
             })),
             this.audience = m.render(),
             this.$(".community__audience").html(this.audience.$el),
             this.booth = g.render(),
             this.$(".community__booth").html(this.booth.$el),
             E.render(),
             this.bindEvents(),
             this.onVideoOnlyChange(),
             this
         },
         bindEvents: function() {
             t.on("avatars:disable", this.disable, this).on("avatars:enable", this.enable, this).on("user:join", this.onUserJoin, this).on("user:leave", this.onUserLeave, this).on("audience:draw", this.redraw, this).on("audience:test", this.testAddAvatar, this).on("audience:pause", this.onAudiencePause, this).on("audience:resume", _.partial(this.onAudiencePause, !0), this).on("audience:stop", this.onAnimateStop, this).on("change:videoOnly", this.onVideoOnlyChange, this).on("community:mousemove", this.onMouseMove, this).on("panel:back", this.onPanelBack, this),
             l.on("change:currentDJ", this.onDJUpdate, this),
             o.on("toAudience", this.onDJAudience, this),
             this.$el.on("click", this.clickBind)
         },
         animate: function(e) {
             !d.settings.videoOnly && d.settings.dancing && (this.paused || (this.audience.frame = this.booth.frame = e,
             this.audience.draw(),
             this.booth.draw()))
         },
         drawAudience: function(e) {
             d.settings.videoOnly || (this.audienceArray = e,
             this.audienceIntervalID && clearInterval(this.audienceIntervalID),
             this.audienceArray.length > 0 && (this.audienceIntervalID = setInterval(_.bind(this.drawAudienceNext, this), 100)))
         },
         drawAudienceNext: function() {
             this.audienceArray.length > 0 ? this.audience.addUser(this.audienceArray.shift()) : (clearInterval(this.audienceIntervalID),
             this.onDJUpdate(),
             c.hasPermission(p.HOST, !0) && console.log("Audience Render Complete :: " + this.audience.gridData.userCount + " avatars"),
             d.settings.dancing || this.onAnimateStop())
         },
         onDJUpdate: function() {
             l.get("currentDJ") && this.onUserLeave(l.get("currentDJ"))
         },
         onDJAudience: function(e) {
             e && this.audience.addUser(e)
         },
         clear: function() {
             this.audience.clear(),
             this.booth.clear(),
             E.hide()
         },
         redraw: function() {
             this.clear(),
             this.drawAudience(r.getAudience()),
             d.settings.videoOnly || this.booth.onDJUpdate()
         },
         onUserJoin: function(e) {
             d.settings.videoOnly || this.audience.addUser(e)
         },
         onUserLeave: function(e) {
             d.settings.videoOnly || this.audience.removeUser(e),
             E.user && E.user.get("id") === e && E.hide()
         },
         onAudiencePause: function(e) {
             this.paused = e,
             e || (this.audience.refresh(),
             this.booth.refresh())
         },
         onAnimateStop: function() {
             this.paused = !0,
             this.audience.frame = this.booth.frame = 0,
             this.audience.refresh(),
             this.audience.draw(),
             this.booth.draw()
         },
         onVideoOnlyChange: function() {
             t.trigger("playback:video-only", d.settings.videoOnly),
             d.settings.videoOnly ? (this.$el.addClass("video-only"),
             this.clear(),
             this.onAnimateStop()) : (this.$el.removeClass("video-only"),
             this.redraw())
         },
         onWTChange: function() {},
         onWTFinish: function() {},
         onMouseMove: function(e) {
             if (this.isEnabled() !== !1 && !d.settings.videoOnly) {
                 var t = this.$el.offset()
                   , i = (e.pageX - t.left,
                 e.pageY - t.top,
                 this.booth.$el.offset().left + 85,
                 this.booth.$el.offset().top,
                 this.audience.el.getBoundingClientRect())
                   , s = this.booth.el.getBoundingClientRect()
                   , n = 95
                   , a = s.x + n < e.pageX && e.pageX < s.x + s.width - n
                   , o = s.y < e.pageY && e.pageY < s.y + s.height
                   , r = e.clientY < window.screen.availHeight - 60
                   , l = a && o && r && e.clientY > i.y + i.height;
                 l === !0 ? this.booth.onMouseMove(e) : this.audience.onMouseMove(e)
             }
         },
         testAddAvatar: function(e) {
             var t = [];
             e || (e = 1);
             var i = [];
             a.each(function(e) {
                 i.push(e.get("id"))
             });
             for (var s = 0; s < e; ++s) {
                 var n = this.random.integer(0, i.length - 1)
                   , o = new p({
                     id: ++this.testID,
                     username: this.testID + "_" + i[n],
                     avatarID: i[n],
                     vote: Math.round(this.random.float(.3, .99)),
                     level: this.random.integer(1, 10)
                 })
                   , r = Math.random();
                 r > .5 && o.set("friend", !0),
                 t.push(o)
             }
             this.drawAudience(t)
         },
         isEnabled: function() {
             return this.enabled === !0
         },
         enable: function() {
             this.enabled = !0
         },
         disable: function() {
             this.enabled = !1
         },
         onPanelBack: function() {
             d.settings.dancing === !0 && this.onAudiencePause(!1)
         }
     });
     return U
 }),
 define("f1e1d/e74c9/dc178/bdd88", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/d9232/b42c1", "backbone", "lang/Lang", "tippy"], function(e, t, i, s, n, a) {
     var o = e.extend({
         identifier: "communityMeta",
         className: "community__meta",
         events: {
             "click .community__about": "onClickAbout",
             "click .community__likes": "onClickFavorite",
             "click .share": "onClickShare"
         },
         initialize: function() {
             this.decorateFunctions(),
             this.listenTo(this.model, ["change:name", "change:population", "change:guests", "change:favorite", "change:hostName"].join(" "), _.debounce(this.render.bind(this), 500, !0))
         },
         render: function() {
             this.$el.html(this.options.template({
                 room: this.model.toJSON(),
                 trans: n
             }));
             var e;
             if ($("body > .tippy-popper").remove(),
             void 0 !== a) {
                 e = a(".community__meta [title]", {
                     delay: 50,
                     arrow: !0,
                     animation: "shift-toward",
                     inertia: !0,
                     duration: [600, 300],
                     dynamicTitle: !0
                 });
                 var t = i.settings.tooltips === !0 ? "enable" : "disable";
                 _.each(e.tooltips, function(e) {
                     e[t]()
                 }, this)
             }
             return this
         },
         decorateFunctions: function() {
             this.preventGuest("onClickFavorite", "Trigger room favorite")
         },
         onClickAbout: function(e) {
             this.prevent(e),
             t.trigger("settings:toggle"),
             t.trigger("track", "Community", "Click", "About")
         },
         onClickFavorite: function(e) {
             this.prevent(e),
             t.trigger("favorite:toggle")
         },
         onClickShare: function(e) {
             this.prevent(e),
             t.trigger("shareRoom:toggle", this.$(".share i").get(0))
         }
     });
     return o
 }),
 define("hbs!templates/community/header/CommunityHeader", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="container-fluid">\n    <div class="no-gutters">\n        <div class="col-12">\n            <div class="logo-wrapper"></div>\n            <span class="community__meta"></span>\n            <div class="community__top-right">\n                <button class="btn btn-primary btn-sign-up">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.signup,
         a = null == a || a === !1 ? a : a.signup,
         typeof a === r ? a.apply(t) : a)) + '</button>\n                <a href="/subscribe" target="_blank" class="btn btn-secondary btn-subscribe">\n                    <i class="plugdjfont icon-user-crown" aria-hidden="true"></i>\n                    ' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.subscribe,
         a = null == a || a === !1 ? a : a.submit,
         typeof a === r ? a.apply(t) : a)) + '\n                </a>\n                <div class="user-level"></div>\n                <div class="user-profile"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'
     });
     return t.registerPartial("templates_community_header_CommunityHeader", i),
     i
 }),
 define("hbs!templates/community/header/CommunityHeaderMeta", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             return "-o"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r, l = "", h = "function", c = this.escapeExpression, p = this;
         return l += '<div class="community__name">\r\n    ' + c((o = t.room,
         o = null == o || o === !1 ? o : o.name,
         typeof o === h ? o.apply(t) : o)) + '\r\n</div>\r\n<div class="community__info">\r\n    <ul class="list-unstyled clearfix">\r\n        <li class="community__info-item">\r\n            <p class="community__about"><i class="fa fa-info-circle" aria-hidden="true"></i><span class="community__info-item-text">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.appMenu,
         o = null == o || o === !1 ? o : o.about,
         typeof o === h ? o.apply(t) : o)) + '</span></p>\r\n        </li>\r\n        <li class="community__info-item" title="' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.dashboard,
         o = null == o || o === !1 ? o : o.favorites,
         typeof o === h ? o.apply(t) : o)) + '">\r\n            <p class="community__likes"><i class="fa fa-star',
         r = i.unless.call(t, (o = t.room,
         null == o || o === !1 ? o : o.favorite), {
             hash: {},
             inverse: p.noop,
             fn: p.program(1, a, n)
         }),
         (r || 0 === r) && (l += r),
         l += '" aria-hidden="true"></i><!-- <span class="community__info-item-text"> room.favoritesCount </span> --></p>\r\n        </li>\r\n        <li class="community__info-item" title="Views">\r\n            <p class="community__views" ><i class="fa fa-eye" aria-hidden="true"></i><span class="community__info-item-text">' + c((o = t.room,
         o = null == o || o === !1 ? o : o.population,
         typeof o === h ? o.apply(t) : o)) + ' </span></p>\r\n        </li>\r\n        <li class="community__info-item share">\r\n            <p class="community__share-room"><i class="fa fa-share-alt" aria-hidden="true"></i><span class="community__info-item-text">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.socila,
         o = null == o || o === !1 ? o : o.inviteFriendsShort,
         typeof o === h ? o.apply(t) : o)) + "</span></p>\r\n        </li>\r\n    </ul>\r\n</div>"
     });
     return t.registerPartial("templates_community_header_CommunityHeaderMeta", i),
     i
 }),
 define("f1e1d/e74c9/dc178/b3668/b046d", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "f1e1d/e74c9/b14c6/a46c5/a1e27", "f1e1d/e74c9/b14c6/a46c5/af6e3", "f1e1d/e74c9/f1e1d/e2a4b", "f1e1d/e74c9/dc178/bdd88", "lang/Lang", "hbs!templates/community/header/CommunityHeader", "hbs!templates/community/header/CommunityHeaderMeta"], function(e, t, i, s, n, a, o, r, l, h) {
     var c = e.extend({
         className: "community__top",
         events: {
             "click .btn-sign-up": "onClickSignup",
             "click .btn-subscribe": "onClickSubscribe"
         },
         initialize: function() {},
         render: function() {
             return this.$el.html(l({
                 room: this.model.toJSON(),
                 trans: r
             })),
             this.logo = new a({
                 el: this.$(".logo-wrapper")
             }).render(),
             this.meta = new o({
                 template: h,
                 el: this.$(".community__meta"),
                 model: this.model
             }).render(),
             this.userExperience = new n({
                 el: this.$(".user-level")
             }).render(),
             this.userProfile = new s({
                 el: this.$(".user-profile")
             }).render(),
             this
         },
         onClickSignup: function(e) {
             this.prevent(e),
             t.trigger("signup:show")
         },
         onClickSubscribe: function(e) {
             t.trigger("click:subscribe")
         }
     });
     return c
 }),
 define("hbs!templates/community/controls/CommunityPlayerVolume", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="volume-bar clearfix" >\n    <i class="fa fa-volume-up" aria-hidden="true" title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.tooltips,
         a = null == a || a === !1 ? a : a.modMute,
         typeof a === r ? a.apply(t) : a)) + '"></i>\n    <div class="progress-wrapper">\n      <div class="progress-slider-frame"></div>\n      <div class="progress">\n          <div class="progress-bar" role="progressbar" style="" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>\n      </div>\n    </div>\n</div>'
     });
     return t.registerPartial("templates_community_controls_CommunityPlayerVolume", i),
     i
 }),
 define("f1e1d/e74c9/dc178/df888/fef10", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "f1e1d/e74c9/b49ed/d5b88", "f1e1d/e74c9/b49ed/f4fba", "lang/Lang", "hbs!templates/community/controls/CommunityPlayerVolume"], function(e, t, i, s, n, a, o) {
     var r = e.extend({
         identifier: "VolumeView",
         className: "community__player-item volume",
         events: {
             "click i": "onClickIcon",
             "mousemove .progress-wrapper": "onSlide",
             "mousedown .progress-wrapper": "onStartSliding",
             "mouseup .progress-wrapper": "onStopSliding",
             "mouseout .progress-wrapper": "onStopSliding"
         },
         initialize: function() {
             t.on("playback:changeVolume", this.onVolumeChange, this)
         },
         render: function() {
             return this.$el.html(o({
                 trans: a
             })),
             this.$icon = this.$("i"),
             this.$progress = this.$(".progress"),
             this.$progressBar = this.$(".progress-bar"),
             this
         },
         mute: function() {
             this.$icon.removeClass("fa-volume-up").addClass("fa-volume-off")
         },
         unmute: function() {
             this.$icon.removeClass("fa-volume-off").addClass("fa-volume-up")
         },
         setVolume: function(e) {
             null !== e && this.$progressBar.attr({
                 style: "width: " + e.toString() + "%",
                 "aria-valuenow": e
             })
         },
         onVolumeChange: function(e) {
             0 === e ? this.mute() : (this.unmute(),
             this.setVolume(e))
         },
         onClickIcon: function(e) {
             e.preventDefault(),
             e.stopPropagation(),
             t.trigger("playback:toggleMute")
         },
         updateVolume: _.throttle(function(e) {
             var i = e.currentTarget.getBoundingClientRect()
               , s = Math.round((e.pageX - i.left) / i.width * 100);
             s < 0 ? s = 0 : s > 100 && (s = 100),
             t.trigger("playback:setVolume", s)
         }, 30, {
             leading: !0,
             trailing: !0
         }),
         onStartSliding: function(e) {
             this.updateVolume(e),
             this.sliding = !0
         },
         onSlide: function(e) {
             this.sliding === !0 && this.updateVolume(e)
         },
         onStopSliding: function(e) {
             this.sliding === !0 && (this.sliding = !1,
             this.updateVolume(e))
         }
     });
     return r
 }),
 define("hbs!templates/community/controls/CommunityPlayerControls", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="bottom__playback-controls--mobile">\n    <ul class="list-unstyled">\n        <li class="community__player-item pause" >\n            <i class="plugdjfont icon-snooze" aria-hidden="true"></i>\n            <!--<i class="fa fa-pause" aria-hidden="true"></i>-->\n        </li>\n        <li class="community__player-item play">\n            <i class="fa fa-play" aria-hidden="true"></i>\n        </li>\n        <li class="community__player-item volume">\n\n        </li>\n        <li class="community__player-item share-song-trigger" >\n            <i class="fa fa-share-alt" aria-hidden="true"></i>\n        </li>\n        <li class="community__player-item history" >\n            <i class="plugdjfont icon-dj-wait" aria-hidden="true"></i>\n        </li>\n    </ul>\n</div>\n\n<div class="bottom__playback-controls--desktop">\n    <ul class="list-unstyled">\n        <li class="community__player-item pause" title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.snooze,
         typeof a === r ? a.apply(t) : a)) + '">\n            <i class="plugdjfont icon-snooze" aria-hidden="true"></i>\n            <!--<i class="fa fa-pause" aria-hidden="true"></i>-->\n        </li>\n        <li class="community__player-item play"  title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.playback,
         a = null == a || a === !1 ? a : a.continueButton,
         typeof a === r ? a.apply(t) : a)) + '">\n            <i class="fa fa-play" aria-hidden="true"></i>\n        </li>\n        <li class="community__player-item volume" >\n\n        </li>\n    </ul>\n    <ul class="list-unstyled">\n        <li class="community__player-item share-song-trigger" >\n            <i class="fa fa-share-alt" aria-hidden="true"></i>\n        </li>\n        <li class="community__player-item history" title="' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.tooltips,
         a = null == a || a === !1 ? a : a.history,
         typeof a === r ? a.apply(t) : a)) + '">\n            <i class="plugdjfont icon-dj-wait" aria-hidden="true"></i>\n        </li>\n    </ul>\n</div>'
     });
     return t.registerPartial("templates_community_controls_CommunityPlayerControls", i),
     i
 }),
 define("f1e1d/e74c9/dc178/df888/e4031", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "f1e1d/e74c9/dc178/df888/fef10", "lang/Lang", "hbs!templates/community/controls/CommunityPlayerControls"], function(e, t, i, s, n, a) {
     var o = e.extend({
         className: "community__top",
         events: {
             "click .play": "onClickPlay",
             "click .pause": "onClickPause",
             "click .history": "onClickHistory",
             "click .share-song-trigger": "onClickShareSong"
         },
         initialize: function() {},
         render: function() {
             return this.$el.html(a({
                 trans: n
             })),
             this.$(".community__player-item.volume").each(function(e, t) {
                 new s({
                     el: $(t)
                 }).render()
             }
             .bind(this)),
             this
         },
         onClickPlay: function(e) {
             this.prevent(e),
             t.trigger("playback:refresh")
         },
         onClickPause: function(e) {
             this.prevent(e),
             t.trigger("playback:snooze")
         },
         onClickHistory: function(e) {
             this.prevent(e),
             t.trigger("history:toggle")
         },
         onClickShareSong: function(e) {
             this.prevent(e),
             t.trigger("shareSong:toggle", e.currentTarget.children[0])
         }
     });
     return o
 }),
 define("hbs!templates/community/controls/CommunityVote", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<li class="room-controls__bottom-item">\n    <button class="btn btn-room-controls btn-like"><i class="fa fa-thumbs-up" aria-hidden="true"></i></button>\n    <p class="room-controls__bottom-text">' + l((a = t.vote,
         a = null == a || a === !1 ? a : a.woot,
         typeof a === r ? a.apply(t) : a)) + ' (<span class="vote-count"></span>)</p>\n</li>\n<li class="room-controls__bottom-item">\n    <button class="btn btn-room-controls btn-meh"><i class="fa fa-thumbs-down" aria-hidden="true"></i></button>\n    <p class="room-controls__bottom-text">' + l((a = t.vote,
         a = null == a || a === !1 ? a : a.meh,
         typeof a === r ? a.apply(t) : a)) + ' (<span class="vote-count"></span>)</p>\n</li>'
     });
     return t.registerPartial("templates_community_controls_CommunityVote", i),
     i
 }),
 define("f1e1d/e74c9/dc178/df888/ac525", ["f1e1d/e718c/b7acd", "backbone", "lang/Lang", "hbs!templates/community/controls/CommunityVote"], function(e, t, i, s) {
     var n = t.View.extend({
         events: {
             "click .btn-room-controls .btn-like": "onClickLike",
             "click .btn-room-controls .btn-meh": "onClickMeh"
         },
         initialize: function() {},
         render: function() {
             return this.$el.html(s({
                 trans: i
             })),
             this.mapDOM(),
             this.setupListeners(),
             this
         },
         mapDOM: function() {
             this.$likeButton = this.$(".btn-like"),
             this.$likeCount = this.$likeButton.next(),
             this.$dislikeButton = this.$(".btn-meh"),
             this.$dislikeCount = this.$dislikeButton.next()
         },
         setupListeners: function() {
             e.on("vote:like", function() {
                 this.toggleClicked(this.$dislikeButton, !1)
             }
             .bind(this)),
             e.on("vote:dislike", function() {
                 this.toggleClicked(this.$likeButton, !1)
             }
             .bind(this))
         },
         onClickLike: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("vote:like")
         },
         onClickMeh: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("vote:dislike")
         },
         updateCount: function(e, t) {
             t.text(e)
         },
         updateLikeCount: function(e) {
             this.updateCount(this.$likeCount, e)
         },
         updateDislikeCount: function(e) {
             this.updateCount(this.$dislikeCount, e)
         },
         toggleClicked: function(e, t) {
             e.toggleClass("clicked", t)
         },
         toggleDisabled: function(e, t) {
             e.toggleClass("disabled", t)
         },
         disableAll: function() {
             this.toggleDisabled(this.$likeButton, !0),
             this.toggleDisabled(this.$dislikeButton, !0)
         },
         enableAll: function() {
             this.toggleDisabled(this.$likeButton, !1),
             this.toggleDisabled(this.$dislikeButton, !1)
         },
         resetButtons: function() {
             this.toggleClicked(this.$likeButton, !1),
             this.toggleDisabled(this.$likeButton, !1),
             this.toggleClicked(this.$dislikeButton, !1),
             this.toggleDisabled(this.$dislikeButton, !1)
         }
     });
     return n
 }),
 define("hbs!templates/community/controls/CommunityPlayerInteraction", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="room-controls--mobile" data-mobile-wt="step1">\n    <div class="container-fluid">\n        <div class="row">\n            <div class="col-12">\n                <div class="room-controls__top">\n                    <div class="dj-playing"></div>\n                    <div class="room-controls__player"></div>\n                    <div class="room-controls__social"></div>\n                </div>\n                <div class="room-controls__bottom">\n                    <ul class="list-unstyled clearfix">\n\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="room-controls--desktop room-vote--desktop">\n    <ul class="list-unstyled"></ul>\n    <div class="room-controls-dtp__balance"></div>\n</div>\n\n<div class="dj-button--desktop">\n    <div class="play-button"></div>\n    <ul class="list-unstyled dj-button__waitlist">\n        <li class="dj-button__waitlist-item"></li>\n    </ul>\n</div>'
     });
     return t.registerPartial("templates_community_controls_CommunityPlayerInteraction", i),
     i
 }),
 define("f1e1d/e74c9/dc178/df888/fdc6a", ["f1e1d/e718c/b7acd", "backbone", "f1e1d/d8478/fdf95", "f1e1d/d9232/b42c1", "f1e1d/e74c9/b49ed/d5b88", "f1e1d/e74c9/dc178/df888/ac525", "f1e1d/e74c9/b49ed/f4fba", "lang/Lang", "hbs!templates/community/controls/CommunityPlayerInteraction"], function(e, t, i, s, n, a, o, r, l) {
     var h = t.View.extend({
         events: {
             "click .play": "onClickPlay",
             "click .btn-like": "onClickLike",
             "click .btn-meh": "onClickMeh",
             "click .btn-playlist": "onClickPlaylist"
         },
         initialize: function() {},
         render: function() {
             return this.$el.html(l({
                 trans: r
             })),
             this.djButtonView = (new n).render(),
             this.desktopDjButtonView = new n({
                 el: this.$(".play-button")
             }).render(),
             this.votesView = (new o).render(),
             this.desktopVotesView = new o({
                 el: this.$(".room-controls--desktop .list-unstyled")
             }).render(),
             this.$(".room-controls--mobile .list-unstyled").append(this.djButtonView.el).append(this.votesView.el),
             e.on("change:videoOnly", this.onVideoOnlyChange, this),
             this.onVideoOnlyChange(),
             this
         },
         setupListeners: function() {
             VotesModel.on("change:positive", _.partial(this.onUpdateVoteCount, ""), this).on("change:negative", this.onNegativeChange, this),
             e.on("userPlaying:update", this.onUpdateDJ, this)
         },
         onVideoOnlyChange: function() {
             s.settings.videoOnly ? this.$el.addClass("video-only") : this.$el.removeClass("video-only")
         },
         onClickPlay: function(e) {
             e.preventDefault(),
             e.stopPropagation()
         },
         onClickLike: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("change:positive")
         },
         onClickMeh: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("change:negative")
         },
         onClickPlaylist: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("userPlaying:update")
         },
         onUpdateDJ: function(e) {
             e.current === !0 ? this.votesView.disableAll() : this.votesView.enableAll()
         }
     });
     return h
 }),
 define("f1e1d/e74c9/dc178/c9c67/e502d", ["f1e1d/e718c/b7acd", "backbone", "hammer", "f1e1d/af752/fa88e", "f1e1d/e718c/b2952", "f1e1d/e74c9/b49ed/b3668/dc5f7", "f1e1d/e74c9/b49ed/adbd9/ff68a", "f1e1d/e74c9/b49ed/b14c6/c7f51", "f1e1d/e74c9/b49ed/b14c6/a041b", "f1e1d/e74c9/b49ed/b14c6/bbebc", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = n.extend({
         className: "community__right-bar",
         identifier: "right-bar",
         events: {},
         initialize: function() {
             this.panel = new a(_.bind(this.getCurrentPanel, this)),
             this.chat = new o,
             this.waitlist = new h,
             this.friends = new r,
             e.on("show:chat show:users show:waitlist show:friends", this.show, this),
             e.on(this.identifier + ":toggle", this.toggle, this),
             e.on(this.identifier + ":show", this.show, this),
             e.on(this.identifier + ":hide", this.hide, this)
         },
         render: function() {
             return this.$el.append(this.panel.render().$el).append(this.chat.render().$el).append(l.render().$el).append(this.waitlist.render().$el).append(this.friends.render().$el),
             this.bindEvents(),
             this
         },
         bindEvents: function() {
             s.isMobile === !0 && (this.hammerManager = i(this.$el.get(0), {
                 enable: s.isMobile,
                 recognizers: [[i.Swipe, {
                     direction: i.DIRECTION_RIGHT
                 }]]
             }))
         },
         toggle: function() {
             this.$el.hasClass("show") === !0 ? this.hide() : this.show()
         },
         show: function() {
             e.trigger("rollover:hide", !0),
             s.isMobile === !0 ? (this.$el.toggleClass("show", !0),
             this.startListeningToMobile(),
             e.trigger("panel:show", this.identifier)) : $(window).width() > 991 || (this.$el.toggleClass("show", !0),
             e.trigger("panel:show", this.identifier))
         },
         hide: function() {
             s.isMobile === !0 ? (this.stopListeningToMobile(),
             e.trigger("panel:back")) : $(window).width() > 991 || (this.$el.hasClass("show") ? e.trigger("panel:back") : e.trigger("panel:back", !0, !1, !0)),
             this.$el.toggleClass("show", !1)
         },
         getCurrentPanel: function() {
             var e = null;
             return "none" != this.chat.$el.css("display") ? e = this.chat.$el.attr("id") : "none" != this.waitlist.$el.css("display") ? e = this.waitlist.$el.attr("id") : "none" != this.friends.$el.css("display") ? e = this.friends.$el.attr("class") : "none" != l.$el.css("display") && (e = l.$el.attr("id")),
             e
         },
         onSwipeRight: function() {
             this.hide(),
             e.trigger("panel:back", !1)
         },
         startListeningToMobile: function() {
             this.hammerManager && this.hammerManager.on("swiperight", this.onSwipeRight.bind(this))
         },
         stopListeningToMobile: function() {
             this.hammerManager && this.hammerManager.off("swiperight")
         }
     });
     return p
 }),
 define("hbs!templates/community/bottom/CommunityPlaylistButton", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i;
             return d((i = e.playlist,
             i = null == i || i === !1 ? i : i.name,
             typeof i === p ? i.apply(e) : i))
         }
         function o(e, t) {
             var i;
             return d((i = e.song,
             i = null == i || i === !1 ? i : i.title,
             typeof i === p ? i.apply(e) : i))
         }
         function r(e, t) {
             var i;
             return d((i = e.trans,
             i = null == i || i === !1 ? i : i.playlist,
             i = null == i || i === !1 ? i : i.addSong,
             typeof i === p ? i.apply(e) : i))
         }
         function l(e, t) {
             var i, s, n = "";
             return i = e.song,
             i = null == i || i === !1 ? i : i.author,
             s = typeof i === p ? i.apply(e) : i,
             (s || 0 === s) && (n += s),
             n += " - ",
             i = e.song,
             i = null == i || i === !1 ? i : i.title,
             s = typeof i === p ? i.apply(e) : i,
             (s || 0 === s) && (n += s),
             n
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var h, c = "", p = "function", d = this.escapeExpression, u = this;
         return c += '<i class="plugdjfont icon-playlist" aria-hidden="true"></i>\r\n<p class="community__playlist-title">\r\n  <span class="playlist">',
         h = i.if.call(t, t.playlist, {
             hash: {},
             inverse: u.noop,
             fn: u.program(1, a, n)
         }),
         (h || 0 === h) && (c += h),
         c += '</span>\r\n    <button class="btn btn-terciary btn-add-song" title="',
         h = i.if.call(t, t.song, {
             hash: {},
             inverse: u.noop,
             fn: u.program(3, o, n)
         }),
         (h || 0 === h) && (c += h),
         c += '">\r\n      ',
         h = i.unless.call(t, t.song, {
             hash: {},
             inverse: u.program(7, l, n),
             fn: u.program(5, r, n)
         }),
         (h || 0 === h) && (c += h),
         c += "\r\n    </button>\r\n</p>\r\n"
     });
     return t.registerPartial("templates_community_bottom_CommunityPlaylistButton", i),
     i
 }),
 define("f1e1d/e74c9/dc178/a18bf/aabea", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone", "lang/Lang", "f1e1d/fce39/a4370", "f1e1d/fce39/fb3ca", "f1e1d/fce39/a3ebf", "f1e1d/d8478/b5029", "hbs!templates/community/bottom/CommunityPlaylistButton"], function(e, t, i, s, n, a, o, r, l) {
     var h = e.extend({
         identifier: "CommunityPlaylistButton",
         className: "community__playlist--desktop",
         events: {
             click: "onClick"
         },
         initialize: function() {
             return this.preventGuest("onClick", "Trigger click playlist button"),
             this.model = new i.Model({
                 playlist: null,
                 song: null
             }),
             n.on("reset change:active change:name", this.onChangePlaylist, this),
             o.on("reset change:author change:title update:next", this.onChangePlaylist, this),
             r.on("change:media", this.onChangePlaylist, this),
             this.model.on("change", this.render, this),
             this
         },
         render: function() {
             this.$el.html(l(_.extend({
                 trans: s
             }, this.model.toJSON()))),
             this.setData("playlist", null),
             this.setData("song", null);
             var e = this.model.attributes;
             return null !== e.playlist && (this.setData("playlist", e.playlist.name),
             null !== e.song && this.setData("song", e.song.id)),
             this
         },
         onChangePlaylist: function() {
             var e, t, i, s = n.getActiveID();
             if (s) {
                 var o;
                 a.isTheUserPlaying && r.get("playlistID") === s && 2 === n.activeMedia.length ? o = n.activeMedia[1] : n.activeMedia.length > 0 && (o = n.activeMedia[0]),
                 t = n.get(s).toJSON(),
                 o ? (e = o.get("author") + " - " + o.get("title"),
                 i = o.toJSON()) : i = null
             } else
                 t = null,
                 i = null;
             this.model.set({
                 playlist: t,
                 song: i
             })
         },
         onClick: function(e) {
             this.prevent(e),
             t.trigger("playlist:toggle")
         }
     });
     return h
 }),
 define("hbs!templates/community/bottom/CommunityBottom", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="community__playlist--desktop"></div>\n<div class="bottom__playback-meta"></div>\n<div class="bottom__playback-controls"></div>'
     });
     return t.registerPartial("templates_community_bottom_CommunityBottom", i),
     i
 }),
 define("f1e1d/e74c9/dc178/a18bf/af616", ["f1e1d/e718c/b2952", "jquery", "underscore", "backbone", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/e74c9/dc178/c0731/a6b8b", "f1e1d/e74c9/dc178/df888/e4031", "f1e1d/e74c9/dc178/a18bf/aabea", "hbs!templates/community/bottom/CommunityBottom", "lang/Lang"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = e.extend({
         className: "community__bottom",
         render: function() {
             return this.$el.html(h({
                 trans: c
             })),
             this.playlistButton = new l({
                 el: this.$(".community__playlist--desktop")
             }).render(),
             this.controls = new r({
                 el: this.$(".bottom__playback-controls")
             }).render(),
             this.playbackMeta = new o({
                 el: this.$(".bottom__playback-meta")
             }).render(),
             this
         }
     });
     return p
 }),
 define("hbs!templates/community/bar/CommunitySwitch", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var s, n = "";
             return (s = i.current) ? s = s.call(e, {
                 hash: {}
             }) : (s = e.current,
             s = typeof s === h ? s.apply(e) : s),
             n += c(s) + "/"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r, l = "", h = "function", c = this.escapeExpression, p = this;
         return l += '<ul class="list-unstyled clearfix">\n    <li class="community__switch-item selected community">\n        <i class="fa fa-music" aria-hidden="true"></i>\n    </li>\n    <li class="community__switch-item chat">\n        <i class="fa fa-comments-o" aria-hidden="true"></i>\n        <p class="community__switch-text">' + c((o = t.trans,
         o = null == o || o === !1 ? o : o.walkthrough,
         o = null == o || o === !1 ? o : o.chatTitle,
         typeof o === h ? o.apply(t) : o)) + " (",
         (r = i.users) ? r = r.call(t, {
             hash: {}
         }) : (r = t.users,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + ')</p>\n    </li>\n</ul>\n<ul class="list-unstyled clearfix">\n    <li class="community__switch-item community">\n        <i class="fa fa-music" aria-hidden="true"></i>\n    </li>\n    <li class="community__switch-item chat">\n        <i class="fa fa-comments-o" aria-hidden="true"></i>\n        <p class="community__switch-text "></p>\n    </li>\n    <li class="community__switch-item userlist">\n        <i class="fa fa-users" aria-hidden="true"></i>\n        <p class="community__switch-text bar-count">',
         (r = i.users) ? r = r.call(t, {
             hash: {}
         }) : (r = t.users,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '</p>\n    </li>\n    <li class="community__switch-item waitlist">\n        <i class="plugdjfont icon-dj" aria-hidden="true"></i>\n        <p class="community__switch-text">',
         r = i.if.call(t, t.current, {
             hash: {},
             inverse: p.noop,
             fn: p.program(1, a, n)
         }),
         (r || 0 === r) && (l += r),
         (r = i.waitlist) ? r = r.call(t, {
             hash: {}
         }) : (r = t.waitlist,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + '</p>\n    </li>\n    <li class="community__switch-item friendlist">\n        <i class="plugdjfont icon-friends" aria-hidden="true"></i>\n        <p class="community__switch-text ">',
         (r = i.friends) ? r = r.call(t, {
             hash: {}
         }) : (r = t.friends,
         r = typeof r === h ? r.apply(t) : r),
         l += c(r) + "</p>\n    </li>\n</ul>\n"
     });
     return t.registerPartial("templates_community_bar_CommunitySwitch", i),
     i
 }),
 define("f1e1d/e74c9/dc178/f40c2/cb1de", ["f1e1d/e718c/b7acd", "backbone", "f1e1d/af752/bfef4", "lang/Lang", "hbs!templates/community/bar/CommunitySwitch"], function(e, t, i, s, n) {
     var a = t.View.extend({
         className: "community__switch",
         events: {
             "click .community": "onClickCommunity",
             "click .chat": "onClickChat",
             "click .userlist": "onClickUserList",
             "click .waitlist": "onClickWaitList",
             "click .friendlist": "onClickFriendList"
         },
         initialize: function() {
             this.listenTo(this.model, "change", this.render)
         },
         render: function() {
             return this.$el.html(n($.extend({
                 lang: s
             }, this.model.toJSON()))),
             this
         },
         onClickCommunity: function(e) {
             e.preventDefault(),
             e.stopPropagation()
         },
         onClickChat: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("chat:show")
         },
         onClickUserList: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("users:show")
         },
         onClickWaitList: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("waitlist:show")
         },
         onClickFriendList: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("friends:show")
         }
     });
     return a
 }),
 define("f1e1d/e74c9/a44ca/dad7c", ["f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "backbone"], function(e, t, i) {
     var s = e.extend({
         identifier: "popover",
         className: "popover",
         events: {},
         defaults: {
             offset: {
                 x: 0,
                 y: 0
             }
         },
         initialize: function(e) {
             this.options = $.extend(!0, {}, this.defaults, e),
             void 0 !== this.identifier && (t.on(this.identifier + ":toggle", this.toggle, this),
             t.on(this.identifier + ":show", this.show, this),
             t.on(this.identifier + ":hide", this.hide, this),
             t.on(this.identifier + ":hideAll", this.hide, this),
             t.on("popover:hideAll", this.hide, this)),
             this.onClick = this.onClick.bind(this)
         },
         render: function() {},
         toggle: function(e) {
             this.isVisible() === !0 ? this.hide() : this.show(e)
         },
         hide: function() {
             this.isVisible() !== !1 && (this.setData("state", "hidden"),
             this.stopListeningClicks(),
             this.trigger("hide"))
         },
         show: function() {
             this.isVisible() !== !0 && (t.trigger("popover:hideAll"),
             this.setData("state", "shown"),
             this.startListeningClicks(),
             this.trigger("show"))
         },
         setPosition: function(e, t) {
             this.el.style.top = t,
             this.el.style.left = e
         },
         getPosition: function(e) {
             return e.getBoundingClientRect()
         },
         position: function() {},
         placeUnder: function(e) {
             var t = this.getPosition(e)
               , i = this.getPosition(this.el);
             this.setPosition(t.left + t.width / 2 - i.width / 2 + this.options.offset.x + "px", t.top + t.height + this.options.offset.y + "px")
         },
         placeAbove: function(e) {
             var t = this.getPosition(e)
               , i = this.getPosition(this.el);
             this.setPosition(t.left + t.width / 2 - i.width / 2 + this.options.offset.x + "px", t.top - i.height + this.options.offset.y + "px")
         },
         placeLeft: function(e) {
             var t = this.getPosition(e)
               , i = this.getPosition(this.el);
             this.setPosition(t.left - (i.width + this.options.offset.x) + "px", t.top + t.height / 2 - i.height / 2 + this.options.offset.y + "px")
         },
         placeRight: function(e) {
             var t = this.getPosition(e)
               , i = this.getPosition(this.el);
             this.setPosition(t.left + t.width + this.options.offset.x + "px", t.top + t.height / 2 - i.height / 2 + this.options.offset.y + "px")
         },
         isVisible: function() {
             var e = this.getData("state");
             return "hidden" !== e && void 0 !== e
         },
         startListeningClicks: function() {
             $("body").on("mousedown", this.onClick)
         },
         stopListeningClicks: function() {
             $("body").off("mousedown", this.onClick)
         },
         onClick: function(e) {
             var t = $(e.target).parents("." + this.className).length > 0;
             t === !1 && this.hide()
         }
     });
     return s
 }),
 define("hbs!templates/popover/NudgeTemplate", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<h3 class="pop-up-tooltip__title">',
         (a = i.title) ? a = a.call(t, {
             hash: {}
         }) : (a = t.title,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + "</h3>\r\n<p>",
         (a = i.description) ? a = a.call(t, {
             hash: {}
         }) : (a = t.description,
         a = typeof a === r ? a.apply(t) : a),
         o += l(a) + '</p>\r\n<span class="pop-up-tooltip__close"><i class="fa fa-close"></i></span>'
     });
     return t.registerPartial("templates_popover_NudgeTemplate", i),
     i
 }),
 define("f1e1d/e74c9/a44ca/b1733", ["f1e1d/e718c/b7acd", "backbone", "f1e1d/e74c9/a44ca/dad7c", "f1e1d/af752/e504b", "lang/Lang", "hbs!templates/popover/NudgeTemplate"], function(e, t, i, s, n, a) {
     var o = i.extend({
         identifier: "nudge",
         className: "pop-up-tooltip nudge--desktop",
         events: {
             "click .pop-up-tooltip__close": "onClickClose"
         },
         defaults: _.extend(i.prototype.defaults, {
             arrowOffset: 11
         }),
         initialize: function(t) {
             this.tailingInterval = null,
             this.options = $.extend(!0, {}, this.defaults, t),
             void 0 !== this.identifier && (e.on(this.identifier + ":toggle", this.toggle, this),
             e.on(this.identifier + ":show", this.show, this),
             e.on(this.identifier + ":hide", this.hide, this),
             e.on(this.identifier + ":hideAll", this.hide, this))
         },
         render: function() {
             return this.$el.html(a(_.extend({
                 trans: n
             }, this.options))),
             this.addArrow(this.options.direction),
             this.mapDOM(),
             this
         },
         mapDOM: function() {},
         show: function() {
             this.updatePosition(),
             this.startTailing(),
             this.isVisible() !== !0 && (e.trigger("popover:hideAll"),
             this.setData("state", "shown"),
             this.trigger("show"))
         },
         hide: function() {
             this.stopTailing(),
             this.isVisible() !== !1 && (this.setData("state", "hidden"),
             this.trigger("hide"))
         },
         startTailing: function() {
             null === this.tailingInterval && (this.tailingInterval = setInterval(function() {
                 this.updatePosition()
             }
             .bind(this), 200))
         },
         stopTailing: function() {
             try {
                 clearInterval(this.tailingInterval),
                 this.tailingInterval = null
             } catch (e) {
                 this.log(e)
             }
         },
         getTarget: function() {
             return _.result(this.options, "target")
         },
         updatePosition: function() {
             var e = this.getTarget();
             switch (this.options.direction) {
             case "top":
                 this.placeBelow(e);
                 break;
             case "right":
                 this.placeLeft(e);
                 break;
             case "bottom":
                 this.placeAbove(e);
                 break;
             case "left":
                 this.placeRight(e)
             }
         },
         placeUnder: function(e) {
             var t = this.getPosition(e)
               , i = this.getPosition(this.el);
             this.setPosition(t.left + t.width / 2 - i.width / 2 + this.options.offset.x + "px", t.top + t.height + this.options.arrowOffset + this.options.offset.y + "px")
         },
         placeAbove: function(e) {
             var t = this.getPosition(e)
               , i = this.getPosition(this.el);
             this.setPosition(t.left + t.width / 2 - i.width / 2 + this.options.offset.x + "px", t.top - i.height - this.options.arrowOffset + this.options.offset.y + "px")
         },
         placeLeft: function(e) {
             var t = this.getPosition(e)
               , i = this.getPosition(this.el);
             this.setPosition(t.left - (i.width + this.options.offset.x) - this.options.arrowOffset + "px", t.top + t.height / 2 - i.height / 2 + this.options.offset.y + "px")
         },
         placeRight: function(e) {
             var t = this.getPosition(e)
               , i = this.getPosition(this.el);
             this.setPosition(t.left + t.width + this.options.offset.x + this.options.arrowOffset + "px", t.top + t.height / 2 - i.height / 2 + this.options.offset.y + "px")
         },
         clearArrows: function() {
             this.$el.removeClass(function(e, t) {
                 return (t.match(/(^|\s)arrow-\S+/gi) || []).join(" ")
             })
         },
         addArrow: function(e) {
             this.$el.toggleClass("arrow-" + e, !0)
         },
         addLeftArrow: function() {
             this.addArrow("left")
         },
         addRightArrow: function() {
             this.addArrow("right")
         },
         addTopArrow: function() {
             this.addArrow("top")
         },
         addBottomArrow: function() {
             this.addArrow("bottom")
         },
         onClickClose: function(e) {
             this.prevent(e),
             this.hide()
         }
     });
     return o
 }),
 define("hbs!templates/community/banners/CommunityLeftRailBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="banner--desktop" id="community_left_rail">\n    <div id="div-gpt-ad-1523297134334-2"></div>\n</div>\n'
     });
     return t.registerPartial("templates_community_banners_CommunityLeftRailBanner", i),
     i
 }),
 define("hbs!templates/community/banners/CommunityRightRailBanner", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="banner--desktop" id="community_right_rail">\n    <div id="div-gpt-ad-1523297134334-3"></div>\n</div>\n'
     });
     return t.registerPartial("templates_community_banners_CommunityRightRailBanner", i),
     i
 }),
 define("hbs!templates/community/CommunityView", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         return this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers),
         '<div class="left-side-wrapper">\n    <div class="community__top"></div>\n    <div class="left-side-wrapper-inner">\n        <div class="community__left-nav nav--desktop"></div>\n        <div class="community__playing"></div>\n        <div class="community__player"></div>\n        <div class="community__avatars"></div>\n        <div class="room-controls"></div>\n    </div>\n    <div class="community__bottom"></div>\n</div>\n\n<!-- chat container -->\n<div class="right-side-wrapper">\n    <div class="community__right-bar"></div>\n</div>'
     });
     return t.registerPartial("templates_community_CommunityView", i),
     i
 }),
 define("f1e1d/d8478/ce75f", ["underscore", "backbone", "backboneDeepModel"], function(e, t) {
     var i = t.DeepModel.extend({
         defaults: {
             title: null,
             description: null,
             target: null,
             direction: null,
             next: !1,
             previous: !1,
             step: {
                 current: 0,
                 total: 0
             },
             skip: !1
         },
         initialize: function() {
             this.on("change:step", this.onUpdateStep, this),
             this.onUpdateStep(this.get("step"))
         },
         onUpdateStep: function(e) {
             var t = !1
               , i = !1;
             e.total > 0 && (e.current < e.total && (t = !0),
             e.current > 1 && (i = !0)),
             this.set({
                 next: t,
                 previous: i
             })
         }
     });
     return i
 }),
 define("hbs!templates/walkthrough/Walkthrough", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             return "disabled"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var o, r = "", l = "function", h = this;
         return r += '<div class="walkthrough">\r\n    <h3 class="walkthrough__title" data-title="">',
         (o = i.title) ? o = o.call(t, {
             hash: {}
         }) : (o = t.title,
         o = typeof o === l ? o.apply(t) : o),
         (o || 0 === o) && (r += o),
         r += '</h3>\r\n    <p class="walkthrough__text" data-description="">',
         (o = i.description) ? o = o.call(t, {
             hash: {}
         }) : (o = t.description,
         o = typeof o === l ? o.apply(t) : o),
         (o || 0 === o) && (r += o),
         r += '</p>\r\n    <div class="walkthrough__bottom">\r\n        <span data-action="previous" class="walkthrough__arrow fa fa-chevron-left ',
         o = i.unless.call(t, t.hasPrevious, {
             hash: {},
             inverse: h.noop,
             fn: h.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += '"></span>\r\n        <span class="walkthrough__bullets">\r\n            <ul class="list-unstyled">\r\n                <li class="walkthrough__bullet" data-bullet=""></li>\r\n            </ul>\r\n        </span>\r\n        <span data-action="next" class="walkthrough__arrow fa fa-chevron-right ',
         o = i.unless.call(t, t.hasNext, {
             hash: {},
             inverse: h.noop,
             fn: h.program(1, a, n)
         }),
         (o || 0 === o) && (r += o),
         r += '"></span>\r\n    </div>\r\n    <button data-action="close" type="button" class="walkthrough-close fa fa-close" data-dismiss="modal"><span class="sr-only">Close</span></button>\r\n</div>'
     });
     return t.registerPartial("templates_walkthrough_Walkthrough", i),
     i
 }),
 define("f1e1d/e74c9/e23ea/c140b", ["underscore", "f1e1d/e74c9/a44ca/dad7c", "f1e1d/e718c/b7acd", "hbs!templates/walkthrough/Walkthrough"], function(e, t, i, s) {
     var n = t.extend({
         identifier: "walkthrough",
         className: "walkthrough",
         events: {
             'click [data-action="close"]': "onClickClose",
             'click [data-action="previous"]': "onClickPrevious",
             'click [data-action="next"]': "onClickNext"
         },
         render: function() {
             return this.$el.html(s(this.options)),
             this
         },
         show: function() {
             this.clearArrows();
             var i = e.result(this.options, "target");
             switch (this.model.get("position")) {
             case "top":
                 this.placeAbove(i),
                 this.addBottomArrow();
                 break;
             case "right":
                 this.placeRight(i),
                 this.addLeftArrow();
                 break;
             case "bottom":
                 this.placeUnder(i),
                 this.addTopArrow();
                 break;
             case "left":
                 this.placeLeft(i),
                 this.addRightArrow()
             }
             t.prototype.show.apply(this, arguments)
         },
         clearArrows: function() {
             this.$el.removeClass(function(e, t) {
                 return (t.match(/(^|\s)arrow-\S+/gi) || []).join(" ")
             })
         },
         addArrow: function(e) {
             this.$el.toggleClass("arrow-" + e, !0)
         },
         addLeftArrow: function() {
             this.addArrow("left")
         },
         addRightArrow: function() {
             this.addArrow("right")
         },
         addTopArrow: function() {
             this.addArrow("top")
         },
         addBottomArrow: function() {
             this.addArrow("bottom")
         },
         onClickClose: function(e) {
             this.prevent(e)
         },
         onClickPrevious: function(e) {
             this.prevent(e)
         },
         onClickNext: function(e) {
             this.prevent(e)
         }
     });
     return n
 }),
 define("f1e1d/e74c9/dc178/a7af3", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/af752/b661e", "f1e1d/af752/c687a", "f1e1d/d9232/b42c1", "f1e1d/fce39/fb3ca", "f1e1d/fce39/d3252", "f1e1d/fce39/ac151", "f1e1d/fce39/d6a89", "f1e1d/be642/e32cc/d1ea2", "f1e1d/be642/e32cc/fa5a3", "f1e1d/d8478/b885e", "f1e1d/d8478/eeaaf", "f1e1d/d8478/e70c0", "f1e1d/d8478/fdf95", "f1e1d/e74c9/b49ed/a178a", "f1e1d/e74c9/b49ed/a6125", "f1e1d/e74c9/ec021/e9913", "f1e1d/e74c9/ec021/ced67", "f1e1d/e74c9/dc178/ecb8f/f539f", "f1e1d/e74c9/dc178/b3668/b046d", "f1e1d/e74c9/dc178/df888/e4031", "f1e1d/e74c9/dc178/df888/fdc6a", "f1e1d/e74c9/dc178/c9c67/e502d", "f1e1d/e74c9/dc178/a18bf/af616", "f1e1d/e74c9/dc178/f40c2/cb1de", "f1e1d/e74c9/dc178/f40c2/fdd40", "f1e1d/e74c9/b49ed/c0731/de88a", "f1e1d/e74c9/b49ed/b3668/def02", "f1e1d/e74c9/a44ca/b1733", "hbs!templates/room/DfpBanner", "hbs!templates/room/PlaybackBanner", "hbs!templates/community/banners/CommunityLeftRailBanner", "hbs!templates/community/banners/CommunityRightRailBanner", "hbs!templates/community/CommunityView", "lang/Lang", "f1e1d/e74c9/b49ed/fbb41", "f1e1d/d8478/ce75f", "f1e1d/e74c9/e23ea/c140b", "f1e1d/d8478/ceca8"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $, E, M, T, I, D, P, R, A, U, B, L, O, N, j, V, F, z) {
     var H = s.extend({
         className: "community",
         initialize: function() {
             n.on("playback:state", this.onPlaybackStateChange, this),
             n.on("playback:media", this.onPlaybackMediaChange, this),
             n.on("walkthrought:start", this.onWalkthroughtStart, this),
             n.on("walkthrought:complete", this.onWalkthroughtComplete, this),
             n.on("room:loaded", this.onRoomVisible, this),
             n.on("change:videoOnly", this.onVideoOnlyChange, this),
             v.on("change:population change:guests", this.onUsersUpdate, this),
             v.on("change:background", this.backgroundUpdate, this),
             h.on("reset", this.onWaitListUpdate, this),
             p.on("reset add remove", this.onRequests, this)
         },
         render: function() {
             return this.$el.html(O(N)),
             this.header = new S({
                 el: this.$(".community__top"),
                 model: v
             }).render(),
             this.leftNavigation = new I({
                 el: this.$(".community__left-nav"),
                 model: v
             }).render(),
             this.playback = new D({
                 el: this.$(".community__playing")
             }).render(),
             this.controlsBar = new x({
                 el: this.$(".community__player")
             }).render(),
             this.interactionBar = new $({
                 el: this.$(".room-controls")
             }).render(),
             this.avatars = new _({
                 el: this.$(".community__avatars")
             }).render(),
             this.rightBar = new E({
                 el: this.$(".community__right-bar")
             }).render(),
             this.history = new P,
             this.$el.append(this.history.render().$el),
             this.twitter = (new k).render(),
             this.facebook = (new C).render(),
             this.switchModel = new i.Model({
                 friends: 0,
                 users: 0,
                 wailist: 0,
                 current: 0
             }),
             this.switch = new T({
                 model: this.switchModel
             }),
             this.$el.append(this.switch.render().$el),
             this.bottom = new M({
                 el: this.$(".community__bottom")
             }).render(),
             this.$el.append(j.render().$el),
             this.bindEvents(),
             this.onUsersUpdate(),
             this.onWaitListUpdate(),
             this.onRequests(),
             this.renderBanners(),
             a.isMobile === !0 && n.on("error:noPlaylist error:noMedia", function(e) {
                 new r(".room-controls--mobile .btn-play",e,{
                     duration: 5e3
                 }).show()
             }, this),
             this.onVideoOnlyChange(),
             this
         },
         backgroundUpdate: function() {
             var e = v.get("background");
             this.$el.find(".left-side-wrapper").css("background-image", "url(" + z.getLink(e) + ")")
         },
         onVideoOnlyChange: function() {
             l.settings.videoOnly ? this.$el.find(".left-side-wrapper").addClass("video-only") : this.$el.find(".left-side-wrapper").removeClass("video-only")
         },
         renderBanners: function() {
             this.avatars.$el.before(A()),
             this.playback.$el.after(U()),
             this.$el.find(".left-side-wrapper").prepend(B()).prepend(L())
         },
         bindEvents: function() {
             n.on("favorite:toggle", this.onToggleFavorite.bind(this)),
             this.$el.on("mousemove", function(e) {
                 n.trigger("community:mousemove", e)
             })
         },
         onToggleFavorite: function() {
             v.get("favorite") ? new f(v.get("id")).on("success", this.onUpdateFavorite.bind(this)) : new u(v.get("id")).on("success", this.onUpdateFavorite.bind(this))
         },
         onResize: function(e) {},
         onUpdateFavorite: function(e) {
             v.set("favorite", e),
             d.trigger("change:favorite", v)
         },
         onPlaybackStateChange: function(e) {
             this.$el.data("state", e),
             this.$el.attr({
                 "data-state": e
             })
         },
         onPlaybackMediaChange: function(e) {
             this.$el.data("media", e),
             this.$el.attr({
                 "data-media": e
             })
         },
         onRoomVisible: function() {
             void 0 !== v.get("staffAvatar") && (c.each(function(e) {
                 e.checkStaffAvatar()
             }),
             this.avatars.redraw())
         },
         onReady: function() {
             this.$el.show(),
             m.isFirstTime() === !1 && this.triggerNudges(),
             a.isMobile === !1 && this.avatars.enable(),
             n.trigger("panel:back", !1, !1)
         },
         onRequests: function() {
             this.switchModel.set("friends", p.length)
         },
         onWaitListUpdate: function() {
             var e = h.getUserPosition();
             e > -1 ? this.switchModel.set("current", e + 1) : this.switchModel.set("current", 0),
             this.switchModel.set("waitlist", h.length)
         },
         onUsersUpdate: function() {
             this.switchModel.set("users", v.get("population")),
             this.switchModel.set("guests", v.get("guests"))
         },
         animate: function(e) {
             this.avatars.animate(e),
             j.animate(e)
         },
         setupVoteReminder: function() {
             n.on("userPlaying:update", function() {
                 var e = m.get("id")
                   , i = g.get("currentDJ")
                   , s = i && e !== i
                   , n = t.keys(b.get("voters")).indexOf(e.toString()) !== -1;
                 s && n === !1 ? this.resetVoteReminder() : n === !0 && this.stopVoteReminder()
             }
             .bind(this))
         },
         startVoteReminder: function() {
             var e = 18e4;
             a.isDevelopment === !0 && (e = 5e3),
             this.voteTimeout = setTimeout(function() {
                 this.voteNudge.show()
             }
             .bind(this), e),
             this.$(".room-controls--desktop-btn").on("click", function() {
                 this.stopVoteReminder(),
                 this.voteNudge.hide()
             }
             .bind(this))
         },
         resetVoteReminder: function() {
             this.stopVoteReminder(),
             this.startVoteReminder()
         },
         stopVoteReminder: function() {
             clearTimeout(this.voteTimeout)
         },
         setupDjReminder: function() {
             n.on("djButton:mode:join djButton:mode:wait", this.resetDjReminder, this),
             n.on("djButton:mode:quit djButton:mode:leave", this.stopDjReminder, this)
         },
         startDjReminder: function() {
             var e = 42e4;
             a.isDevelopment === !0 && (e = 1e4),
             this.DjTimeout = setTimeout(function() {
                 this.djButtonNudge.show(),
                 n.once("djButton:onclick", function() {
                     this.stopDjReminder(),
                     this.djButtonNudge.hide()
                 }, this)
             }
             .bind(this), e)
         },
         resetDjReminder: function() {
             this.stopDjReminder(),
             this.startDjReminder()
         },
         stopDjReminder: function() {
             clearTimeout(this.DjTimeout)
         },
         setupDashboardReminder: function() {
             this.resetDashboardReminder(),
             n.once("show:dashboard", function() {
                 this.stopDashboardReminder(),
                 this.dashboardNudge.hide()
             }, this)
         },
         startDashboardReminder: function() {
             var e = 9e5;
             a.isDevelopment === !0 && (e = 15e3),
             this.dashboardTimeout = setTimeout(function() {
                 this.dashboardNudge.show()
             }
             .bind(this), e)
         },
         resetDashboardReminder: function() {
             this.stopDashboardReminder(),
             this.startDashboardReminder()
         },
         stopDashboardReminder: function() {
             clearTimeout(this.dashboardTimeout)
         },
         triggerNudges: function() {
             a.isMobile === !1 ? this.setupNudges() : this.setupMobileNudges()
         },
         setupMobileNudges: function() {
             this.voteNudge = new R({
                 target: function() {
                     return e(".room-controls--mobile .room-controls__bottom").get(0)
                 },
                 direction: "bottom",
                 title: N["nudge-03"].heading,
                 description: N["nudge-03"].text
             }),
             this.setupVoteReminder(),
             this.$el.append(this.voteNudge.$el),
             this.voteNudge.render()
         },
         setupNudges: function() {
             this.djButtonNudge = new R({
                 target: function() {
                     return e(".dj-button--desktop .dj-button").get(0)
                 },
                 direction: "bottom",
                 title: N["nudge-02"].heading,
                 description: N["nudge-02"].text
             }),
             this.setupDjReminder(),
             this.voteNudge = new R({
                 target: function() {
                     return e(".room-vote--desktop").get(0)
                 },
                 direction: "bottom",
                 title: N["nudge-03"].heading,
                 description: N["nudge-03"].text
             }),
             this.setupVoteReminder(),
             this.dashboardNudge = new R({
                 id: "dashboard-nudge",
                 target: function() {
                     return e(".community__left-nav .menu-dashboard").get(0)
                 },
                 direction: "left",
                 title: N["nudge-01"].heading,
                 description: N["nudge-01"].text
             }),
             this.setupDashboardReminder(),
             this.$el.append(this.djButtonNudge.$el),
             this.$el.append(this.voteNudge.$el),
             this.$el.append(this.dashboardNudge.$el),
             this.djButtonNudge.render(),
             this.voteNudge.render(),
             this.dashboardNudge.render()
         },
         onWalkthroughtComplete: function(e) {
             this.triggerNudges()
         },
         onWalkthroughtStart: function() {
             a.isMobile === !1 && (this.setupWalkthrought(),
             this.startWalkthrought())
         },
         setupMobileWalkthrought: function(arguments) {},
         setupWalkthrought: function() {
             this.intro = window.introJs();
             var i = t.template('<h3 class="walkthrough__title"><%=title%></h3><p class="walkthrough__text"><%=description%></p>')
               , s = (t.template('<h3 class="walkthrough__title"><%=title%></h3><ul class="walkthrought-list"><% _.each(items, function(item){%><li><%=item%></li><% }); %></ul>'),
             t.template('<h3 class="walkthrough__title"><%=title%></h3><ul class="walkthrought-list"><% _.each(items, function(item){%><li><%=item%></li><% }); %></ul> <button class="walkthrough__signup btn btn-primary btn-sign-up">FREE SIGNUP NOW</button>'))
               , o = {};
             a.isMobile === !0 ? (o.step1 = ".room-controls--mobile .room-controls__bottom",
             o.step2 = ".room-controls--mobile .btn-play",
             o.step3 = ".menu-dashboard i",
             o.step4 = ".community__top-right .btn-sign-up") : (o.step1 = ".room-vote--desktop",
             o.step2 = ".dj-button--desktop .dj-button",
             o.step3 = ".menu-dashboard i",
             o.step4 = ".community__top-right .btn-sign-up"),
             this.intro.setOptions({
                 nextLabel: '<span data-action="next" class="walkthrough__arrow fa fa-chevron-right"></span>',
                 prevLabel: '<span data-action="prev" class="walkthrough__arrow fa fa-chevron-left"></span>',
                 skipLabel: '<span data-action="close" class="walkthrough-close fa fa-close"></span>',
                 doneLabel: '<span data-action="close" class="walkthrough-close fa fa-close"></span>',
                 showBullets: !0,
                 showButtons: !0,
                 showStepNumbers: !1,
                 exitOnEsc: !1,
                 exitOnOverlayClick: !1,
                 showProgress: !1,
                 disableInteraction: !1,
                 steps: [{
                     element: e(o.step1).get(0),
                     intro: i({
                         title: N.walkthrough.step1Title,
                         description: N.walkthrough.step1Text
                     }),
                     position: "top"
                 }, {
                     element: e(o.step2).get(0),
                     intro: i({
                         title: N.walkthrough.step2Title,
                         description: N.walkthrough.step2Text
                     }),
                     position: "top"
                 }, {
                     element: e(o.step3).get(0),
                     intro: i({
                         title: N.walkthrough.step3Title,
                         description: N.walkthrough.step3Text
                     }),
                     position: "right"
                 }, {
                     element: e(o.step4).get(0),
                     intro: s({
                         title: N.walkthrough.step4Title,
                         items: [N.walkthrough.step4Bullet1, N.walkthrough.step4Bullet2, N.walkthrough.step4Bullet3, N.walkthrough.step4Bullet4]
                     }),
                     position: "bottom"
                 }]
             }),
             this.intro.onexit(function() {
                 n.trigger("walkthrought:complete", this.intro)
             }
             .bind(this)),
             this.intro.onafterchange(function(t) {
                 setTimeout(function() {
                     var t = e(".walkthrough__signup");
                     t.length > 0 && t.on("click", function(e) {
                         this.prevent(e),
                         n.trigger("signup:show"),
                         this.intro.exit(!0)
                     }
                     .bind(this))
                 }
                 .bind(this), 500)
             }
             .bind(this))
         },
         startWalkthrought: function() {
             this.intro.start()
         }
     });
     return H
 }),
 define("hbs!templates/user/experience/UserExperiencePopover", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o, r = "", l = "function", h = this.escapeExpression;
         return r += '<div class="user-level-dropdown">\n    <div class="user-level-dropdown__top">\n        <p class="user-level-dropdown__welcome"><span class="user-name">',
         (a = i.username) ? a = a.call(t, {
             hash: {}
         }) : (a = t.username,
         a = typeof a === l ? a.apply(t) : a),
         r += h(a) + "</span> " + h((a = t.trans,
         a = null == a || a === !1 ? a : a.userStatus,
         a = null == a || a === !1 ? a : a.thisIsYou,
         typeof a === l ? a.apply(t) : a)) + '</p>\n        <div class="user-level-dropdown__level clearfix">\n            <span class="user-level-dropdown__level-text">Level ',
         (o = i.level) ? o = o.call(t, {
             hash: {}
         }) : (o = t.level,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '</span>\n            <span class="user-level-dropdown__level-number clearfix">\n            <i class="fa fa-headphones" aria-hidden="true"></i> \n        </span>\n        </div>\n        <div class="user-level-dropdown__progress">\n            <div class="progress">\n                <div class="progress-bar" role="progressbar" style="width: ' + h((a = t.exp,
         a = null == a || a === !1 ? a : a.progress,
         typeof a === l ? a.apply(t) : a)) + '%" aria-valuenow="25" aria-valuemin="0"\n                     aria-valuemax="100"> ' + h((a = t.exp,
         a = null == a || a === !1 ? a : a.progress,
         typeof a === l ? a.apply(t) : a)) + '%\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="user-level-dropdown__bottom">\n        <button class="btn btn-terciary btn-level view-more">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.userStatus,
         a = null == a || a === !1 ? a : a.viewMore,
         typeof a === l ? a.apply(t) : a)) + "</button>\n    </div>\n</div>"
     });
     return t.registerPartial("templates_user_experience_UserExperiencePopover", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/b8111/fe15d", ["jquery", "f1e1d/e718c/b7acd", "backbone", "f1e1d/e74c9/a44ca/dad7c", "f1e1d/d8478/b885e", "f1e1d/af752/c506b", "f1e1d/af752/e504b", "lang/Lang", "hbs!templates/user/experience/UserExperiencePopover"], function(e, t, i, s, n, a, o, r, l) {
     var h = s.extend({
         identifier: "userExperience",
         events: {
             "click .view-more": "onClickViewMore"
         },
         constructor: function() {
             this.wrapFunction("onClickViewMore", null, this.hide.bind(this)),
             s.prototype.constructor.apply(this, arguments)
         },
         initialize: function() {
             s.prototype.initialize.apply(this, arguments),
             this.listenTo(this.model, "change", this.render)
         },
         serialize: function() {
             return e.extend({
                 trans: r,
                 exp: {
                     current: this.model.getCurrentExp(),
                     next: this.model.getNextExp(),
                     progress: this.model.getExperienceProgress()
                 }
             }, this.model.toJSON())
         },
         render: function() {
             return this.hide(),
             this.$el.html(l(this.serialize())),
             this.mapDOM(),
             this
         },
         mapDOM: function() {
             this.$(".user-level-dropdown__level-number").text(o.commafy(n.get("pp")))
         },
         show: function(e) {
             this.placeUnder(e),
             s.prototype.show.apply(this, arguments)
         },
         onClickViewMore: function(e) {
             e.preventDefault(),
             e.stopPropagation(),
             t.trigger("show:user", "profile")
         }
     });
     return h
 }),
 define("hbs!templates/user/profile/UserProfilePopover", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         function a(e, t) {
             var i, s = "";
             return s += '<span class="user-profile-dropdown__notifications">' + d((i = e.notifications,
             i = null == i || i === !1 ? i : i.profile,
             typeof i === p ? i.apply(e) : i)) + "</span>"
         }
         function o(e, t) {
             var i, s = "";
             return s += '<span class="user-profile-dropdown__notifications">' + d((i = e.notifications,
             i = null == i || i === !1 ? i : i.store,
             typeof i === p ? i.apply(e) : i)) + "</span>"
         }
         function r(e, t) {
             var i, s = "";
             return s += '<span class="user-profile-dropdown__notifications">' + d((i = e.notifications,
             i = null == i || i === !1 ? i : i.friends,
             typeof i === p ? i.apply(e) : i)) + "</span>"
         }
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var l, h, c = "", p = "function", d = this.escapeExpression, u = this;
         return c += '<div class="user-profile-dropdown">\n    <ul class="list-unstyled">\n        <li class="user-profile-dropdown__item user-action" data-section="profile">\n            <i class="fa fa-user user-profile-dropdown__item-icon " aria-hidden="true"></i>\n            ',
         h = i.if.call(t, (l = t.notifications,
         null == l || l === !1 ? l : l.profile), {
             hash: {},
             inverse: u.noop,
             fn: u.program(1, a, n)
         }),
         (h || 0 === h) && (c += h),
         c += '\n            <span class="user-profile-dropdown__item-text">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.userMenu,
         l = null == l || l === !1 ? l : l.profile,
         typeof l === p ? l.apply(t) : l)) + '</span>\n        </li>\n        <li class="user-profile-dropdown__item user-action" data-section="inventory">\n            <i class="fa fa-shopping-basket user-profile-dropdown__item-icon" aria-hidden="true"></i>\n            ',
         h = i.if.call(t, (l = t.notifications,
         null == l || l === !1 ? l : l.store), {
             hash: {},
             inverse: u.noop,
             fn: u.program(3, o, n)
         }),
         (h || 0 === h) && (c += h),
         c += '\n            <span class="user-profile-dropdown__item-text">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.userMenu,
         l = null == l || l === !1 ? l : l.inventory,
         typeof l === p ? l.apply(t) : l)) + '</span>\n        </li>\n        <li class="user-profile-dropdown__item user-action" data-section="friends">\n            <i class="fa fa-smile-o user-profile-dropdown__item-icon" aria-hidden="true"></i>\n            ',
         h = i.if.call(t, (l = t.notifications,
         null == l || l === !1 ? l : l.friends), {
             hash: {},
             inverse: u.noop,
             fn: u.program(5, r, n)
         }),
         (h || 0 === h) && (c += h),
         c += '\n            <span class="user-profile-dropdown__item-text">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.userMenu,
         l = null == l || l === !1 ? l : l.friends,
         typeof l === p ? l.apply(t) : l)) + '</span>\n        </li>\n        <li class="user-profile-dropdown__item user-action" data-section="played">\n            <i class="fa fa-history user-profile-dropdown__item-icon" aria-hidden="true"></i>\n            <span class="user-profile-dropdown__item-text">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.userMenu,
         l = null == l || l === !1 ? l : l.played,
         typeof l === p ? l.apply(t) : l)) + '</span>\n        </li>\n        <li class="user-profile-dropdown__item user-action" data-section="community">\n            <i class="fa fa-users user-profile-dropdown__item-icon" aria-hidden="true"></i>\n            <span class="user-profile-dropdown__item-text">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.userMenu,
         l = null == l || l === !1 ? l : l.myCommunities,
         typeof l === p ? l.apply(t) : l)) + '</span>\n        </li>\n        <li class="user-profile-dropdown__item playlist playlist">\n            <i class="fa fa-list-ul user-profile-dropdown__item-icon" aria-hidden="true"></i>\n            <span class="user-profile-dropdown__item-text">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.playlist,
         l = null == l || l === !1 ? l : l.yourPlaylists,
         typeof l === p ? l.apply(t) : l)) + ' </span>\n        </li>\n       \n        <li class="user-profile-dropdown__item user-action" data-section="settings">\n            <i class="fa fa-cog user-profile-dropdown__item-icon" aria-hidden="true"></i>\n            <span class="user-profile-dropdown__item-text">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.userMenu,
         l = null == l || l === !1 ? l : l.settings,
         typeof l === p ? l.apply(t) : l)) + '</span>\n        </li>\n        <li class="user-profile-dropdown__item logout">\n            <i class="fa fa-sign-out user-profile-dropdown__item-icon" aria-hidden="true"></i>\n            <span class="user-profile-dropdown__item-text">' + d((l = t.trans,
         l = null == l || l === !1 ? l : l.appMenu,
         l = null == l || l === !1 ? l : l.logout,
         typeof l === p ? l.apply(t) : l)) + "</span>\n        </li>\n    </ul>\n</div>"
     });
     return t.registerPartial("templates_user_profile_UserProfilePopover", i),
     i
 }),
 define("f1e1d/e74c9/b14c6/cc52f/b9021", ["f1e1d/e718c/b7acd", "backbone", "backboneDeepModel", "f1e1d/e74c9/a44ca/dad7c", "f1e1d/be642/b546d/a3157", "f1e1d/af752/c506b", "f1e1d/af752/e504b", "lang/Lang", "hbs!templates/user/profile/UserProfilePopover", "f1e1d/d8478/b885e", "f1e1d/fce39/ac151", "f1e1d/fce39/ec5ba"], function(e, t, i, s, n, a, o, r, l, h, c, p) {
     var d = s.extend({
         identifier: "userProfile",
         events: {
             "click .user-profile-dropdown__item.user-action": "onClickUserAction",
             "click .user-profile-dropdown__item.inventory": "onClickInventory",
             "click .user-profile-dropdown__item.friends": "onClickFriends",
             "click .user-profile-dropdown__item.history": "onClickHistory",
             "click .user-profile-dropdown__item.community": "onClickCommunity",
             "click .user-profile-dropdown__item.playlist": "onClickPlaylist",
             "click .user-profile-dropdown__item.settings": "onClickSettings",
             "click .user-profile-dropdown__item.logout": "onClickLogout"
         },
         constructor: function() {
             this.wrapList(["onClickUserAction", "onClickInventory", "onClickFriends", "onClickHistory", "onClickCommunity", "onClickPlaylist", "onClickSettings", "onClickLogout"], null, this.hide.bind(this)),
             s.prototype.constructor.apply(this, arguments)
         },
         initialize: function() {
             this.model = new t.DeepModel({
                 notifications: {
                     friends: 0,
                     profile: 0,
                     store: 0
                 }
             }),
             this.listenTo(this.model, "change", this.onModelChange),
             s.prototype.initialize.apply(this, arguments),
             c.on("reset add remove", this.onUpdateFriendsCollection, this),
             p.on("reset remove", this.onNotifications, this)
         },
         render: function() {
             return this.hide(),
             this.$el.html(l({
                 trans: r,
                 notifications: this.model.get("notifications")
             })),
             this.mapDOM(),
             this
         },
         mapDOM: function() {},
         show: function(e) {
             this.placeUnder(e),
             s.prototype.show.apply(this, arguments)
         },
         getNotificationsSum: function() {
             var e = this.model.get("notifications");
             return (e.profile || 0) + (e.store || 0) + (e.friends || 0)
         },
         onClickUserAction: function(t) {
             t.preventDefault(),
             t.stopPropagation();
             var i = $(t.currentTarget).data("section");
             e.trigger("show:user", i)
         },
         onClickPlaylist: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("playlist:toggle")
         },
         onClickLogout: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("track:push", ["Logout", "#logout"]),
             _.delay(function() {
                 (new n).on("success", function() {
                     window.location.href = "/"
                 })
             }, 250)
         },
         onUpdateFriendsCollection: function() {
             this.model.set("notifications.friends", c.length)
         },
         onNotifications: function() {
             var e = 0;
             p.length > 0 && (e = p.filter(function(e) {
                 return "levelUp" === e.get("action") && ["4", "6", "8", "10", "12"].indexOf(e.get("value")) > -1
             }).length,
             e > 0 && (4 === h.get("level") && (e += 2),
             e = String(15 * e))),
             this.model.set({
                 "notifications.profile": p.length,
                 "notifications.store": Number(e)
             }),
             p.length + e === 0 && this.model.trigger("change", this.model, 0)
         },
         onModelChange: function() {
             e.trigger("notifications:all", this.getNotificationsSum()),
             this.render()
         }
     });
     return d
 }),
 define("hbs!templates/community/popover/CommunityShareSongPopover", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="share-song arrow-bottom">\n    <p class="share-song-text">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.social,
         a = null == a || a === !1 ? a : a.ShareSong,
         typeof a === r ? a.apply(t) : a)) + '</p>\n    <ul class="list-unstyled share-song-container">\n        <li class="share-song-item share-facebook"><i class="fa fa-facebook" aria-hidden="true"></i><span\n                class="sr-only">Facebook</span></li>\n        <li class="share-song-item share-twitter"><i class="fa fa-twitter" aria-hidden="true"></i><span class="sr-only">Twitter</span>\n        </li>\n        <!--<li class="share-song-item"><i class="fa fa-google-plus" aria-hidden="true"></i><span class="sr-only">Google Plus</span>-->\n        <!--</li>-->\n        <!--<li class="share-song-item"><i class="fa fa-youtube" aria-hidden="true"></i><span class="sr-only">Youtube</span>-->\n        <!--</li>-->\n        <!--<li class="share-song-item"><i class="fa fa-soundcloud" aria-hidden="true"></i><span-->\n        <!--class="sr-only">Soundcloud</span></li>-->\n    </ul>\n</div>'
     });
     return t.registerPartial("templates_community_popover_CommunityShareSongPopover", i),
     i
 }),
 define("f1e1d/e74c9/dc178/a44ca/d14f3", ["f1e1d/e718c/b7acd", "backbone", "f1e1d/e74c9/a44ca/dad7c", "f1e1d/af752/c506b", "f1e1d/af752/e504b", "lang/Lang", "hbs!templates/community/popover/CommunityShareSongPopover"], function(e, t, i, s, n, a, o) {
     var r = i.extend({
         identifier: "shareSong",
         events: {
             "click .share-facebook": "onClickFacebook",
             "click .share-twitter": "onClickTwitter"
         },
         initialize: function() {
             i.prototype.initialize.apply(this, arguments)
         },
         render: function() {
             return this.hide(),
             this.$el.html(o({
                 trans: a
             })),
             this.mapDOM(),
             this
         },
         mapDOM: function() {},
         show: function(e) {
             this.placeAbove(e),
             i.prototype.show.apply(this, arguments)
         },
         onClickFacebook: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("fb:share")
         },
         onClickTwitter: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("tw:share")
         }
     });
     return r
 }),
 define("hbs!templates/community/popover/CommunityShareRoomPopover", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="share-room">\n    <p class="share-room-text">' + l((a = t.trans,
         a = null == a || a === !1 ? a : a.social,
         a = null == a || a === !1 ? a : a.ShareRoom,
         typeof a === r ? a.apply(t) : a)) + '</p>\n    <ul class="list-unstyled share-room-container">\n        <li class="share-room-item share-facebook"><i class="fa fa-facebook" aria-hidden="true"></i><span\n                class="sr-only">Facebook</span></li>\n        <li class="share-room-item share-twitter"><i class="fa fa-twitter" aria-hidden="true"></i><span class="sr-only">Twitter</span>\n        </li>\n        <!--<li class="share-room-item"><i class="fa fa-google-plus" aria-hidden="true"></i><span class="sr-only">Google Plus</span>-->\n        <!--</li>-->\n        <!--<li class="share-room-item"><i class="fa fa-youtube" aria-hidden="true"></i><span class="sr-only">Youtube</span>-->\n        <!--</li>-->\n        <!--<li class="share-room-item"><i class="fa fa-soundcloud" aria-hidden="true"></i><span-->\n        <!--class="sr-only">Soundcloud</span></li>-->\n    </ul>\n</div>'
     });
     return t.registerPartial("templates_community_popover_CommunityShareRoomPopover", i),
     i
 }),
 define("f1e1d/e74c9/dc178/a44ca/c419d", ["f1e1d/e718c/b7acd", "backbone", "f1e1d/e74c9/a44ca/dad7c", "f1e1d/af752/c506b", "f1e1d/af752/e504b", "lang/Lang", "hbs!templates/community/popover/CommunityShareRoomPopover"], function(e, t, i, s, n, a, o) {
     var r = i.extend({
         identifier: "shareRoom",
         events: {
             "click .share-facebook": "onClickFacebook",
             "click .share-twitter": "onClickTwitter"
         },
         initialize: function() {
             i.prototype.initialize.apply(this, arguments)
         },
         render: function() {
             return this.hide(),
             this.$el.html(o({
                 trans: a
             })),
             this.mapDOM(),
             this
         },
         mapDOM: function() {},
         show: function(e) {
             this.placeUnder(e),
             i.prototype.show.apply(this, arguments)
         },
         onClickFacebook: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("fb:invite")
         },
         onClickTwitter: function(t) {
             t.preventDefault(),
             t.stopPropagation(),
             e.trigger("tw:invite")
         }
     });
     return r
 }),
 define("hbs!templates/welcome/WelcomeMessage", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o, r = "", l = "function", h = this.escapeExpression;
         return r += '<!--<div class="modal" tabindex="-1" role="dialog">-->\n    <div class="modal-dialog" role="document">\n        <div class="modal-content">\n            <div class="modal-body">\n                <div class="welcome room-superplugdj">\n                    <div class="welcome-top">\n                        <div class="live-listeners">\n                            <span class="live"><i class="fa fa-circle" aria-hidden="true"></i> ' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.welcome,
         a = null == a || a === !1 ? a : a.live,
         typeof a === l ? a.apply(t) : a)) + "</span>\n                            ",
         (o = i.population) ? o = o.call(t, {
             hash: {}
         }) : (o = t.population,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + " " + h((a = t.trans,
         a = null == a || a === !1 ? a : a.welcome,
         a = null == a || a === !1 ? a : a.listeners,
         typeof a === l ? a.apply(t) : a)) + '\n                        </div>\n                        <div class="room-intro">\n                            <p class="room-intro-top"><span class="plugdj-logo-word"></span> ' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.welcome,
         a = null == a || a === !1 ? a : a.title,
         typeof a === l ? a.apply(t) : a)) + '</p>\n                            <p class="room-name">',
         (o = i.name) ? o = o.call(t, {
             hash: {}
         }) : (o = t.name,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + " " + h((a = t.trans,
         a = null == a || a === !1 ? a : a.welcome,
         a = null == a || a === !1 ? a : a.room,
         typeof a === l ? a.apply(t) : a)) + '</p>\n                            <p class="room-host">\n                                ' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.dashboard,
         a = null == a || a === !1 ? a : a.hostedBy,
         typeof a === l ? a.apply(t) : a)) + '&nbsp;\n                                <span class="host-name">',
         (o = i.hostName) ? o = o.call(t, {
             hash: {}
         }) : (o = t.hostName,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + '</span>\n                                <!--<span class="room-intro-views"><i class="fa fa-eye" aria-hidden="true"></i> 24,531</span>-->\n                            </p>\n                        </div>\n                        <div class="welcome-top-bg"></div>\n                    </div>\n                    <div class="welcome-bottom">\n                        <ul class="list-unstyled">\n                            <li class="welcome-bottom-item listen">\n                                <p class="welcome-bottom-text">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.welcome,
         a = null == a || a === !1 ? a : a.heading1,
         typeof a === l ? a.apply(t) : a)) + '</p>\n                            </li>\n                            <li class="welcome-bottom-item play">\n                                <p class="welcome-bottom-text">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.welcome,
         a = null == a || a === !1 ? a : a.heading2,
         typeof a === l ? a.apply(t) : a)) + '</p>\n                            </li>\n                            <li class="welcome-bottom-item rooms">\n                                <p class="welcome-bottom-text">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.welcome,
         a = null == a || a === !1 ? a : a.heading3,
         typeof a === l ? a.apply(t) : a)) + '</p>\n                            </li>\n                        </ul>\n                        <button class="btn welcome-btn">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.welcome,
         a = null == a || a === !1 ? a : a.button,
         typeof a === l ? a.apply(t) : a)) + "</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n<!--</div>-->"
     });
     return t.registerPartial("templates_welcome_WelcomeMessage", i),
     i
 }),
 define("f1e1d/e74c9/da608/cbf53", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/af752/b661e", "f1e1d/d8478/b885e", "f1e1d/d9232/b42c1", "lang/Lang", "hbs!templates/welcome/WelcomeMessage"], function(e, t, i, s, n, a, o, r, l, h, c) {
     var p = s.extend({
         className: "welcome-modal modal fade",
         events: {
             "click .welcome-btn": "onClickEnter"
         },
         initialize: function() {
             this.model.on("change", this.render, this)
         },
         render: function() {
             return this.$el.html(c(t.extend({
                 trans: h
             }, this.model.toJSON()))),
             this
         },
         show: function() {
             this.setData("state", "shown")
         },
         hide: function() {
             this.setData("state", "hidden")
         },
         onClickEnter: function(e) {
             this.prevent(e),
             this.hide(),
             r.isGuest() === !0 && n.trigger("walkthrought:start")
         }
     });
     return p
 }),
 define("f1e1d/be642/c76df/a50cf", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "PUT",
         route: "users/signup/username",
         init: function(e) {
             this.data = {
                 username: e
             },
             this._super(!0)
         }
     });
     return t
 }),
 define("hbs!templates/welcome/WelcomeSetUsername", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o = "", r = "function", l = this.escapeExpression;
         return o += '<div class="modal-dialog" role="document">\n    <div class="modal-content">\n\n        <div class="modal-title">\n            <h1>One more step!</h1>\n            <p>Please choose your Plug.dj user name</p>\n        </div>\n\n        <form action="post">\n\n\n            <input type="text" class="username checkInput" maxlength="24" placeholder="' + l((a = t.lang,
         a = null == a || a === !1 ? a : a.signup,
         a = null == a || a === !1 ? a : a.username,
         typeof a === r ? a.apply(t) : a)) + '">\n            <p class="username error missing">' + l((a = t.lang,
         a = null == a || a === !1 ? a : a.alerts,
         a = null == a || a === !1 ? a : a.usernameMissing,
         typeof a === r ? a.apply(t) : a)) + ' </p>\n            <p class="username error invalid">' + l((a = t.lang,
         a = null == a || a === !1 ? a : a.alerts,
         a = null == a || a === !1 ? a : a.usernameInvalid,
         typeof a === r ? a.apply(t) : a)) + ' </p>\n            <p class="username error short">' + l((a = t.lang,
         a = null == a || a === !1 ? a : a.alerts,
         a = null == a || a === !1 ? a : a.usernameShort,
         typeof a === r ? a.apply(t) : a)) + '</p>\n            <p class="username error inaccessible">' + l((a = t.lang,
         a = null == a || a === !1 ? a : a.signup,
         a = null == a || a === !1 ? a : a.usernameSuggestionGeneric,
         typeof a === r ? a.apply(t) : a)) + '</p>\n\n            <div>\n                <a href="#" class="mb-4 btn-blue apply" >Go to the app</a>\n            </div>\n\n\n        </form>\n\n\n\n    </div>\n</div>'
     });
     return t.registerPartial("templates_welcome_WelcomeSetUsername", i),
     i
 }),
 define("f1e1d/e74c9/da608/b7863", ["jquery", "underscore", "backbone", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/af752/fa88e", "f1e1d/af752/b661e", "f1e1d/d8478/b885e", "f1e1d/d9232/b42c1", "lang/Lang", "f1e1d/be642/c76df/ca4ff", "f1e1d/be642/c76df/a50cf", "hbs!templates/welcome/WelcomeSetUsername"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u = s.extend({
         className: "modal-setUsername modal",
         events: {
             "click a.apply": "onSubmit",
             "keyup .checkInput.username": "usernameAutoCheck",
             "keydown form": "keyPressEventHandler"
         },
         initialize: function() {
             this.usernameTest = 0,
             this.lastUsername = null,
             this.submitting = !1,
             this.timer = null
         },
         render: function() {
             return this.$el.html(d(t.extend({
                 lang: h
             }))),
             this.$el.modal({
                 show: !1,
                 focus: !0,
                 keyboard: !0,
                 backdrop: !1
             }),
             this.$submitBtn = this.$el.find("button.apply"),
             this.$usernameInput = this.$el.find("input.username"),
             this.allErrors = this.$el.find(".error"),
             this.$usernameErrorMissing = this.$el.find(".error.username.missing"),
             this.$usernameErrorInvalid = this.$el.find(".error.username.invalid"),
             this.$usernameErrorShort = this.$el.find(".error.username.short"),
             this.$usernameErrorInaccessible = this.$el.find(".error.username.inaccessible"),
             this
         },
         show: function() {
             this.$el.modal("show")
         },
         hide: function() {
             this.$el.modal("hide")
         },
         usernameAutoCheck: function(e) {
             function i() {
                 var e = this.$usernameInput.val();
                 e.length > 1 && e.length < 25 && e.indexOf("/") === -1 && e.indexOf("@") === -1 ? (this.lastUsername !== e,
                 this.usernameTest = 1,
                 this.$usernameErrorInaccessible.hide(),
                 this.$usernameErrorInvalid.hide(),
                 this.$usernameErrorShort.hide(),
                 this.$usernameInput.addClass("success"),
                 this.$usernameInput.removeClass("error")) : 0 === e.length ? (this.usernameTest = 0,
                 this.$usernameErrorInaccessible.hide(),
                 this.$usernameInput.removeClass("success"),
                 this.$usernameInput.addClass("error")) : e.length < 2 ? (this.usernameTest = -1,
                 this.$usernameErrorInaccessible.hide(),
                 this.$usernameErrorInvalid.hide(),
                 this.$usernameInput.removeClass("success"),
                 this.$usernameInput.addClass("error")) : (this.usernameTest = -2,
                 this.$usernameErrorInaccessible.hide(),
                 this.$usernameErrorInvalid.show(),
                 this.$usernameInput.removeClass("success"),
                 this.$usernameInput.addClass("error"))
             }
             function s() {
                 var e = this.$usernameInput.val();
                 1 === this.usernameTest && (this.lastUsername = e,
                 clearTimeout(this.timer),
                 this.timer = setTimeout(t.bind(function() {
                     new c(e).on("success", function() {
                         this.$usernameErrorInaccessible.hide(),
                         this.$usernameInput.removeClass("error"),
                         this.$usernameInput.addClass("success")
                     }
                     .bind(this)).on("error", function() {
                         this.usernameTest = -3,
                         this.$usernameErrorInaccessible.show(),
                         this.$usernameInput.addClass("error")
                     }
                     .bind(this))
                 }, this), 300))
             }
             return (null === e || 13 !== event.keyCode) && (this.$usernameErrorMissing.hide(),
             i.bind(this)(),
             void s.bind(this)())
         },
         keyPressEventHandler: function(e) {
             13 === e.keyCode && (this.onSubmit(),
             e.preventDefault())
         },
         warningUpdate: function() {
             0 === this.usernameTest ? (this.$usernameErrorInvalid.hide(),
             this.$usernameErrorMissing.show(),
             this.$usernameErrorShort.hide(),
             this.$usernameErrorInaccessible.hide(),
             this.$usernameInput.removeClass("success"),
             this.$usernameInput.addClass("error")) : 1 === this.usernameTest ? (this.$usernameErrorMissing.hide(),
             this.$usernameErrorInvalid.hide(),
             this.$usernameErrorShort.hide(),
             this.$usernameErrorInaccessible.hide()) : this.usernameTest === -1 ? (this.$usernameErrorMissing.hide(),
             this.$usernameErrorInvalid.hide(),
             this.$usernameErrorShort.show(),
             this.$usernameErrorInaccessible.hide(),
             this.$usernameInput.removeClass("success"),
             this.$usernameInput.addClass("error")) : this.usernameTest === -2 ? (this.$usernameErrorMissing.hide(),
             this.$usernameErrorInvalid.show(),
             this.$usernameErrorShort.hide(),
             this.$usernameErrorInaccessible.hide(),
             this.$usernameInput.removeClass("success"),
             this.$usernameInput.addClass("error")) : this.usernameTest === -3 && (this.$usernameErrorMissing.hide(),
             this.$usernameErrorInvalid.hide(),
             this.$usernameErrorShort.hide(),
             this.$usernameErrorInaccessible.show(),
             this.$usernameInput.removeClass("success"),
             this.$usernameInput.addClass("error"))
         },
         hideErrors: function() {
             this.allErrors.hide()
         },
         onSubmit: function() {
             this.submitting || (this.submitting = !0,
             this.usernameAutoCheck(),
             this.warningUpdate(),
             1 === this.usernameTest ? new p(this.lastUsername).on("success", t.bind(this.onSuccess, this)).on("error", t.bind(this.onError, this)) : this.submitting = !1)
         },
         onSuccess: function() {
             this.hideErrors(),
             this.hide()
         },
         onError: function() {
             this.submitting = !1,
             this.warningUpdate()
         }
     });
     return u
 }),
 define("f1e1d/ffb50/e3a80", [], function() {
     "use strict";
     return {}
 }),
 define("f1e1d/a3bee/b4aa3", ["underscore", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/af752/bfef4", "f1e1d/af752/fa88e", "f1e1d/ffb50/e3a80", "hbs!templates/walkthrough/Walkthrough"], function(e, t, i, s, n, a, o) {
     var r = t.extend({
         options: {
             defaultTemplate: "walkthroughTemplate",
             defaultTheme: "plug",
             defaultConfig: {
                 arrow: !0,
                 size: "large",
                 hideOnClick: !1,
                 interactive: !0,
                 performance: !0,
                 trigger: "manual"
             }
         },
         init: function(t) {
             this.tippy = window.tippy,
             this.current = 0,
             this.options = e.extend(this.options, t),
             this.steps = this.options.steps || {},
             this.total = this.steps.length
         },
         hasNext: function() {
             return this.current < this.total - 1
         },
         hasPrevious: function() {
             return this.current > 0
         },
         injectTemplateData: function(e, t) {
             var i = $(this)
               , s = i.find("[data-bullet]").first()
               , n = s.parent();
             n.empty();
             for (var a = 0; a < e.total; a++)
                 n.append(s.clone());
             i.find('[data-action="previous"]:not(.disabled)').off("click"),
             i.find('[data-action="previous"]:not(.disabled)').on("click", function() {
                 t.previous()
             }),
             i.find('[data-action="next"]:not(.disabled)').off("click"),
             i.find('[data-action="next"]:not(.disabled)').on("click", function() {
                 t.next()
             }),
             i.find('[data-action="close"]:not(.disabled)').off("click"),
             i.find('[data-action="close"]:not(.disabled)').on("click", function() {
                 t.skip()
             }),
             n.children().removeClass("selected").eq(e.index).addClass("selected")
         },
         setupStep: function(t) {
             var i = $(o(t));
             this.tippy(t.target, e.extend(this.options.defaultConfig, t.config || {}, {
                 id: t.index,
                 html: t.template || i.get(0),
                 onShow: e.partial(this.injectTemplateData, t, this),
                 theme: t.theme || this.options.defaultTheme
             }));
             t.instance = $(t.target).get(0)._tippy
         },
         updateStepInfo: function(e) {
             e.total = this.total,
             e.index = this.current,
             e.hasNext = this.hasNext(),
             e.hasPrevious = this.hasPrevious()
         },
         showStep: function(e, t) {
             var i = this.steps[e];
             return void 0 !== i.beforeShow && i.beforeShow(this),
             void 0 !== i.delay && t !== !0 ? setTimeout(function() {
                 this.showStep(e, !0)
             }
             .bind(this), i.delay) : (this.updateStepInfo(i),
             void 0 === i.instance && this.setupStep(i),
             i.instance.show(),
             void (void 0 !== i.afterShow && i.afterShow(this)))
         },
         hideStep: function(e) {
             try {
                 this.steps[e].instance.hide()
             } catch (e) {
                 return !1
             }
         },
         next: function() {
             this.hasNext() === !0 ? (this.hideStep(this.current),
             this.current = this.current + 1,
             this.showStep(this.current)) : this.complete()
         },
         previous: function() {
             this.hasPrevious() === !0 && (this.hideStep(this.current),
             this.current = this.current - 1,
             this.showStep(this.current))
         },
         start: function() {
             this.showStep(this.current)
         },
         stop: function() {
             this.hideStep(this.current)
         },
         skip: function() {
             this.stop(),
             this.current = 0,
             void 0 !== this.options.onSkip && this.options.onSkip(this)
         },
         complete: function() {
             void 0 !== this.options.onComplete && this.options.onComplete(this)
         }
     });
     return r
 }),
 define("f1e1d/be642/f5f22/ea8a6", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "POST",
         route: "pushnotifications",
         init: function(e) {
             this.data = {
                 player_id: e
             },
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success(e.data[0]) : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("f1e1d/be642/f5f22/a0155", ["f1e1d/be642/b7b48"], function(e) {
     var t = e.extend({
         type: "DELETE",
         init: function(e) {
             this.route = "pushnotifications/",
             this._super(!0)
         },
         parse: function(e) {
             200 === e.code ? this.success && this.success() : this.error && this.error(e.code)
         }
     });
     return t
 }),
 define("f1e1d/ffb50/f00bd", [], function() {
     "use strict";
     return {
         MILISSECOND: 1,
         SECOND: 1e3,
         MINUTE: 6e4,
         HOUR: 36e5,
         DAY: 864e5
     }
 }),
 define("f1e1d/af752/d6f26", ["jquery", "underscore", "backboneSuper", "onesignal", "f1e1d/e718c/b5ee0", "f1e1d/be642/f5f22/ea8a6", "f1e1d/be642/f5f22/a0155", "f1e1d/be642/c76df/b0cd7", "lang/Lang", "f1e1d/af752/e7b9f", "f1e1d/d8478/edecb", "f1e1d/d8478/b885e", "f1e1d/ffb50/f00bd"], function(e, t, i, s, n, a, o, r, l, h, c, p, d) {
     var u, f = n.extend({
         init: function() {},
         initialize: function() {
             s.push(function() {
                 setTimeout(function() {
                     h.actual("Web Push Notifications", "Push Notification Alert", "Initialized"),
                     s.showHttpPrompt()
                 }, 4 * d.MINUTE),
                 s.SERVICE_WORKER_PARAM = {
                     scope: "/"
                 }
             }),
             s.push(["init", {
                 allowLocalhostAsSecureOrigin: !0,
                 appId: "3e35d8f2-f9e4-46cf-801d-de92f9593424",
                 autoRegister: !1,
                 path: "/onesignal/",
                 notificationClickHandlerMatch: "origin",
                 notificationClickHandlerAction: "focus",
                 persistNotification: !0,
                 promptOptions: {
                     actionMessage: l.pushNotifications.actionMessage,
                     acceptButtonText: l.pushNotifications.acceptButtonText,
                     cancelButtonText: l.pushNotifications.cancelButtonText
                 },
                 welcomeNotification: {
                     title: l.pushNotifications.welcomeTitle,
                     message: l.pushNotifications.welcomeMessage
                 },
                 notifyButton: {
                     enable: !1,
                     size: "medium",
                     theme: "default",
                     position: "bottom-right",
                     offset: {
                         bottom: "65px",
                         left: "0px",
                         right: "20px"
                     },
                     prenotify: !1,
                     showCredit: !0,
                     text: {
                         "tip.state.unsubscribed": "Subscribe to notifications",
                         "tip.state.subscribed": "You're subscribed to notifications",
                         "tip.state.blocked": "You've blocked notifications",
                         "message.prenotify": "Click to subscribe to notifications",
                         "message.action.subscribed": "Thanks for subscribing!",
                         "message.action.resubscribed": "You're subscribed to notifications",
                         "message.action.unsubscribed": "You won't receive notifications again",
                         "dialog.main.title": "Manage Site Notifications",
                         "dialog.main.button.subscribe": "SUBSCRIBE",
                         "dialog.main.button.unsubscribe": "UNSUBSCRIBE",
                         "dialog.blocked.title": "Unblock Notifications",
                         "dialog.blocked.message": "Follow these instructions to allow notifications:"
                     }
                 }
             }]),
             s.push(["addListenerForNotificationOpened", function(e) {
                 s.getUserId(function(t) {
                     0 != p.get("id") ? h.actual("Web Push Notifications", e.heading, "Clicked by Registered User") : h.actual("Web Push Notifications", e.heading, "Clicked by Guest")
                 })
             }
             ]),
             s.push(function() {
                 s.on("popoverShown", function(e) {
                     h.actual("Web Push Notifications", "Push Notification Alert", "View")
                 }),
                 s.on("popoverAllowClick", function(e) {
                     h.actual("Web Push Notifications", "Push Notification Alert", "Accept"),
                     0 != p.get("id") && s.getUserId(function(e) {
                         null != e && new a(e)
                     })
                 }),
                 s.on("popoverCancelClick", function(e) {
                     h.actual("Web Push Notifications", "Push Notification Alert", "Decline"),
                     0 != p.get("id") && s.getUserId(function(e) {
                         null != e && new o(e)
                     })
                 }),
                 s.on("subscriptionChange", function(e) {
                     0 != p.get("id") && (e ? s.getUserId(function(e) {
                         null != e && new a(e)
                     }) : s.getUserId(function(e) {
                         null != e && new o(e)
                     }))
                 }),
                 s.on("notificationDisplay", function(e) {
                     h.actual("Web Push Notifications", e.heading, "Sent")
                 }),
                 s.on("permissionPromptDisplay", function(e) {
                     h.actual("Web Push Notifications", "Native Permission Request", "View")
                 }),
                 s.on("notificationPermissionChange", function(e) {
                     var t = e.to;
                     "granted" == t ? h.actual("Web Push Notifications", "Native Permission Request", "Allowed") : "denied" == t ? h.actual("Web Push Notifications", "Native Permission Request", "Blocked") : "default" == t && h.actual("Web Push Notifications", "Native Permission Request", "Closed")
                 })
             })
         },
         sendRequest: function() {
             0 != p.get("id") && s.getUserId(function(e) {
                 null != e && new a(e)
             })
         }
     });
     return u = new f
 }),
 define("hbs!templates/app/Loading", ["hbs", "handlebars"], function(e, t) {
     var i = t.template(function(e, t, i, s, n) {
         this.compilerInfo = [4, ">= 1.0.0"],
         i = this.merge(i, e.helpers);
         var a, o, r = "", l = "function", h = this.escapeExpression;
         return r += '<div class="loading-box">\r\n  <div class="content">\r\n    <i class="logo"></i>\r\n    <div class="spotlight-wrapper">\r\n      <div class="spotlight"></div>\r\n    </div>\r\n    <span class="connecting">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.roomInfo,
         a = null == a || a === !1 ? a : a.loading,
         typeof a === l ? a.apply(t) : a)) + ' ...</span>\r\n  </div>\r\n  <a href="http://support.plug.dj" target="_blank">' + h((a = t.trans,
         a = null == a || a === !1 ? a : a.transfer,
         a = null == a || a === !1 ? a : a.support,
         typeof a === l ? a.apply(t) : a)) + ' </a>\r\n  <span class="version">',
         (o = i.version) ? o = o.call(t, {
             hash: {}
         }) : (o = t.version,
         o = typeof o === l ? o.apply(t) : o),
         r += h(o) + "</span>\r\n</div>"
     });
     return t.registerPartial("templates_app_Loading", i),
     i
 }),
 define("f1e1d/e74c9/f1e1d/af2f0", ["jquery", "underscore", "backbone", "backboneDeepModel", "hammer", "f1e1d/e718c/b2952", "f1e1d/e718c/b7acd", "f1e1d/fce39/e61b0", "f1e1d/e8300/a815f", "f1e1d/e8300/dbc87", "f1e1d/e8300/be22c", "f1e1d/e8300/dcb95", "f1e1d/e8300/dc3a7", "f1e1d/e8300/dd988", "f1e1d/e8300/ac976", "f1e1d/e8300/d583a", "f1e1d/a3bee/fdc17", "f1e1d/d8478/e70c0", "f1e1d/d8478/b885e", "f1e1d/d8e24/e1aec", "f1e1d/d9232/b42c1", "f1e1d/af752/f4c6d", "f1e1d/af752/c506b", "f1e1d/af752/f0d32", "f1e1d/e74c9/f1e1d/e3e79", "f1e1d/e74c9/d7fde/eb7af", "f1e1d/e74c9/c5cd9/ff731", "f1e1d/e74c9/c5cd9/ff1cf", "f1e1d/e74c9/c00f1/d56c0", "f1e1d/e74c9/c00f1/dfc54", "f1e1d/e74c9/ec021/a33e7", "f1e1d/e74c9/a245a/a0ec5", "f1e1d/e74c9/b49ed/e307c", "f1e1d/e74c9/b49ed/ff2dd/e3da3", "f1e1d/e74c9/fe2bb/d16e2", "f1e1d/e74c9/fe2bb/d5a30/f5e38", "f1e1d/e74c9/a6e51/f2220", "f1e1d/e74c9/b14c6/c8537", "f1e1d/e74c9/dc178/a7af3", "f1e1d/e74c9/b14c6/b8111/fe15d", "f1e1d/e74c9/b14c6/cc52f/b9021", "f1e1d/e74c9/dc178/a44ca/d14f3", "f1e1d/e74c9/dc178/a44ca/c419d", "f1e1d/e74c9/d9fb2/cc26e", "f1e1d/e74c9/da608/cbf53", "f1e1d/e74c9/da608/b7863", "f1e1d/a3bee/b4aa3", "lang/Lang", "f1e1d/af752/bacfb", "f1e1d/af752/f3ab8", "f1e1d/af752/fa88e", "f1e1d/e8300/a3e66", "f1e1d/d8478/b5029", "f1e1d/af752/d6f26", "f1e1d/e74c9/dc178/a18bf/af616", "f1e1d/ee86e/c9f07", "f1e1d/e8300/f1c1b", "hbs!templates/app/Loading", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b, w, y, C, k, _, S, x, $, E, M, T, I, D, P, R, A, U, B, L, O, N, j, V, F, z, H, q, G, W, Y, J, X, K, Q, Z, ee, te, ie, se, ne) {
     function ae(e) {
         b.get("guest") || (de = window.location.hash.substr(1),
         e ? r.on("update", oe) : o.on("room:joined", oe))
     }
     function oe() {
         if (r.off("update", oe),
         o.off("room:joined", oe),
         0 === de.indexOf("store")) {
             var e;
             de.length > 13 && (e = de.split("-").pop(),
             W.userAvatars[e] || (e = void 0)),
             o.trigger("show:user", "store", "avatars", e)
         } else
             "shop-badges" === de ? o.trigger("show:user", "store", "badges") : "shop-extras" === de ? o.trigger("show:user", "store", "misc") : "settings-app" === de ? o.trigger("show:user", "settings") : "settings-account" === de ? o.trigger("show:user", "settings", "account") : "my-profile" === de ? o.trigger("show:user", "profile") : "my-avatars" === de ? o.trigger("show:user", "inventory") : "my-badges" === de ? o.trigger("show:user", "inventory", "badges") : "my-purchases" === de ? o.trigger("show:user", "inventory", "history") : "friends" === de ? o.trigger("show:user", "friends") : "playlists" === de ? o.trigger("playlist:open") : "playlist-import" === de ? _.ready ? o.trigger("playlist:open").trigger("import:show") : o.on("sc:ready", pe) : "playlist-create" === de ? o.trigger("playlist:first") : k.isRoom ? "community-settings" === de ? o.trigger("show:settings") : "favorites" === de ? t.delay(function() {
                 o.trigger("show:dashboard", !0, !0)
             }, 250) : "fb-invite" === de ? o.on("room:joined", re) : "tw-invite" === de ? o.on("room:joined", le) : "fb-share" === de ? o.on("room:joined", he) : "tw-share" === de ? o.on("room:joined", ce) : "dashboard" === de && o.trigger("show:dashboard") : "favorites" === de ? t.delay(function() {
                 o.trigger("show:favorites")
             }, 250) : "fb-invite" === de ? o.trigger("fb:invite") : "tw-invite" === de && o.trigger("tw:invite");
         de = void 0
     }
     function re() {
         o.off("room:joined", re).trigger("fb:invite")
     }
     function le() {
         o.off("room:joined", le).trigger("tw:invite")
     }
     function he() {
         o.off("room:joined", he).trigger("fb:share")
     }
     function ce() {
         o.off("room:joined", ce).trigger("tw:share")
     }
     function pe() {
         o.off("sc:ready", pe).trigger("playlist:open").trigger("import:show")
     }
     var de, ue = 0, fe = a.extend({
         el: "body",
         initialize: function() {
             b.checkFirstTime(),
             X.isDevelopment === !0 && (window.Context = o),
             o.on("room:loaded", this.onJoinRoom, this),
             o.on("panel:show", this.onPanelShow, this),
             o.on("panel:back", this.onPanelBack, this),
             o.on("panel:close", this.onPanelClose, this),
             o.on("settings:tooltip", this.onChangeTooltipSettings, this),
             1 == X.isMobile && (o.on("leftNavigation:opened", this.stopListeningToMobile, this),
             o.on("leftNavigation:closed", this.startListeningToMobile, this),
             o.on("walkthrought:start", this.startWalkthrought, this)),
             this.userExperiencePopover = new N({
                 model: b,
                 offset: {
                     x: -75,
                     y: 20
                 }
             }),
             this.userProfilePopover = new j({
                 offset: {
                     x: -70,
                     y: 20
                 }
             }),
             this.shareSongPopover = new V({
                 offset: {
                     x: 0,
                     y: -20
                 }
             }),
             this.shareRoomPopover = new F({
                 offset: {
                     x: 0,
                     y: 20
                 }
             }),
             this.walkthrough = new G({
                 onComplete: function(e) {
                     o.trigger("leftNavigation:close")
                 },
                 onSkip: function(e) {
                     o.trigger("leftNavigation:close")
                 },
                 steps: [{
                     target: ".room-controls--mobile .room-controls__bottom",
                     title: W.walkthrough.step1Title,
                     description: W.walkthrough.step1Text
                 }, {
                     beforeShow: function(e) {
                         o.trigger("leftNavigation:close")
                     },
                     target: ".room-controls--mobile .btn-play",
                     title: W.walkthrough.step2Title,
                     description: W.walkthrough.step2Text
                 }, {
                     beforeShow: function(e) {
                         o.trigger("leftNavigation:open")
                     },
                     delay: 500,
                     target: ".nav-left .menu-dashboard",
                     title: W.walkthrough.step3Title,
                     description: W.walkthrough.step3Text,
                     theme: "plug centered"
                 }, {
                     afterShow: function(t) {
                         e("#wt-signup").off(),
                         e("#wt-signup").on("click", function() {
                             o.trigger("signup:show"),
                             t.skip()
                         })
                     },
                     beforeShow: function(e) {
                         o.trigger("leftNavigation:close")
                     },
                     target: ".community__top-right .btn-sign-up",
                     theme: "plug ",
                     title: W.walkthrough.step4Title,
                     description: t.template('<ul class="walkthrought-list"><% _.each(items, function(item){%><li><%=item%></li><% }); %></ul> <button id="wt-signup" class="walkthrough__signup btn btn-primary btn-sign-up">FREE SIGNUP NOW</button>')({
                         items: [W.walkthrough.step4Bullet1, W.walkthrough.step4Bullet2, W.walkthrough.step4Bullet3, W.walkthrough.step4Bullet4]
                     })
                 }]
             }),
             window.walk = this.walkthrough,
             this.userExperiencePopover.on("show", this.userProfilePopover.hide.bind(this.userProfilePopover)),
             this.userProfilePopover.on("show", this.userExperiencePopover.hide.bind(this.userExperiencePopover)),
             window._theme = "vintage",
             this.showSpinner(),
             this.$app = e("#app"),
             this.setData("state", "loading"),
             this.menu = new x({
                 model: v
             }),
             this.dashboard = new E,
             this.room = new O,
             this.playlist = new z,
             this.settings = new R,
             this.footer = new ee,
             this.dialog = new M,
             this.user = new L,
             this.notifications = new D,
             this.regex = /\\u([\d\w]{4})/gi;
             var i = this;
             o.on("ack", function() {
                 o.off("ack").dispatch(new u(u.METADATA,t.bind(i.onFetchRoomMetadata, i))).dispatch(new f(f.METADATA,t.bind(i.onFetchRoomMetadata, i))).dispatch(new d(d.ME,t.bind(i.onFetchUserInfo, i)))
             }),
             o.trigger("socket:connect"),
             X.isDevelopment === !1,
             this.welcome = new H({
                 model: v
             }).render(),
             this.welcomeSetUsername = (new q).render(),
             X.isMobile === !0 && (this.hammerManager = n(this.$app.get(0), {
                 enable: X.isMobile,
                 recognizers: [[n.Swipe, {
                     direction: n.DIRECTION_HORIZONTAL
                 }]]
             })),
             document.addEventListener("keydown", this.handleKeyPress.bind(this))
         },
         onFetchRoomMetadata: function() {},
         onFetchUserInfo: function() {
             J.DFPCommand(function() {
                 googletag.pubads().setTargeting("subscriber", b.hasSubscription())
             }),
             b.isGuest() === !1 && o.dispatch(new ie(ie.GET_FAVORITES)),
             this.render()
         },
         render: function() {
             return this.hideSpinner(),
             this.$app.append(this.dashboard.$el).append(this.room.$el).append(this.footer.$el).append(this.menu.$el),
             this.dashboard.render(),
             this.room.render(),
             this.room.$el.hide(),
             this.menu.render(),
             this.$el.append(this.user.$el).append(this.settings.$el).append(this.dialog.$el).append(this.notifications.$el).append(this.userExperiencePopover.render().el).append(this.userProfilePopover.render().el).append(this.shareRoomPopover.render().el).append(this.shareSongPopover.render().el).append(this.playlist.render().el),
             this.user.render(),
             this.settings.render(),
             this.dialog.render(),
             this.notifications.render(),
             this.$right = e(".app-right"),
             o.on("show:room", this.showRoom, this).on("show:dashboard", this.showDashboard, this),
             "newuser" === b.get("username").substring(0, 7).toLowerCase() && (this.$app.append(this.welcomeSetUsername.$el),
             this.welcomeSetUsername.show()),
             b.get("guest") ? (o.on("signup:show", this.showSignUp, this),
             b.on("change:guest", this.onGuestChange, this),
             this.onGuestChange(),
             e("head").append('<script data-cfasync="false" type="text/javascript">(function(s,o,l,v,e,d){if(s[o]==null&&s[l+e]){s[o]="loading";s[l+e](d,l=function(){s[o]="complete";s[v+e](d,l,!1)},!1)}})(document,"readyState","add","remove","EventListener","DOMContentLoaded");(function(){var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src="//cdn.engine.4dsply.com/Scripts/infinity.js.aspx?guid=9488bc64-2003-4c57-8db7-ecbe1ac22cc5";s.id="infinity";s.setAttribute("data-guid","9488bc64-2003-4c57-8db7-ecbe1ac22cc5");s.setAttribute("data-version","async");var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(s,e)})();</script>')) : (o.dispatch(new h(h.SYNC)),
             this.onGuestChange()),
             v.on("change:name", this.onRoomName, this),
             k.resize(t.bind(this.onResize, this)),
             this.initHistory(),
             this.bindEvents(),
             J.init(),
             this
         },
         bindEvents: function() {
             X.isMobile === !0 && this.startListeningToMobile()
         },
         getElement: function() {
             return this.$app
         },
         onSwipeLeft: function() {
             o.trigger("show:chat")
         },
         onSwipeRight: function() {
             o.trigger("leftNavigation:open")
         },
         showSpinner: function() {
             this.hideSpinner(),
             this.spinner = new B({
                 size: B.LARGE
             }),
             this.$el.append(se({
                 trans: W,
                 version: window._v
             })),
             this.$el.find(".spotlight").append(this.spinner.$el),
             this.spinner.render()
         },
         hideSpinner: function() {
             this.spinner && (this.spinner.destroy(),
             this.spinner = void 0,
             delete this.spinner),
             e(".loading-box").remove()
         },
         initHistory: function() {
             if ("/dashboard" !== window.location.pathname && "/dashboard/" !== window.location.pathname) {
                 window.location.hash && ae(!1);
                 var e = window.location.pathname.substr(1);
                 "/" === e.charAt(e.length - 1) && (e = e.substr(0, e.length - 1)),
                 e = decodeURIComponent(e.replace(this.regex, function(e, t) {
                     return String.fromCharCode(parseInt(t, 16))
                 })),
                 this.showRoom(),
                 o.dispatch(new c(c.JOIN,e,e))
             } else
                 window.location.hash && ae(!0),
                 document.title = W.dashboard.title + " - plug.dj",
                 window.history.replaceState({
                     slug: "dashboard",
                     title: W.dashboard.title
                 }, W.dashboard.title + " - plug.dj", "/dashboard"),
                 this.showDashboard(!0),
                 this.dashboard.onResize()
         },
         onRoomName: function() {
             if (k.isRoom && v.get("name")) {
                 var e = v.get("slug");
                 window.history.replaceState({
                     slug: e,
                     title: v.get("name") + " - plug.dj"
                 }, v.get("name") + " - plug.dj", "/" + e),
                 document.title = v.get("name") + " - plug.dj",
                 this.setData("theme", "default"),
                 o.trigger("room:name", e)
             }
         },
         animate: function() {
             o.trigger("animate"),
             y.settings.dancing && (!y.settings.videoOnly,
             20 === ++ue && (ue = 0),
             this.user.showing && this.user.animate(ue),
             k.isRoom && this.room.animate(ue))
         },
         onJoinRoom: function() {
             b.isFirstTime() === !0 && (this.$app.append(this.welcome.$el),
             this.welcome.show(),
             b.setFirstTime(!1)),
             this.setupTooltips()
         },
         showRoom: function() {
             this.dashboardBorder && (this.dashboardBorder.destroy(),
             this.dashboardBorder = void 0,
             delete this.dashboardBorder),
             void 0 !== this.footer && (this.footer.destroy(),
             this.footer = void 0,
             delete this.footer),
             k.isRoom = !0,
             this.room.onReady(),
             this.setData("view", "room"),
             this.setData("state", "loading"),
             this.dashboard.hide(!0),
             this.menu.render().$el.addClass("in-room"),
             e("h1.page-name").remove(),
             this.userProfilePopover.onModelChange(),
             X.isMobile === !0 && Q.set("volume", 25)
         },
         showDashboard: function(t) {
             t && (this.footer.render(),
             e("h1.page-name").remove(),
             g.load(),
             this.dashboardBorder || (this.dashboardBorder = new $,
             this.$app.append(this.dashboardBorder.$el),
             this.dashboardBorder.render(),
             this.setData("view", "dashboard")),
             this.dashboard.show(!0),
             document.title = W.dashboard.title + " - plug.dj",
             window.history.replaceState({
                 slug: "dashboard",
                 title: W.dashboard.title
             }, W.dashboard.title + " - plug.dj", "/dashboard")),
             this.setupTooltips()
         },
         changeCSS: function(t) {
             if ("revamp" == t) {
                 css_path = REVAMP_SIGNUP_CSS_PATH;
                 var i = '<link class="revamp_css" rel="stylesheet" href="' + css_path + '" type="text/css" />';
                 e("head").append(i)
             } else
                 e(".revamp_css").remove()
         },
         showSignUp: function(e) {
             if (this.signup)
                 this.signup.show("signup");
             else {
                 var t = this;
                 t.signup = new U,
                 t.signup.show("signup")
             }
         },
         onSignUp: function(e) {
             window._signingup = !0,
             Y.track(Y.type.action, Y.event.signupOk),
             this.signup.destroy(),
             this.signup = void 0,
             delete this.signup,
             b.set("guest", !1),
             o.off("signup:show", this.showSignUp, this).trigger("force:reconnect", e),
             t.delay(function() {
                 o.dispatch(new h(h.SYNC))
             }, 1e3),
             e || t.defer(function() {
                 o.dispatch(new l(l.ALERT,W.alerts.accountCreatedTitle,W.alerts.accountCreated.split("%FAQ%").join('<a href="http://support.plug.dj" target="_blank">FAQ</a>'),function() {
                     b.set("walkthrough", 2)
                 }
                 ,!0))
             })
         },
         onGuestChange: function() {
             b.get("guest") ? this.$el.removeClass("signed-in").addClass("is-guest not-signed-in") : (this.$el.removeClass("is-guest no-signed-in").addClass("signed-in"),
             this.$app.toggleClass("is-subscribed", b.hasSubscription())),
             k.onResize()
         },
         onResize: function(e) {},
         onMobileAccess: function() {
             return !1
         },
         onPanelShow: function(e) {
             var t = this.getPanelInfo()
               , i = this.getPanelInfo(e);
             t.master === i.master && t.section !== i.section || t.panel === i.panel || null === t.panel || this.onPanelBack(!0, null !== i.panel),
             this.setData("panel", e),
             o.trigger("panel:shown", i),
             X.isMobile === !0 && this.stopListeningToMobile()
         },
         onPanelBack: function(e, t, i) {
             if (window.history.replaceState({}, null, window.location.pathname),
             e === !0) {
                 var s = this.getPanelInfo();
                 s.section !== !1 ? o.trigger(s.master + ":hide", s.section) : i && "right-bar" === s.panel || o.trigger(s.panel + ":hide"),
                 t !== !0 && "dashboard" === this.getData("view") && (t = !0,
                 o.trigger("dashboard:show"))
             }
             t !== !0 && o.trigger("panel:close"),
             X.isMobile === !0 && this.startListeningToMobile()
         },
         onPanelClose: function() {
             this.setData("panel", null)
         },
         getPanelInfo: function(e) {
             var t = {
                 panel: null,
                 master: !1,
                 section: !1,
                 parts: []
             };
             return t.panel = e || this.getData("panel"),
             null !== t.panel && void 0 !== t.panel && t.panel.indexOf(":") !== -1 && (t.parts = t.panel.split(":"),
             t.master = t.parts[0],
             t.section = t.parts[1]),
             t
         },
         startListeningToMobile: function() {
             this.hammerManager.on("swipeleft", this.onSwipeLeft.bind(this)),
             this.hammerManager.on("swiperight", this.onSwipeRight.bind(this))
         },
         stopListeningToMobile: function() {
             this.hammerManager.off("swipeleft"),
             this.hammerManager.off("swiperight")
         },
         handleKeyPress: function(e) {
             if (27 === e.keyCode) {
                 e.preventDefault(),
                 e.stopPropagation();
                 var t = this.getData("panel");
                 if (null !== t)
                     o.trigger("panel:back", !0),
                     this.lastPanel = t;
                 else if (void 0 !== this.lastPanel) {
                     var i = this.getPanelInfo(this.lastPanel)
                       , s = i.master ? i.master : i.panel;
                     o.trigger(s + ":show", i.section)
                 }
             }
         },
         onChangeTooltipSettings: function(e) {
             var i = e === !0 ? "enable" : "disable";
             t.each(this.tooltips, function(e) {
                 e[i]()
             }, this)
         },
         setupTooltips: function() {
             tippy = window.tippy;
             var e;
             void 0 !== tippy && (e = tippy("[title]", {
                 delay: 50,
                 arrow: !0,
                 animation: "shift-toward",
                 inertia: !0,
                 duration: [600, 300],
                 dynamicTitle: !0
             }),
             this.tooltips = e.tooltips),
             this.onChangeTooltipSettings(y.settings.tooltips)
         },
         startWalkthrought: function() {
             this.walkthrough.start()
         }
     });
     return fe
 }),
 function(e) {
     e.easing.jswing = e.easing.swing,
     e.fn.extend(e.easing, {
         def: "easeInOutExpo",
         swing: function(t, i, s, n, a) {
             return e.easing[e.easing.def](t, i, s, n, a)
         },
         easeInQuad: function(e, t, i, s, n) {
             return s * (t /= n) * t + i
         },
         easeOutQuad: function(e, t, i, s, n) {
             return -s * (t /= n) * (t - 2) + i
         },
         easeInOutQuad: function(e, t, i, s, n) {
             return (t /= n / 2) < 1 ? s / 2 * t * t + i : -s / 2 * (--t * (t - 2) - 1) + i
         },
         easeInCubic: function(e, t, i, s, n) {
             return s * (t /= n) * t * t + i
         },
         easeOutCubic: function(e, t, i, s, n) {
             return s * ((t = t / n - 1) * t * t + 1) + i
         },
         easeInOutCubic: function(e, t, i, s, n) {
             return (t /= n / 2) < 1 ? s / 2 * t * t * t + i : s / 2 * ((t -= 2) * t * t + 2) + i
         },
         easeInQuart: function(e, t, i, s, n) {
             return s * (t /= n) * t * t * t + i
         },
         easeOutQuart: function(e, t, i, s, n) {
             return -s * ((t = t / n - 1) * t * t * t - 1) + i
         },
         easeInOutQuart: function(e, t, i, s, n) {
             return (t /= n / 2) < 1 ? s / 2 * t * t * t * t + i : -s / 2 * ((t -= 2) * t * t * t - 2) + i
         },
         easeInQuint: function(e, t, i, s, n) {
             return s * (t /= n) * t * t * t * t + i
         },
         easeOutQuint: function(e, t, i, s, n) {
             return s * ((t = t / n - 1) * t * t * t * t + 1) + i
         },
         easeInOutQuint: function(e, t, i, s, n) {
             return (t /= n / 2) < 1 ? s / 2 * t * t * t * t * t + i : s / 2 * ((t -= 2) * t * t * t * t + 2) + i
         },
         easeInSine: function(e, t, i, s, n) {
             return -s * Math.cos(t / n * (Math.PI / 2)) + s + i
         },
         easeOutSine: function(e, t, i, s, n) {
             return s * Math.sin(t / n * (Math.PI / 2)) + i
         },
         easeInOutSine: function(e, t, i, s, n) {
             return -s / 2 * (Math.cos(Math.PI * t / n) - 1) + i
         },
         easeInExpo: function(e, t, i, s, n) {
             return 0 == t ? i : s * Math.pow(2, 10 * (t / n - 1)) + i
         },
         easeOutExpo: function(e, t, i, s, n) {
             return t == n ? i + s : s * (-Math.pow(2, -10 * t / n) + 1) + i
         },
         easeInOutExpo: function(e, t, i, s, n) {
             return 0 == t ? i : t == n ? i + s : (t /= n / 2) < 1 ? s / 2 * Math.pow(2, 10 * (t - 1)) + i : s / 2 * (-Math.pow(2, -10 * --t) + 2) + i
         },
         easeInCirc: function(e, t, i, s, n) {
             return -s * (Math.sqrt(1 - (t /= n) * t) - 1) + i
         },
         easeOutCirc: function(e, t, i, s, n) {
             return s * Math.sqrt(1 - (t = t / n - 1) * t) + i
         },
         easeInOutCirc: function(e, t, i, s, n) {
             return (t /= n / 2) < 1 ? -s / 2 * (Math.sqrt(1 - t * t) - 1) + i : s / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + i
         },
         easeInElastic: function(e, t, i, s, n) {
             var a = 1.70158
               , o = 0
               , r = s;
             if (0 == t)
                 return i;
             if (1 == (t /= n))
                 return i + s;
             if (o || (o = .3 * n),
             r < Math.abs(s)) {
                 r = s;
                 var a = o / 4
             } else
                 var a = o / (2 * Math.PI) * Math.asin(s / r);
             return -(r * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - a) * (2 * Math.PI) / o)) + i
         },
         easeOutElastic: function(e, t, i, s, n) {
             var a = 1.70158
               , o = 0
               , r = s;
             if (0 == t)
                 return i;
             if (1 == (t /= n))
                 return i + s;
             if (o || (o = .3 * n),
             r < Math.abs(s)) {
                 r = s;
                 var a = o / 4
             } else
                 var a = o / (2 * Math.PI) * Math.asin(s / r);
             return r * Math.pow(2, -10 * t) * Math.sin((t * n - a) * (2 * Math.PI) / o) + s + i
         },
         easeInOutElastic: function(e, t, i, s, n) {
             var a = 1.70158
               , o = 0
               , r = s;
             if (0 == t)
                 return i;
             if (2 == (t /= n / 2))
                 return i + s;
             if (o || (o = n * (.3 * 1.5)),
             r < Math.abs(s)) {
                 r = s;
                 var a = o / 4
             } else
                 var a = o / (2 * Math.PI) * Math.asin(s / r);
             return t < 1 ? -.5 * (r * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - a) * (2 * Math.PI) / o)) + i : r * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * n - a) * (2 * Math.PI) / o) * .5 + s + i
         },
         easeInBack: function(e, t, i, s, n, a) {
             return void 0 == a && (a = 1.70158),
             s * (t /= n) * t * ((a + 1) * t - a) + i
         },
         easeOutBack: function(e, t, i, s, n, a) {
             return void 0 == a && (a = 1.70158),
             s * ((t = t / n - 1) * t * ((a + 1) * t + a) + 1) + i
         },
         easeInOutBack: function(e, t, i, s, n, a) {
             return void 0 == a && (a = 1.70158),
             (t /= n / 2) < 1 ? s / 2 * (t * t * (((a *= 1.525) + 1) * t - a)) + i : s / 2 * ((t -= 2) * t * (((a *= 1.525) + 1) * t + a) + 2) + i
         },
         easeInBounce: function(t, i, s, n, a) {
             return n - e.easing.easeOutBounce(t, a - i, 0, n, a) + s
         },
         easeOutBounce: function(e, t, i, s, n) {
             return (t /= n) < 1 / 2.75 ? s * (7.5625 * t * t) + i : t < 2 / 2.75 ? s * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + i : t < 2.5 / 2.75 ? s * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + i : s * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + i
         },
         easeInOutBounce: function(t, i, s, n, a) {
             return i < a / 2 ? .5 * e.easing.easeInBounce(t, 2 * i, 0, n, a) + s : .5 * e.easing.easeOutBounce(t, 2 * i - a, 0, n, a) + .5 * n + s
         }
     })
 }(jQuery),
 define("jquery-easing", ["jquery"], function(e) {
     return function() {
         var t;
         return t || e.$
     }
 }(this)),
 function(e) {
     "function" == typeof define && define.amd ? define("jquery-plugpolyfill", ["jquery"], e) : "object" == typeof exports ? module.exports = e : e(jQuery)
 }(function(e) {
     function t(t, i, s, n) {
         if (Object.defineProperty)
             try {
                 return void Object.defineProperty(t, i, {
                     configurable: !0,
                     enumerable: !0,
                     get: function() {
                         return s
                     },
                     set: function(e) {
                         s = e
                     }
                 })
             } catch (e) {}
         e._definePropertyBroken = !0,
         t[i] = s
     }
     e.fn.extend({
         onImageLoad: function(e) {
             return this.on("load", e),
             this
         }
     }),
     e.event.dispatch && t(e.event, "handle", e.event.dispatch, "$.event.handle is undocumented and deprecated")
 }),
 function(e) {
     function t() {
         this === n.elem && (n.pos = [-260, -260],
         n.elem = !1,
         a = 3)
     }
     var i, s, n = {
         pos: [-260, -260]
     }, a = 3, o = document, r = o.documentElement, l = o.body;
     e.event.special.mwheelIntent = {
         setup: function() {
             var i = e(this).bind("mousewheel", e.event.special.mwheelIntent.handler);
             return this !== o && this !== r && this !== l && i.bind("mouseleave", t),
             i = null,
             !0
         },
         teardown: function() {
             return e(this).unbind("mousewheel", e.event.special.mwheelIntent.handler).unbind("mouseleave", t),
             !0
         },
         handler: function(t, o) {
             var r = [t.clientX, t.clientY];
             if (this === n.elem || Math.abs(n.pos[0] - r[0]) > a || Math.abs(n.pos[1] - r[1]) > a)
                 return n.elem = this,
                 n.pos = r,
                 a = 250,
                 clearTimeout(s),
                 s = setTimeout(function() {
                     a = 10
                 }, 200),
                 clearTimeout(i),
                 i = setTimeout(function() {
                     a = 3
                 }, 1500),
                 t = e.extend({}, t, {
                     type: "mwheelIntent"
                 }),
                 (e.event.dispatch || e.event.handle).apply(this, arguments)
         }
     },
     e.fn.extend({
         mwheelIntent: function(e) {
             return e ? this.bind("mwheelIntent", e) : this.trigger("mwheelIntent")
         },
         unmwheelIntent: function(e) {
             return this.unbind("mwheelIntent", e)
         }
     }),
     e(function() {
         l = o.body,
         e(o).bind("mwheelIntent.mwheelIntentDefault", e.noop)
     })
 }(jQuery),
 define("mwheelIntent", ["jquery"], function(e) {
     return function() {
         var t;
         return t || e.$
     }
 }(this));
 var counter = 0;
 !function(e, t, i) {
     e.fn.jScrollPane = function(s) {
         function n(s, n) {
             function a(t) {
                 var n, r, h, p, u, f, m = !1, b = !1;
                 if (z = t,
                 H === i)
                     u = s.scrollTop(),
                     f = s.scrollLeft(),
                     s.css({
                         overflow: "hidden",
                         padding: 0
                     }),
                     q = s.innerWidth() + _e,
                     G = s.innerHeight(),
                     s.width(q),
                     H = e('<div class="jspPane" />').css("padding", ke).append(s.children()),
                     W = e('<div class="jspContainer" />').on("mouseenter", function(t) {
                         oe = !0,
                         1 !== t.which || re ? W.find(".jspVerticalBar").addClass("hover") : e(document).on("mouseup", o)
                     }).on("mouseleave", function(t) {
                         oe = !1,
                         1 !== t.which ? W.find(".jspVerticalBar").removeClass("hover") : e(document).on("mouseup", o)
                     }).css({
                         width: q + "px",
                         height: G + "px"
                     }).append(H).appendTo(s);
                 else {
                     if (s.css("width", ""),
                     m = z.stickToBottom && I(),
                     b = z.stickToRight && D(),
                     p = s.innerWidth() + _e != q || s.outerHeight() != G,
                     p && (q = s.innerWidth() + _e,
                     G = s.innerHeight(),
                     W.css({
                         width: q + "px",
                         height: G + "px"
                     })),
                     !p && Se == Y && H.outerHeight() == J)
                         return void s.width(q);
                     Se = Y,
                     H.css("width", ""),
                     s.width(q),
                     W.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()
                 }
                 H.css("overflow", "auto"),
                 Y = t.contentWidth ? t.contentWidth : H[0].scrollWidth,
                 J = H[0].scrollHeight,
                 H.css("overflow", ""),
                 X = Y / q,
                 K = J / G,
                 Q = K > 1,
                 Z = X > 1,
                 Z || Q ? (s.addClass("jspScrollable"),
                 n = z.maintainPosition && (ie || ae),
                 n && (r = M(),
                 h = T()),
                 l(),
                 c(),
                 d(),
                 n && ($(b ? Y - q : r, !1),
                 x(m ? J - G : h, !1)),
                 U(),
                 P(),
                 V(),
                 z.enableKeyboardNavigation && L(),
                 z.clickOnTrack && g(),
                 N(),
                 z.hijackInternalLinks && j()) : (s.removeClass("jspScrollable"),
                 H.css({
                     top: 0,
                     left: 0,
                     width: W.width() - _e
                 }),
                 R(),
                 B(),
                 O(),
                 v()),
                 z.autoReinitialise && !Ce ? Ce = setInterval(function() {
                     a(z)
                 }, z.autoReinitialiseDelay) : !z.autoReinitialise && Ce && clearInterval(Ce),
                 u && s.scrollTop(0) && x(u, !1),
                 f && s.scrollLeft(0) && $(f, !1),
                 s.trigger("jsp-initialised", [Z || Q])
             }
             function o() {
                 oe || re ? (oe || re) && W.find(".jspVerticalBar").addClass("hover") : W.find(".jspVerticalBar").removeClass("hover"),
                 e(document).off("mouseup", o)
             }
             function r() {
                 re = !1,
                 e(document).off("mouseup", r)
             }
             function l() {
                 Q && (W.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'), e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'), e('<div class="jspDragBottom" />'))), e('<div class="jspCap jspCapBottom" />'))),
                 le = W.find(">.jspVerticalBar"),
                 he = le.find(">.jspTrack"),
                 ee = he.find(">.jspDrag"),
                 z.showArrows && (ue = e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp", f(0, -1)).bind("click.jsp", A),
                 fe = e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp", f(0, 1)).bind("click.jsp", A),
                 z.arrowScrollOnHover && (ue.bind("mouseover.jsp", f(0, -1, ue)),
                 fe.bind("mouseover.jsp", f(0, 1, fe))),
                 u(he, z.verticalArrowPositions, ue, fe)),
                 pe = G,
                 W.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function() {
                     pe -= e(this).outerHeight()
                 }),
                 ee.hover(function() {
                     ee.addClass("jspHover")
                 }, function() {
                     ee.removeClass("jspHover")
                 }).bind("mousedown.jsp", function(t) {
                     e("html").bind("dragstart.jsp selectstart.jsp", A),
                     ee.addClass("jspActive");
                     var i = t.pageY - ee.position().top;
                     return e("html").bind("mousemove.jsp", function(e) {
                         w(e.pageY - i, !1)
                     }).bind("mouseup.jsp mouseleave.jsp", b),
                     re = !0,
                     e(document).on("mouseup", r),
                     !1
                 }),
                 h())
             }
             function h() {
                 he.height(pe + "px"),
                 ie = 0,
                 ce = z.verticalGutter + he.outerWidth(),
                 H.width(q - ce - _e);
                 try {
                     0 === le.position().left && H.css("margin-left", ce + "px")
                 } catch (e) {}
             }
             function c() {
                 Z && (W.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'), e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'), e('<div class="jspDragRight" />'))), e('<div class="jspCap jspCapRight" />'))),
                 me = W.find(">.jspHorizontalBar"),
                 ge = me.find(">.jspTrack"),
                 se = ge.find(">.jspDrag"),
                 z.showArrows && (we = e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp", f(-1, 0)).bind("click.jsp", A),
                 ye = e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp", f(1, 0)).bind("click.jsp", A),
                 z.arrowScrollOnHover && (we.bind("mouseover.jsp", f(-1, 0, we)),
                 ye.bind("mouseover.jsp", f(1, 0, ye))),
                 u(ge, z.horizontalArrowPositions, we, ye)),
                 se.hover(function() {
                     se.addClass("jspHover")
                 }, function() {
                     se.removeClass("jspHover")
                 }).bind("mousedown.jsp", function(t) {
                     e("html").bind("dragstart.jsp selectstart.jsp", A),
                     se.addClass("jspActive");
                     var i = t.pageX - se.position().left;
                     return e("html").bind("mousemove.jsp", function(e) {
                         C(e.pageX - i, !1)
                     }).bind("mouseup.jsp mouseleave.jsp", b),
                     !1
                 }),
                 ve = W.innerWidth(),
                 p())
             }
             function p() {
                 W.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function() {
                     ve -= e(this).outerWidth()
                 }),
                 ge.width(ve + "px"),
                 ae = 0
             }
             function d() {
                 if (Z && Q) {
                     var t = ge.outerHeight()
                       , i = he.outerWidth();
                     pe -= t,
                     e(me).find(">.jspCap:visible,>.jspArrow").each(function() {
                         ve += e(this).outerWidth()
                     }),
                     ve -= i,
                     G -= i,
                     q -= t,
                     ge.parent().append(e('<div class="jspCorner" />').css("width", t + "px")),
                     h(),
                     p()
                 }
                 Z && H.width(W.outerWidth() - _e + "px"),
                 J = H.outerHeight(),
                 K = J / G,
                 Z && (be = Math.ceil(1 / X * ve),
                 be > z.horizontalDragMaxWidth ? be = z.horizontalDragMaxWidth : be < z.horizontalDragMinWidth && (be = z.horizontalDragMinWidth),
                 se.width(be + "px"),
                 ne = ve - be,
                 k(ae)),
                 Q && (de = Math.ceil(1 / K * pe),
                 de > z.verticalDragMaxHeight ? de = z.verticalDragMaxHeight : de < z.verticalDragMinHeight && (de = z.verticalDragMinHeight),
                 ee.height(de + "px"),
                 te = pe - de,
                 y(ie))
             }
             function u(e, t, i, s) {
                 var n, a = "before", o = "after";
                 "os" == t && (t = /Mac/.test(navigator.platform) ? "after" : "split"),
                 t == a ? o = t : t == o && (a = t,
                 n = i,
                 i = s,
                 s = n),
                 e[a](i)[o](s)
             }
             function f(e, t, i) {
                 return function() {
                     return m(e, t, this, i),
                     this.blur(),
                     !1
                 }
             }
             function m(t, i, s, n) {
                 s = e(s).addClass("jspActive");
                 var a, o, r = !0, l = function() {
                     0 !== t && xe.scrollByX(t * z.arrowButtonSpeed),
                     0 !== i && xe.scrollByY(i * z.arrowButtonSpeed),
                     o = setTimeout(l, r ? z.initialDelay : z.arrowRepeatFreq),
                     r = !1
                 };
                 l(),
                 a = n ? "mouseout.jsp" : "mouseup.jsp",
                 n = n || e("html"),
                 n.bind(a, function() {
                     s.removeClass("jspActive"),
                     o && clearTimeout(o),
                     o = null,
                     n.unbind(a)
                 })
             }
             function g() {
                 v(),
                 Q && he.bind("mousedown.jsp", function(t) {
                     if (t.originalTarget === i || t.originalTarget == t.currentTarget) {
                         var s, n = e(this), a = n.offset(), o = t.pageY - a.top - ie, r = !0, l = function() {
                             var e = n.offset()
                               , i = t.pageY - e.top - de / 2
                               , a = G * z.scrollPagePercent
                               , c = te * a / (J - G);
                             if (o < 0)
                                 ie - c > i ? xe.scrollByY(-a) : w(i);
                             else {
                                 if (!(o > 0))
                                     return void h();
                                 ie + c < i ? xe.scrollByY(a) : w(i)
                             }
                             s = setTimeout(l, r ? z.initialDelay : z.trackClickRepeatFreq),
                             r = !1
                         }, h = function() {
                             s && clearTimeout(s),
                             s = null,
                             e(document).unbind("mouseup.jsp", h)
                         };
                         return l(),
                         e(document).bind("mouseup.jsp", h),
                         !1
                     }
                 }),
                 Z && ge.bind("mousedown.jsp", function(t) {
                     if (t.originalTarget === i || t.originalTarget == t.currentTarget) {
                         var s, n = e(this), a = n.offset(), o = t.pageX - a.left - ae, r = !0, l = function() {
                             var e = n.offset()
                               , i = t.pageX - e.left - be / 2
                               , a = q * z.scrollPagePercent
                               , c = ne * a / (Y - q);
                             if (o < 0)
                                 ae - c > i ? xe.scrollByX(-a) : C(i);
                             else {
                                 if (!(o > 0))
                                     return void h();
                                 ae + c < i ? xe.scrollByX(a) : C(i)
                             }
                             s = setTimeout(l, r ? z.initialDelay : z.trackClickRepeatFreq),
                             r = !1
                         }, h = function() {
                             s && clearTimeout(s),
                             s = null,
                             e(document).unbind("mouseup.jsp", h)
                         };
                         return l(),
                         e(document).bind("mouseup.jsp", h),
                         !1
                     }
                 })
             }
             function v() {
                 ge && ge.unbind("mousedown.jsp"),
                 he && he.unbind("mousedown.jsp")
             }
             function b() {
                 e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),
                 ee && ee.removeClass("jspActive"),
                 se && se.removeClass("jspActive")
             }
             function w(e, t) {
                 Q && (e < 0 ? e = 0 : e > te && (e = te),
                 t === i && (t = z.animateScroll),
                 t ? xe.animate(ee, "top", e, y) : (ee.css("top", e),
                 y(e)))
             }
             function y(e) {
                 e === i && (e = ee.position().top),
                 W.scrollTop(0),
                 ie = e;
                 var t = 0 === ie
                   , n = ie == te
                   , a = e / te
                   , o = -a * (J - G);
                 $e == t && Me == n || ($e = t,
                 Me = n,
                 s.trigger("jsp-arrow-change", [$e, Me, Ee, Te])),
                 _(t, n),
                 H.css("top", o),
                 s.trigger("jsp-scroll-y", [-o, t, n]).trigger("scroll")
             }
             function C(e, t) {
                 Z && (e < 0 ? e = 0 : e > ne && (e = ne),
                 t === i && (t = z.animateScroll),
                 t ? xe.animate(se, "left", e, k) : (se.css("left", e),
                 k(e)))
             }
             function k(e) {
                 e === i && (e = se.position().left),
                 W.scrollTop(0),
                 ae = e;
                 var t = 0 === ae
                   , n = ae == ne
                   , a = e / ne
                   , o = -a * (Y - q);
                 Ee == t && Te == n || (Ee = t,
                 Te = n,
                 s.trigger("jsp-arrow-change", [$e, Me, Ee, Te])),
                 S(t, n),
                 H.css("left", o),
                 s.trigger("jsp-scroll-x", [-o, t, n]).trigger("scroll")
             }
             function _(e, t) {
                 z.showArrows && (ue[e ? "addClass" : "removeClass"]("jspDisabled"),
                 fe[t ? "addClass" : "removeClass"]("jspDisabled"))
             }
             function S(e, t) {
                 z.showArrows && (we[e ? "addClass" : "removeClass"]("jspDisabled"),
                 ye[t ? "addClass" : "removeClass"]("jspDisabled"))
             }
             function x(e, t) {
                 var i = e / (J - G);
                 w(i * te, t)
             }
             function $(e, t) {
                 var i = e / (Y - q);
                 C(i * ne, t)
             }
             function E(t, i, s) {
                 var n, a, o, r, l, h, c, p, d, u = 0, f = 0;
                 try {
                     n = e(t)
                 } catch (e) {
                     return
                 }
                 for (a = n.outerHeight(),
                 o = n.outerWidth(),
                 W.scrollTop(0),
                 W.scrollLeft(0); !n.is(".jspPane"); )
                     if (u += n.position().top,
                     f += n.position().left,
                     n = n.offsetParent(),
                     /^body|html$/i.test(n[0].nodeName))
                         return;
                 r = T(),
                 h = r + G,
                 u < r || i ? p = u - z.horizontalGutter : u + a > h && (p = u - G + a + z.horizontalGutter),
                 isNaN(p) || x(p, s),
                 l = M(),
                 c = l + q,
                 f < l || i ? d = f - z.horizontalGutter : f + o > c && (d = f - q + o + z.horizontalGutter),
                 isNaN(d) || $(d, s)
             }
             function M() {
                 return -H.position().left
             }
             function T() {
                 return -H.position().top
             }
             function I() {
                 var e = J - G;
                 return e > 20 && e - T() < 10
             }
             function D() {
                 var e = Y - q;
                 return e > 20 && e - M() < 10
             }
             function P() {
                 W.unbind(De).bind(De, function(e, t, i, s) {
                     var n = ae
                       , a = ie
                       , o = e.deltaFactor || z.mouseWheelSpeed;
                     return xe.scrollBy(i * o, -s * o, !1),
                     n == ae && a == ie
                 })
             }
             function R() {
                 W.unbind(De)
             }
             function A() {
                 return !1
             }
             function U() {
                 H.find(":input,a").unbind("focus.jsp").bind("focus.jsp", function(e) {
                     E(e.target, !1)
                 })
             }
             function B() {
                 H.find(":input,a").unbind("focus.jsp")
             }
             function L() {
                 function t() {
                     var e = ae
                       , t = ie;
                     switch (i) {
                     case 40:
                         xe.scrollByY(z.keyboardSpeed, !1);
                         break;
                     case 38:
                         xe.scrollByY(-z.keyboardSpeed, !1);
                         break;
                     case 34:
                     case 32:
                         xe.scrollByY(G * z.scrollPagePercent, !1);
                         break;
                     case 33:
                         xe.scrollByY(-G * z.scrollPagePercent, !1);
                         break;
                     case 39:
                         xe.scrollByX(z.keyboardSpeed, !1);
                         break;
                     case 37:
                         xe.scrollByX(-z.keyboardSpeed, !1)
                     }
                     return n = e != ae || t != ie
                 }
                 var i, n, a = [];
                 Z && a.push(me[0]),
                 Q && a.push(le[0]),
                 H.focus(function() {
                     s.focus()
                 }),
                 s.attr("tabindex", 0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp", function(s) {
                     if (s.target === this || a.length && e(s.target).closest(a).length) {
                         var o = ae
                           , r = ie;
                         switch (s.keyCode) {
                         case 40:
                         case 38:
                         case 34:
                         case 32:
                         case 33:
                         case 39:
                         case 37:
                             i = s.keyCode,
                             t();
                             break;
                         case 35:
                             x(J - G),
                             i = null;
                             break;
                         case 36:
                             x(0),
                             i = null
                         }
                         return n = s.keyCode == i && o != ae || r != ie,
                         !n
                     }
                 }).bind("keypress.jsp", function(e) {
                     return e.keyCode == i && t(),
                     !n
                 }),
                 z.hideFocus ? (s.css("outline", "none"),
                 "hideFocus"in W[0] && s.attr("hideFocus", !0)) : (s.css("outline", ""),
                 "hideFocus"in W[0] && s.attr("hideFocus", !1))
             }
             function O() {
                 s.attr("tabindex", "-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")
             }
             function N() {
                 if (location.hash && location.hash.length > 1) {
                     var t, i, s = escape(location.hash.substr(1));
                     try {
                         t = e("#" + s + ', a[name="' + s + '"]')
                     } catch (e) {
                         return
                     }
                     t.length && H.find(s) && (0 === W.scrollTop() ? i = setInterval(function() {
                         W.scrollTop() > 0 && (E(t, !0),
                         e(document).scrollTop(W.position().top),
                         clearInterval(i))
                     }, 50) : (E(t, !0),
                     e(document).scrollTop(W.position().top)))
                 }
             }
             function j() {
                 e(document.body).data("jspHijack") || (e(document.body).data("jspHijack", !0),
                 e(document.body).delegate("a[href*=#]", "click", function(i) {
                     var s, n, a, o, r, l, h = this.href.substr(0, this.href.indexOf("#")), c = location.href;
                     if (location.href.indexOf("#") !== -1 && (c = location.href.substr(0, location.href.indexOf("#"))),
                     h === c) {
                         s = escape(this.href.substr(this.href.indexOf("#") + 1));
                         try {
                             n = e("#" + s + ', a[name="' + s + '"]')
                         } catch (e) {
                             return
                         }
                         n.length && (a = n.closest(".jspScrollable"),
                         o = a.data("jsp"),
                         o.scrollToElement(n, !0),
                         a[0].scrollIntoView && (r = e(t).scrollTop(),
                         l = n.offset().top,
                         (l < r || l > r + e(t).height()) && a[0].scrollIntoView()),
                         i.preventDefault())
                     }
                 }))
             }
             function V() {
                 var e, t, i, s, n, a = !1;
                 W.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp", function(o) {
                     var r = o.originalEvent.touches[0];
                     e = M(),
                     t = T(),
                     i = r.pageX,
                     s = r.pageY,
                     n = !1,
                     a = !0
                 }).bind("touchmove.jsp", function(o) {
                     if (a) {
                         var r = o.originalEvent.touches[0]
                           , l = ae
                           , h = ie;
                         return xe.scrollTo(e + i - r.pageX, t + s - r.pageY),
                         n = n || Math.abs(i - r.pageX) > 5 || Math.abs(s - r.pageY) > 5,
                         l == ae && h == ie
                     }
                 }).bind("touchend.jsp", function(e) {
                     a = !1
                 }).bind("click.jsp-touchclick", function(e) {
                     if (n)
                         return n = !1,
                         !1
                 })
             }
             function F() {
                 var e = T()
                   , t = M();
                 s.removeClass("jspScrollable").unbind(".jsp"),
                 s.replaceWith(Ie.append(H.children())),
                 Ie.scrollTop(e),
                 Ie.scrollLeft(t),
                 Ce && clearInterval(Ce)
             }
             var z, H, q, G, W, Y, J, X, K, Q, Z, ee, te, ie, se, ne, ae, oe, re, le, he, ce, pe, de, ue, fe, me, ge, ve, be, we, ye, Ce, ke, _e, Se, xe = this, $e = !0, Ee = !0, Me = !1, Te = !1, Ie = s.clone(!1, !1).empty(), De = e.fn.mwheelIntent ? "mwheelIntent.jsp" : "mousewheel.jsp";
             "border-box" === s.css("box-sizing") ? (ke = 0,
             _e = 0) : (ke = s.css("paddingTop") + " " + s.css("paddingRight") + " " + s.css("paddingBottom") + " " + s.css("paddingLeft"),
             _e = (parseInt(s.css("paddingLeft"), 10) || 0) + (parseInt(s.css("paddingRight"), 10) || 0)),
             e.extend(xe, {
                 reinitialise: function(t) {
                     t = e.extend({}, z, t),
                     a(t),
                     o()
                 },
                 scrollToElement: function(e, t, i) {
                     E(e, t, i)
                 },
                 scrollTo: function(e, t, i) {
                     $(e, i),
                     x(t, i)
                 },
                 scrollToX: function(e, t) {
                     $(e, t)
                 },
                 scrollToY: function(e, t) {
                     x(e, t)
                 },
                 scrollToPercentX: function(e, t) {
                     $(e * (Y - q), t)
                 },
                 scrollToPercentY: function(e, t) {
                     x(e * (J - G), t)
                 },
                 scrollBy: function(e, t, i) {
                     xe.scrollByX(e, i),
                     xe.scrollByY(t, i)
                 },
                 scrollByX: function(e, t) {
                     var i = M() + Math[e < 0 ? "floor" : "ceil"](e)
                       , s = i / (Y - q);
                     C(s * ne, t)
                 },
                 scrollByY: function(e, t) {
                     var i = T() + Math[e < 0 ? "floor" : "ceil"](e)
                       , s = i / (J - G);
                     w(s * te, t)
                 },
                 positionDragX: function(e, t) {
                     C(e, t)
                 },
                 positionDragY: function(e, t) {
                     w(e, t)
                 },
                 animate: function(e, t, i, s) {
                     var n = {};
                     n[t] = i,
                     e.animate(n, {
                         duration: z.animateDuration,
                         easing: z.animateEase,
                         queue: !1,
                         step: s
                     })
                 },
                 getContentPositionX: function() {
                     return M()
                 },
                 getContentPositionY: function() {
                     return T()
                 },
                 scrollTop: function(e) {
                     return e === i ? T() : void x(e)
                 },
                 setScrolling: function(e) {
                     re = e
                 },
                 getContentWidth: function() {
                     return Y
                 },
                 getContentHeight: function() {
                     return J
                 },
                 getPercentScrolledX: function() {
                     return M() / (Y - q)
                 },
                 getPercentScrolledY: function() {
                     return T() / (J - G)
                 },
                 getIsScrollableH: function() {
                     return Z
                 },
                 getIsScrollableV: function() {
                     return Q
                 },
                 getContentPane: function() {
                     return H
                 },
                 scrollToBottom: function(e) {
                     w(te, e)
                 },
                 hijackInternalLinks: e.noop,
                 destroy: function() {
                     F()
                 }
             }),
             a(n)
         }
         return s = e.extend({}, e.fn.jScrollPane.defaults, s),
         e.each(["arrowButtonSpeed", "trackClickSpeed", "keyboardSpeed"], function() {
             s[this] = s[this] || s.speed
         }),
         this.each(function() {
             var t = e(this)
               , i = t.data("jsp");
             i ? i.reinitialise(s) : (e("script", t).filter('[type="text/javascript"],:not([type])').remove(),
             i = new n(t,s),
             t.data("jsp", i))
         })
     }
     ,
     e.fn.jScrollPane.defaults = {
         showArrows: !1,
         maintainPosition: !0,
         stickToBottom: !1,
         stickToRight: !1,
         clickOnTrack: !0,
         autoReinitialise: !1,
         autoReinitialiseDelay: 10,
         verticalDragMinHeight: 0,
         verticalDragMaxHeight: 99999,
         horizontalDragMinWidth: 0,
         horizontalDragMaxWidth: 99999,
         contentWidth: i,
         animateScroll: !1,
         animateDuration: 300,
         animateEase: "linear",
         hijackInternalLinks: !1,
         verticalGutter: 4,
         horizontalGutter: 4,
         mouseWheelSpeed: 3,
         arrowButtonSpeed: 0,
         arrowRepeatFreq: 50,
         arrowScrollOnHover: !1,
         trackClickSpeed: 0,
         trackClickRepeatFreq: 70,
         verticalArrowPositions: "split",
         horizontalArrowPositions: "split",
         enableKeyboardNavigation: !0,
         hideFocus: !0,
         keyboardSpeed: 0,
         initialDelay: 300,
         speed: 30,
         scrollPagePercent: .8
     }
 }(jQuery, this),
 define("jquery-jscrollpane", ["jquery"], function(e) {
     return function() {
         var t;
         return t || e.$
     }
 }(this)),
 require(["jquery", "underscore", "backboneSuper", "f1e1d/e718c/b5ee0", "f1e1d/e718c/b7acd", "f1e1d/d8478/b885e", "f1e1d/dc102/d2139", "f1e1d/e74c9/f1e1d/af2f0", "jquery-easing", "jquery-plugpolyfill", "jquery-mousewheel", "mwheelIntent", "jquery-jscrollpane", "f1e1d/af752/abc02", "f1e1d/af752/f0d32", "f1e1d/af752/e504b", "f1e1d/af752/a8ae3", "f1e1d/af752/fa88e", "f1e1d/af752/e1224"], function(e, t, i, s, n, a, o, r, l, h, c, p, d, u, f, m, g, v, b) {
     e(function() {
         function e(t) {
             t - o > l && (o = t,
             s.animate()),
             a(e)
         }
         function i() {
             a ? (a(e),
             n = "raf") : n = setInterval(t.bind(s.animate, s), l + 1)
         }
         u.setServerTime(m.convertUnixDateStringToDate(window._st));
         var s = new r;
         f.g();
         var n, a = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame, o = 0, l = 84;
         g.check(),
         i(),
         window.analytics.ga = b
     })
 }),
 define("app", function() {});
 